<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://kcl-lang.github.io/zh-CN/blog</id>
    <title>KCL programming language. Blog</title>
    <updated>2024-03-06T00:00:00.000Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://kcl-lang.github.io/zh-CN/blog"/>
    <subtitle>KCL programming language. Blog</subtitle>
    <icon>https://kcl-lang.github.io/zh-CN/favicon.ico</icon>
    <entry>
        <title type="html"><![CDATA[KCL v0.8.0 é‡ç£…å‘å¸ƒ - èæ±‡ç¤¾åŒºç”Ÿæ€ï¼ŒåŠ©åŠ›é…ç½®ä½“éªŒ!]]></title>
        <id>https://kcl-lang.github.io/zh-CN/blog/2024-03-06-kcl-0.8.0-release</id>
        <link href="https://kcl-lang.github.io/zh-CN/blog/2024-03-06-kcl-0.8.0-release"/>
        <updated>2024-03-06T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[ç®€ä»‹]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ç®€ä»‹">ç®€ä»‹<a href="#ç®€ä»‹" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>KCL å›¢é˜Ÿå¾ˆé«˜å…´åœ°å®£å¸ƒ <strong>KCL v0.8.0 æ–°ç‰ˆæœ¬ç°åœ¨å·²ç»å¯ç”¨</strong>ï¼æœ¬æ¬¡å‘å¸ƒä¸ºå¤§å®¶å¸¦æ¥äº†ä¸‰æ–¹é¢çš„é‡ç‚¹æ›´æ–°ï¼š<strong>è¯­è¨€</strong>ã€<strong>å·¥å…·é“¾</strong>ã€<strong>ç¤¾åŒºé›†æˆ &amp; æ‰©å±•æ”¯æŒ</strong>ã€‚</p><ul><li><em>ä½¿ç”¨åŠŸèƒ½æ›´å®Œå–„é”™è¯¯æ›´å°‘çš„ KCL è¯­è¨€ã€å·¥å…·é“¾å’Œ IDE æå‡ä»£ç ç¼–å†™ä½“éªŒå’Œæ•ˆç‡</em></li><li><em>æ›´åŠ å…¨é¢ä¸°å¯Œçš„ç¤¾åŒºç”Ÿæ€é›†æˆï¼Œæ”¹å–„è¿ç»´ä½“éªŒ</em></li><li><em>æ›´åŠ ä¸°å¯Œçš„ KCL ä¸‰æ–¹åº“æ¨¡å‹ï¼Œæ›´åŠ è½»æ¾çš„ä¸äº‘åŸç”Ÿç”Ÿæ€é›†æˆ</em></li></ul><p>è¿›ä¸€æ­¥æ‚¨å¯ä»¥åœ¨ <a href="https://github.com/kcl-lang/kcl/releases/tag/v0.8.0" target="_blank" rel="noopener noreferrer">KCL v0.8.0 å‘å¸ƒé¡µé¢</a> æˆ–è€… <a href="https://kcl-lang.io" target="_blank" rel="noopener noreferrer">KCL å®˜æ–¹ç½‘ç«™</a> è·å¾—ä¸‹è½½å®‰è£…æŒ‡å—å’Œè¯¦ç»†å‘å¸ƒä¿¡æ¯ã€‚</p><p><a href="https://github.com/kcl-lang/kcl" target="_blank" rel="noopener noreferrer">KCL</a> æ˜¯ä¸€ä¸ª CNCF åŸºé‡‘ä¼šæ‰˜ç®¡çš„é¢å‘äº‘åŸç”Ÿé¢†åŸŸå¼€æºçš„åŸºäºçº¦æŸçš„è®°å½•åŠå‡½æ•°ç¼–ç¨‹è¯­è¨€ï¼ŒæœŸæœ›é€šè¿‡æˆç†Ÿçš„ç¼–ç¨‹è¯­è¨€æŠ€æœ¯å’Œå®è·µæ¥æ”¹è¿›å¯¹å¤§é‡ç¹æ‚é…ç½®æ¯”å¦‚äº‘åŸç”Ÿ Kubernetes é…ç½®åœºæ™¯çš„ç¼–å†™ï¼Œè‡´åŠ›äºå›´ç»•é…ç½®çš„æ¨¡å—åŒ–ã€æ‰©å±•æ€§å’Œç¨³å®šæ€§ï¼Œæ‰“é€ æ›´ç®€å•çš„é€»è¾‘ç¼–å†™ä½“éªŒï¼Œæ„å»ºæ›´ç®€å•çš„è‡ªåŠ¨åŒ–å’Œç”Ÿæ€é›†æˆè·¯å¾„ã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="è¯­è¨€æ›´æ–°">è¯­è¨€æ›´æ–°<a href="#è¯­è¨€æ›´æ–°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="-è¯­æ³•è¯­ä¹‰æ›´æ–°">ğŸš— è¯­æ³•è¯­ä¹‰æ›´æ–°<a href="#-è¯­æ³•è¯­ä¹‰æ›´æ–°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="æ”¯æŒ-show-hidden">æ”¯æŒ <code>show-hidden</code><a href="#æ”¯æŒ-show-hidden" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><p>é€šè¿‡ <code>--show-hidden</code> å‚æ•°æ˜¾ç¤ºç§æœ‰å˜é‡ã€‚</p><p>KCL ç¨‹åºå¦‚ä¸‹</p><div class="language-kcl codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-kcl codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">a = {_b = 1}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>é€šè¿‡å‘½ä»¤ <code>kcl run main.k --show-hidden</code> ç¼–è¯‘ç»“æœå¦‚ä¸‹</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">a</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">_b</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="æ”¯æŒå‚æ•°å’Œå…³é”®å­—å‚æ•°çš„åˆå¹¶">æ”¯æŒå‚æ•°å’Œå…³é”®å­—å‚æ•°çš„åˆå¹¶<a href="#æ”¯æŒå‚æ•°å’Œå…³é”®å­—å‚æ•°çš„åˆå¹¶" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><p>KCL v0.8.0 ç‰ˆæœ¬ä¸­æ–°å¢äº†å‚æ•°å’Œå…³é”®å­—å‚æ•°çš„åˆå¹¶åŠŸèƒ½ã€‚å¸¦å‚æ•°çš„ schema å®ä¾‹åœ¨åˆå¹¶æ“ä½œæ—¶å‚æ•°ä¹Ÿä¼šåˆå¹¶ã€‚</p><div class="language-kcl codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-kcl codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">schema Person[separator]:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    firstName: str = "John"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    lastName: str</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fullName: str = firstName + separator + lastName</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">x = Person(" ") {lastName = "Doe"}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">y = Person("-") {lastName = "Doe1"}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">z = x | y</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>å¯¹åº”ç¼–è¯‘ç»“æœ</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">x</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">firstName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> John</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">lastName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Doe</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">fullName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> John Doe</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">y</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">firstName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> John</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">lastName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Doe1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">fullName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> John</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">Doe1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">z</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">firstName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> John</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">lastName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Doe1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">fullName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> John</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">Doe1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="æ”¯æŒå­—é¢å€¼çš„-yaml-stream-æ ¼å¼è¾“å‡º">æ”¯æŒå­—é¢å€¼çš„ yaml stream æ ¼å¼è¾“å‡º.<a href="#æ”¯æŒå­—é¢å€¼çš„-yaml-stream-æ ¼å¼è¾“å‡º" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><p>é€šè¿‡ <code>yaml_stream</code> æ–¹æ³•ï¼Œå¯ä»¥æ”¯æŒè¾“å‡º yaml å­—é¢å€¼çš„ç»“æœã€‚</p><div class="language-kcl codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-kcl codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">import manifests</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">x0 = 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">x1 = 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">manifests.yaml_stream([x0, x1])</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>å¯¹åº”ç¼–è¯‘ç»“æœ</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="ä¿®å¤äº†åœ¨å¾ªç¯è¡¨è¾¾å¼ä¸­çš„ç±»å‹æ£€æŸ¥é”™è¯¯">ä¿®å¤äº†åœ¨å¾ªç¯è¡¨è¾¾å¼ä¸­çš„ç±»å‹æ£€æŸ¥é”™è¯¯<a href="#ä¿®å¤äº†åœ¨å¾ªç¯è¡¨è¾¾å¼ä¸­çš„ç±»å‹æ£€æŸ¥é”™è¯¯" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><div class="language-kcl codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-kcl codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">name = "volume"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">configMapVolumes1: {str:{str:}} = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        name = name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    } for _ in range(1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">configMapVolumes2: [{str:}] = [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        name = name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    } for _ in range(1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>åœ¨ v0.8.0 ä¹‹å‰ï¼Œä¸Šè¿°ç¨‹åºç¼–è¯‘ä¼šå‡ºç°ç±»å‹é”™è¯¯ã€‚</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">error</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">E2G22</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: TypeError</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> --</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> main.k:4:9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">4</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">         name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">         ^ expected </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">str:any</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">, got str</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> --</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> main.k:2:1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> configMapVolumes1: </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">str:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">str:</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> ^ variable is defined here, its </span><span class="token builtin class-name">type</span><span class="token plain"> is </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">str:any</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">, but got str</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">|</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>åœ¨ v0.8.0 ç‰ˆæœ¬ä¸­, å°†ä¼šæˆåŠŸç¼–è¯‘å‡ºå¦‚ä¸‹ç»“æœï¼š</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> volume</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">configMapVolumes1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">volume</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> volume</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="ä¿®å¤äº†-schema-å¯¹è±¡å¿…é€‰å±æ€§é€’å½’æ£€æŸ¥é”™è¯¯">ä¿®å¤äº† Schema å¯¹è±¡å¿…é€‰å±æ€§é€’å½’æ£€æŸ¥é”™è¯¯<a href="#ä¿®å¤äº†-schema-å¯¹è±¡å¿…é€‰å±æ€§é€’å½’æ£€æŸ¥é”™è¯¯" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><p>åœ¨ Schema å†…éƒ¨å®šä¹‰äº†ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡å†…éƒ¨çš„å±æ€§æ˜¯å¿…é€‰çš„ï¼Œä½†æ˜¯åœ¨å®ä¾‹åŒ–æ—¶ä½¿ç”¨ä¸å­˜åœ¨çš„å±æ€§ã€‚</p><div class="language-kcl codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-kcl codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">schema Name:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name: str</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">schema Config:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    n: {str:Name}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Config {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    n = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        n.n = "n"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>åœ¨ v0.8.0 ä¹‹åï¼Œä¸Šè¿°ç¨‹åºç¼–è¯‘ä¼šå‡ºç°ç±»å‹é”™è¯¯ã€‚</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">error</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">E2L23</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: CompileError</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> --</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> main.k:9:11</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">9</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">         n.n </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"n"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">           ^ Cannot </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> member </span><span class="token string" style="color:#e3116c">'n'</span><span class="token plain"> to schema </span><span class="token string" style="color:#e3116c">'Name'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">|</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="åœ¨ç¼–è¯‘è¾“å‡ºç»“æœä¸­å»æ‰-__settings__-å±æ€§">åœ¨ç¼–è¯‘è¾“å‡ºç»“æœä¸­å»æ‰ <code>__settings__</code> å±æ€§<a href="#åœ¨ç¼–è¯‘è¾“å‡ºç»“æœä¸­å»æ‰-__settings__-å±æ€§" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><p>åœ¨ v0.8.0 ç‰ˆæœ¬ä¸­ï¼Œç¼–è¯‘è¾“å‡ºç»“æœä¸­å»æ‰äº† <code>__settings__</code> å±æ€§ã€‚</p><div class="language-kcl codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-kcl codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">schema Person:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    __settings__: {str:str} = {"output_type": "STANDALONE"}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name?: str</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    age?: int</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    school?: str</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">a = Person{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name: "a",</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>åœ¨ç¼–è¯‘ç»“æœä¸­å»æ‰äº† <code>__settings__</code> å±æ€§ã€‚</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">a</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> a</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="æ”¯æŒåœ¨-config-è¡¨è¾¾å¼ä¸­è®¡ç®—-key-å’Œ-value-çš„å€¼">æ”¯æŒåœ¨ config è¡¨è¾¾å¼ä¸­è®¡ç®— key å’Œ value çš„å€¼<a href="#æ”¯æŒåœ¨-config-è¡¨è¾¾å¼ä¸­è®¡ç®—-key-å’Œ-value-çš„å€¼" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><p>åœ¨ v0.8.0 ç‰ˆæœ¬ä¸­ï¼Œæ”¯æŒåœ¨ config è¡¨è¾¾å¼ä¸­è®¡ç®— key å’Œ value çš„å€¼ã€‚</p><div class="language-kcl codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-kcl codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">_data = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    "a": 'foo'</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    "b": 'bar'</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">r0 = [{v = k} for k, v in _data]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">r1 = [{k = v} for k, v in _data]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">r2 = [{k.foo = v} for k, v in _data]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">r3 = [[k] for k, v in _data]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">r4 = [[k, v] for k, v in _data]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ç¼–è¯‘ç»“æœå¦‚ä¸‹ï¼š</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">r0</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">foo</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> a</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">bar</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> b</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">r1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">a</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> foo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">b</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> bar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">r2</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">a</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">foo</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> foo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">b</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">foo</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> bar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">r3</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> a</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> b</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">r4</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> a</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> foo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> b</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> bar</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="-è¯Šæ–­ä¿¡æ¯çš„ä¼˜åŒ–">ğŸ”§ è¯Šæ–­ä¿¡æ¯çš„ä¼˜åŒ–<a href="#-è¯Šæ–­ä¿¡æ¯çš„ä¼˜åŒ–" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>KCL è¯­æ³•åœ¨ if å—ä¸­ä½¿ç”¨çš„æ˜¯ <code>elif</code> å…³é”®å­—ï¼Œè€Œä¸æ˜¯ <code>else if</code>ã€‚</p><p>ç¼–è¯‘ä»¥ä¸‹ KCL ç¨‹åºï¼š</p><div class="language-kcl codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-kcl codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">if True: a = 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">else if False: b = 1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>KCL åœ¨è¯Šæ–­ä¿¡æ¯ä¸­å¢åŠ äº†é”™è¯¯ä¿®æ­£çš„å»ºè®®ï¼š</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">error</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">E1001</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: InvalidSyntax</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> --</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> main.k:2:6</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> False: b </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">      ^ </span><span class="token string" style="color:#e3116c">'else if'</span><span class="token plain"> here is invalid </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> KCL, consider using the </span><span class="token string" style="color:#e3116c">'elif'</span><span class="token plain"> keyword</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">|</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="-è¯­è¨€ç¼–å†™ä½“éªŒä¼˜åŒ–">ğŸš€ è¯­è¨€ç¼–å†™ä½“éªŒä¼˜åŒ–<a href="#-è¯­è¨€ç¼–å†™ä½“éªŒä¼˜åŒ–" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="kcl-æ ‡å‡†åº“æ–°å¢æ–‡ä»¶ç³»ç»Ÿè®¿é—®æ–¹æ³•">KCL æ ‡å‡†åº“æ–°å¢æ–‡ä»¶ç³»ç»Ÿè®¿é—®æ–¹æ³•<a href="#kcl-æ ‡å‡†åº“æ–°å¢æ–‡ä»¶ç³»ç»Ÿè®¿é—®æ–¹æ³•" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><p>KCL å¢åŠ äº†è®¿é—®æ–‡ä»¶ç³»ç»Ÿçš„æ–¹æ³•ã€‚åœ¨ v0.8.0 ç‰ˆæœ¬ä¸­æ”¯æŒäº†åŒ…æ‹¬ <code>read</code>, <code>glob</code> ç­‰è®¿é—®æ–‡ä»¶ç³»ç»Ÿçš„æ–¹æ³•ã€‚</p><p>é€šè¿‡ <code>read</code> æ–¹æ³•ï¼Œå¯ä»¥è¯»å–ä¸€ä¸ªæ–‡ä»¶å†…å®¹ä¸ºå­—ç¬¦ä¸²ã€‚</p><div class="language-kcl codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-kcl codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">import file</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">a = file.read("hello.txt")</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>åœ¨æ–‡ä»¶ <code>hello.txt</code> ä¸­æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Hello World </span><span class="token operator" style="color:#393A34">!</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ç¼–è¯‘ç»“æœ</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">a: Hello World </span><span class="token operator" style="color:#393A34">!</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>é€šè¿‡ç»“åˆ <code>json.decode</code> æ–¹æ³•ï¼Œå¯ä»¥è½»æ¾çš„å®ç°å°† json æ–‡ä»¶ååºåˆ—åŒ–ã€‚</p><p>åœ¨ <code>hello.json</code> æ–‡ä»¶ä¸­å¢åŠ å¦‚ä¸‹å†…å®¹</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"name"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"John"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"age"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>KCL ç¨‹åºå¦‚ä¸‹æ‰€ç¤ºï¼š</p><div class="language-kcl codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-kcl codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">import file</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_a = json.decode(file.read("hello.json"))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">name = _a.name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">age = _a.age</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ç¼–è¯‘ç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> John</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">age</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æ›´å¤šå†…å®¹ - <a href="https://kcl-lang.io/zh-CN/docs/reference/model/file/" target="_blank" rel="noopener noreferrer">https://kcl-lang.io/zh-CN/docs/reference/model/file/</a></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="kcl-ç¼–è¯‘ç¼“å­˜è·¯å¾„æ”¯æŒä½¿ç”¨ç¯å¢ƒå˜é‡-kcl_cache_path-æŒ‡å®š">KCL ç¼–è¯‘ç¼“å­˜è·¯å¾„æ”¯æŒä½¿ç”¨ç¯å¢ƒå˜é‡ KCL_CACHE_PATH æŒ‡å®š<a href="#kcl-ç¼–è¯‘ç¼“å­˜è·¯å¾„æ”¯æŒä½¿ç”¨ç¯å¢ƒå˜é‡-kcl_cache_path-æŒ‡å®š" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><p>KCL ç¼–è¯‘å™¨ä¼šå°†ç¼“å­˜ç”Ÿæˆåˆ°ç¯å¢ƒå˜é‡<code>KCL_CACHE_PATH</code>æŒ‡å®šçš„ç›®å½•å½“ä¸­ï¼Œå¦‚æœæ²¡æŒ‡å®šï¼Œå°†ä¼šç”Ÿæˆåˆ°é¡¹ç›®æ ¹ç›®å½•ä¸­ã€‚</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="æ’ä»¶ç³»ç»Ÿæ”¯æŒä½¿ç”¨-golang-ç¼–å†™-kcl-æ’ä»¶">æ’ä»¶ç³»ç»Ÿæ”¯æŒä½¿ç”¨ golang ç¼–å†™ KCL æ’ä»¶<a href="#æ’ä»¶ç³»ç»Ÿæ”¯æŒä½¿ç”¨-golang-ç¼–å†™-kcl-æ’ä»¶" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><p>ä½¿ç”¨ golang å®šä¹‰ hello æ’ä»¶ã€‚</p><div class="language-golang codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-golang codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">package hello_plugin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import (</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    "kcl-lang.io/kcl-go/pkg/plugin"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">func init() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    plugin.RegisterPlugin(plugin.Plugin{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Name: "hello",</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        MethodMap: map[string]plugin.MethodSpec{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            "add": {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Body: func(args *plugin.MethodArgs) (*plugin.MethodResult, error) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    v := args.IntArg(0) + args.IntArg(1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    return &amp;plugin.MethodResult{V: v}, nil</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>å€ŸåŠ© kcl-go å¼€å‘ï¼Œæ‰©å±• KCL ç¼–è¯‘å™¨ä½¿ç”¨æ’ä»¶ã€‚</p><div class="language-kcl codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-kcl codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">package main</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import (</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    "fmt"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    "kcl-lang.io/kcl-go/pkg/kcl"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    "kcl-lang.io/kcl-go/pkg/native"                // Import the native API</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    _ "kcl-lang.io/kcl-go/pkg/plugin/hello_plugin" // Import the hello plugin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">func main() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Note we use `native.MustRun` here instead of `kcl.MustRun`, because it needs the cgo feature.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    yaml := native.MustRun("main.k", kcl.WithCode(code)).GetRawYamlResult()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fmt.Println(yaml)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const code = `</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import kcl_plugin.hello</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">name = "kcl"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">three = hello.add(1,2) # 3</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="-æ–°å¢-linux-arm64-ç‰ˆæœ¬">ğŸ˜¸ æ–°å¢ Linux arm64 ç‰ˆæœ¬<a href="#-æ–°å¢-linux-arm64-ç‰ˆæœ¬" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>KCL çš„ Release äº§ç‰©ä¸­æ–°å¢äº†å¯¹ Linux arm64 å¹³å°çš„æ”¯æŒã€‚</p><p>å¯ä»¥åœ¨ <a href="https://github.com/kcl-lang/kcl/releases" target="_blank" rel="noopener noreferrer">KCL Release Page</a> ä¸­æ‰¾åˆ°åç¼€ä¸º <code>linux-arm64</code> çš„å‹ç¼©åŒ…ã€‚</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="-sdk--api-æ›´æ–°">ğŸ„ SDK &amp; API æ›´æ–°<a href="#-sdk--api-æ›´æ–°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="rust-sdk">Rust SDK<a href="#rust-sdk" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><p>KCL Rust SDK æä¾›äº†ä¸€ç³»åˆ—çš„ APIï¼Œå¯ä»¥ç”¨äº KCL æ–‡ä»¶çš„ç¼–è¯‘ã€æ ¡éªŒã€æµ‹è¯•å’Œæ ¼å¼åŒ–ä»£ç ç­‰æ“ä½œã€‚</p><p><a href="https://github.com/kcl-lang/lib" target="_blank" rel="noopener noreferrer">KCL Rust SDK: https://github.com/kcl-lang/lib</a></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="java-sdk">Java SDK<a href="#java-sdk" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><p>KCL Java SDK æ–°å¢è¯­æ³•æ ‘ã€ä½œç”¨åŸŸã€ç¬¦å·ç­‰è¯­æ³•è¯­ä¹‰ç»“æ„å®šä¹‰åŠç›¸å…³æŸ¥è¯¢ APIã€‚</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="go-sdk-æ›´æ–°">Go SDK æ›´æ–°<a href="#go-sdk-æ›´æ–°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><ul><li>KCL Doc å·¥å…·æ”¯æŒè¾“å‡ºä¸º OpenAPI æ ¼å¼ã€‚</li><li>å¢åŠ  Parse è¿‡ç¨‹ç›¸å…³ APIã€‚</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="api-æ›´æ–°">API æ›´æ–°<a href="#api-æ›´æ–°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><ul><li>æ–°å¢ json/yaml éªŒè¯ API ç”¨æ¥éªŒè¯ json å’Œ yaml æ–‡ä»¶ã€‚</li><li>æ–°å¢è¯­æ³•å’Œè¯­ä¹‰åˆ†æ API ç”¨äºå¯¹ KCL ä»£ç è¿›è¡Œåˆ†æã€‚</li><li>æ–°å¢æ„å»ºäºŒè¿›åˆ¶äº§ç‰© API ç”¨äºç¼“å­˜ç¼–è¯‘ç»“æœã€‚</li><li>æ–°å¢è¿è¡ŒäºŒè¿›åˆ¶äº§ç‰© API ç”¨äºç›´æ¥è¿è¡Œç¼–è¯‘ç»“æœï¼Œé¿å…é‡å¤ç¼–è¯‘å¹¶æå‡æ€§èƒ½ã€‚</li><li>æ–°å¢ä»£ç ç”Ÿæˆ API ä»¥ç¼–ç¨‹æ–¹å¼å®ç° KCL ä»£ç ç”Ÿæˆè€Œä¸æ˜¯ç¼–å†™å¤æ‚çš„æ¨¡ç‰ˆã€‚</li></ul><p>æ›´å¤šçš„æ›´æ–°å¯ä»¥æŸ¥çœ‹ <a href="https://kcl-lang.io/docs/reference/xlang-api/go-api" target="_blank" rel="noopener noreferrer">KCL v0.8 API æ–‡æ¡£</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="-å…¶ä»–æ›´æ–°åŠé”™è¯¯ä¿®å¤">ğŸ å…¶ä»–æ›´æ–°åŠé”™è¯¯ä¿®å¤<a href="#-å…¶ä»–æ›´æ–°åŠé”™è¯¯ä¿®å¤" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><ul><li>ä¿®å¤äº† KCL CLI ä½¿ç”¨ç¼–è¯‘å‚æ•° -S å¯èƒ½ä¼šå¯¼è‡´çš„ç¼–è¯‘é”™è¯¯</li><li>ä¿®å¤äº† kcl fmt å·¥å…·å¯¹ lambda è¡¨è¾¾å¼è¿›è¡Œæ ¼å¼åŒ–æ—¶ï¼Œç»“å°¾å¢åŠ ä¸€ä¸ªç©ºè¡Œçš„é”™è¯¯ã€‚</li><li>ä¿®å¤ Schema Doc è¡¥å…¨ä»£ç ç‰‡æ®µé”™è¯¯</li><li>ä¿®å¤ Schema å¯¹è±¡å¿…é€‰å±æ€§é€’å½’æ£€æŸ¥é”™è¯¯</li><li>æå‡ Schema ç´¢å¼•ç­¾åç±»å‹æ£€æŸ¥å¥å£®æ€§</li><li>ä¿®å¤ Schema å†…éƒ¨è¯¸å¦‚ "$if" çš„å­—ç¬¦ä¸²æ ‡è¯†ç¬¦å®šä¹‰æ‰¾ä¸åˆ°çš„é”™è¯¯</li><li>ä¼˜åŒ–éé¢„æœŸ token çš„è¯­æ³•é”™è¯¯æç¤º</li><li>ä¿®å¤éé¢„æœŸçš„å­—å…¸ç”Ÿæˆè¡¨è¾¾å¼ä¸­çš„ key ä¸å¾ªç¯å˜é‡ç›¸åŒæ—¶çš„å˜é‡è®¡ç®—</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ide--å·¥å…·é“¾æ›´æ–°">IDE &amp; å·¥å…·é“¾æ›´æ–°<a href="#ide--å·¥å…·é“¾æ›´æ–°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ide-æ›´æ–°">IDE æ›´æ–°<a href="#ide-æ›´æ–°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="ide-è¯­ä¹‰çº§åˆ«çš„é«˜äº®å¢å¼º">IDE è¯­ä¹‰çº§åˆ«çš„é«˜äº®å¢å¼º<a href="#ide-è¯­ä¹‰çº§åˆ«çš„é«˜äº®å¢å¼º" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><p>KCL IDE é«˜äº®ä¹‹å‰ä»…æ”¯æŒ KCL è¯­æ³•é«˜äº®ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img loading="lazy" alt="old-ide" src="/zh-CN/assets/images/old-ide-835ff47b36b5e23f304f8092c3afd989.png" width="435" height="151" class="img_ev3q"></p><p>æˆ‘ä»¬ä»Šå¹´é€æ­¥å¯ç”¨äº†æ–°çš„ KCL è¯­ä¹‰æ¶æ„æ¨¡å‹ï¼Œåœ¨æ–°è¯­ä¹‰æ¶æ„çš„æ”¯æ’‘ä¸‹ï¼ŒKCL IDE æ”¯æŒè¯­ä¹‰çº§åˆ«çš„é«˜äº®ï¼Œåœ¨è¯­ä¹‰ä¸Šæœ‰å…³è”çš„ä»£ç ä¼šæ˜¾ç¤ºç›¸åŒçš„é«˜äº®ã€‚</p><p><img loading="lazy" alt="new-ide" src="/zh-CN/assets/images/new-ide-a62fcf4ef6b9d078f77a7e15af161e17.png" width="287" height="145" class="img_ev3q"></p><p>æ›´å¤šå…³äº KCL è¯­ä¹‰æ¶æ„æ¨¡å‹çš„å†…å®¹ï¼Œå‚è€ƒï¼š
<a href="https://kcl-lang.io/zh-CN/blog/2023-12-09-kcl-new-semantic-model" target="_blank" rel="noopener noreferrer">KCL é«˜æ•ˆè¯­ä¹‰æ¨¡å‹æŠ€æœ¯æ­ç§˜ï¼šå®ç°å¿«é€Ÿç¼–è¯‘ä¸å¢å¼º IDE æ”¯æŒ</a></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="æ–°å¢-builtin-æ–¹æ³•çš„è¡¥å…¨">æ–°å¢ builtin æ–¹æ³•çš„è¡¥å…¨<a href="#æ–°å¢-builtin-æ–¹æ³•çš„è¡¥å…¨" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><p>KCL IDE æ”¯æŒ builtin æ–¹æ³•çš„è¡¥å…¨ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img loading="lazy" alt="builtin-completion" src="/zh-CN/assets/images/builtin-ide-0e090b72218a4258d2a1831527920d08.gif" width="1218" height="456" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="å¢åŠ å˜é‡å¼•ç”¨é”™è¯¯æ—¶çš„å¿«é€Ÿä¿®å¤åŠŸèƒ½">å¢åŠ å˜é‡å¼•ç”¨é”™è¯¯æ—¶çš„å¿«é€Ÿä¿®å¤åŠŸèƒ½<a href="#å¢åŠ å˜é‡å¼•ç”¨é”™è¯¯æ—¶çš„å¿«é€Ÿä¿®å¤åŠŸèƒ½" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><p>KCL IDE æ”¯æŒå˜é‡å¼•ç”¨é”™è¯¯æ—¶çš„å¿«é€Ÿä¿®å¤åŠŸèƒ½ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img loading="lazy" alt="quick-fix" src="/zh-CN/assets/images/quick-fix-960989191f14be672e644c4fa97c4522.gif" width="1218" height="496" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="ide-æ”¯æŒå¢é‡è§£æå’Œå¼‚æ­¥ç¼–è¯‘åŠŸèƒ½">IDE æ”¯æŒå¢é‡è§£æå’Œå¼‚æ­¥ç¼–è¯‘åŠŸèƒ½<a href="#ide-æ”¯æŒå¢é‡è§£æå’Œå¼‚æ­¥ç¼–è¯‘åŠŸèƒ½" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><p>IDE é€šè¿‡ KCL æ–°è¯­ä¹‰æ¨¡å‹æ”¯æŒå¢é‡è§£æå’Œå¼‚æ­¥ç¼–è¯‘åŠŸèƒ½ï¼Œæå‡äº†ç¼–è¯‘é€Ÿåº¦å’Œç¼–å†™ä½“éªŒã€‚</p><p>æ›´å¤šå†…å®¹è¯¦è§ <a href="https://kcl-lang.io/zh-CN/blog/2023-12-09-kcl-new-semantic-model" target="_blank" rel="noopener noreferrer">https://kcl-lang.io/zh-CN/blog/2023-12-09-kcl-new-semantic-model</a></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="ide-lsp-é—®é¢˜ä¿®å¤">IDE LSP é—®é¢˜ä¿®å¤<a href="#ide-lsp-é—®é¢˜ä¿®å¤" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><ul><li>ä¿®å¤ assert è¯­å¥ä¸­å­—ç¬¦ä¸²æ’å€¼å˜é‡ä¸èƒ½è·³è½¬çš„å¼‚å¸¸</li><li>ä¿®å¤äº†å­—ç¬¦ä¸²ä¸­å¼‚å¸¸è§¦å‘å‡½æ•°è¡¥å…¨çš„å¼‚å¸¸</li><li>ä¿®å¤äº†å­—ç¬¦ä¸²åè·Ÿæ³¨é‡Šä¸­è¡¥å…¨é”™è¯¯çš„é—®é¢˜</li><li>ä¿®å¤äº† schema å†…éƒ¨å±æ€§ç¬¦å·ä¸èƒ½è·³è½¬çš„é—®é¢˜</li><li>ä¿®å¤ import è¯­å¥åˆ«åè¯­ä¹‰æ£€æŸ¥å’Œè¡¥å…¨çš„å¼‚å¸¸</li><li>ä¿®å¤äº† schema ä¸­ check è¡¨è¾¾å¼è¡¥å…¨çš„å¼‚å¸¸</li><li>ä¿®å¤äº†åµŒå¥— schema å®šä¹‰ä¸­è¡¥å…¨é”™è¯¯çš„é—®é¢˜</li><li>ä¿®å¤äº†éƒ¨åˆ†æ‚¬åœä¿¡æ¯ç¼ºå¤±çš„é—®é¢˜</li><li>ä¿®å¤ä¸åŒè¯­æ³•è¡¥å…¨ç¬¦å·ç±»å‹ä¸ç»Ÿä¸€çš„é—®é¢˜</li><li>åŒºåˆ† Schema ç±»å‹å’Œå®ä¾‹è¡¥å…¨ç¬¦å·</li><li>ç»Ÿä¸€ Schema æ³¨é‡Šæ–‡æ¡£è¡¥å…¨çš„æ ¼å¼</li><li>ä¿®å¤äº†é…ç½®å—å†…éƒ¨ if è¯­å¥ç¬¦å·ä¸èƒ½è·³è½¬å’Œè¡¥å…¨çš„é—®é¢˜</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="éªŒè¯å·¥å…·æ›´æ–°">éªŒè¯å·¥å…·æ›´æ–°<a href="#éªŒè¯å·¥å…·æ›´æ–°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>æœ¬æ¬¡æ›´æ–°ä¸­ï¼Œæˆ‘ä»¬å¯¹ KCL éªŒè¯å·¥å…·çš„æŠ¥é”™ä¿¡æ¯è¿›è¡Œäº†ä¼˜åŒ–ï¼Œåœ¨ä½¿ç”¨ KCL éªŒè¯å·¥å…·å¯¹ json/yaml æ–‡ä»¶è¿›è¡ŒéªŒè¯çš„å·¥ä½œä¸­ï¼Œå°†ä¼šå‡†ç¡®å®šä½åˆ° json æ–‡ä»¶çš„å¼‚å¸¸ä½ç½®ã€‚</p><p>ä»¥ json æ–‡ä»¶ä¸ºä¾‹ï¼Œæˆ‘ä»¬å°†è¦å¯¹ä»¥ä¸‹ hello.json æ–‡ä»¶è¿›è¡ŒéªŒè¯</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"name"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"age"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">18</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"message"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"This is Alice"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>å®šä¹‰å¦‚ä¸‹ main.k æ–‡ä»¶æ¥å¯¹ json æ–‡ä»¶ä¸­çš„å†…å®¹è¿›è¡ŒéªŒè¯</p><div class="language-kcl codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-kcl codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">schema User:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name: str</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    age: int</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    message?: str</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>é€šè¿‡ä»¥ä¸‹å‘½ä»¤å¯¹ json æ–‡ä»¶å†…å®¹è¿›è¡ŒéªŒè¯</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kcl vet hello.json main.k</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>å¯ä»¥çœ‹åˆ°åœ¨ json æ–‡ä»¶ä¸­çš„é”™è¯¯ä½ç½®ï¼š</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">error</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">E2G22</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: TypeError</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> --</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> test.json:2:5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">     </span><span class="token string" style="color:#e3116c">"name"</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">     ^ expected str, got int</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> --</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> main.k:2:5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">     name: str</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">     ^ variable is defined here, its </span><span class="token builtin class-name">type</span><span class="token plain"> is str, but got int</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">|</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="kcl-cli-æ–°å¢-git-ä»“åº“ä½œä¸ºç¼–è¯‘å…¥å£">KCL cli æ–°å¢ git ä»“åº“ä½œä¸ºç¼–è¯‘å…¥å£<a href="#kcl-cli-æ–°å¢-git-ä»“åº“ä½œä¸ºç¼–è¯‘å…¥å£" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><p>é€šè¿‡ä»¥ä¸‹å‘½ä»¤ï¼Œå¯ä»¥å°† KCL çš„ git ä»“åº“ä½œä¸ºç¼–è¯‘å…¥å£</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kcl run </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">git url</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="kcl-mod-graph-æ”¯æŒè¾“å‡º-kcl-åŒ…ä¾èµ–å›¾">kcl mod graph æ”¯æŒè¾“å‡º KCL åŒ…ä¾èµ–å›¾<a href="#kcl-mod-graph-æ”¯æŒè¾“å‡º-kcl-åŒ…ä¾èµ–å›¾" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><p>é€šè¿‡å‘½ä»¤ <code>kcl mod graph</code> è¾“å‡º KCL åŒ…çš„ä¾èµ–å›¾ã€‚</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="kcl-åŒ…ç®¡ç†å·¥å…·">KCL åŒ…ç®¡ç†å·¥å…·<a href="#kcl-åŒ…ç®¡ç†å·¥å…·" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="kcl-åŒ…ç®¡ç†æ”¯æŒé€šè¿‡-commit-æ·»åŠ -git-ä¾èµ–">KCL åŒ…ç®¡ç†æ”¯æŒé€šè¿‡ commit æ·»åŠ  git ä¾èµ–<a href="#kcl-åŒ…ç®¡ç†æ”¯æŒé€šè¿‡-commit-æ·»åŠ -git-ä¾èµ–" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><p>KCL åŒ…ç®¡ç†å·¥å…·å¢åŠ äº†é€šè¿‡ commit æ¥æ·»åŠ  git ä¸‰æ–¹åº“ä¾èµ–çš„åŠŸèƒ½ã€‚ä»¥ <a href="https://github.com/KusionStack/catalog" target="_blank" rel="noopener noreferrer">https://github.com/KusionStack/catalog</a> ä¸ºä¾‹ï¼Œæ·»åŠ  commit ä¸º a29e3db çš„ç‰ˆæœ¬ä½œä¸ºä¾èµ–ã€‚å¯ä»¥é€šè¿‡ç¼–è¾‘ kcl.mod æ–‡ä»¶ä¸­çš„ä¾èµ–æˆ–è€…å‘½ä»¤è¡Œç›´æ¥æ·»åŠ ã€‚</p><p>ç¼–è¾‘ kcl.mod æ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š</p><div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-toml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[dependencies]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">catalog = { git = "https://github.com/KusionStack/catalog.git", commit = "a29e3db" }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æˆ–è€…é€šè¿‡å‘½ä»¤è¡Œæ·»åŠ ï¼š</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kcl mod </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> --git https://github.com/KusionStack/catalog.git --commit a29e3db</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="kcl-åŒ…ç®¡ç†å·¥å…·æ”¯æŒä¸‰æ–¹åº“åç§°å¸¦æœ‰-">KCL åŒ…ç®¡ç†å·¥å…·æ”¯æŒä¸‰æ–¹åº“åç§°å¸¦æœ‰â€œ-â€<a href="#kcl-åŒ…ç®¡ç†å·¥å…·æ”¯æŒä¸‰æ–¹åº“åç§°å¸¦æœ‰-" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><p>KCL åŒ…ç®¡ç†å·¥å…·æ”¯æŒä¸‰æ–¹åº“åç§°ä¸­å¸¦æœ‰â€œ-â€ï¼ŒKCL åŒ…ç®¡ç†å·¥å…·ä¼šè‡ªåŠ¨å°† â€œ-â€ æ›¿æ¢ä¸º â€œ<!-- -->_<!-- -->â€ã€‚</p><p>ä»¥ä¸‰æ–¹åº“ <code>set-annotation</code> ä¸ºä¾‹ï¼Œé€šè¿‡ä»¥ä¸‹å‘½ä»¤æ·»åŠ  <code>set-annotation</code> ä¸ºä¾èµ–ï¼š</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kcl mod </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> set-annotation</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>åœ¨ KCL ç¨‹åºä¸­ï¼Œé€šè¿‡ <code>set_annotation</code> å¼•ç”¨ï¼š</p><div class="language-kcl codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-kcl codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">import set_annotation</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="kcl-å¯¼å…¥å·¥å…·æ›´æ–°æ”¯æŒæ›´å¤šç‰¹æ€§">KCL å¯¼å…¥å·¥å…·æ›´æ–°ï¼Œæ”¯æŒæ›´å¤šç‰¹æ€§<a href="#kcl-å¯¼å…¥å·¥å…·æ›´æ–°æ”¯æŒæ›´å¤šç‰¹æ€§" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><ul><li>æ”¯æŒ OpenAPI multiplyOf è§„èŒƒæ˜ å°„åˆ° KCL multiplyof å‡½æ•°è¿›è¡Œæ ¡éªŒ</li><li>æ”¯æŒ YAML Stream æ ¼å¼çš„ Kubernetes CRD æ–‡ä»¶è¾“å‡ºä¸ºå¤šä¸ª KCL æ–‡ä»¶</li><li>æ”¯æŒ OpenAPI allOf å…³é”®å­—æ ¡éªŒè¡¨è¾¾å¼ç”Ÿæˆ</li><li>æ”¯æŒ KCL æ•°ç»„å’Œå­—å…¸ç±»å‹çš„ all/any æ ¡éªŒè¡¨è¾¾å¼ç”Ÿæˆ</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ç¤¾åŒºé›†æˆ--æ‰©å±•æ›´æ–°">ç¤¾åŒºé›†æˆ &amp; æ‰©å±•æ›´æ–°<a href="#ç¤¾åŒºé›†æˆ--æ‰©å±•æ›´æ–°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="flux-kcl-controller-å‘å¸ƒ">Flux KCL Controller å‘å¸ƒ<a href="#flux-kcl-controller-å‘å¸ƒ" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>æˆ‘ä»¬å¼€å‘äº† <a href="https://github.com/kcl-lang/flux-kcl-controller" target="_blank" rel="noopener noreferrer">Flux KCL Controller</a> æ”¯æŒ KCL ä¸ Flux é›†æˆã€‚åœ¨é›†ç¾¤ä¸­å®‰è£… Flux KCL Controller åï¼Œé€šè¿‡ä»¥ä¸‹èµ„æºå°±å¯ä»¥å®ç° KCL git ä»“åº“é€šè¿‡ FluxCD è¿›è¡ŒæŒç»­é›†æˆã€‚</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> source.toolkit.fluxcd.io/v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> GitRepository</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> kcl</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">deployment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">namespace</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> source</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">system</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">interval</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 30s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># éœ€è¦æŒç»­é›†æˆçš„ github ä»“åº“</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">url</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> https</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">//github.com/awesome</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">kusion/kcl</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">deployment.git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">ref</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">branch</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> main</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> krm.kcl.dev.fluxcd/v1alpha1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> KCLRun</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> kcl</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">deployment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">namespace</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> source</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">system</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">sourceRef</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> GitRepository</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> kcl</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">deployment</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æ›´å¤šå†…å®¹è¯¦è§: <a href="https://kcl-lang.io/zh-CN/blog/2024-02-01-biweekly-newsletter/" target="_blank" rel="noopener noreferrer">https://kcl-lang.io/zh-CN/blog/2024-02-01-biweekly-newsletter/</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="codeql-kcl-å·¥å…·">CodeQL KCL å·¥å…·<a href="#codeql-kcl-å·¥å…·" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>åˆæ­¥æ”¯æŒ CodeQL KCL dbschema å®šä¹‰ä»¥åŠå¯¹ KCL è¯­æ³•è¯­ä¹‰è¿›è¡Œæ•°æ®æå–ï¼Œå¹¶å¯é€šè¿‡ CodeQL è¿›è¡Œæ•°æ®æŸ¥è¯¢å¯¹ KCL ä»£ç è¿›è¡Œé™æ€åˆ†æå’Œæ‰«æï¼Œæå‡ä»£ç å®‰å…¨ã€‚</p><p>æ›´å¤šå†…å®¹è¯¦è§: <a href="https://github.com/kcl-lang/codeql-kcl" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/codeql-kcl</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="æ¨¡å‹æ›´æ–°">æ¨¡å‹æ›´æ–°<a href="#æ¨¡å‹æ›´æ–°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>KCL æ¨¡å‹æ•°é‡æ–°å¢è‡³ 303 ä¸ªï¼Œä¸»è¦æ–°å¢ä¸ Crossplane Provider ç›¸å…³çš„æ¨¡å‹å’Œä¸ JSON åˆå¹¶æ“ä½œç›¸å…³çš„åº“</p><ul><li><p>KCL JSON Patch åº“ï¼š<a href="https://artifacthub.io/packages/kcl/kcl-module/jsonpatch" target="_blank" rel="noopener noreferrer">https://artifacthub.io/packages/kcl/kcl-module/jsonpatch</a></p></li><li><p>KCL JSON Merge Patch åº“ï¼š<a href="https://artifacthub.io/packages/kcl/kcl-module/json_merge_patch" target="_blank" rel="noopener noreferrer">https://artifacthub.io/packages/kcl/kcl-module/json_merge_patch</a></p></li><li><p>KCL Kubernetes Strategy Merge Patch åº“ï¼š<a href="https://artifacthub.io/packages/kcl/kcl-module/strategic_merge_patch" target="_blank" rel="noopener noreferrer">https://artifacthub.io/packages/kcl/kcl-module/strategic_merge_patch</a></p></li><li><p>KCL Crossplane åŠ Crossplane Provider ç³»åˆ—æ¨¡å‹ï¼š<a href="https://artifacthub.io/packages/search?org=kcl&amp;sort=relevance&amp;page=1&amp;ts_query_web=crossplane" target="_blank" rel="noopener noreferrer">https://artifacthub.io/packages/search?org=kcl&amp;sort=relevance&amp;page=1&amp;ts_query_web=crossplane</a></p></li><li><p>Kubenetes 1.29 ç‰ˆæœ¬: <a href="https://artifacthub.io/packages/kcl/kcl-module/k8s/1.29.0" target="_blank" rel="noopener noreferrer">https://artifacthub.io/packages/kcl/kcl-module/k8s/1.29.0</a></p></li><li><p>æ–°å¢ Podinfo åº”ç”¨é…ç½®æ¨¡å‹ï¼Œæ”¯æŒè®¾ç½®å¤–éƒ¨åŠ¨æ€å‚æ•°å¦‚ replicas ç­‰ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡ä¸€æ¡å‘½ä»¤æ¸²æŸ“ Kubernetes èµ„æºé…ç½®ï¼Œå¹¶ä¸”å¯ä»¥åœ¨æ­¤æ¨¡å‹çš„åŸºç¡€ä¸Šä¿®æ”¹å¹¶è‡ªå®šä¹‰èµ„æºæ¨¡ç‰ˆ</p></li></ul><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kcl run oci://ghcr.io/kcl-lang/podinfo -D </span><span class="token assign-left variable" style="color:#36acaa">replicas</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>JSON Schema åº“å‘å¸ƒ 0.0.4 ç‰ˆæœ¬ï¼Œä¿®å¤ç±»å‹å®šä¹‰é”™è¯¯, å¯ä»¥æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤æ›´æ–°æˆ–æ·»åŠ ä¾èµ–</li></ul><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kcl mod </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> jsonschema:0.0.4</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å…¶ä»–æ›´æ–°">å…¶ä»–æ›´æ–°<a href="#å…¶ä»–æ›´æ–°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>å®Œæ•´æ›´æ–°å’Œé”™è¯¯ä¿®å¤åˆ—è¡¨è¯¦è§: <a href="https://github.com/kcl-lang/kcl/compare/v0.7.0...v0.8.0" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl/compare/v0.7.0...v0.8.0</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="æ–‡æ¡£æ›´æ–°">æ–‡æ¡£æ›´æ–°<a href="#æ–‡æ¡£æ›´æ–°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>KCL ç½‘ç«™æ–°å¢ KCL v0.7.0 æ–‡æ¡£å†…å®¹å¹¶æ”¯æŒç‰ˆæœ¬åŒ–è¯­ä¹‰é€‰é¡¹ï¼Œç›®å‰æ”¯æŒ v0.4.x, v0.5.x, v0.6.x, v0.7.0 å’Œ v0.8.0 ç‰ˆæœ¬é€‰æ‹©ï¼ŒåŒæ—¶æ¬¢è¿ç¤¾åŒºåŒå­¦è¿›è¡Œæ–‡æ¡£å…±å»ºã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ç¤¾åŒºåŠ¨æ€">ç¤¾åŒºåŠ¨æ€<a href="#ç¤¾åŒºåŠ¨æ€" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="kcl-lfx-é¡¹ç›®å¯åŠ¨">KCL LFX é¡¹ç›®å¯åŠ¨<a href="#kcl-lfx-é¡¹ç›®å¯åŠ¨" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>æ­å–œ @AkashKumar7902, @octonawish-akcodes, @shashank-iitbhu å…¥é€‰ CNCF KCL LFX é¡¹ç›®ï¼ŒåŒæ—¶æ„Ÿè°¢ @Vanshikav123, @Amit Pandey çš„ç§¯æå‚ä¸ã€‚</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="kcl-ç™»é™†-crossplane-å®˜æ–¹å‡½æ•°å¸‚åœº">KCL ç™»é™† Crossplane å®˜æ–¹å‡½æ•°å¸‚åœº<a href="#kcl-ç™»é™†-crossplane-å®˜æ–¹å‡½æ•°å¸‚åœº" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>è‡ª Crossplane v1.14 ä¸­çš„ç»„åˆå‡½æ•° Beta ç‰ˆå‘å¸ƒä»¥æ¥ï¼Œä½¿ç”¨ Crossplane æ„å»ºäº‘åŸç”Ÿå¹³å°çš„å¯èƒ½ä½“éªŒèŒƒå›´ä¸€ç›´åœ¨è¿…é€Ÿæ‰©å¤§ã€‚KCL å›¢é˜Ÿåœ¨ç¬¬ä¸€æ—¶é—´è¿›è¡Œè·Ÿè¿›å¹¶ä¸»åŠ¨æ„å»ºäº†ä¸€ä¸ªå¯é‡ç”¨çš„å‡½æ•°ï¼Œæ•´ä¸ª Crossplane ç”Ÿæ€ç³»ç»Ÿç°åœ¨å¯ä»¥åˆ©ç”¨ KCL æä¾›çš„é«˜æ°´å¹³ç»éªŒå’Œèƒ½åŠ›æ¥æ„å»ºè‡ªå·±çš„äº‘åŸç”Ÿå¹³å°ã€‚</p><p>æ›´å¤šå†…å®¹è¯¦è§: <a href="https://blog.crossplane.io/function-kcl/" target="_blank" rel="noopener noreferrer">https://blog.crossplane.io/function-kcl/</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ç‰¹åˆ«é¸£è°¢">ç‰¹åˆ«é¸£è°¢<a href="#ç‰¹åˆ«é¸£è°¢" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>æ„Ÿè°¢ç¤¾åŒºçš„å°ä¼™ä¼´åœ¨ KCL v0.8.0 ç‰ˆæœ¬ä¸­çš„è´¡çŒ®ï¼Œä»¥ä¸‹æ’åä¸åˆ†å…ˆå</p><ul><li>æ„Ÿè°¢ @jakezhu9 åŒå­¦å¯¹ kcl import å·¥å…·çš„æŒç»­è´¡çŒ® ğŸ¤</li><li>æ„Ÿè°¢ @octonawish-akcodes å¯¹ KCL ä»£ç æ¸…ç†å’Œ FAQ æ–‡æ¡£çš„æŒç»­è´¡çŒ® ğŸ™Œ</li><li>æ„Ÿè°¢ @satyazzz123 å¯¹ KRM KCL æ”¯æŒè¯»å–ç¯å¢ƒå˜é‡åŠŸèƒ½çš„è´¡çŒ® ğŸ™Œ</li><li>æ„Ÿè°¢ @AkashKumar7902 å¯¹ KCL åŒ…ç®¡ç†å·¥å…·åŠŸèƒ½çš„è´¡çŒ® ğŸ™Œ</li><li>æ„Ÿè°¢ @UtkarshUmre å¯¹ KCL linux-arm64 æ„å»º CI çš„è´¡çŒ® ğŸ™Œ</li><li>æ„Ÿè°¢ @octonawish-akcodes å’Œ @d4v1d03 å¯¹ KCL FAQ æ–‡æ¡£å’Œ KCL IDE åŠŸèƒ½çš„æŒç»­è´¡çŒ® ğŸ™Œ</li><li>æ„Ÿè°¢ @octonawish-akcodes å¯¹ Ansible KCL Module çš„è´¡çŒ®</li><li>æ„Ÿè°¢ @AkashKumar7902 å’Œ @Vanshikav123 å¯¹ KCL åŒ…ç®¡ç†å·¥å…·åŠŸèƒ½çš„è´¡çŒ® ğŸ™Œ</li><li>æ„Ÿè°¢ @StevenLeiZhang å¯¹ KCL æ–‡æ¡£å’Œ KCL æ’ä»¶çš„è´¡çŒ® ğŸ™Œ</li><li>æ„Ÿè°¢ @patrycju, @Callum Lyall, @Matt Gowie, @ShiroDN, @FLAGLORD, @YiuTerran, @flyinox, @steeling, @Anoop, @Even Solbergï¼Œ@Phillip Neumannï¼Œ@Naxe, @rozaliev, @CloudZero357, @martingreber, @az, @Art3mK, @Erick, @TheChinBot, @Evgeny Shepelyuk, @yonas, @vtomilov, @Fdall, @bozaro, @starkers, å’Œ @MrGuoRanDuo ç­‰åœ¨ KCL v0.8 ç‰ˆæœ¬è¿­ä»£è¿‡ç¨‹ä¸­ä½¿ç”¨ KCL æä¾›çš„å®è´µå»ºè®®ä¸åé¦ˆ ğŸ™Œ</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ä¸‹ä¸€æ­¥è®¡åˆ’">ä¸‹ä¸€æ­¥è®¡åˆ’<a href="#ä¸‹ä¸€æ­¥è®¡åˆ’" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>æ„Ÿè°¢æ‰€æœ‰ KCL ç”¨æˆ·å’Œç¤¾åŒºå°ä¼™ä¼´åœ¨æ­¤æ¬¡ç‰ˆæœ¬æ›´æ–°è¿‡ç¨‹ä¸­æå‡ºçš„å®è´µåé¦ˆä¸å»ºè®®ã€‚é¢„è®¡ 2024 å¹´ 5 æœˆï¼Œæˆ‘ä»¬å°†å‘å¸ƒ KCL v0.9.0 ç‰ˆæœ¬ï¼Œæ›´å¤šè¯¦æƒ…è¯·å‚è€ƒ KCL 2024 è·¯çº¿è§„åˆ’ å’Œ KCL v0.9.0 Milestoneï¼Œå¦‚æœæ‚¨æœ‰æ›´å¤šçš„æƒ³æ³•å’Œéœ€æ±‚ï¼Œæ¬¢è¿åœ¨ KCL Github ä»“åº“å‘èµ· Issues æˆ–è®¨è®ºï¼Œä¹Ÿæ¬¢è¿åŠ å…¥æˆ‘ä»¬çš„ç¤¾åŒºè¿›è¡Œäº¤æµ ğŸ™Œ ğŸ™Œ ğŸ™Œ</p><p>æ›´å¤šå…¶ä»–èµ„æºè¯·å‚è€ƒï¼š</p><ul><li><p>KCL ç½‘ç«™: <a href="https://kcl-lang.io/" target="_blank" rel="noopener noreferrer">https://kcl-lang.io/</a></p></li><li><p>KusionStack ç½‘ç«™: <a href="https://kusionstack.io/" target="_blank" rel="noopener noreferrer">https://kusionstack.io/</a></p></li><li><p>KCL GitHub ä»“åº“: <a href="https://github.com/kcl-lang" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang</a></p></li><li><p>KusionStack GitHub ä»“åº“: <a href="https://github.com/KusionStack" target="_blank" rel="noopener noreferrer">https://github.com/KusionStack</a></p></li><li><p>KCL v0.9.0 Milestone: <a href="https://github.com/kcl-lang/kcl/milestone/9" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl/milestone/9</a></p></li><li><p>KCL 2024 è·¯çº¿è§„åˆ’: <a href="https://github.com/kcl-lang/kcl/issues/882" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl/issues/882</a></p></li><li><p>KCL ç¤¾åŒº: <a href="https://github.com/kcl-lang/community" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/community</a></p></li></ul>]]></content>
        <author>
            <name>KCL Team</name>
        </author>
        <category label="Release Blog" term="Release Blog"/>
        <category label="KCL" term="KCL"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[å®˜å®£ï¼çŸ¥å IaC å·¥å…· Crossplane å®£å¸ƒ KCL ç™»é™†å…¶å®˜æ–¹å‡½æ•°å¸‚åœºï¼]]></title>
        <id>https://kcl-lang.github.io/zh-CN/blog/2024-03-04-crossplane-marketplace-kcl</id>
        <link href="https://kcl-lang.github.io/zh-CN/blog/2024-03-04-crossplane-marketplace-kcl"/>
        <updated>2024-03-04T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[å†…å®¹è½¬è½½æ•´ç†è‡ª Crossplane å®˜ç½‘åšå®¢åŸæ–‡ï¼šhttps://blog.crossplane.io/function-kcl]]></summary>
        <content type="html"><![CDATA[<blockquote><p><em>å†…å®¹è½¬è½½æ•´ç†è‡ª Crossplane å®˜ç½‘åšå®¢åŸæ–‡ï¼š<a href="https://blog.crossplane.io/function-kcl" target="_blank" rel="noopener noreferrer">https://blog.crossplane.io/function-kcl</a></em></p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å†…å®¹ç®€ä»‹">å†…å®¹ç®€ä»‹<a href="#å†…å®¹ç®€ä»‹" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p><a href="https://github.com/kcl-lang" target="_blank" rel="noopener noreferrer">KCL</a> æ˜¯ä¸€ä¸ª CNCF åŸºé‡‘ä¼šæ‰˜ç®¡çš„åŸºäºçº¦æŸçš„è®°å½•åŠå‡½æ•°è¯­è¨€ï¼ŒæœŸæœ›é€šè¿‡æˆç†Ÿçš„ç¼–ç¨‹è¯­è¨€æŠ€æœ¯å’Œå®è·µæ¥æ”¹è¿›å¯¹å¤§é‡ç¹æ‚é…ç½®æ¯”å¦‚äº‘åŸç”Ÿ Kubernetes é…ç½®åœºæ™¯çš„ç¼–å†™ï¼Œè‡´åŠ›äºæ„å»ºå›´ç»•é…ç½®çš„æ›´å¥½çš„æ¨¡å—åŒ–ã€æ‰©å±•æ€§å’Œç¨³å®šæ€§ï¼Œæ›´ç®€å•çš„é€»è¾‘ç¼–å†™ï¼Œä»¥åŠæ›´ç®€å•çš„è‡ªåŠ¨åŒ–å’Œç”Ÿæ€å·¥å…·é›†æˆã€‚</p><p><strong>è‡ª Crossplane v1.14 ä¸­çš„ç»„åˆå‡½æ•° Beta ç‰ˆå‘å¸ƒä»¥æ¥</strong>ï¼Œä½¿ç”¨ Crossplane æ„å»ºäº‘åŸç”Ÿå¹³å°çš„å¯èƒ½ä½“éªŒèŒƒå›´ä¸€ç›´åœ¨è¿…é€Ÿæ‰©å¤§ã€‚KCL å›¢é˜Ÿåœ¨ç¬¬ä¸€æ—¶é—´è¿›è¡Œè·Ÿè¿›å¹¶ä¸»åŠ¨æ„å»ºäº†ä¸€ä¸ªå¯é‡ç”¨çš„å‡½æ•°ï¼Œ<strong>æ•´ä¸ª Crossplane ç”Ÿæ€ç³»ç»Ÿç°åœ¨å¯ä»¥åˆ©ç”¨ KCL æä¾›çš„é«˜æ°´å¹³ç»éªŒå’Œèƒ½åŠ›æ¥æ„å»ºè‡ªå·±çš„äº‘åŸç”Ÿå¹³å°</strong>ã€‚</p><p>åŒæ—¶ Crossplane å®£å¸ƒ KCL å‡½æ•°æˆä¸º<strong>ç¬¬ä¸€ä¸ªå‘å¸ƒåˆ° Upbound å¸‚åœºçš„ç¬¬ä¸‰æ–¹å‡½æ•°ç»„ä»¶</strong>ï¼Œåœ°å€ä¸º&nbsp;<em><a href="https://marketplace.upbound.io/providers/crossplane-contrib/function-kcl" target="_blank" rel="noopener noreferrer">https://marketplace.upbound.io/providers/crossplane-contrib/function-kcl</a></em> ã€‚æºä»£ç å¯ä»¥åœ¨&nbsp;<em><a href="https://github.com/crossplane-contrib/function-kcl" target="_blank" rel="noopener noreferrer">https://github.com/crossplane-contrib/function-kcl</a></em>&nbsp;æ‰¾åˆ°ï¼Œæ¬¢è¿è´¡çŒ®å’Œåé¦ˆã€‚</p><p>æ‚¨å¯ä»¥é€šè¿‡ä½¿ç”¨ä»¥ä¸‹ä¸€è¡Œå‘½ä»¤å®‰è£… function-kcl å¹¶å¼€å§‹åœ¨æ•´ä¸ª Crossplane æ§åˆ¶å¹³é¢ä¸­ä½¿ç”¨ï¼š</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">crossplane&nbsp;xpkg&nbsp;</span><span class="token function" style="color:#d73a49">install</span><span class="token plain">&nbsp;</span><span class="token keyword" style="color:#00009f">function</span><span class="token plain">&nbsp;xpkg.upbound.io/crossplane-contrib/function-kcl:v0.2.0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>Crossplane å›¢é˜Ÿå’Œç¤¾åŒºæ„Ÿè°¢ KCL å›¢é˜Ÿçš„è¿™ç¬”å·¨å¤§æèµ ï¼Œä»¥åŠå¯¹ä¸æ–­å‘å±•çš„ Functions for Crossplane ç”Ÿæ€ç³»ç»Ÿçš„å·¨å¤§è¡¥å……</strong>ï¼</p><p><img loading="lazy" alt="crossplane-announcing" src="/zh-CN/assets/images/crossplane-announcing-c179962aa966b848c6fa8edb319cbd19.png" width="982" height="312" class="img_ev3q"></p><p>Crossplane åŠå…¶ç»„åˆæ¨¡å‹å…è®¸å¼€å‘äººå‘˜åˆ›å»ºæ›´é«˜çº§åˆ«çš„æŠ½è±¡ï¼Œè¿™äº›æŠ½è±¡å¯ä»¥å°è£…å’Œç»„åˆè·¨ä¸åŒæä¾›å•†å’ŒæœåŠ¡çš„å¤šç§ç±»å‹çš„äº‘èµ„æºã€‚ä½¿ç”¨ç»„åˆå‡½æ•°æ¥æ¸²æŸ“è¿™äº›æŠ½è±¡å¯ä»¥æœ‰æ•ˆå¢å¼ºå„ç§æä¾›è€…èµ„æºçš„æ¨¡æ¿åŠŸèƒ½ï¼ŒåŒæ—¶å‡å°‘æ‰€éœ€çš„ YAML ä»£ç é‡ã€‚</p><p>å°† KCL ä¸ Crossplane ç»„åˆå‡½æ•°ç»“åˆèµ·æ¥æœ‰å‡ ä¸ªå¥½å¤„ï¼š</p><ul><li><strong>ç®€åŒ–å¤æ‚é…ç½®</strong>ï¼šKCL æä¾›äº†æ¯”ä¸€èˆ¬ DSL æ›´ç®€æ´çš„è¯­æ³•å’Œç»“æ„ï¼Œé™ä½äº†é…ç½®çš„å¤æ‚æ€§ã€‚ä¸ Crossplane çš„å¤åˆèµ„æºç»“åˆæ—¶ï¼Œæ‚¨å¯ä»¥åˆ›å»ºæ›´ç›´è§‚ä¸”æ˜“äºç†è§£çš„å…·æœ‰å¾ªç¯å’Œæ¡ä»¶åŠŸèƒ½çš„é…ç½®æ¨¡æ¿å¯¹æ¥åˆ°ä¸åŒçš„äº‘å¹³å°ï¼Œä»è€Œç®€åŒ–èµ„æºçš„å®šä¹‰å’Œç»´æŠ¤ï¼Œè€Œä¸æ˜¯ç¼–å†™é‡å¤çš„ YAML æ¨¡ç‰ˆã€‚</li><li><strong>å¯é‡ç”¨æ€§å’Œæ¨¡å—åŒ–</strong>ï¼šKCL é€šè¿‡ OCI Registry æ”¯æŒæ¨¡å—åŒ–å’Œä»£ç é‡ç”¨ï¼Œè¿™æ„å‘³ç€æ‚¨å¯ä»¥åˆ›å»ºå¯é‡ç”¨çš„é…ç½®ç»„ä»¶ã€‚ä¸ Crossplane ç»“åˆï¼Œå¯ä»¥ä¿ƒè¿›å¤åˆèµ„æºçš„æ¨¡å—åŒ–ï¼Œæé«˜é…ç½®çš„é‡ç”¨æ€§ï¼Œå¹¶å‡å°‘é”™è¯¯ã€‚</li><li><strong>è‡ªåŠ¨åŒ–å’Œç­–ç•¥æ”¯æŒ</strong>ï¼šæ‚¨å¯ä»¥ä½¿ç”¨ KCL çš„å¼ºå¤§åŠŸèƒ½æ¥ç¼–å†™ç­–ç•¥å’Œçº¦æŸï¼Œè¿™äº›ç­–ç•¥å’Œçº¦æŸä¸ Crossplane çš„å£°æ˜æ€§èµ„æºç®¡ç†ç›¸ç»“åˆï¼Œä¸”å¯ä»¥è‡ªåŠ¨å®æ–½ï¼Œä»è€Œç¡®ä¿äº‘ç¯å¢ƒä¸­çš„åˆè§„æ€§ï¼Œè¿›ä¸€æ­¥æå‡æ•ˆç‡å’Œç¨³å®šæ€§ã€‚</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å¿«é€Ÿå¼€å§‹">å¿«é€Ÿå¼€å§‹<a href="#å¿«é€Ÿå¼€å§‹" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>æœ‰ä¸¤ç§å°† KCL å’Œ Crossplane ç»“åˆä½¿ç”¨çš„æ–¹å¼</p><ul><li>ä¸€ç§æ˜¯ä½¿ç”¨ KCL ç¼–å†™ Crossplane ç»„åˆå‡½æ•°å¹¶å®‰è£…åˆ°é›†ç¾¤ä½¿ç”¨ï¼Œä»ç„¶é‡‡ç”¨ YAML æ¥å®šä¹‰ App Team æ‰€éœ€çš„ Schema å’Œè¾“å…¥ï¼Œä½¿ç”¨ KCL&nbsp;æ’°å†™æ¸²æŸ“é€»è¾‘åˆ° Crossplane Managed Resource çš„é€»è¾‘ä»¥å¯¹æ¥ä¸åŒçš„äº‘å¹³å°æˆ–è€… Kubernetes é›†ç¾¤ã€‚<strong>éœ€è¦æ³¨æ„çš„æ˜¯ï¼šè¿™ç§æ–¹å¼æ—¢å¯ä»¥å°† KCL å‡½æ•°å®‰è£…åˆ°é›†ç¾¤ä¸­ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ crossplane beta render å‘½ä»¤ç›´æ¥åœ¨å®¢æˆ·ç«¯å®Œæˆ&nbsp;Managed Resource çš„æ¸²æŸ“ã€‚</strong></li></ul><p><img loading="lazy" alt="crossplane-kcl-func" src="/zh-CN/assets/images/crossplane-kcl-func-a14565483cfe0ca637e854df10f69dec.png" width="1548" height="1116" class="img_ev3q"></p><ul><li>å¦å¤–ä¸€ç§æ˜¯ä½¿ç”¨ KCL å®Œå…¨åœ¨å®¢æˆ·ç«¯æä¾›é¢å‘åº”ç”¨å¼€å‘è€…çš„æŠ½è±¡å¹¶ç”Ÿæˆ Crossplane æ‰˜ç®¡èµ„æºä¸‹å‘åˆ°é›†ç¾¤ï¼Œæä¾› Kubernetes çš„ç»Ÿä¸€å¯ç¼–ç¨‹æ¥å…¥å±‚ï¼Œå…·ä½“ä½¿ç”¨ KCL Schema è§„å®š&nbsp;App Team æ‰€éœ€çš„&nbsp;Schema&nbsp;è¾“å…¥ï¼Œå¹¶æ’°å†™æ¸²æŸ“åˆ° Crossplane Managed Resource çš„é€»è¾‘ä»¥å¯¹æ¥ä¸åŒçš„äº‘å¹³å°æˆ–è€… Kubernetes é›†ç¾¤</li></ul><p><img loading="lazy" alt="kcl-on-crossplane" src="/zh-CN/assets/images/kcl-on-crossplane-61f5204ee8b003e99a5f1246c8d72bd5.png" width="1546" height="1116" class="img_ev3q"></p><p><strong>ä¸¤ç§æ–¹æ³•çš„å…·ä½“æ“ä½œæ–¹å¼å¯ä»¥æŸ¥çœ‹ Crossplane å®˜æ–¹åšå®¢å†…å®¹ï¼š<em><a href="https://blog.crossplane.io/function-kcl" target="_blank" rel="noopener noreferrer">https://blog.crossplane.io/function-kcl</a></em></strong></p><p><img loading="lazy" alt="crossplane-kcl-blog" src="/zh-CN/assets/images/crossplane-kcl-blog-c153cc8069d7edf95509a93112e87926.png" width="1158" height="1038" class="img_ev3q"></p><p>æ­¤å¤–ï¼Œè¿™ä¸¤ç§æ–¹å¼éƒ½éœ€è¦ Registry æ¥ååŠ©å®Œæˆå·¥ä½œã€‚å®ƒä»¬ä¹‹é—´çš„æœ€ç»ˆé€‰æ‹©å¯èƒ½å–å†³äºæ‚¨çš„æ“ä½œä¹ æƒ¯å’Œç¯å¢ƒæˆæœ¬ã€‚æ— è®ºé€‰æ‹©å“ªç§æ–¹æ³•ï¼Œ<strong>æˆ‘ä»¬éƒ½å»ºè®®åœ¨ Git ä¸­ç»´æŠ¤ KCL ä»£ç ï¼Œä»¥ä¾¿æ›´å¥½åœ°å®æ–½ GitOps å¹¶è·å¾—æ›´å¥½çš„ IDE ä½“éªŒå’Œå¯é‡ç”¨æ¨¡å—</strong>ï¼Œä¾‹å¦‚ä½¿ç”¨ Crossplane AWS Module:&nbsp;<em><a href="https://github.com/kcl-lang/modules/tree/main/crossplane-provider-aws" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/modules/tree/main/crossplane-provider-aws</a></em></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å°ç»“">å°ç»“<a href="#å°ç»“" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>ç°åœ¨ function-kcl é¡¹ç›®å·²æèµ ç»™ Crossplane ç¤¾åŒºï¼Œæˆ‘ä»¬é¼“åŠ±æ•´ä¸ªç¤¾åŒºå¯¹å…¶è¿›è¡Œæµ‹è¯•ï¼Œå¹¶å°è¯•ä½¿ç”¨ KCLï¼ˆCrossplane Functions æä¾›çš„æœ€æ–°é«˜çº§è¯­è¨€ä½“éªŒï¼‰æ„å»ºäº‘åŸç”Ÿæ§åˆ¶å¹³é¢ã€‚æˆ‘ä»¬éå¸¸æ¬¢è¿ç¤¾åŒºåœ¨GitHub ä¸Šçš„å­˜å‚¨åº“ä¸­æä¾›è´¡çŒ®å’Œåé¦ˆã€‚è®©æˆ‘ä»¬çŸ¥é“æ‚¨çš„æƒ³æ³•ï¼<em><a href="https://github.com/crossplane-contrib/function-kcl" target="_blank" rel="noopener noreferrer">https://github.com/crossplane-contrib/function-kcl</a></em></p><p>æ›´å¤šå…¶ä»–èµ„æºè¯·å‚è€ƒï¼š</p><ul><li><em>KCL ç½‘ç«™:&nbsp;<a href="https://kcl-lang.io/" target="_blank" rel="noopener noreferrer">https://kcl-lang.io/</a></em></li><li><em>KusionStack ç½‘ç«™:&nbsp;<a href="https://kusionstack.io/" target="_blank" rel="noopener noreferrer">https://kusionstack.io/</a></em></li><li><em>KCL v0.9.0 Milestone:&nbsp;<a href="https://github.com/kcl-lang/kcl/milestone/9" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl/milestone/9</a></em></li></ul>]]></content>
        <author>
            <name>KCL å›¢é˜Ÿ</name>
        </author>
        <category label="KCL" term="KCL"/>
        <category label="Crossplane" term="Crossplane"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[KCL æœ€æ–°åŠ¨æ€é€Ÿé€’ (2024 02.02 - 2024.02.22)]]></title>
        <id>https://kcl-lang.github.io/zh-CN/blog/2024-02-22-newsletter</id>
        <link href="https://kcl-lang.github.io/zh-CN/blog/2024-02-22-newsletter"/>
        <updated>2024-02-22T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[KCL æ˜¯ä¸€ä¸ª CNCF åŸºé‡‘ä¼šæ‰˜ç®¡çš„åŸºäºçº¦æŸçš„è®°å½•åŠå‡½æ•°è¯­è¨€ï¼ŒæœŸæœ›é€šè¿‡æˆç†Ÿçš„ç¼–ç¨‹è¯­è¨€æŠ€æœ¯å’Œå®è·µæ¥æ”¹è¿›å¯¹å¤§é‡ç¹æ‚é…ç½®æ¯”å¦‚äº‘åŸç”Ÿ Kubernetes é…ç½®åœºæ™¯çš„ç¼–å†™ï¼Œè‡´åŠ›äºæ„å»ºå›´ç»•é…ç½®çš„æ›´å¥½çš„æ¨¡å—åŒ–ã€æ‰©å±•æ€§å’Œç¨³å®šæ€§ï¼Œæ›´ç®€å•çš„é€»è¾‘ç¼–å†™ï¼Œä»¥åŠæ›´ç®€å•çš„è‡ªåŠ¨åŒ–å’Œç”Ÿæ€å·¥å…·é›†æˆã€‚]]></summary>
        <content type="html"><![CDATA[<p><img loading="lazy" src="/zh-CN/assets/images/biweekly-newsletter-zh-bd4cf8c2bcc913a580e7b0e5d6691a08.png" width="1127" height="435" class="img_ev3q"></p><p><a href="https://github.com/kcl-lang" target="_blank" rel="noopener noreferrer">KCL</a> æ˜¯ä¸€ä¸ª CNCF åŸºé‡‘ä¼šæ‰˜ç®¡çš„åŸºäºçº¦æŸçš„è®°å½•åŠå‡½æ•°è¯­è¨€ï¼ŒæœŸæœ›é€šè¿‡æˆç†Ÿçš„ç¼–ç¨‹è¯­è¨€æŠ€æœ¯å’Œå®è·µæ¥æ”¹è¿›å¯¹å¤§é‡ç¹æ‚é…ç½®æ¯”å¦‚äº‘åŸç”Ÿ Kubernetes é…ç½®åœºæ™¯çš„ç¼–å†™ï¼Œè‡´åŠ›äºæ„å»ºå›´ç»•é…ç½®çš„æ›´å¥½çš„æ¨¡å—åŒ–ã€æ‰©å±•æ€§å’Œç¨³å®šæ€§ï¼Œæ›´ç®€å•çš„é€»è¾‘ç¼–å†™ï¼Œä»¥åŠæ›´ç®€å•çš„è‡ªåŠ¨åŒ–å’Œç”Ÿæ€å·¥å…·é›†æˆã€‚</p><p>æœ¬æ ç›®å°†ä¼šåŒå‘¨æ›´æ–° KCL è¯­è¨€ç¤¾åŒºæœ€æ–°åŠ¨æ€ï¼ŒåŒ…æ‹¬åŠŸèƒ½ã€å®˜ç½‘æ›´æ–°å’Œæœ€æ–°çš„ç¤¾åŒºåŠ¨æ€ç­‰ï¼Œå¸®åŠ©å¤§å®¶æ›´å¥½åœ°äº†è§£ KCL ç¤¾åŒºï¼</p><p><strong><em>KCL å®˜ç½‘ï¼š<a href="https://kcl-lang.io" target="_blank" rel="noopener noreferrer">https://kcl-lang.io</a></em></strong></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å†…å®¹æ¦‚è¿°">å†…å®¹æ¦‚è¿°<a href="#å†…å®¹æ¦‚è¿°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>æ„Ÿè°¢æ‰€æœ‰è´¡çŒ®è€…è¿‡å»ä¸€æ®µæ—¶é—´ (2024 02.02 - 2024.02.22) çš„æ°å‡ºå·¥ä½œï¼Œä»¥ä¸‹æ˜¯é‡ç‚¹å†…å®¹æ¦‚è¿°</p><p><strong>ğŸ“¦ æ¨¡å‹æ›´æ–°</strong></p><ul><li>JSON Schema åº“å‘å¸ƒ 0.0.4 ç‰ˆæœ¬ï¼Œä¿®å¤ç±»å‹å®šä¹‰é”™è¯¯, å¯ä»¥æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤æ›´æ–°æˆ–æ·»åŠ ä¾èµ–</li></ul><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kcl mod </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> jsonschema:0.0.4</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>ğŸ„ è¯­è¨€æ›´æ–°</strong></p><p><strong>KCL å‘å¸ƒ 0.8.0 é¢„è§ˆç‰ˆæœ¬</strong>ï¼Œä¸»è¦åŒ…å«å¦‚ä¸‹æ›´æ–°</p><ul><li>æ–°å¢ file ç³»ç»Ÿåº“ç”¨äºè¯»å– KCL æ¨¡å—ä¿¡æ¯å’Œç³»ç»Ÿæ–‡ä»¶ï¼ŒåŒ…å« <code>read</code>, <code>glob</code>, <code>workdir</code> å’Œ <code>modpath</code> å‡½æ•°ï¼Œè¯¦è§ Issue: <a href="https://github.com/kcl-lang/kcl/issues/1049" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl/issues/1049</a></li><li>ä¼˜åŒ–éé¢„æœŸ token çš„è¯­æ³•é”™è¯¯æç¤º</li><li>å»é™¤ Schema å¯¹è±¡å†…éƒ¨éé¢„æœŸçš„å†…ç½®ç±»å‹å±æ€§é€šè¿‡ print è¾“å‡º</li><li>ä¿®å¤éé¢„æœŸçš„å­—å…¸ç”Ÿæˆè¡¨è¾¾å¼ä¸­çš„ key ä¸å¾ªç¯å˜é‡ç›¸åŒæ—¶çš„å˜é‡è®¡ç®—</li><li>ä¿®å¤ schema å†…éƒ¨è¯¸å¦‚ "$if" çš„å­—ç¬¦ä¸²æ ‡è¯†ç¬¦å®šä¹‰æ‰¾ä¸åˆ°çš„é”™è¯¯</li></ul><p><strong>ğŸ”§ å·¥å…·é“¾æ›´æ–°</strong></p><ul><li>kcl run æ”¯æŒä½¿ç”¨ <code>-H</code> å‚æ•°è¾“å‡ºä»¥ <code>_</code> å¼€å¤´çš„éšè—å­—æ®µ</li><li>kcl run æ”¯æŒç›´æ¥è¿è¡Œè¿œç«¯ Git ä»“åº“ä»£ç </li><li>kcl mod æ–°å¢ kcl mod graph å­å‘½ä»¤è¾“å‡ºæ¨¡å—ä¾èµ–å›¾</li><li>kcl fmt ä¿®å¤ else å—ä¸­å­˜åœ¨ if è¯­å¥æ—¶çš„æ ¼å¼åŒ–é”™è¯¯</li></ul><p><strong>ğŸ’» IDE æ›´æ–°</strong></p><ul><li>ä¼˜åŒ–äº†å†…ç½®å‡½æ•°å’Œç³»ç»Ÿåº“çš„è¡¥å…¨ä»¥åŠæ‚¬åœæ–‡æ¡£æå‡</li><li>ä¿®å¤äº†é…ç½®å—å†…éƒ¨ if è¯­å¥ç¬¦å·ä¸èƒ½è·³è½¬å’Œè¡¥å…¨çš„é—®é¢˜</li><li>å¢åŠ å˜é‡å¼•ç”¨é”™è¯¯æ—¶çš„å¿«é€Ÿä¿®å¤åŠŸèƒ½</li></ul><p><strong>ğŸ API æ›´æ–°</strong></p><ul><li>OverrideFile API æ–°å¢è¯¸å¦‚ <code>a["b"].c</code> çš„ path å¯¹é…ç½®è¿›è¡ŒæŸ¥è¯¢å’Œä¿®æ”¹</li></ul><p><strong>ğŸš€ æ’ä»¶ç³»ç»Ÿæ›´æ–°</strong></p><p>é™¤äº†ä½¿ç”¨ Python ä¸º KCL æ’ä»¶å‡½æ•°ï¼Œç°åœ¨æ”¯æŒä½¿ç”¨ Go ä¸º KCL ç¼–å†™æ’ä»¶å‡½æ•°ï¼Œä½¿ç”¨æ–¹å¼éå¸¸ç®€å•ã€‚</p><ul><li>å®šä¹‰æ’ä»¶ (ä»¥ä¸€ä¸ªåŒ…å« add å‡½æ•°çš„ hello æ’ä»¶ä½œä¸ºç¤ºä¾‹)</li></ul><div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">package</span><span class="token plain"> hello_plugin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">"kcl-lang.io/kcl-go/pkg/plugin"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">func</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">init</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    plugin</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">RegisterPlugin</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">plugin</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Plugin</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"hello"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        MethodMap</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">map</span><span class="token punctuation" style="color:#393A34">[</span><span class="token builtin">string</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">plugin</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">MethodSpec</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">"add"</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Body</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">func</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">args </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">plugin</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">MethodArgs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">*</span><span class="token plain">plugin</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">MethodResult</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token builtin">error</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    v </span><span class="token operator" style="color:#393A34">:=</span><span class="token plain"> args</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">IntArg</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> args</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">IntArg</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">plugin</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">MethodResult</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">V</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> v</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">nil</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>ä½¿ç”¨æ’ä»¶</li></ul><div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">package</span><span class="token plain"> main</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">"fmt"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">"kcl-lang.io/kcl-go/pkg/kcl"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">"kcl-lang.io/kcl-go/pkg/native"</span><span class="token plain">                </span><span class="token comment" style="color:#999988;font-style:italic">// Import the native API</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token boolean" style="color:#36acaa">_</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"kcl-lang.io/kcl-go/pkg/plugin/hello_plugin"</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// Import the hello plugin</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">func</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Note we use `native.MustRun` here instead of `kcl.MustRun`, because it needs the cgo feature.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    yaml </span><span class="token operator" style="color:#393A34">:=</span><span class="token plain"> native</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">MustRun</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"main.k"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> kcl</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">WithCode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">code</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">GetRawYamlResult</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fmt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Println</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">yaml</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> code </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">`</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">import kcl_plugin.hello</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="display:inline-block;color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">name = "kcl"</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">three = hello.add(1,2) # 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">`</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>ğŸš¢ é›†æˆæ›´æ–°</strong></p><ul><li>å‘å¸ƒ Ansible KCL æ¨¡å—åˆå§‹ç‰ˆæœ¬ï¼Œæ”¯æŒåŸºæœ¬çš„è¿è¡Œ KCL ä»£ç åŠŸèƒ½ï¼Œå…¶ä»–åŠŸèƒ½å®Œå–„ä¸­</li><li>KCL FluxCD Controller ä¼˜åŒ– Git Source åŠŸèƒ½ï¼ŒOCI Source åŠŸèƒ½æ”¯æŒä¸­</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ç‰¹åˆ«é¸£è°¢">ç‰¹åˆ«é¸£è°¢<a href="#ç‰¹åˆ«é¸£è°¢" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>ä»¥ä¸‹æ’åä¸åˆ†å…ˆå</p><ul><li>æ„Ÿè°¢ @octonawish-akcodes å’Œ @d4v1d03
å¯¹ KCL FAQ æ–‡æ¡£å’Œ KCL IDE åŠŸèƒ½çš„æŒç»­è´¡çŒ® ğŸ™Œ</li><li>æ„Ÿè°¢ @octonawish-akcodes å¯¹ Ansible KCL Module çš„è´¡çŒ®</li><li>æ„Ÿè°¢ @AkashKumar7902 å’Œ @Vanshikav123 å¯¹ KCL åŒ…ç®¡ç†å·¥å…·åŠŸèƒ½çš„è´¡çŒ® ğŸ™Œ</li><li>æ„Ÿè°¢ @StevenLeiZhang å¯¹ KCL æ–‡æ¡£å’Œ KCL æ’ä»¶çš„è´¡çŒ®</li><li>æ„Ÿè°¢ @TheChinBot, @Evgeny Shepelyuk, @yonas, @steeling, @vtomilov, @Fdall, @CloudZero357, @bozaro, @starkers, @MrGuoRanDuo å’Œ @FLAGLORD ç­‰åœ¨è¿‘æ®µæ—¶é—´ä½¿ç”¨ KCL è¿‡ç¨‹ä¸­æä¾›çš„å®è´µå»ºè®®ä¸åé¦ˆ ğŸ™Œ</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å…¶ä»–èµ„æº">å…¶ä»–èµ„æº<a href="#å…¶ä»–èµ„æº" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>é¢„è®¡ 2024 å¹´ 2 æœˆåº•ä¼šå‘å¸ƒ 0.8 æ­£å¼ç‰ˆæœ¬ï¼Œæ„Ÿè°¢æ‰€æœ‰ KCL ç”¨æˆ·å’Œç¤¾åŒºå°ä¼™ä¼´åœ¨ç¤¾åŒºä¸­æå‡ºçš„å®è´µåé¦ˆä¸å»ºè®®ã€‚åç»­æˆ‘ä»¬ä¼šå‘å¸ƒæ›´å¤š KCL æŠ€æœ¯å’Œæ¡ˆä¾‹æ–‡ç« ï¼Œæ•¬è¯·æœŸå¾…! æŸ¥çœ‹ <em><a href="https://github.com/kcl-lang/community" target="_blank" rel="noopener noreferrer">KCL ç¤¾åŒº</a></em> åŠ å…¥æˆ‘ä»¬ã€‚</p><p>æ›´å¤šå…¶ä»–èµ„æºè¯·å‚è€ƒï¼š</p><ul><li><a href="https://kcl-lang.io/" target="_blank" rel="noopener noreferrer">KCL ç½‘ç«™</a></li><li><a href="https://kusionstack.io/" target="_blank" rel="noopener noreferrer">KusionStack ç½‘ç«™</a></li><li><a href="https://github.com/kcl-lang/kcl/milestone/8" target="_blank" rel="noopener noreferrer">KCL v0.8.0 Milestone</a></li><li><a href="https://github.com/kcl-lang/kcl/milestone/9" target="_blank" rel="noopener noreferrer">KCL v0.9.0 Milestone</a></li></ul>]]></content>
        <author>
            <name>KCL å›¢é˜Ÿ</name>
        </author>
        <category label="KCL" term="KCL"/>
        <category label="Newsletter" term="Newsletter"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[2024 LFX Mentorship å®ä¹ å¼€å¯ï¼šKCL å¼€æºç¤¾åŒºæ¬¢è¿ä½ çš„å‚ä¸ ï¼ï¼ï¼]]></title>
        <id>https://kcl-lang.github.io/zh-CN/blog/2024-02-05-lfs-guide</id>
        <link href="https://kcl-lang.github.io/zh-CN/blog/2024-02-05-lfs-guide"/>
        <updated>2024-02-05T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[KCL æ˜¯ä¸€ä¸ª CNCF åŸºé‡‘ä¼šæ‰˜ç®¡çš„åŸºäºçº¦æŸçš„è®°å½•åŠå‡½æ•°è¯­è¨€ï¼ŒæœŸæœ›é€šè¿‡æˆç†Ÿçš„ç¼–ç¨‹è¯­è¨€æŠ€æœ¯å’Œå®è·µæ¥æ”¹è¿›å¯¹å¤§é‡ç¹æ‚é…ç½®æ¯”å¦‚äº‘åŸç”Ÿ Kubernetes é…ç½®åœºæ™¯çš„ç¼–å†™ï¼Œè‡´åŠ›äºæ„å»ºå›´ç»•é…ç½®çš„æ›´å¥½çš„æ¨¡å—åŒ–ã€æ‰©å±•æ€§å’Œç¨³å®šæ€§ï¼Œæ›´ç®€å•çš„é€»è¾‘ç¼–å†™ï¼Œä»¥åŠæ›´ç®€å•çš„è‡ªåŠ¨åŒ–å’Œç”Ÿæ€å·¥å…·é›†æˆã€‚]]></summary>
        <content type="html"><![CDATA[<p><a href="https://github.com/kcl-lang" target="_blank" rel="noopener noreferrer">KCL</a> æ˜¯ä¸€ä¸ª CNCF åŸºé‡‘ä¼šæ‰˜ç®¡çš„åŸºäºçº¦æŸçš„è®°å½•åŠå‡½æ•°è¯­è¨€ï¼ŒæœŸæœ›é€šè¿‡æˆç†Ÿçš„ç¼–ç¨‹è¯­è¨€æŠ€æœ¯å’Œå®è·µæ¥æ”¹è¿›å¯¹å¤§é‡ç¹æ‚é…ç½®æ¯”å¦‚äº‘åŸç”Ÿ Kubernetes é…ç½®åœºæ™¯çš„ç¼–å†™ï¼Œè‡´åŠ›äºæ„å»ºå›´ç»•é…ç½®çš„æ›´å¥½çš„æ¨¡å—åŒ–ã€æ‰©å±•æ€§å’Œç¨³å®šæ€§ï¼Œæ›´ç®€å•çš„é€»è¾‘ç¼–å†™ï¼Œä»¥åŠæ›´ç®€å•çš„è‡ªåŠ¨åŒ–å’Œç”Ÿæ€å·¥å…·é›†æˆã€‚</p><ul><li><strong><em>KCL å®˜ç½‘ï¼š<a href="https://kcl-lang.io" target="_blank" rel="noopener noreferrer">https://kcl-lang.io</a></em></strong></li><li><strong><em>KCL Github ä»“åº“ï¼š<a href="https://github.com/kcl-lang" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang</a></em></strong></li></ul><p>å¯¹äº‘åŸç”Ÿã€å¹³å°å·¥ç¨‹ã€è¯­è¨€ç¼–è¯‘å™¨ã€è¯­è¨€åŒ…ç®¡ç†å·¥å…·å’Œè¯­è¨€ IDE æ„Ÿå…´è¶£çš„å°ä¼™ä¼´ï¼Œæˆ‘ä»¬é‚€è¯·ä½ ç”³è¯· KCL çš„ 2024 æ˜¥å­£ Linux åŸºé‡‘ä¼š LFX Mentorship é¡¹ç›®ï¼Œå®Œæˆé¡¹ç›®æœ‰æœ€ä½ 3000 ç¾é‡‘çš„å¥–åŠ±å“¦ï¼å¿«æ¥ç”³è¯·å§ï¼</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="lfx-mentorship-é¡¹ç›®">LFX Mentorship é¡¹ç›®<a href="#lfx-mentorship-é¡¹ç›®" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>æˆ‘ä»¬æœ‰ä¸‰ä¸ª Mentorship é¡¹ç›®ï¼Œå†…å®¹æ¶µç›–åŒ…ç®¡ç†å·¥å…·ï¼Œè¯­è¨€ç¼–è¯‘å™¨å’Œè¯­è¨€ IDE ä¸‰ä¸ªæ–¹é¢ã€‚</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-ä¸º-kcl-åŒ…ç®¡ç†å·¥å…·æ·»åŠ ç‰ˆæœ¬ç®¡ç†æ”¯æŒ">1. ä¸º KCL åŒ…ç®¡ç†å·¥å…·æ·»åŠ ç‰ˆæœ¬ç®¡ç†æ”¯æŒ<a href="#1-ä¸º-kcl-åŒ…ç®¡ç†å·¥å…·æ·»åŠ ç‰ˆæœ¬ç®¡ç†æ”¯æŒ" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>KCL ç›®å‰çš„åŒ…ç®¡ç†å·¥å…·ï¼ˆkpmï¼‰ç›®å‰æ”¯æŒä¸Šä¼ ï¼Œä¸‹è½½ç­‰åˆ†å‘ KCL åŒ…çš„åŠŸèƒ½ï¼Œä¸æ”¯æŒ KCL åŒ…çš„ç‰ˆæœ¬ç®¡ç†ã€‚åœ¨ä½¿ç”¨ kpm ä¸º KCL æ·»åŠ ä¸‰æ–¹åº“ä¾èµ–çš„è¿‡ç¨‹ä¸­ï¼Œkpm ä¼šæ ¹æ®ä¾èµ–å…³ç³»è‡ªåŠ¨ä¸‹è½½å…¨éƒ¨çš„ä¸‰æ–¹åº“ä¾èµ–ï¼Œå¦‚æœåœ¨ä¸‹è½½çš„è¿‡ç¨‹ä¸­å‡ºç°ç›¸åŒåŒ…çš„ä¸åŒç‰ˆæœ¬ï¼Œåº”è¯¥æ ¹æ®åŒ…ç‰ˆæœ¬ç®¡ç†ç­–ç•¥æä¾›å¯¹åº”çš„é€‰æ‹©ç­–ç•¥ï¼Œé€‰æ‹©åˆé€‚çš„ç‰ˆæœ¬ä¸‹è½½ã€‚</p><p>åœ¨æ­¤é¡¹ç›®ä¸­ï¼Œä½ éœ€è¦ä¸º kpm å¢åŠ åŒ…ç‰ˆæœ¬ç®¡ç†éƒ¨åˆ†çš„åŠŸèƒ½ï¼Œä½¿ kpm åœ¨ç®¡ç†ä¸‰æ–¹åº“çš„è¿‡ç¨‹ä¸­èƒ½å¤Ÿæ ¹æ®ä¾èµ–æƒ…å†µï¼Œé€‰æ‹©åˆé€‚çš„ä¸‰æ–¹åº“è¿›è¡Œä¸‹è½½ï¼Œç¡®ä¿ç¼–è¯‘è¿‡ç¨‹çš„æ­£å¸¸è¿›è¡Œã€‚</p><ul><li>æŸ¥çœ‹è¯¦æƒ…ï¼š<a href="https://github.com/kcl-lang/kpm/issues/246" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kpm/issues/246</a></li><li>Pretestï¼š<a href="https://github.com/kcl-lang/kpm/issues/263" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kpm/issues/263</a></li><li>ç”³è¯·é“¾æ¥ï¼š<a href="https://mentorship.lfx.linuxfoundation.org/project/06b5baee-bdcd-4f5e-9a1a-454191445a01" target="_blank" rel="noopener noreferrer">https://mentorship.lfx.linuxfoundation.org/project/06b5baee-bdcd-4f5e-9a1a-454191445a01</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-kcl-ide-çš„å¿«é€Ÿä¿®å¤">2. KCL IDE çš„å¿«é€Ÿä¿®å¤<a href="#2-kcl-ide-çš„å¿«é€Ÿä¿®å¤" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>ä¸º KCL IDE å¼€å‘å¿«é€Ÿä¿®å¤åŠŸèƒ½ï¼Œå½“ KCL ç¨‹åºåœ¨ IDE ä¸­å‡ºç°ç¼–è¯‘é”™è¯¯æ—¶ï¼ŒQuick Fix åŠŸèƒ½èƒ½å¤Ÿæ ¹æ®ç”¨æˆ·çš„é”™è¯¯ç±»å‹ï¼Œåœ¨ KCL ç¨‹åºé”™è¯¯çš„ä½ç½®æä¾›å¿«é€Ÿçš„é—®é¢˜ä¿®å¤ã€‚</p><p>åœ¨æ­¤é¡¹ç›®ä¸­ï¼Œä½ éœ€è¦æ ¹æ® KCL ç¨‹åºçš„é”™è¯¯ç±»å‹ï¼Œä¸ºç”¨æˆ· IDE å¼€å‘ä¸åŒçš„ Quick Fix åŠŸèƒ½ï¼Œé™ä½ç”¨æˆ·å¼€å‘é—¨æ§›ã€‚</p><ul><li>æŸ¥çœ‹è¯¦æƒ…ï¼š<a href="https://github.com/kcl-lang/kcl/issues/997" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl/issues/997</a></li><li>Pretestï¼š<a href="https://github.com/kcl-lang/kcl/issues/1020" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl/issues/1020</a></li><li>ç”³è¯·é“¾æ¥ï¼š<a href="https://mentorship.lfx.linuxfoundation.org/project/391edda7-239d-4471-a36a-c03c24e024cb" target="_blank" rel="noopener noreferrer">https://mentorship.lfx.linuxfoundation.org/project/391edda7-239d-4471-a36a-c03c24e024cb</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-kcl-ide-è‡ªåŠ¨åŠ è½½-kcl-ä¸‰æ–¹åº“">3. KCL IDE è‡ªåŠ¨åŠ è½½ KCL ä¸‰æ–¹åº“ã€‚<a href="#3-kcl-ide-è‡ªåŠ¨åŠ è½½-kcl-ä¸‰æ–¹åº“" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>KCL IDE ä½œä¸º KCL ç”¨æˆ·æœ€ç›´æ¥çš„å¼€å‘ç•Œé¢ï¼Œè¦æƒ³æä¾›è‰¯å¥½çš„ç”¨æˆ·ä½“éªŒï¼Œé™¤äº†æä¾›è¯­è¨€çš„é«˜äº®ï¼Œè·³è½¬ï¼Œè¡¥å…¨ç­‰åŸºæœ¬åŠŸèƒ½å¤–ï¼Œè¿˜éœ€è¦ä¿è¯ç¼–è¯‘è¿‡ç¨‹çš„ç¨³å®šã€‚ä½†æ˜¯ç›®å‰ KCL çš„ IDE ç»å¸¸ä¼šå› ä¸ºä¸‰æ–¹åº“æ‰¾ä¸åˆ°è€Œå¯¼è‡´ç¼–è¯‘é”™è¯¯ï¼Œç›®å‰ KCL çš„åŒ…ç®¡ç†å·¥å…· kpm å·²ç»æä¾›äº†è‡ªåŠ¨ä¸‹è½½å’Œæ›´æ–°ä¸‰æ–¹åº“çš„èƒ½åŠ›ï¼Œä½†æ˜¯ä»ç„¶éœ€è¦ç”¨æˆ·é€šè¿‡å‘½ä»¤è¡Œçš„æ–¹å¼æ›´æ–°ä¸‰æ–¹åº“ï¼Œè¿™ä½¿å¾—ç”¨æˆ·çš„å¼€å‘ä½“éªŒå—åˆ°å½±å“ï¼Œå› æ­¤ KCL IDE éœ€è¦ä¸ KCL çš„åŒ…ç®¡ç†å·¥å…· kpm è¿›è¡Œé›†æˆï¼Œé€šè¿‡ kpm ä¸º IDE æä¾›ä¸‰æ–¹åº“çš„è‡ªåŠ¨ä¸‹è½½æ›´æ–°çš„èƒ½åŠ›ã€‚</p><p>åœ¨æ­¤é¡¹ç›®ä¸­ï¼Œä½ éœ€è¦å€ŸåŠ© kpm çš„èƒ½åŠ›ï¼Œå®ç° IDE ä¸­å¸¸è§çš„å¦‚ï¼šåŠ è½½ KCL åŒ…è‡ªåŠ¨ä¸‹è½½ä¸‰æ–¹åº“ï¼Œkcl.mod å˜æ›´æ—¶è‡ªåŠ¨æ›´æ–°ä¸‰æ–¹åº“å’Œ Quick Fix è§¦å‘ä¸‰æ–¹åº“è‡ªåŠ¨ä¸‹è½½ç­‰åŠŸèƒ½ï¼Œä¿è¯ KCL IDE åœ¨åŒ…ç®¡ç†å·¥å…·çš„æ”¯æŒä¸‹èƒ½å¤Ÿæä¾›æ›´åŠ å®Œæ•´æµç•…çš„å¼€å‘ä½“éªŒã€‚</p><ul><li>æŸ¥çœ‹è¯¦æƒ…ï¼š<a href="https://github.com/kcl-lang/kcl/issues/998" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl/issues/998</a></li><li>Pretestï¼š<a href="https://github.com/kcl-lang/kcl/issues/1031" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl/issues/1031</a></li><li>ç”³è¯·é“¾æ¥ï¼š<a href="https://mentorship.lfx.linuxfoundation.org/project/59d5fb6c-153d-4e46-9d1f-2948641b0471" target="_blank" rel="noopener noreferrer">https://mentorship.lfx.linuxfoundation.org/project/59d5fb6c-153d-4e46-9d1f-2948641b0471</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-å¦‚ä½•ç”³è¯·">4. å¦‚ä½•ç”³è¯·<a href="#4-å¦‚ä½•ç”³è¯·" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>åœ¨ LFX mentorship å¹³å°ä¸Šç”³è¯·ä½ é’Ÿæ„çš„é¡¹ç›®ï¼Œä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹é“¾æ¥è®¿é—® LFX mentorship å¹³å°ã€‚ç”³è¯·ä»2024å¹´1æœˆ29æ—¥å¼€å§‹ï¼Œåˆ°2æœˆ13æ—¥ç»“æŸã€‚</p><ul><li><a href="https://mentorship.lfx.linuxfoundation.org/" target="_blank" rel="noopener noreferrer">https://mentorship.lfx.linuxfoundation.org/</a></li></ul><p>æœ‰ä»»ä½•çš„é—®é¢˜ï¼Œæ¬¢è¿ç›´æ¥åˆ°å¯¹åº”çš„ issue ä¸­è·å–æ›´å¤šå†…å®¹æˆ–è€…ä¸æˆ‘ä»¬è®¨è®ºï¼š</p><ul><li><p>KCL åŒ…ç‰ˆæœ¬ç®¡ç† <a href="https://github.com/kcl-lang/kpm/issues/246" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kpm/issues/246</a></p></li><li><p>KCL å¿«é€Ÿä¿®å¤ <a href="https://github.com/kcl-lang/kcl/issues/997" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl/issues/997</a></p></li><li><p>KCL IDE ä¾èµ–æ›´æ–° <a href="https://github.com/kcl-lang/kcl/issues/998" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl/issues/998</a></p></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="5-é¡¹ç›®æ—¶é—´èŠ‚ç‚¹">5. é¡¹ç›®æ—¶é—´èŠ‚ç‚¹<a href="#5-é¡¹ç›®æ—¶é—´èŠ‚ç‚¹" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><table><thead><tr><th>äº‹ä»¶</th><th>å¼€å§‹æ—¥æœŸ</th><th>ç»“æŸæ—¥æœŸ</th></tr></thead><tbody><tr><td>å­¦å‘˜ç”³è¯·å¼€æ”¾</td><td>January 29</td><td>February 13, 5:00 PM PDT</td></tr><tr><td>ç”³è¯·å®¡æŸ¥/å½•å–å†³å®š/äººåŠ›èµ„æºæ–‡ä¹¦å·¥ä½œ</td><td>February 13</td><td>February 27, 5:00 PM PDT</td></tr><tr><td>å¯¼å¸ˆè®¡åˆ’å¼€å§‹å¹¶åˆ†é…åˆå§‹å·¥ä½œ</td><td>March 4 (Week 1)</td><td></td></tr><tr><td>ä¸­æœŸå­¦å‘˜è¯„ä¼° / ç¬¬ä¸€ç¬”æ´¥è´´æ”¯ä»˜</td><td>April 10 (Week 6)</td><td></td></tr><tr><td>æœ€ç»ˆå­¦å‘˜è¯„ä¼°åˆ°æœŸ / å­¦å‘˜åé¦ˆæäº¤åˆ°æœŸ / æ‰¹å‡†ç¬¬äºŒç¬”å’Œæœ€åä¸€ç¬”æ´¥è´´æ”¯ä»˜</td><td>May 22, 5:00 PM PST (Week 12)</td><td></td></tr><tr><td>å­¦æœŸæœ€åä¸€å¤©</td><td>May 31</td><td></td></tr></tbody></table>]]></content>
        <author>
            <name>KCL å›¢é˜Ÿ</name>
        </author>
        <category label="KCL" term="KCL"/>
        <category label="Biweekly-Newsletter" term="Biweekly-Newsletter"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[KCL ç¤¾åŒºå¼€æºåŒå‘¨æŠ¥ (2024 01.19 - 2024.02.21) | KCL v0.7.5 ç‰ˆæœ¬å’Œ Flux KCL é›†æˆæ›´æ–°é€Ÿé€’]]></title>
        <id>https://kcl-lang.github.io/zh-CN/blog/2024-02-01-biweekly-newsletter</id>
        <link href="https://kcl-lang.github.io/zh-CN/blog/2024-02-01-biweekly-newsletter"/>
        <updated>2024-02-01T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[KCL æ˜¯ä¸€ä¸ª CNCF åŸºé‡‘ä¼šæ‰˜ç®¡çš„åŸºäºçº¦æŸçš„è®°å½•åŠå‡½æ•°è¯­è¨€ï¼ŒæœŸæœ›é€šè¿‡æˆç†Ÿçš„ç¼–ç¨‹è¯­è¨€æŠ€æœ¯å’Œå®è·µæ¥æ”¹è¿›å¯¹å¤§é‡ç¹æ‚é…ç½®æ¯”å¦‚äº‘åŸç”Ÿ Kubernetes é…ç½®åœºæ™¯çš„ç¼–å†™ï¼Œè‡´åŠ›äºæ„å»ºå›´ç»•é…ç½®çš„æ›´å¥½çš„æ¨¡å—åŒ–ã€æ‰©å±•æ€§å’Œç¨³å®šæ€§ï¼Œæ›´ç®€å•çš„é€»è¾‘ç¼–å†™ï¼Œä»¥åŠæ›´ç®€å•çš„è‡ªåŠ¨åŒ–å’Œç”Ÿæ€å·¥å…·é›†æˆã€‚]]></summary>
        <content type="html"><![CDATA[<p><img loading="lazy" src="/zh-CN/assets/images/biweekly-newsletter-zh-bd4cf8c2bcc913a580e7b0e5d6691a08.png" width="1127" height="435" class="img_ev3q"></p><p><a href="https://github.com/kcl-lang" target="_blank" rel="noopener noreferrer">KCL</a> æ˜¯ä¸€ä¸ª CNCF åŸºé‡‘ä¼šæ‰˜ç®¡çš„åŸºäºçº¦æŸçš„è®°å½•åŠå‡½æ•°è¯­è¨€ï¼ŒæœŸæœ›é€šè¿‡æˆç†Ÿçš„ç¼–ç¨‹è¯­è¨€æŠ€æœ¯å’Œå®è·µæ¥æ”¹è¿›å¯¹å¤§é‡ç¹æ‚é…ç½®æ¯”å¦‚äº‘åŸç”Ÿ Kubernetes é…ç½®åœºæ™¯çš„ç¼–å†™ï¼Œè‡´åŠ›äºæ„å»ºå›´ç»•é…ç½®çš„æ›´å¥½çš„æ¨¡å—åŒ–ã€æ‰©å±•æ€§å’Œç¨³å®šæ€§ï¼Œæ›´ç®€å•çš„é€»è¾‘ç¼–å†™ï¼Œä»¥åŠæ›´ç®€å•çš„è‡ªåŠ¨åŒ–å’Œç”Ÿæ€å·¥å…·é›†æˆã€‚</p><p>æœ¬æ ç›®å°†ä¼šåŒå‘¨æ›´æ–° KCL è¯­è¨€ç¤¾åŒºæœ€æ–°åŠ¨æ€ï¼ŒåŒ…æ‹¬åŠŸèƒ½ã€å®˜ç½‘æ›´æ–°å’Œæœ€æ–°çš„ç¤¾åŒºåŠ¨æ€ç­‰ï¼Œå¸®åŠ©å¤§å®¶æ›´å¥½åœ°äº†è§£ KCL ç¤¾åŒºï¼</p><p><strong><em>KCL å®˜ç½‘ï¼š<a href="https://kcl-lang.io" target="_blank" rel="noopener noreferrer">https://kcl-lang.io</a></em></strong></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å†…å®¹æ¦‚è¿°">å†…å®¹æ¦‚è¿°<a href="#å†…å®¹æ¦‚è¿°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>æ„Ÿè°¢æ‰€æœ‰è´¡çŒ®è€…è¿‡å»ä¸¤å‘¨ (2024 01.19 - 2024.02.01) çš„æ°å‡ºå·¥ä½œï¼Œä»¥ä¸‹æ˜¯é‡ç‚¹å†…å®¹æ¦‚è¿°</p><p><strong>ğŸ“¦ æ¨¡å‹æ›´æ–°</strong></p><ul><li>æ–°å¢ Podinfo åº”ç”¨é…ç½®æ¨¡å‹ï¼Œæ”¯æŒè®¾ç½®å¤–éƒ¨åŠ¨æ€å‚æ•°å¦‚ <code>replicas</code> ç­‰ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡ä¸€æ¡å‘½ä»¤æ¸²æŸ“ Kubernetes èµ„æºé…ç½®ï¼Œå¹¶ä¸”å¯ä»¥åœ¨æ­¤æ¨¡å‹çš„åŸºç¡€ä¸Šä¿®æ”¹å¹¶è‡ªå®šä¹‰èµ„æºæ¨¡ç‰ˆ</li></ul><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kcl run oci://ghcr.io/kcl-lang/podinfo -D </span><span class="token assign-left variable" style="color:#36acaa">replicas</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>ğŸ„ è¯­è¨€æ›´æ–°</strong></p><ul><li>æ”¹å–„ç¼–è¯‘æ—¶å¯¹è±¡å±æ€§æ‰¾ä¸åˆ°çš„æŠ¥é”™ä¿¡æ¯</li><li>ä¿®å¤ Schema å¯¹è±¡å¿…é€‰å±æ€§é€’å½’æ£€æŸ¥é”™è¯¯</li><li>æå‡ Schema ç´¢å¼•ç­¾åç±»å‹æ£€æŸ¥å¥å£®æ€§</li></ul><p><strong>ğŸ”§ å·¥å…·é“¾æ›´æ–°</strong></p><ul><li><p><strong>æ–‡æ¡£å·¥å…·æ›´æ–°</strong></p><ul><li>æ”¯æŒåœ¨ç”Ÿæˆçš„ Markdown æ ¼å¼æ–‡æ¡£å¯¹å¤šè¡Œå­—ç¬¦ä½¿ç”¨ HTML è½¬ä¹‰</li></ul></li><li><p><strong>CodeQL KCL å·¥å…·</strong></p><ul><li>åˆæ­¥æ”¯æŒ CodeQL KCL dbschema å®šä¹‰ä»¥åŠå¯¹ KCL è¯­æ³•è¯­ä¹‰è¿›è¡Œæ•°æ®æå–ï¼Œå¹¶å¯é€šè¿‡ CodeQL è¿›è¡Œæ•°æ®æŸ¥è¯¢å¯¹ KCL ä»£ç è¿›è¡Œé™æ€åˆ†æå’Œæ‰«æï¼Œæå‡ä»£ç å®‰å…¨</li></ul></li></ul><p><strong>ğŸ’» IDE æ›´æ–°</strong></p><ul><li><strong>è¯­ä¹‰é«˜äº®</strong><ul><li>KCL IDE ä¼˜åŒ–äº†è¯­ä¹‰é«˜äº®ã€‚</li></ul></li><li><strong>é”™è¯¯ä¿®å¤</strong><ul><li>ä¿®å¤äº†å­—ç¬¦ä¸²åè·Ÿæ³¨é‡Šä¸­è¡¥å…¨é”™è¯¯çš„é—®é¢˜</li><li>ä¿®å¤äº† Schema å†…éƒ¨å±æ€§ç¬¦å·ä¸èƒ½è·³è½¬çš„é—®é¢˜</li></ul></li></ul><p><strong>ğŸ API æ›´æ–°</strong></p><ul><li>æ–°å¢è¯­æ³•å’Œè¯­ä¹‰åˆ†æ API ç”¨äºå¯¹ KCL ä»£ç è¿›è¡Œåˆ†æ</li><li>æ–°å¢æ„å»ºäºŒè¿›åˆ¶äº§ç‰© API ç”¨äºç¼“å­˜ç¼–è¯‘ç»“æœ</li><li>æ–°å¢è¿è¡ŒäºŒè¿›åˆ¶äº§ç‰© API ç”¨äºç›´æ¥è¿è¡Œç¼–è¯‘ç»“æœï¼Œé¿å…é‡å¤ç¼–è¯‘å¹¶æå‡æ€§èƒ½</li><li>æ–°å¢ä»£ç ç”Ÿæˆ API ä»¥ç¼–ç¨‹æ–¹å¼å®ç° KCL ä»£ç ç”Ÿæˆè€Œä¸æ˜¯ç¼–å†™å¤æ‚çš„æ¨¡ç‰ˆ</li></ul><p><strong>ğŸš€ SDK æ›´æ–°</strong></p><ul><li>KCL Go SDK æ›´æ–°è‡³ 0.7.5 ç‰ˆæœ¬</li><li>KCL Python SDK æ›´æ–°è‡³ 0.7.5 ç‰ˆæœ¬</li><li>KCL Rust SDK æ›´æ–°è‡³ 0.7.5 ç‰ˆæœ¬</li><li>KCL Java SDK æ–°å¢è¯­æ³•æ ‘ã€ä½œç”¨åŸŸã€ç¬¦å·ç­‰è¯­æ³•è¯­ä¹‰ç»“æ„å®šä¹‰åŠç›¸å…³æŸ¥è¯¢ API</li></ul><p>æ›´å¤šå†…å®¹è¯¦è§: <a href="https://github.com/kcl-lang/lib" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/lib</a></p><p><strong>ğŸš¢ é›†æˆæ›´æ–°</strong></p><ul><li>é™¤äº†ä½¿ç”¨ ArgoCD KCL æ’ä»¶ï¼ŒKCL ç°åœ¨æ”¯æŒä½¿ç”¨ KCL Flux Controller å¯¹å­˜å‚¨åœ¨ Git ä»“åº“çš„ KCL é…ç½®è¿›è¡Œ GitOpsï¼Œè¯¦è§ <a href="https://github.com/kcl-lang/flux-kcl-controller" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/flux-kcl-controller</a>ï¼Œæ¬¢è¿å…±å»º ğŸ‘</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ç‰¹åˆ«é¸£è°¢">ç‰¹åˆ«é¸£è°¢<a href="#ç‰¹åˆ«é¸£è°¢" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>ä»¥ä¸‹æ’åä¸åˆ†å…ˆå</p><ul><li>æ„Ÿè°¢ @octonawish-akcodes å¯¹ KCL ä»£ç æ¸…ç†å’Œ FAQ æ–‡æ¡£çš„æŒç»­è´¡çŒ® ğŸ™Œ</li><li>æ„Ÿè°¢ @satyazzz123 å¯¹ KRM KCL æ”¯æŒè¯»å–ç¯å¢ƒå˜é‡åŠŸèƒ½çš„è´¡çŒ® ğŸ™Œ</li><li>æ„Ÿè°¢ @AkashKumar7902 å¯¹ KCL åŒ…ç®¡ç†å·¥å…·åŠŸèƒ½çš„è´¡çŒ® ğŸ™Œ</li><li>æ„Ÿè°¢ @UtkarshUmre å¯¹ KCL linux-arm64 æ„å»º CI çš„è´¡çŒ® ğŸ™Œ</li><li>æ„Ÿè°¢ @steeling, @rozaliev, @CloudZero357, @martingreber, @az, @Art3mK,@AdmiralNemo å’Œ @Erick ç­‰åœ¨è¿‘ä¸¤å‘¨ä½¿ç”¨ KCL è¿‡ç¨‹ä¸­æä¾›çš„å®è´µå»ºè®®ä¸åé¦ˆ ğŸ™Œ</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ç²¾é€‰æ›´æ–°">ç²¾é€‰æ›´æ–°<a href="#ç²¾é€‰æ›´æ–°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="flux-kcl-é›†æˆ">Flux KCL é›†æˆ<a href="#flux-kcl-é›†æˆ" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>å°† KCL ä¸ Flux ç­‰ GitOps å·¥å…·ä¸€èµ·ä½¿ç”¨å…·æœ‰å¦‚ä¸‹å¥½å¤„:</p><ul><li>é€šè¿‡ KCL è¯­è¨€çš„æŠ½è±¡èƒ½åŠ›å’Œå¯ç¼–ç¨‹èƒ½åŠ›å¯ä»¥å¸®åŠ©æˆ‘ä»¬<strong>ç®€åŒ–å¤æ‚çš„ Kubernetes éƒ¨ç½²é…ç½®æ–‡ä»¶</strong>ï¼Œé™ä½æ‰‹åŠ¨ç¼–å†™ YAML æ–‡ä»¶çš„é”™è¯¯ç‡ï¼Œå°†é…ç½®çº¦æŸæ£€æŸ¥æ§åˆ¶åœ¨ç¼–è¯‘æ—¶ï¼Œç¼–å†™å³æ„ŸçŸ¥é”™è¯¯ï¼›åŒæ—¶å¯ä»¥æ¶ˆé™¤å¤šä½™çš„é…ç½®æ¨¡ç‰ˆï¼Œæå‡å¤šç¯å¢ƒå¤šç§Ÿæˆ·çš„é…ç½®æ‰©å±•èƒ½åŠ›ï¼Œæé«˜é…ç½®çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚</li><li>KCL å…è®¸å¼€å‘äººå‘˜ä»¥å£°æ˜å¼çš„æ–¹å¼å®šä¹‰åº”ç”¨ç¨‹åºæ‰€éœ€çš„èµ„æºï¼Œé€šè¿‡å°† KCL å’Œ Flux ç›¸ç»“åˆå¯ä»¥å¸®åŠ©æˆ‘ä»¬æ›´å¥½åœ°å®ç°<strong>åŸºç¡€è®¾æ–½å³ä»£ç ï¼ˆIaCï¼‰</strong>ï¼Œæé«˜éƒ¨ç½²æ•ˆç‡ï¼Œç®€åŒ–åº”ç”¨ç¨‹åºçš„é…ç½®ç®¡ç†ã€‚</li><li>ä½¿ç”¨ Fluxï¼Œå¼€å‘äººå‘˜å’Œè¿ç»´å›¢é˜Ÿå¯ä»¥é€šè¿‡åˆ†åˆ«ä¿®æ”¹åº”ç”¨å’Œé…ç½®ä»£ç æ¥ç®¡ç†åº”ç”¨ç¨‹åºçš„éƒ¨ç½²ï¼ŒFlux Controller å°†è‡ªåŠ¨åŒæ­¥å¯¹é…ç½®çš„æ›´æ”¹ï¼Œä»è€Œå®ç°æŒç»­éƒ¨ç½²å¹¶ç¡®ä¿ä¸€è‡´æ€§ã€‚å¦‚æœå‡ºç°é—®é¢˜ï¼Œå¯ä»¥å®ç°å¿«é€Ÿå›æ»šã€‚</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="å·¥ä½œæµç¨‹">å·¥ä½œæµç¨‹<a href="#å·¥ä½œæµç¨‹" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><p>åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ª Python Flask åº”ç”¨å’Œ Github Actions ä½œä¸º CI ç¤ºä¾‹ï¼Œä½¿ç”¨éƒ¨ç½²åœ¨é›†ç¾¤ä¸­ Flux KCL Controller ä½œä¸º CD ç¤ºä¾‹ï¼Œä½¿ç”¨ KCL å®šä¹‰éœ€è¦éƒ¨ç½²çš„ Kubernetes èµ„æº</p><blockquote><p>æ³¨æ„ï¼šä½ å¯ä»¥åœ¨æ­¤æ–¹æ¡ˆä¸­ä½¿ç”¨ä»»ä½•å®¹å™¨åŒ–åº”ç”¨ä»¥åŠä¸åŒçš„ CI å’Œ CD ç³»ç»Ÿå¦‚ Gitlab CIï¼ŒJenkins CIï¼ŒArgoCD ç­‰</p></blockquote><p>æˆ‘ä»¬å°† Python Flask åº”ç”¨ä»£ç å’Œé…ç½®ä»£ç åˆ†æˆä¸¤ä¸ªä»“åº“ï¼Œ<em>ä»¥å®ç°ä¸åŒè§’è‰²å¦‚å¼€å‘äººå‘˜å’Œè¿ç»´å›¢é˜Ÿçš„å…³æ³¨ç‚¹åˆ†ç¦»</em></p><ul><li>ä¸šåŠ¡ä»£ç ä»“åº“: <a href="https://github.com/kcl-lang/flask-demo" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/flask-demo</a></li><li>é…ç½®æ¸…å•ä»“åº“: <a href="https://github.com/kcl-lang/flask-demo-kcl-manifests" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/flask-demo-kcl-manifests</a></li></ul><p>æ•´ä½“å·¥ä½œæµç¨‹å¦‚ä¸‹ï¼š</p><ol><li>ä» Github æ‹‰å–åº”ç”¨ä»£ç </li><li>åº”ç”¨ä»£ç å¼€å‘å¹¶æäº¤åˆ°æäº¤åˆ° GitHub å­˜å‚¨åº“</li><li>è§¦å‘ GitHub Actions å¯¹åº”ç”¨ä»£ç è¿›è¡Œç¼–è¯‘ï¼Œç”Ÿæˆå®¹å™¨é•œåƒï¼Œå¹¶å°†å®¹å™¨é•œåƒæ¨é€åˆ° Docker Hub å®¹å™¨æ³¨å†Œè¡¨</li><li>è§¦å‘ GitHub Actions æ ¹æ® docker.io å®¹å™¨æ³¨å†Œè¡¨ä¸­å®¹å™¨é•œåƒçš„ç‰ˆæœ¬å·å¹¶åŒæ­¥æ›´æ–° KCL å®šä¹‰çš„ Kubernetes æ¸…å•éƒ¨ç½²æ–‡ä»¶</li><li>Flux KCL Controller è·å– KCL å®šä¹‰çš„ Kubernetes æ¸…å•æ›´æ”¹å¹¶æ›´æ–°éƒ¨ç½²è‡³ Kubernetes é›†ç¾¤</li></ol><h4 class="anchor anchorWithStickyNavbar_LWe7" id="å…·ä½“æ­¥éª¤">å…·ä½“æ­¥éª¤<a href="#å…·ä½“æ­¥éª¤" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><h5 class="anchor anchorWithStickyNavbar_LWe7" id="1-é…ç½®-kubernetes">1. é…ç½® Kubernetes<a href="#1-é…ç½®-kubernetes" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h5><ul><li>å®‰è£… <a href="https://github.com/k3d-io/k3d" target="_blank" rel="noopener noreferrer">K3d</a> å¹¶åˆ›å»ºä¸€ä¸ªé›†ç¾¤</li></ul><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">k3d cluster create</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>æ³¨æ„ï¼šä½ å¯ä»¥åœ¨æ­¤æ–¹æ¡ˆä¸­ä½¿ç”¨å…¶ä»–æ–¹å¼åˆ›å»ºæ‚¨è‡ªå·±çš„ Kubernetes é›†ç¾¤ï¼Œå¦‚ kind, minikube ç­‰ã€‚</p></blockquote><ul><li>å®‰è£… Kubectl</li><li>å®‰è£… Kustomize</li></ul><h5 class="anchor anchorWithStickyNavbar_LWe7" id="2-å®‰è£…-flux-kcl-controller">2. å®‰è£… Flux KCL Controller<a href="#2-å®‰è£…-flux-kcl-controller" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h5><p><img loading="lazy" alt="flux-kcl-workflow" src="/zh-CN/assets/images/flux-kcl-workflow-2034d3f8dd5679d0a74f94d8067e8110.png" width="1498" height="454" class="img_ev3q"></p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">git</span><span class="token plain"> clone https://github.com/kcl-lang/flux-kcl-controller.git </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token builtin class-name">cd</span><span class="token plain"> flux-kcl-controller </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">make</span><span class="token plain"> deploy</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h5 class="anchor anchorWithStickyNavbar_LWe7" id="3-é…ç½®éœ€è¦æŒç»­äº¤ä»˜çš„-git-ä»“åº“">3. é…ç½®éœ€è¦æŒç»­äº¤ä»˜çš„ Git ä»“åº“<a href="#3-é…ç½®éœ€è¦æŒç»­äº¤ä»˜çš„-git-ä»“åº“" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h5><p>é€šè¿‡ <code>gitrepo.yaml</code> æ–‡ä»¶ï¼Œå®šä¹‰ <code>GitRepository</code> å’Œ <code>KCLRun</code> å¯¹è±¡ï¼Œç”¨æ¥é…ç½®ç›‘æ§éœ€è¦æŒç»­äº¤ä»˜çš„ Git ä»“åº“ä»¥åŠè¿è¡Œ KCL é…ç½®æ‰€éœ€çš„é¢å¤–å‚æ•°</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> source.toolkit.fluxcd.io/v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> GitRepository</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> kcl</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">deployment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">namespace</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> default</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">interval</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 10s </span><span class="token comment" style="color:#999988;font-style:italic"># æ¯éš” 10s æ£€æŸ¥ä¸€æ¬¡ä»“åº“</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">url</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> https</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">//github.com/kcl</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">lang/flask</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">demo</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">kcl</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">manifests.git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">ref</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">branch</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> main </span><span class="token comment" style="color:#999988;font-style:italic"># ç›‘æ§ main åˆ†æ”¯</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> krm.kcl.dev.fluxcd/v1alpha1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> KCLRun</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> kcl</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">git</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">controller</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">namespace</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> default</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">sourceRef</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> GitRepository</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> kcl</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">deployment</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ä½¿ç”¨å‘½ä»¤ <code>kubectl apply -f gitrepo.yaml</code> å°†è¯¥å¯¹è±¡éƒ¨ç½²åˆ°é›†ç¾¤ä¸­ã€‚</p><blockquote><p>å¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯ç§æœ‰å­˜å‚¨åº“ï¼Œéœ€è¦ä½¿ç”¨ç§é’¥å‡­æ®é…ç½®ä¸“ç”¨ç§æœ‰å­˜å‚¨åº“è®¿é—®æƒé™ã€‚è¯·å‚é˜…<a href="https://fluxcd.io/flux/components/source/gitrepositories/" target="_blank" rel="noopener noreferrer">è¿™é‡Œ</a>ä»¥è·å–æ›´å¤šè¯¦ç»†ä¿¡æ¯ã€‚</p></blockquote><blockquote><p>æ³¨æ„ï¼šä½ ä¹Ÿå¯ä»¥åœ¨æ­¤æ–¹æ¡ˆä¸­ä½¿ç”¨ <a href="https://fluxcd.io/flux/components/source/ocirepositories/" target="_blank" rel="noopener noreferrer">OCIRepository</a>ï¼Œå¯¹æ–‡ç« å¼€å¤´æåˆ°çš„ <code>oci://ghcr.io/kcl-lang/podinfo</code> é…ç½®åŒ…è¿›è¡ŒæŒç»­äº¤ä»˜ï¼Œæ¯”å¦‚ä¸‹é¢çš„é…ç½®</p></blockquote><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> source.toolkit.fluxcd.io/v1beta2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> OCIRepository</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> podinfo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">namespace</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> default</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">interval</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 5m0s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">url</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> oci</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">//ghcr.io/kcl</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">lang/podinfo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">ref</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">tag</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> krm.kcl.dev.fluxcd/v1alpha1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> KCLRun</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> kcl</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">git</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">controller</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">namespace</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> default</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">sourceRef</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> OCIRepository</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> podinfo</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h5 class="anchor anchorWithStickyNavbar_LWe7" id="4-æäº¤ä¸šåŠ¡ä»£ç ">4. æäº¤ä¸šåŠ¡ä»£ç <a href="#4-æäº¤ä¸šåŠ¡ä»£ç " class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h5><ul><li>è·å–ä»£ç </li></ul><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">git</span><span class="token plain"> clone https://github.com/kcl-lang/flask-demo.git/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">cd</span><span class="token plain"> flask-demo</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>flask-demo ä»“åº“æäº¤ä»£ç åï¼ŒGithub ä¼šè‡ªåŠ¨æ„å»ºå®¹å™¨é•œåƒï¼Œå¹¶å°†åˆ¶å“æ¨é€åˆ° Docker hub ä¸­ï¼Œä¼šå†è§¦å‘ flask-demo-kcl-manifests ä»“åº“çš„ Actionï¼Œ<a href="/zh-CN/docs/user_docs/guides/automation">é€šè¿‡ KCL è‡ªåŠ¨åŒ– API</a> ä¿®æ”¹éƒ¨ç½²æ¸…å•ä»“åº“ä¸­çš„é•œåƒåœ°å€ã€‚ç°åœ¨è®©æˆ‘ä»¬ä¸º flask-demo ä»“åº“åˆ›å»ºä¸€ä¸ªæäº¤ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä»£ç æäº¤åè§¦å‘ä¸šåŠ¡ä»“åº“ Github CI æµç¨‹</p><p><img loading="lazy" src="/zh-CN/assets/images/app-ci-8be610b01c177f72ff2f2f617b7305bd.png" width="2252" height="1038" class="img_ev3q"></p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="5-é…ç½®è‡ªåŠ¨æ›´æ–°">5. é…ç½®è‡ªåŠ¨æ›´æ–°<a href="#5-é…ç½®è‡ªåŠ¨æ›´æ–°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h5><p>å½“ä¸šåŠ¡ä»“åº“ Github CI æµç¨‹æ‰§è¡Œå®Œæˆåï¼Œä¼šè‡ªåŠ¨åœ¨å­˜æ”¾ KCL èµ„æºé…ç½®çš„ä»“åº“è§¦å‘ä¸€ä¸ª CI è‡ªåŠ¨æ›´æ–°é…ç½®å¹¶æäº¤åˆ° flask-demo-kcl-manifests main åˆ†æ”¯ï¼Œcommit ä¿¡æ¯å¦‚ä¸‹</p><p><img loading="lazy" src="/zh-CN/assets/images/image-auto-update-514f27b74172b114a5dc877e98fd88f4.png" width="2240" height="1090" class="img_ev3q"></p><ul><li>æˆ‘ä»¬å¯ä»¥è·å¾—éƒ¨ç½²æ¸…å•æºç è¿›è¡Œç¼–è¯‘éªŒè¯</li></ul><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">git</span><span class="token plain"> clone https://github.com/kcl-lang/flask-demo-kcl-manifests.git/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">cd</span><span class="token plain"> flask-demo-kcl-manifests</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> checkout main </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> pull </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> kcl</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>è¾“å‡º YAML ä¸º</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> apps/v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Deployment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> flask_demo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> flask_demo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">replicas</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">selector</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">matchLabels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> flask_demo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">template</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> flask_demo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">containers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> flask_demo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"kcllang/flask_demo:6428cff4309afc8c1c40ad180bb9cfd82546be3e"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">protocol</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> TCP</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">containerPort</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> flask_demo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> flask_demo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> NodePort</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">selector</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> flask_demo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">protocol</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> TCP</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">targetPort</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5000</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ä»ä¸Šè¿°é…ç½®å¯ä»¥çœ‹å‡ºèµ„æºçš„é•œåƒç¡®å®è‡ªåŠ¨æ›´æ–°ä¸ºäº†æ–°æ„å»ºçš„é•œåƒå†…å®¹ã€‚åŒæ—¶ Flux KCL Controller ä¼šè‡ªåŠ¨æ‹‰å–é…ç½®å¹¶æ›´æ–°åˆ°é›†ç¾¤ï¼Œè¿™æ ·å°±å®ç°äº†ä¸šåŠ¡ä»£ç æäº¤å¹¶éƒ¨ç½² Kubernetes çš„ e2e å®Œæ•´è‡ªåŠ¨åŒ–æµç¨‹ï¼Œæ¯æ¬¡åªéœ€æäº¤ä¸šåŠ¡ä»£ç å³å¯ï¼Œå½“ç„¶å¯ä»¥è¿›ä¸€æ­¥æ­é… Flagger å®ç°å¤šç§éƒ¨ç½²ç­–ç•¥å¦‚é‡‘ä¸é›€å‘å¸ƒã€è“ç»¿å‘å¸ƒç­‰ã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å…¶ä»–èµ„æº">å…¶ä»–èµ„æº<a href="#å…¶ä»–èµ„æº" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>â¤ï¸ æ„Ÿè°¢æ‰€æœ‰ KCL ç”¨æˆ·å’Œç¤¾åŒºå°ä¼™ä¼´åœ¨ç¤¾åŒºä¸­æå‡ºçš„å®è´µåé¦ˆä¸å»ºè®®ã€‚åç»­æˆ‘ä»¬ä¼šå‘å¸ƒæ›´å¤š KCL äº‘åŸç”Ÿæ¨¡å‹å’Œå·¥å…·é›†æˆæ–‡ç« ï¼Œæ•¬è¯·æœŸå¾…! æŸ¥çœ‹ <em><a href="https://github.com/kcl-lang/community" target="_blank" rel="noopener noreferrer">KCL ç¤¾åŒº</a></em> åŠ å…¥æˆ‘ä»¬ã€‚</p><p>æ›´å¤šå…¶ä»–èµ„æºè¯·å‚è€ƒï¼š</p><ul><li><a href="https://kcl-lang.io/" target="_blank" rel="noopener noreferrer">KCL ç½‘ç«™</a></li><li><a href="https://kusionstack.io/" target="_blank" rel="noopener noreferrer">KusionStack ç½‘ç«™</a></li><li><a href="https://github.com/kcl-lang/kcl/milestone/8" target="_blank" rel="noopener noreferrer">KCL v0.8.0 Milestone</a></li></ul>]]></content>
        <author>
            <name>KCL å›¢é˜Ÿ</name>
        </author>
        <category label="KCL" term="KCL"/>
        <category label="Biweekly-Newsletter" term="Biweekly-Newsletter"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[KCL ç¤¾åŒºå¼€æºåŒå‘¨æŠ¥ (2024 01.04 - 2024.01.18) | KCL v0.7.4 ç‰ˆæœ¬å‘å¸ƒï¼]]></title>
        <id>https://kcl-lang.github.io/zh-CN/blog/2024-01-18-biweekly-newsletter</id>
        <link href="https://kcl-lang.github.io/zh-CN/blog/2024-01-18-biweekly-newsletter"/>
        <updated>2024-01-18T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[KCL æ˜¯ä¸€ä¸ª CNCF åŸºé‡‘ä¼šæ‰˜ç®¡çš„åŸºäºçº¦æŸçš„è®°å½•åŠå‡½æ•°è¯­è¨€ï¼ŒæœŸæœ›é€šè¿‡æˆç†Ÿçš„ç¼–ç¨‹è¯­è¨€æŠ€æœ¯å’Œå®è·µæ¥æ”¹è¿›å¯¹å¤§é‡ç¹æ‚é…ç½®æ¯”å¦‚äº‘åŸç”Ÿ Kubernetes é…ç½®åœºæ™¯çš„ç¼–å†™ï¼Œè‡´åŠ›äºæ„å»ºå›´ç»•é…ç½®çš„æ›´å¥½çš„æ¨¡å—åŒ–ã€æ‰©å±•æ€§å’Œç¨³å®šæ€§ï¼Œæ›´ç®€å•çš„é€»è¾‘ç¼–å†™ï¼Œä»¥åŠæ›´ç®€å•çš„è‡ªåŠ¨åŒ–å’Œç”Ÿæ€å·¥å…·é›†æˆã€‚]]></summary>
        <content type="html"><![CDATA[<p><img loading="lazy" src="/zh-CN/assets/images/biweekly-newsletter-zh-bd4cf8c2bcc913a580e7b0e5d6691a08.png" width="1127" height="435" class="img_ev3q"></p><p><a href="https://github.com/kcl-lang" target="_blank" rel="noopener noreferrer">KCL</a> æ˜¯ä¸€ä¸ª CNCF åŸºé‡‘ä¼šæ‰˜ç®¡çš„åŸºäºçº¦æŸçš„è®°å½•åŠå‡½æ•°è¯­è¨€ï¼ŒæœŸæœ›é€šè¿‡æˆç†Ÿçš„ç¼–ç¨‹è¯­è¨€æŠ€æœ¯å’Œå®è·µæ¥æ”¹è¿›å¯¹å¤§é‡ç¹æ‚é…ç½®æ¯”å¦‚äº‘åŸç”Ÿ Kubernetes é…ç½®åœºæ™¯çš„ç¼–å†™ï¼Œè‡´åŠ›äºæ„å»ºå›´ç»•é…ç½®çš„æ›´å¥½çš„æ¨¡å—åŒ–ã€æ‰©å±•æ€§å’Œç¨³å®šæ€§ï¼Œæ›´ç®€å•çš„é€»è¾‘ç¼–å†™ï¼Œä»¥åŠæ›´ç®€å•çš„è‡ªåŠ¨åŒ–å’Œç”Ÿæ€å·¥å…·é›†æˆã€‚</p><p>æœ¬æ ç›®å°†ä¼šåŒå‘¨æ›´æ–° KCL è¯­è¨€ç¤¾åŒºæœ€æ–°åŠ¨æ€ï¼ŒåŒ…æ‹¬åŠŸèƒ½ã€å®˜ç½‘æ›´æ–°å’Œæœ€æ–°çš„ç¤¾åŒºåŠ¨æ€ç­‰ï¼Œå¸®åŠ©å¤§å®¶æ›´å¥½åœ°äº†è§£ KCL ç¤¾åŒºï¼</p><p><strong><em>KCL å®˜ç½‘ï¼š<a href="https://kcl-lang.io" target="_blank" rel="noopener noreferrer">https://kcl-lang.io</a></em></strong></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å†…å®¹æ¦‚è¿°">å†…å®¹æ¦‚è¿°<a href="#å†…å®¹æ¦‚è¿°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>æ„Ÿè°¢æ‰€æœ‰è´¡çŒ®è€…è¿‡å»ä¸¤å‘¨ (2024 01.04 - 2024.01.18) çš„æ°å‡ºå·¥ä½œï¼Œä»¥ä¸‹æ˜¯é‡ç‚¹å†…å®¹æ¦‚è¿°</p><p><strong>ğŸŒ KCL æ›´æ–°</strong></p><ul><li>v0.7.4 å‘å¸ƒï¼Œæ–°å¢ Linux arm64 å¹³å°æ”¯æŒã€‚</li></ul><p><strong>ğŸ API æ›´æ–°</strong></p><ul><li>KCL æ–°å¢è¯­æ³•å’Œè¯­ä¹‰åˆ†æ APIã€‚</li></ul><p><strong>ğŸ”§ å·¥å…·é“¾æ›´æ–°</strong></p><ul><li><p><strong>kcl-go sdk æ›´æ–°</strong></p><ul><li>KCL Doc å·¥å…·æ”¯æŒè¾“å‡ºä¸º OpenAPI æ ¼å¼ã€‚</li><li>å¢åŠ  Parse è¿‡ç¨‹ç›¸å…³ APIã€‚</li></ul></li><li><p><strong>Import å·¥å…·æ›´æ–°</strong></p><ul><li>ä¼˜åŒ–äº† import å·¥å…·ç”Ÿæˆ KCL é…ç½®ç”¨æˆ·ä½“éªŒï¼Œå¢åŠ äº†å¯¹å…³é”®å­— oneOf, allOf çš„æ”¯æŒã€‚</li></ul></li><li><p><strong>KCL åŒ…ç®¡ç†å·¥å…·</strong></p><ul><li>å‘å¸ƒäº† v0.6.0 ç‰ˆæœ¬ï¼Œæ”¯æŒé€šè¿‡ git commit æ·»åŠ ä¸‰æ–¹åº“ä¾èµ–ã€‚</li></ul></li></ul><p><strong>ğŸ’» IDE æ›´æ–°</strong></p><ul><li><strong>è¯­ä¹‰é«˜äº®</strong><ul><li>KCL IDE ä¼˜åŒ–äº†è¯­ä¹‰é«˜äº®ã€‚</li></ul></li><li><strong>è¡¥å…¨åŠŸèƒ½å¢å¼º</strong><ul><li>ä¿®å¤äº†åµŒå¥— schema å®šä¹‰ä¸­è¡¥å…¨é”™è¯¯çš„é—®é¢˜</li><li>ä¿®å¤äº†éƒ¨åˆ†æ‚¬åœä¿¡æ¯ç¼ºå¤±çš„é—®é¢˜</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ç‰¹åˆ«é¸£è°¢">ç‰¹åˆ«é¸£è°¢<a href="#ç‰¹åˆ«é¸£è°¢" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>ä»¥ä¸‹æ’åä¸åˆ†å…ˆå</p><ul><li>æ„Ÿè°¢ @jakezhu9 åŒå­¦å¯¹ kcl import å·¥å…·çš„æŒç»­è´¡çŒ® ğŸ¤</li><li>æ„Ÿè°¢ @AdmiralNemoï¼Œ@Phillip Neumannï¼Œ@Naxeï¼Œ@steeling ç­‰åœ¨ä½¿ç”¨ KCL è¿‡ç¨‹ä¸­æä¾›çš„å®è´µå»ºè®®ä¸åé¦ˆ ğŸ™Œ</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ç²¾é€‰æ›´æ–°">ç²¾é€‰æ›´æ–°<a href="#ç²¾é€‰æ›´æ–°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="kcl-ide-è¯­ä¹‰çº§åˆ«çš„é«˜äº®å¢å¼º">KCL IDE è¯­ä¹‰çº§åˆ«çš„é«˜äº®å¢å¼º<a href="#kcl-ide-è¯­ä¹‰çº§åˆ«çš„é«˜äº®å¢å¼º" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>KCL IDE é«˜äº®ä¹‹å‰ä»…æ”¯æŒ KCL è¯­æ³•é«˜äº®ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img loading="lazy" src="/zh-CN/assets/images/old-ide-835ff47b36b5e23f304f8092c3afd989.png" width="435" height="151" class="img_ev3q"></p><p>æˆ‘ä»¬ä»Šå¹´é€æ­¥å¯ç”¨äº†æ–°çš„ KCL è¯­ä¹‰æ¶æ„æ¨¡å‹ï¼Œåœ¨æ–°è¯­ä¹‰æ¶æ„çš„æ”¯æ’‘ä¸‹ï¼ŒKCL IDE æ”¯æŒè¯­ä¹‰çº§åˆ«çš„é«˜äº®ï¼Œåœ¨è¯­ä¹‰ä¸Šæœ‰å…³è”çš„ä»£ç ä¼šæ˜¾ç¤ºç›¸åŒçš„é«˜äº®ã€‚</p><p><img loading="lazy" src="/zh-CN/assets/images/new-ide-a62fcf4ef6b9d078f77a7e15af161e17.png" width="287" height="145" class="img_ev3q"></p><p>æ›´å¤šå…³äº KCL è¯­ä¹‰æ¶æ„æ¨¡å‹çš„å†…å®¹ï¼Œå‚è€ƒï¼š
<a href="https://kcl-lang.io/zh-CN/blog/2023-12-09-kcl-new-semantic-model" target="_blank" rel="noopener noreferrer">KCL é«˜æ•ˆè¯­ä¹‰æ¨¡å‹æŠ€æœ¯æ­ç§˜ï¼šå®ç°å¿«é€Ÿç¼–è¯‘ä¸å¢å¼º IDE æ”¯æŒ</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="kcl-åŒ…ç®¡ç†æ”¯æŒé€šè¿‡-commit-æ·»åŠ -git-ä¾èµ–">KCL åŒ…ç®¡ç†æ”¯æŒé€šè¿‡ commit æ·»åŠ  git ä¾èµ–<a href="#kcl-åŒ…ç®¡ç†æ”¯æŒé€šè¿‡-commit-æ·»åŠ -git-ä¾èµ–" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>KCL åŒ…ç®¡ç†å·¥å…·å¢åŠ äº†é€šè¿‡ commit æ¥æ·»åŠ  git ä¸‰æ–¹åº“ä¾èµ–çš„åŠŸèƒ½ã€‚ä»¥ <a href="https://github.com/KusionStack/catalog" target="_blank" rel="noopener noreferrer">https://github.com/KusionStack/catalog</a> ä¸ºä¾‹ï¼Œæ·»åŠ  commit ä¸º a29e3db çš„ç‰ˆæœ¬ä½œä¸ºä¾èµ–ã€‚å¯ä»¥é€šè¿‡ç¼–è¾‘ kcl.mod æ–‡ä»¶ä¸­çš„ä¾èµ–æˆ–è€…å‘½ä»¤è¡Œç›´æ¥æ·»åŠ ã€‚</p><p>ç¼–è¾‘ kcl.mod æ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[dependencies]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">catalog = { git = "https://github.com/KusionStack/catalog.git", commit = "a29e3db" }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æˆ–è€…é€šè¿‡å‘½ä»¤è¡Œæ·»åŠ ï¼š</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kcl mod add --git https://github.com/KusionStack/catalog.git --commit a29e3db</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="kcl-import-å·¥å…·å¢å¼º">KCL Import å·¥å…·å¢å¼º<a href="#kcl-import-å·¥å…·å¢å¼º" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>æ”¯æŒ oneOf å…³é”®å­—çš„ç”Ÿæˆï¼Œä»¥ oneOf å…³é”®å­—ä¸ºä¾‹ï¼Œå°†ä»¥ä¸‹å†…å®¹ä¿å­˜åœ¨æ–‡ä»¶ oneof.json ä¸­ã€‚</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"$schema"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"http://json-schema.org/draft-07/schema#"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"$id"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"https://example.com/schemas/book.json"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"type"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"object"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"properties"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"title"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"type"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"string"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"author"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"$comment"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"oneOf for types"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"oneOf"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">"type"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"string"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">"type"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"array"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">"items"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">"type"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"string"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">"type"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"integer"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"category"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"$comment"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"oneOf for objects"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"oneOf"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">"type"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"object"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">"properties"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">"name"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token property" style="color:#36acaa">"type"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"string"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">"type"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"object"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">"properties"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">"title"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token property" style="color:#36acaa">"type"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"string"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>é€šè¿‡ import å‘½ä»¤ç”Ÿæˆå¯¹åº”çš„ KCL æ–‡ä»¶ã€‚</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kcl import oneof.json</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>å¯ä»¥çœ‹åˆ°ç”Ÿæˆçš„ oneof.k æ–‡ä»¶å†…å®¹å¦‚ä¸‹ã€‚</p><div class="language-kcl codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-kcl codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">"""</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">This file was generated by the KCL auto-gen tool. DO NOT EDIT.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Editing this file might prove futile when you re-run the KCL auto-gen generate command.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">"""</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">schema Book:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    r"""</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Book</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Attributes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ----------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    title : str, optional</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    author : str | [str] | int, optional</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    category : BookCategoryOneOf0 | BookCategoryOneOf1, optional</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    """</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    title?: str</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    author?: str | [str] | int</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    category?: BookCategoryOneOf0 | BookCategoryOneOf1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">schema BookCategoryOneOf0:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    r"""</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    BookCategoryOneOf0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Attributes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ----------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name : str, optional</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    """</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name?: str</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">schema BookCategoryOneOf1:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    r"""</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    BookCategoryOneOf1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Attributes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ----------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    title : str, optional</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    """</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    title?: str</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å…¶ä»–èµ„æº">å…¶ä»–èµ„æº<a href="#å…¶ä»–èµ„æº" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>â¤ï¸ æ„Ÿè°¢æ‰€æœ‰ KCL ç”¨æˆ·å’Œç¤¾åŒºå°ä¼™ä¼´åœ¨ç¤¾åŒºä¸­æå‡ºçš„å®è´µåé¦ˆä¸å»ºè®®ã€‚åç»­æˆ‘ä»¬ä¼šå‘å¸ƒæ›´å¤š KCL äº‘åŸç”Ÿæ¨¡å‹å’Œå·¥å…·é›†æˆæ–‡ç« ï¼Œæ•¬è¯·æœŸå¾…! æŸ¥çœ‹ <em><a href="https://github.com/kcl-lang/community" target="_blank" rel="noopener noreferrer">KCL ç¤¾åŒº</a></em> åŠ å…¥æˆ‘ä»¬ã€‚</p><p>æ›´å¤šå…¶ä»–èµ„æºè¯·å‚è€ƒï¼š</p><ul><li><a href="https://kcl-lang.io/" target="_blank" rel="noopener noreferrer">KCL ç½‘ç«™</a></li><li><a href="https://kusionstack.io/" target="_blank" rel="noopener noreferrer">KusionStack ç½‘ç«™</a></li><li><a href="https://github.com/kcl-lang/kcl/milestone/8" target="_blank" rel="noopener noreferrer">KCL v0.8.0 Milestone</a></li></ul>]]></content>
        <author>
            <name>KCL å›¢é˜Ÿ</name>
        </author>
        <category label="KCL" term="KCL"/>
        <category label="Biweekly-Newsletter" term="Biweekly-Newsletter"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[KCL ç¤¾åŒºå¼€æºåŒå‘¨æŠ¥ (2023 12.22 - 2024.01.04) | Crossplane KCL é›†æˆç®€åŒ–äº‘èµ„æºé…ç½®ä¸æŠ½è±¡]]></title>
        <id>https://kcl-lang.github.io/zh-CN/blog/2024-01-04-biweekly-newsletter</id>
        <link href="https://kcl-lang.github.io/zh-CN/blog/2024-01-04-biweekly-newsletter"/>
        <updated>2024-01-04T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[KCL æ˜¯ä¸€ä¸ª CNCF åŸºé‡‘ä¼šæ‰˜ç®¡çš„åŸºäºçº¦æŸçš„è®°å½•åŠå‡½æ•°è¯­è¨€ï¼ŒæœŸæœ›é€šè¿‡æˆç†Ÿçš„ç¼–ç¨‹è¯­è¨€æŠ€æœ¯å’Œå®è·µæ¥æ”¹è¿›å¯¹å¤§é‡ç¹æ‚é…ç½®æ¯”å¦‚äº‘åŸç”Ÿ Kubernetes é…ç½®åœºæ™¯çš„ç¼–å†™ï¼Œè‡´åŠ›äºæ„å»ºå›´ç»•é…ç½®çš„æ›´å¥½çš„æ¨¡å—åŒ–ã€æ‰©å±•æ€§å’Œç¨³å®šæ€§ï¼Œæ›´ç®€å•çš„é€»è¾‘ç¼–å†™ï¼Œä»¥åŠæ›´ç®€å•çš„è‡ªåŠ¨åŒ–å’Œç”Ÿæ€å·¥å…·é›†æˆã€‚]]></summary>
        <content type="html"><![CDATA[<p><img loading="lazy" src="/zh-CN/assets/images/biweekly-newsletter-zh-bd4cf8c2bcc913a580e7b0e5d6691a08.png" width="1127" height="435" class="img_ev3q"></p><p><a href="https://github.com/kcl-lang" target="_blank" rel="noopener noreferrer">KCL</a> æ˜¯ä¸€ä¸ª CNCF åŸºé‡‘ä¼šæ‰˜ç®¡çš„åŸºäºçº¦æŸçš„è®°å½•åŠå‡½æ•°è¯­è¨€ï¼ŒæœŸæœ›é€šè¿‡æˆç†Ÿçš„ç¼–ç¨‹è¯­è¨€æŠ€æœ¯å’Œå®è·µæ¥æ”¹è¿›å¯¹å¤§é‡ç¹æ‚é…ç½®æ¯”å¦‚äº‘åŸç”Ÿ Kubernetes é…ç½®åœºæ™¯çš„ç¼–å†™ï¼Œè‡´åŠ›äºæ„å»ºå›´ç»•é…ç½®çš„æ›´å¥½çš„æ¨¡å—åŒ–ã€æ‰©å±•æ€§å’Œç¨³å®šæ€§ï¼Œæ›´ç®€å•çš„é€»è¾‘ç¼–å†™ï¼Œä»¥åŠæ›´ç®€å•çš„è‡ªåŠ¨åŒ–å’Œç”Ÿæ€å·¥å…·é›†æˆã€‚</p><p>æœ¬æ ç›®å°†ä¼šåŒå‘¨æ›´æ–° KCL è¯­è¨€ç¤¾åŒºæœ€æ–°åŠ¨æ€ï¼ŒåŒ…æ‹¬åŠŸèƒ½ã€å®˜ç½‘æ›´æ–°å’Œæœ€æ–°çš„ç¤¾åŒºåŠ¨æ€ç­‰ï¼Œå¸®åŠ©å¤§å®¶æ›´å¥½åœ°äº†è§£ KCL ç¤¾åŒºï¼</p><p><strong><em>KCL å®˜ç½‘ï¼š<a href="https://kcl-lang.io" target="_blank" rel="noopener noreferrer">https://kcl-lang.io</a></em></strong></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å†…å®¹æ¦‚è¿°">å†…å®¹æ¦‚è¿°<a href="#å†…å®¹æ¦‚è¿°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>æ„Ÿè°¢æ‰€æœ‰è´¡çŒ®è€…è¿‡å»ä¸¤å‘¨ (2023 12.22 - 2024.01.04) çš„æ°å‡ºå·¥ä½œï¼Œä»¥ä¸‹æ˜¯é‡ç‚¹å†…å®¹æ¦‚è¿°</p><p><strong>ğŸ”§ å·¥å…·é“¾æ›´æ–°</strong></p><ul><li><strong>åŒ…ç®¡ç†å·¥å…·æ›´æ–°</strong><ul><li>æ”¯æŒå¸¦ <code>-</code> ç¬¦å·çš„å¤–éƒ¨åŒ…è‡ªåŠ¨è½¬ä¹‰ä¸º KCL å¯ä»¥è¯†åˆ«çš„ <code>_</code> ç¬¦å·å¦‚ <code>set-annotation</code> -&gt; <code>set_annotation</code></li><li>ä¿®å¤ <code>kcl mod add</code> åœ¨ Registry åŒ…ç‰ˆæœ¬å’Œæœ¬åœ°å·²æœ‰åŒ…ç‰ˆæœ¬ä¸åŒæ—¶å¼•èµ·çš„ç©ºæŒ‡é’ˆé”™è¯¯</li></ul></li></ul><p><strong>ğŸ’» IDE æ›´æ–°</strong></p><ul><li><strong>è¯­ä¹‰é«˜äº®</strong><ul><li>KCL IDE ç›®å‰æ”¯æŒè¯­ä¹‰çº§åˆ«çš„é«˜äº®ï¼Œé¿å…ä¸åŒ IDE æ’ä»¶é«˜äº®å·®å¼‚</li></ul></li><li><strong>è¡¥å…¨åŠŸèƒ½å¢å¼º</strong><ul><li>åŒºåˆ† Schema ç±»å‹å’Œå®ä¾‹è¡¥å…¨ç¬¦å·</li><li>ç»Ÿä¸€ Schema æ³¨é‡Šæ–‡æ¡£è¡¥å…¨çš„æ ¼å¼</li><li>ä¿®å¤ä¸åŒè¯­æ³•è¡¥å…¨ç¬¦å·ç±»å‹ä¸ç»Ÿä¸€çš„é—®é¢˜</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ç‰¹åˆ«é¸£è°¢">ç‰¹åˆ«é¸£è°¢<a href="#ç‰¹åˆ«é¸£è°¢" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>ä»¥ä¸‹æ’åä¸åˆ†å…ˆå</p><ul><li>æ„Ÿè°¢ @FLAGLORD, @YiuTerran, @flyinox, @steeling, @Anoop, @Phillip Neumann å’Œ @Even Solberg åœ¨ä½¿ç”¨ KCL è¿‡ç¨‹ä¸­çš„äº¤æµä¸å®è´µåé¦ˆ ğŸ™Œ</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ç²¾é€‰æ›´æ–°">ç²¾é€‰æ›´æ–°<a href="#ç²¾é€‰æ›´æ–°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ä½¿ç”¨-kcl-ç¼–å†™-crossplane-å‡½æ•°">ä½¿ç”¨ KCL ç¼–å†™ Crossplane å‡½æ•°<a href="#ä½¿ç”¨-kcl-ç¼–å†™-crossplane-å‡½æ•°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>Crossplane åŠå…¶ Composite Function åŠŸèƒ½è¢«ç”¨äºè§£è€¦ XRï¼ˆCompositeResourceï¼‰å’Œå¤åˆèµ„æºå®šä¹‰ã€‚XR å…è®¸å¼€å‘è€…åˆ›å»ºæ›´é«˜çº§åˆ«çš„æŠ½è±¡ï¼Œè¿™äº›æŠ½è±¡èƒ½å¤Ÿå°è£…å’Œç»„åˆæ¥è‡ªä¸åŒæä¾›å•†å’ŒæœåŠ¡çš„å¤šç§ç±»å‹äº‘èµ„æºã€‚</p><p>ä½¿ç”¨ Crossplane çš„ Composite Function åŠŸèƒ½æ¥æ¸²æŸ“è¿™äº›æŠ½è±¡èƒ½å¤Ÿæœ‰æ•ˆå¢å¼ºå„ç§æä¾›å•†èµ„æºçš„æ¨¡æ¿èƒ½åŠ›ï¼ŒåŒæ—¶å‡å°‘æ‰€éœ€çš„ YAML ä»£ç é‡ã€‚</p><p>å°† KCL ä¸ Crossplane Composite Function åŠŸèƒ½ç»“åˆå¯ä»¥è·å¾—å¦‚ä¸‹èƒ½åŠ›</p><ul><li><strong>ç®€åŒ–å¤æ‚é…ç½®</strong>ï¼šKCL ä½œä¸º DSL æä¾›äº†æ›´ç®€æ´çš„è¯­æ³•å’Œç»“æ„ï¼Œå¯ä»¥å‡å°‘é…ç½®çš„å¤æ‚æ€§ã€‚å½“ä¸ Crossplane çš„å¤åˆèµ„æºç»“åˆæ—¶ï¼Œå¯ä»¥åˆ›å»ºæ›´ç›´è§‚ã€æ˜“äºç†è§£çš„é…ç½®æ¨¡æ¿ï¼Œæ¯”å¦‚ç¼–å†™å¾ªç¯å’Œæ¡ä»¶è¯­å¥é™ä½æ¨¡ç‰ˆï¼Œç¼–å†™ Schema å’Œ Rule è¿›è¡Œæ¨¡å‹æŠ½è±¡å’Œæ ¡éªŒï¼Œä½¿ç”¨ KCL ç®€åŒ–èµ„æºçš„å®šä¹‰å’Œç»´æŠ¤ï¼Œè€Œä¸æ˜¯ç¼–å†™é‡å¤çš„ YAML æˆ–è€…ä½¿ç”¨ Go ä»£ç ç¼–å†™å¹¶éƒ¨ç½² Crossplane Functionï¼Œé™ä½é…ç½®å’Œç­–ç•¥çš„å¼€å‘åŠç»´æŠ¤æˆæœ¬ã€‚æ­¤å¤–ï¼Œå› ä¸º Crosssplane Composition èµ„æºæœ¬èº«ç¼ºä¹å¼ºå¤§çš„æ¨¡ç‰ˆèƒ½åŠ›ä¸”äº‘ API ä¸°å¯Œä¸”å¤æ‚ï¼Œå› æ­¤æœ‰äº› Composition èµ„æºå¯èƒ½éœ€è¦ä¸Šåƒè¡Œ YAML æ‰èƒ½å®Œæˆæ¸²æŸ“èµ„æºç¼–å†™ï¼Œç»´æŠ¤æˆæœ¬è¾ƒé«˜ï¼Œä½¿ç”¨ KCL å¯ä»¥å¹³æ›¿ YAML æå‡åŠ¨æ€é…ç½®èƒ½åŠ›ã€‚</li><li><strong>å¯é‡ç”¨å’Œæ¨¡å—åŒ–</strong>ï¼šKCL é€šè¿‡ OCI Registry æ”¯æŒæ¨¡å—åŒ–å’Œä»£ç å¤ç”¨ï¼Œè¿™æ„å‘³ç€å¯ä»¥åˆ›å»ºå¯é‡ç”¨çš„é…ç½®æ¨¡å‹ï¼Œä¸º Crossplane Composition èµ„æºå¸¦æ¥æ¨¡å—åŒ–èƒ½åŠ›ï¼Œä¸”å¯åŒæ—¶åœ¨è¿è¡Œæ—¶å’Œå®¢æˆ·ç«¯ä½¿ç”¨ï¼Œæ–¹ä¾¿ä¸åŒçš„å¹³å°å›¢é˜Ÿä¹‹é—´è¿›è¡Œåä½œã€‚</li><li><strong>è‡ªåŠ¨åŒ–å’Œç­–ç•¥</strong>ï¼šå¯ä»¥ä½¿ç”¨ KCL çš„å¼ºå¤§åŠŸèƒ½æ¥ç¼–å†™ç­–ç•¥å’Œçº¦æŸï¼Œä¸ Crossplane çš„å£°æ˜å¼èµ„æºç®¡ç†ç»“åˆä½¿ç”¨ï¼Œå¹¶ä¸”åœ¨é›†ç¾¤ä¸­è‡ªåŠ¨æ‰§è¡Œï¼Œç¡®ä¿äº‘èµ„æºæˆ–è€… Kubernetes èµ„æºçš„åˆè§„æ€§ï¼Œè€Œæ— éœ€å¼•å…¥é¢å¤–çš„ç­–ç•¥å¼•æ“ã€‚</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="å‰ç½®å·¥ä½œ">å‰ç½®å·¥ä½œ<a href="#å‰ç½®å·¥ä½œ" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><ul><li>å‡†å¤‡ä¸€ä¸ª Kubernetes é›†ç¾¤</li><li>å®‰è£… Kubectl</li><li>å®‰è£… <a href="https://docs.crossplane.io/" target="_blank" rel="noopener noreferrer">Crossplane åŠ Crossplane CLI 1.14+</a></li><li>å®‰è£… KCL</li><li>å®‰è£… Go 1.21+ (å¯é€‰ï¼Œéœ€è¦æœ¬åœ°è°ƒè¯•å‡½æ•°æ—¶æ‰ç”¨åˆ°)</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="å¿«é€Ÿå¼€å§‹">å¿«é€Ÿå¼€å§‹<a href="#å¿«é€Ÿå¼€å§‹" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><p>æˆ‘ä»¬ç¼–å†™ä¸€ä¸ª <code>Network</code> æŠ½è±¡æ¨¡å‹ï¼Œå¹¶ä½¿ç”¨ KCL ä»£ç å¯¹å…¶è¿›è¡Œæ¸²æŸ“å¾—åˆ°æ‰˜ç®¡èµ„æº <code>VPC</code> å’Œ <code>InternetGateway</code></p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="1-å®‰è£…-crossplane-kcl-å‡½æ•°">1. å®‰è£… Crossplane KCL å‡½æ•°<a href="#1-å®‰è£…-crossplane-kcl-å‡½æ•°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h5><p><code>Function</code> èµ„æºä¼šåˆ›å»ºä¸€ä¸ªå‡½æ•° Podï¼Œå½“æ‚¨åˆ›å»ºä¸€ä¸ª Crossplane Composition Resource æ—¶ï¼ŒCrossplane ä¼šå‘è¿™ä¸ª Pod å‘é€è¯·æ±‚ï¼Œè¯¢é—®å®ƒè¦åˆ›å»ºä»€ä¹ˆèµ„æºã€‚</p><p>é€šè¿‡è®¾ç½® <code>spec.package</code> å€¼ä¸º <code>kcllang/crossplane-kcl</code> è¡¨ç¤ºæˆ‘ä»¬è¿™é‡Œä½¿ç”¨ KCL å‡½æ•°</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f- </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">EOF</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">apiVersion: pkg.crossplane.io/v1beta1</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">kind: Function</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">metadata:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  name: kcl-function</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">spec:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  package: docker.io/kcllang/crossplane-kcl</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">EOF</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h5 class="anchor anchorWithStickyNavbar_LWe7" id="2-ä¸‹å‘-composition-resource">2. ä¸‹å‘ Composition Resource<a href="#2-ä¸‹å‘-composition-resource" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h5><p>å°±åƒæ¸²æŸ“å‡½æ•°ä¸€æ ·ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬æŒ‡å®š KCL å¦‚ä½•æ¥å—è¾“å…¥ <code>Network</code> èµ„æºå¹¶ç”Ÿæˆ <code>VPC</code> èµ„æºå’Œ <code>InternetGateway</code> èµ„æºã€‚KCL å‡½æ•°å¯ä»¥å¼•ç”¨è‡ª OCI Registry æˆ–è€… GitHub ä¸Šé¢çš„ä»£ç ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ç›´æ¥ä¹¦å†™åœ¨ <code>Composition</code> èµ„æºä¸­ã€‚</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f- </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">EOF</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">apiVersion: apiextensions.crossplane.io/v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">kind: Composition</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">metadata:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  name: xlabels.fn-demo.crossplane.io</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  labels:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    provider: aws</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">spec:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  writeConnectionSecretsToNamespace: crossplane-system</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  compositeTypeRef:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    apiVersion: fn-demo.crossplane.io/v1alpha1</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    kind: XNetwork</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  mode: Pipeline</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  pipeline:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  - step: normal</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    functionRef:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      name: kcl-function</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    input:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      apiVersion: krm.kcl.dev/v1alpha1</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      kind: KCLRun</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      metadata:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        name: basic</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      spec:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        # Generate new resources</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        target: Resources</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        # OCI, Git or inline source</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        # source: oci://ghcr.io/kcl-lang/crossplane-xnetwork-kcl-function</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        # source: github.com/kcl-lang/modules/crossplane-xnetwork-kcl-function</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        source: |</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">          # Get the XR spec fields</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">          id = option("params")?.oxr?.spec.id or ""</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">          # Render XR to crossplane managed resources</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">          network_id_labels = {"networks.meta.fn.crossplane.io/network-id" = id} if id else {}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">          vpc = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">              apiVersion = "ec2.aws.upbound.io/v1beta1"</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">              kind = "VPC"</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">              metadata.name = "vpc"</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">              metadata.labels = network_id_labels</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">              spec.forProvider = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">                  region = "eu-west-1"</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">                  cidrBlock = "192.168.0.0/16"</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">                  enableDnsSupport = True</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">                  enableDnsHostnames = True</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">              }</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">          }</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">          gateway = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">              apiVersion = "ec2.aws.upbound.io/v1beta1"</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">              kind = "InternetGateway"</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">              metadata.name = "gateway"</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">              metadata.labels = network_id_labels</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">              spec.forProvider = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">                  region = "eu-west-1"</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">                  vpcIdSelector.matchControllerRef = True</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">              }</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">          }</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">          items = [vpc, gateway]</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">EOF</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h5 class="anchor anchorWithStickyNavbar_LWe7" id="3-åˆ›å»ºè¾“å…¥èµ„æºç±»å‹-crossplane-xrd">3. åˆ›å»ºè¾“å…¥èµ„æºç±»å‹ (Crossplane XRD)<a href="#3-åˆ›å»ºè¾“å…¥èµ„æºç±»å‹-crossplane-xrd" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h5><p>æˆ‘ä»¬ä½¿ç”¨ Crossplane XRD ä¸ºè¾“å…¥èµ„æº Network å®šä¹‰äº†ä¸€ä¸ª Schemaï¼Œå®ƒæœ‰ä¸€ä¸ªåä¸º id çš„å­—æ®µï¼Œè¡¨ç¤ºç½‘ç»œ idã€‚</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f- </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">EOF</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">apiVersion: apiextensions.crossplane.io/v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">kind: CompositeResourceDefinition</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">metadata:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  name: xnetworks.fn-demo.crossplane.io</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">spec:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  group: fn-demo.crossplane.io</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  names:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    kind: XNetwork</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    plural: xnetworks</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  claimNames:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    kind: Network</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    plural: networks</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  versions:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    - name: v1alpha1</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      served: true</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      referenceable: true</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      schema:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        openAPIV3Schema:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">          type: object</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">          properties:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            spec:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">              type: object</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">              properties:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">                id:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">                  type: string</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">                  description: ID of this Network that other objects will use to refer to it.</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">              required:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">                - id</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">EOF</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h5 class="anchor anchorWithStickyNavbar_LWe7" id="4-ä¸‹å‘è¾“å…¥èµ„æº-crossplane-xr">4. ä¸‹å‘è¾“å…¥èµ„æº (Crossplane XR)<a href="#4-ä¸‹å‘è¾“å…¥èµ„æº-crossplane-xr" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h5><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f- </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">EOF</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">apiVersion: fn-demo.crossplane.io/v1alpha1</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">kind: Network</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">metadata:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  name: network-test-functions</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  namespace: default</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">spec:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  id: network-test-functions</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">EOF</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h5 class="anchor anchorWithStickyNavbar_LWe7" id="5-æ£€æŸ¥ç”Ÿæˆçš„æ‰˜ç®¡èµ„æº">5. æ£€æŸ¥ç”Ÿæˆçš„æ‰˜ç®¡èµ„æº<a href="#5-æ£€æŸ¥ç”Ÿæˆçš„æ‰˜ç®¡èµ„æº" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h5><ul><li>VPC</li></ul><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get VPC -o yaml </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">grep</span><span class="token plain"> network-id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      networks.meta.fn.crossplane.io/network-id: network-test-functions</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>InternetGateway</li></ul><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get InternetGateway -o yaml </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">grep</span><span class="token plain"> network-id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      networks.meta.fn.crossplane.io/network-id: network-test-functions</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>å¯ä»¥çœ‹åˆ°æˆ‘ä»¬ç¡®å®æˆåŠŸç”Ÿæˆäº† <code>VPC</code> å’Œ <code>InternetGateway</code> èµ„æºï¼Œå¹¶ä¸”å®ƒä»¬çš„å­—æ®µç¬¦åˆé¢„æœŸ (æ¥å— XR è¾“å…¥çš„ id å­—æ®µå¹¶è½¬æ¢ä¸º <code>VPC</code> èµ„æºå’Œ <code>InternetGateway</code> èµ„æºçš„æ ‡ç­¾)ã€‚</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="å®¢æˆ·ç«¯æ¸²æŸ“">å®¢æˆ·ç«¯æ¸²æŸ“<a href="#å®¢æˆ·ç«¯æ¸²æŸ“" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><p>å¯ä»¥çœ‹åˆ°ï¼Œä¸Šè¿° KCL æŠ½è±¡ä»£ç å¸¸å¸¸éœ€è¦ Crossplane ä½œä¸ºæ§åˆ¶å¹³é¢ä¸­ä»‹ï¼Œä½†æ˜¯æˆ‘ä»¬ä»ç„¶å¯ä»¥å®Œå…¨æ‘†è„± Crossplane æ§åˆ¶å¹³é¢åœ¨å®¢æˆ·ç«¯å®ŒæˆæŠ½è±¡ï¼Œå¹¶ç›´æ¥ç”Ÿæˆ Crossplane ç®¡ç†çš„èµ„æºï¼Œä»¥å‡è½»é›†ç¾¤è´Ÿæ‹…å’Œæ“ä½œæˆæœ¬çš„åŒæ—¶å¹¶è·å¾—æ›´å¥½çš„é…ç½®ç¼–å†™ä½“éªŒã€‚</p><p>å› ä¸º KCL æ¨¡å‹å¹¶ä¸å±€é™äºåœ¨å®¢æˆ·ç«¯è¿˜æ˜¯è¿è¡Œæ—¶è¿›è¡Œä½¿ç”¨ï¼Œå› æ­¤æˆ‘ä»¬åœ¨å®¢æˆ·ç«¯ä»…é€šè¿‡ä¸€æ¡å‘½ä»¤å°±å¯ä»¥å®Œæˆä¸Šè¿°æ‰€æœ‰åŠŸèƒ½:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kcl run oci://ghcr.io/kcl-lang/crossplane-xnetwork-kcl-function -S items -D </span><span class="token assign-left variable" style="color:#36acaa">params</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">'{"oxr": {"spec": {"id": "network-test-functions"}}}'</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>è¾“å‡ºä¸º:</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ec2.aws.upbound.io/v1beta1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> VPC</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> vpc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">networks.meta.fn.crossplane.io/network-id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> network</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">test</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">functions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">forProvider</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">region</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> eu</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">west</span><span class="token punctuation" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">cidrBlock</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 192.168.0.0/16</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">enableDnsSupport</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">enableDnsHostnames</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ec2.aws.upbound.io/v1beta1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> InternetGateway</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> gateway</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">networks.meta.fn.crossplane.io/network-id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> network</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">test</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">functions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">forProvider</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">region</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> eu</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">west</span><span class="token punctuation" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">vpcIdSelector</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">matchControllerRef</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>å½“ç„¶ï¼Œåç»­æˆ‘ä»¬ä¼šç»“åˆ <code>crossplane-provider-aws</code> ç­‰æ¨¡å‹åº“è¿›ä¸€æ­¥è¯¦ç»†ä»‹ç»å¦‚ä½•è·å¾—ä¸€ä¸ªæ›´å¥½çš„å®¢æˆ·ç«¯æŠ½è±¡ï¼Œå°½æƒ…æœŸå¾…!</p><p>æ­¤å¤–ï¼Œå¯ä»¥åœ¨è¿™é‡ŒæŸ¥çœ‹åˆ°æ›´å¤š Crossplane å’Œ KCL ç»“åˆçš„ç”¨ä¾‹ï¼š<a href="https://github.com/crossplane-contrib/function-kcl" target="_blank" rel="noopener noreferrer">https://github.com/crossplane-contrib/function-kcl</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å…¶ä»–èµ„æº">å…¶ä»–èµ„æº<a href="#å…¶ä»–èµ„æº" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>â¤ï¸ æ„Ÿè°¢æ‰€æœ‰ KCL ç”¨æˆ·å’Œç¤¾åŒºå°ä¼™ä¼´åœ¨ç¤¾åŒºä¸­æå‡ºçš„å®è´µåé¦ˆä¸å»ºè®®ã€‚åç»­æˆ‘ä»¬ä¼šå‘å¸ƒæ›´å¤š KCL äº‘åŸç”Ÿæ¨¡å‹å’Œå·¥å…·é›†æˆæ–‡ç« ï¼Œæ•¬è¯·æœŸå¾…! æŸ¥çœ‹ <em><a href="https://github.com/kcl-lang/community" target="_blank" rel="noopener noreferrer">KCL ç¤¾åŒº</a></em> åŠ å…¥æˆ‘ä»¬ã€‚</p><p>æ›´å¤šå…¶ä»–èµ„æºè¯·å‚è€ƒï¼š</p><ul><li><a href="https://kcl-lang.io/" target="_blank" rel="noopener noreferrer">KCL ç½‘ç«™</a></li><li><a href="https://kusionstack.io/" target="_blank" rel="noopener noreferrer">KusionStack ç½‘ç«™</a></li><li><a href="https://github.com/kcl-lang/kcl/milestone/8" target="_blank" rel="noopener noreferrer">KCL v0.8.0 Milestone</a></li></ul>]]></content>
        <author>
            <name>KCL å›¢é˜Ÿ</name>
        </author>
        <category label="KCL" term="KCL"/>
        <category label="Biweekly-Newsletter" term="Biweekly-Newsletter"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[10 ç§ Kubernetes å£°æ˜å¼é…ç½®ç®¡ç†çš„æ–¹å¼]]></title>
        <id>https://kcl-lang.github.io/zh-CN/blog/2023-12-25-ten-ways-for-kubernetes-config-management</id>
        <link href="https://kcl-lang.github.io/zh-CN/blog/2023-12-25-ten-ways-for-kubernetes-config-management"/>
        <updated>2023-12-25T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Kubernetes å·²ç»æˆä¸ºç®¡ç†å®¹å™¨åŒ–åº”ç”¨ç¨‹åºçš„äº‹å®æ ‡å‡†ï¼Œä½†éšç€å…¶æ™®åŠï¼Œç®¡ç†å…¶é…ç½®çš„å¤æ‚æ€§ä¹Ÿéšä¹‹å¢åŠ ã€‚ä¸ºäº†åº”å¯¹è¿™ç§å¤æ‚æ€§ï¼ŒKubernetes å£°æ˜å¼é…ç½®ç®¡ç†æ¨¡å‹åº”è¿è€Œç”Ÿï¼Œä»¥ç®€åŒ–è¿™ä¸€æµç¨‹ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†æ¢è®¨ä»€ä¹ˆæ˜¯ Kubernetes å£°æ˜å¼é…ç½®ï¼Œä¸ºä»€ä¹ˆå®ƒæ˜¯å¿…éœ€çš„ï¼Œä»¥åŠå¯ä»¥é€šè¿‡å“ªäº›ä¸åŒçš„æ–¹å¼æ¥ç®¡ç†å®ƒã€‚]]></summary>
        <content type="html"><![CDATA[<p><img loading="lazy" src="/zh-CN/assets/images/cover-26257c2a7dc6503e03b9fc420808b984.png" width="644" height="424" class="img_ev3q"></p><p>Kubernetes å·²ç»æˆä¸ºç®¡ç†å®¹å™¨åŒ–åº”ç”¨ç¨‹åºçš„äº‹å®æ ‡å‡†ï¼Œä½†éšç€å…¶æ™®åŠï¼Œç®¡ç†å…¶é…ç½®çš„å¤æ‚æ€§ä¹Ÿéšä¹‹å¢åŠ ã€‚ä¸ºäº†åº”å¯¹è¿™ç§å¤æ‚æ€§ï¼ŒKubernetes å£°æ˜å¼é…ç½®ç®¡ç†æ¨¡å‹åº”è¿è€Œç”Ÿï¼Œä»¥ç®€åŒ–è¿™ä¸€æµç¨‹ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†æ¢è®¨ä»€ä¹ˆæ˜¯ Kubernetes å£°æ˜å¼é…ç½®ï¼Œä¸ºä»€ä¹ˆå®ƒæ˜¯å¿…éœ€çš„ï¼Œä»¥åŠå¯ä»¥é€šè¿‡å“ªäº›ä¸åŒçš„æ–¹å¼æ¥ç®¡ç†å®ƒã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ä»€ä¹ˆæ˜¯-kubernetes-å£°æ˜å¼é…ç½®">ä»€ä¹ˆæ˜¯ Kubernetes å£°æ˜å¼é…ç½®<a href="#ä»€ä¹ˆæ˜¯-kubernetes-å£°æ˜å¼é…ç½®" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>Kubernetes å£°æ˜å¼é…ç½®æ˜¯æŒ‡åœ¨ Kubernetes æ¸…å•æ–‡ä»¶ä¸­å£°æ˜åº”ç”¨ç¨‹åºåŠå…¶èµ„æºæ‰€æœŸæœ›çš„çŠ¶æ€çš„åšæ³•ï¼Œä¸å…¶å‘å¸ƒå‘½ä»¤å¼æŒ‡ä»¤æ¥æ”¹å˜é›†ç¾¤çš„çŠ¶æ€ï¼Œä¸å¦‚ç®€å•åœ°æè¿°é¢„æœŸçš„çŠ¶æ€ï¼Œè®© Kubernetes å»åŠªåŠ›ä½¿å®é™…çŠ¶æ€ä¸å£°æ˜çš„çŠ¶æ€ç›¸åŒ¹é…ã€‚å…·ä½“æ¥è¯´ï¼Œåœ¨å£°æ˜å¼ API ä¸­ï¼Œä½ æè¿°ä½ æƒ³è¦çš„â€œä»€ä¹ˆâ€ï¼ˆä¾‹å¦‚ï¼Œæˆ‘æƒ³è¦ä¸€ä¸ªè¿è¡Œç‰¹å®šé•œåƒçš„ Podï¼‰ï¼Œè€Œä¸æ˜¯ä½ æƒ³è¦è¿›è¡Œçš„ä¸€ç³»åˆ—æ“ä½œæ¥å®ç°æŸä¸ªç›®æ ‡çŠ¶æ€ï¼ˆå³â€œå¦‚ä½•â€å®ç°ï¼‰ã€‚è¿™ç§æ¨¡å‹ç®€åŒ–äº†ç³»ç»Ÿäº¤äº’ï¼Œå› ä¸ºç”¨æˆ·åªéœ€å…³æ³¨æœ€ç»ˆç›®æ ‡ï¼Œè€Œä¸å¿…å¤„ç†è¾¾åˆ°è¯¥ç›®æ ‡çš„å…·ä½“æ­¥éª¤ã€‚</p><p>Kubernetes çš„å£°æ˜å¼ API é€šå¸¸æ˜¯é€šè¿‡ YAML æˆ– JSON æ ¼å¼çš„æ¸…å•ï¼ˆManifestsï¼‰æ–‡ä»¶æ¥ä½¿ç”¨çš„ã€‚è¿™äº›æ–‡ä»¶å®šä¹‰äº† Kubernetes èµ„æºï¼ˆå¦‚ Pods, Services, Deployments, ConfigMaps ç­‰ï¼‰çš„æœŸæœ›çŠ¶æ€ã€‚ç”¨æˆ·å°†è¿™äº›æ¸…å•æ–‡ä»¶æäº¤ç»™ Kubernetes API æœåŠ¡å™¨ï¼Œç„¶å Kubernetes çš„æ§åˆ¶å¹³é¢ç»„ä»¶ï¼ˆå¦‚æ§åˆ¶å™¨å’Œè°ƒåº¦å™¨ï¼‰è´Ÿè´£å®æ–½è¿™äº›è§„èŒƒï¼Œå¹¶ç¡®ä¿é›†ç¾¤çš„å®é™…çŠ¶æ€ä¸è¿™äº›è§„èŒƒç›¸åŒ¹é…ã€‚</p><p>å£°æ˜å¼ API æ”¯æŒç‰ˆæœ¬æ§åˆ¶ã€è‡ªåŠ¨åŒ–éƒ¨ç½²ã€å›æ»šã€æ‰©å±•å’Œè‡ªæˆ‘ä¿®å¤ç­‰ç‰¹æ€§ï¼Œè¿™å¤§å¤§æå‡äº†ç®¡ç†å¤§è§„æ¨¡ã€åˆ†å¸ƒå¼ç³»ç»Ÿçš„èƒ½åŠ›ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ æƒ³è¦éƒ¨ç½²ä¸€ä¸ªåº”ç”¨ç¨‹åºï¼Œä½ ä¸å¿…å‘Šè¯‰ Kubernetes å¦‚ä½•åˆ›å»ºæ¯ä¸€ä¸ª Podã€å¦‚ä½•è°ƒåº¦å®ƒä»¬åˆ°èŠ‚ç‚¹ä¸Šï¼Œæˆ–è€…å¦‚ä½•ç®¡ç†å®ƒä»¬çš„ç”Ÿå‘½å‘¨æœŸã€‚ç›¸åï¼Œä½ åªéœ€è¦åˆ›å»ºä¸€ä¸ªå¦‚ Deployment è¿™æ ·çš„èµ„æºå¯¹è±¡ï¼Œå®šä¹‰ä½ æƒ³è¦çš„å‰¯æœ¬æ•°ï¼ˆreplicasï¼‰å’Œåº”ç”¨ç¨‹åºå®¹å™¨çš„å…¶ä»–å±æ€§ï¼Œç„¶åäº¤ç»™ Kubernetes æ¥å¤„ç†ã€‚Kubernetes ä¼šç›‘æ§è¿™ä¸ª Deployment çš„çŠ¶æ€ï¼Œå¹¶é‡‡å–å¿…è¦çš„æªæ–½æ¥ç»´æŠ¤æˆ–æ¢å¤æœŸæœ›çš„çŠ¶æ€ã€‚</p><p>è¿™ç§å£°æ˜å¼æ¨¡å‹æé«˜äº†ç³»ç»Ÿçš„æŠ½è±¡å±‚æ¬¡ï¼Œä½¿å¼€å‘è€…å’Œè¿ç»´äººå‘˜èƒ½å¤Ÿä¸“æ³¨äºåº”ç”¨ç¨‹åºæœ¬èº«çš„è¡Œä¸ºå’Œéœ€æ±‚ï¼Œè€Œä¸æ˜¯åº•å±‚çš„è¿ç»´å‘½ä»¤å’Œè¿‡ç¨‹ã€‚éšç€ç»„ç»‡é‡‡ç”¨ Kubernetes æ¥å¤§è§„æ¨¡éƒ¨ç½²åº”ç”¨ç¨‹åºï¼Œç®¡ç†å¤æ‚çš„é…ç½®å’Œæ¸…å•å˜å¾—è‡³å…³é‡è¦ã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="kubernetes-å£°æ˜å¼é…ç½®ç®¡ç†çš„æ–¹å¼æœ‰å“ªäº›">Kubernetes å£°æ˜å¼é…ç½®ç®¡ç†çš„æ–¹å¼æœ‰å“ªäº›<a href="#kubernetes-å£°æ˜å¼é…ç½®ç®¡ç†çš„æ–¹å¼æœ‰å“ªäº›" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ç»“æ„åŒ–-structured-çš„-kv">ç»“æ„åŒ– (Structured) çš„ KV<a href="#ç»“æ„åŒ–-structured-çš„-kv" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>ç»“æ„åŒ–çš„ KV å¯ä»¥æ»¡è¶³æœ€å°åŒ–æ•°æ®å£°æ˜éœ€æ±‚ï¼Œæ¯”å¦‚æ•°å­—ã€å­—ç¬¦ä¸²ã€åˆ—è¡¨å’Œå­—å…¸ç­‰æ•°æ®ç±»å‹ï¼Œå¹¶ä¸”éšç€äº‘åŸç”ŸæŠ€æœ¯å¿«é€Ÿå‘å±•åº”ç”¨ï¼Œå£°æ˜å¼ API å¯ä»¥æ»¡è¶³ X as Data å‘å±•çš„è¯‰æ±‚ï¼Œå¹¶ä¸”é¢å‘æœºå™¨å¯è¯»å¯å†™ï¼Œé¢å‘äººç±»å¯è¯»ã€‚å…¶ä¼˜åŠ£å¦‚ä¸‹:</p><ul><li>ä¼˜åŠ¿<ul><li>è¯­æ³•ç®€å•ï¼Œæ˜“äºç¼–å†™å’Œé˜…è¯»</li><li>å¤šè¯­è¨€ API ä¸°å¯Œ</li><li>æœ‰å„ç§ Path å·¥å…·æ–¹ä¾¿æ•°æ®æŸ¥è¯¢ï¼Œå¦‚ XPath, JsonPath ç­‰</li></ul></li><li>ç—›ç‚¹<ul><li>å†—ä½™ä¿¡æ¯å¤šï¼šå½“é…ç½®è§„æ¨¡è¾ƒå¤§æ—¶ï¼Œç»´æŠ¤å’Œé˜…è¯»é…ç½®å¾ˆå›°éš¾ï¼Œå› ä¸ºé‡è¦çš„é…ç½®ä¿¡æ¯è¢«æ·¹æ²¡åœ¨äº†å¤§é‡ä¸ç›¸å…³çš„é‡å¤ç»†èŠ‚ä¸­</li><li>åŠŸèƒ½æ€§ä¸è¶³<ul><li>çº¦æŸæ ¡éªŒèƒ½åŠ›</li><li>å¤æ‚é€»è¾‘ç¼–å†™èƒ½åŠ›</li><li>æµ‹è¯•ã€è°ƒè¯•èƒ½åŠ›</li><li>ä¸æ˜“æŠ½è±¡å’Œå¤ç”¨</li><li>Kustomize çš„ Patch æ¯”è¾ƒå®šåˆ¶ï¼ŒåŸºæœ¬æ˜¯é€šè¿‡å›ºå®šå‡ ç§ Patch Merge ç­–ç•¥</li></ul></li></ul></li></ul><p>ç»“æ„åŒ– KV çš„ä»£è¡¨æŠ€æœ¯æœ‰</p><ul><li>JSON/YAMLï¼šéå¸¸æ–¹ä¾¿é˜…è¯»ï¼Œä»¥åŠè‡ªåŠ¨åŒ–å¤„ç†ï¼Œä¸åŒçš„è¯­è¨€å‡å…·æœ‰ä¸°å¯Œçš„ API æ”¯æŒã€‚</li><li><a href="https://kustomize.io/" target="_blank" rel="noopener noreferrer">Kustomize</a>ï¼šæä¾›äº†ä¸€ç§æ— éœ€<strong>æ¨¡æ¿</strong>å’Œ <strong>DSL</strong> å³å¯è‡ªå®šä¹‰ Kubernetes èµ„æºåŸºç¡€é…ç½®å’Œå·®å¼‚åŒ–é…ç½®çš„è§£å†³æ–¹æ¡ˆï¼Œæœ¬èº«ä¸è§£å†³çº¦æŸçš„é—®é¢˜ï¼Œéœ€è¦é…åˆå¤§é‡çš„é¢å¤–å·¥å…·è¿›è¡Œçº¦æŸæ£€æŸ¥å¦‚ <a href="https://github.com/stackrox/kube-linter" target="_blank" rel="noopener noreferrer">Kube-linter</a>ã€<a href="https://github.com/bridgecrewio/checkov" target="_blank" rel="noopener noreferrer">Checkov</a> å’Œ <a href="https://github.com/kubescape/kubescape" target="_blank" rel="noopener noreferrer">kubescape</a> ç­‰æ£€æŸ¥å·¥å…·ã€‚</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="æ¨¡ç‰ˆåŒ–-templated-çš„-kv">æ¨¡ç‰ˆåŒ– (Templated) çš„ KV<a href="#æ¨¡ç‰ˆåŒ–-templated-çš„-kv" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>æ¨¡ç‰ˆåŒ– (Templated) çš„ KV èµ‹äºˆé™æ€é…ç½®æ•°æ®åŠ¨æ€å‚æ•°çš„èƒ½åŠ›ï¼Œå¯ä»¥åšåˆ°ä¸€ä»½æ¨¡ç‰ˆ+åŠ¨æ€å‚æ•°è¾“å‡ºä¸åŒçš„é™æ€é…ç½®æ•°æ®ã€‚å…¶ä¼˜åŠ£å¦‚ä¸‹:</p><ul><li>ä¼˜åŠ¿<ul><li>ç®€å•çš„é…ç½®é€»è¾‘ï¼Œå¾ªç¯æ”¯æŒ</li><li>æ”¯æŒå¤–éƒ¨åŠ¨æ€å‚æ•°è¾“å…¥æ¨¡ç‰ˆ</li></ul></li><li>ç—›ç‚¹<ul><li>å®¹æ˜“è½å…¥æ‰€æœ‰é…ç½®å‚æ•°éƒ½æ˜¯æ¨¡ç‰ˆå‚æ•°çš„é™·é˜±</li><li>å½“é…ç½®è§„æ¨¡å˜å¤§æ—¶ï¼Œå¼€å‘è€…å’Œå·¥å…·éƒ½éš¾ä»¥ç»´æŠ¤å’Œåˆ†æå®ƒä»¬</li></ul></li></ul><p>æ¨¡ç‰ˆåŒ–ä»£è¡¨æŠ€æœ¯æœ‰:</p><ul><li><a href="https://helm.sh/" target="_blank" rel="noopener noreferrer">Helm</a>ï¼šKubernetes èµ„æºçš„åŒ…ç®¡ç†å·¥å…·ï¼Œé€šè¿‡é…ç½®æ¨¡ç‰ˆç®¡ç† Kubernetes èµ„æºé…ç½®ã€‚</li><li><a href="https://github.com/helmfile/helmfile" target="_blank" rel="noopener noreferrer">Helmfile</a>ï¼šHelmfile æ˜¯ä¸€ä¸ªå£°æ˜å¼çš„å·¥å…·ï¼Œç”¨äºå¸®åŠ©ç”¨æˆ·é…ç½®å’Œç®¡ç†åœ¨ Kubernetes é›†ç¾¤ä¸­è¿è¡Œçš„ Helm å›¾è¡¨ï¼ˆchartsï¼‰ã€‚æ­¤å¤–ï¼ŒHelmfile æ‰©å±•äº† Helm çš„åŠŸèƒ½ï¼Œä½¿å¾—ç®¡ç†å¤šä¸ª Helm å›¾è¡¨å˜å¾—æ›´åŠ å®¹æ˜“ã€‚</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ä»£ç åŒ–-programmable-çš„-kv">ä»£ç åŒ– (Programmable) çš„ KV<a href="#ä»£ç åŒ–-programmable-çš„-kv" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>Configuration as Code (CaC), ä½¿ç”¨ä»£ç äº§ç”Ÿé…ç½®ï¼Œå°±åƒå·¥ç¨‹å¸ˆä»¬åªéœ€è¦å†™é«˜çº§ GPL ä»£ç ï¼Œè€Œä¸æ˜¯æ‰‹å·¥ç¼–å†™å®¹æ˜“å‡ºé”™è€Œä¸”éš¾ä»¥ç†è§£çš„æœåŠ¡å™¨äºŒè¿›åˆ¶ä»£ç ä¸€æ ·ã€‚é…ç½®å˜æ›´åŒä»£ç å˜æ›´åŒæ ·ä¸¥è‚ƒåœ°å¯¹å¾…ï¼ŒåŒæ ·å¯ä»¥æ‰§è¡Œå•å…ƒæµ‹è¯•ã€é›†æˆæµ‹è¯•ç­‰ã€‚ä»£ç æ¨¡å—åŒ–å’Œé‡ç”¨æ˜¯ç»´æŠ¤é…ç½®ä»£ç æ¯”æ‰‹åŠ¨ç¼–è¾‘ JSON/YAML ç­‰é…ç½®æ–‡ä»¶æ›´å®¹æ˜“çš„ä¸€ä¸ªå…³é”®åŸå› ã€‚å…¶ä¼˜åŠ£å¦‚ä¸‹:</p><ul><li>ä¼˜åŠ¿<ul><li>å¿…è¦çš„ç¼–ç¨‹èƒ½åŠ›ï¼ˆå˜é‡å®šä¹‰ã€é€»è¾‘åˆ¤æ–­ã€å¾ªç¯ã€æ–­è¨€ç­‰ï¼‰</li><li>ä»£ç æ¨¡å—åŒ–ä¸æŠ½è±¡ï¼ˆæ”¯æŒå®šä¹‰æ•°æ®æ¨¡ç‰ˆï¼Œå¹¶ç”¨æ¨¡ç‰ˆå¾—åˆ°æ–°çš„é…ç½®æ•°æ®ï¼‰</li><li>å¯ä»¥æŠ½è±¡é…ç½®æ¨¡ç‰ˆ+å¹¶ä½¿ç”¨é…ç½®è¦†ç›–</li></ul></li><li>ç—›ç‚¹<ul><li>ç±»å‹æ£€æŸ¥ä¸è¶³</li><li>è¿è¡Œæ—¶é”™è¯¯</li><li>çº¦æŸèƒ½åŠ›ä¸è¶³</li></ul></li></ul><p>ä»£ç åŒ– KV çš„ä»£è¡¨æŠ€æœ¯æœ‰:</p><ul><li><a href="https://github.com/rix0rrr/gcl" target="_blank" rel="noopener noreferrer">GCL</a>ï¼šä¸€ç§ Python å®ç°çš„å£°æ˜å¼é…ç½®ç¼–ç¨‹è¯­è¨€ï¼Œæä¾›äº†å¿…è¦çš„è¨€èƒ½åŠ›æ”¯æŒæ¨¡ç‰ˆæŠ½è±¡ï¼Œä½†ç¼–è¯‘å™¨æœ¬èº«æ˜¯ Python ç¼–å†™ï¼Œä¸”è¯­è¨€æœ¬èº«æ˜¯è§£é‡Šæ‰§è¡Œï¼Œå¯¹äºå¤§çš„æ¨¡ç‰ˆå®ä¾‹ (æ¯”å¦‚ K8s å‹) æ€§èƒ½è¾ƒå·®ã€‚</li><li><a href="https://github.com/hashicorp/hcl" target="_blank" rel="noopener noreferrer">HCL</a>ï¼šä¸€ç§ Go å®ç°ç»“æ„åŒ–é…ç½®è¯­è¨€ï¼ŒåŸç”Ÿè¯­æ³•å—åˆ° libuclnginx é…ç½®ç­‰çš„å¯å‘ï¼Œç”¨äºåˆ›å»ºå¯¹äººç±»å’Œæœºå™¨éƒ½å‹å¥½çš„ç»“æ„åŒ–é…ç½®è¯­è¨€ï¼Œä¸»è¦é’ˆå¯¹ devops å·¥å…·ã€æœåŠ¡å™¨é…ç½®åŠ Terraform ä¸­å®šä¹‰èµ„æºé…ç½®ç­‰ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œå¯ä»¥ä½¿ç”¨ Terraform ä»¥åŠ Terraform Kubernetes Provider ç­‰æ¥ç®¡ç† Kubernetes èµ„æºã€‚</li><li><a href="https://github.com/google/jsonnet" target="_blank" rel="noopener noreferrer">Jsonnet</a>ï¼šä¸€ç§ C++ å®ç°çš„æ•°æ®æ¨¡æ¿è¯­è¨€ï¼Œé€‚ç”¨äºåº”ç”¨ç¨‹åºå·¥å…·å¼€å‘äººå‘˜ï¼Œå¯ä»¥ç”Ÿæˆé…ç½®æ•°æ®å¹¶ä¸”æ— å‰¯ä½œç”¨ç»„ç»‡ã€ç®€åŒ–ã€ç»Ÿä¸€ç®¡ç†åºå¤§çš„é…ç½®ã€‚</li><li><a href="https://github.com/open-policy-agent/opa" target="_blank" rel="noopener noreferrer">OPA</a>ï¼šè™½ç„¶æ˜¯ä¸€ç§å¼€æºé€šç”¨ç­–ç•¥å¼•æ“ï¼Œå¯åœ¨æ•´ä¸ªå †æ ˆä¸­å®ç°ç»Ÿä¸€çš„ã€ä¸Šä¸‹æ–‡æ„ŸçŸ¥çš„ç­–ç•¥å®æ–½ã€‚ä½†æ˜¯ OPA å¯ä»¥æ¥å— JSON ç­‰æ•°æ®è¿›è¡Œè¾“å…¥å¹¶è¾“å‡º JSON ç­‰æ•°æ®æ ¼å¼ï¼Œå®é™…ä¸Šä¹Ÿå¯ä»¥ä½œä¸ºé…ç½®ç”Ÿæˆæˆ–è€…é…ç½®ä¿®æ”¹å·¥å…·ä½¿ç”¨ï¼Œä½†æ˜¯æœ¬èº«æ²¡æœ‰æä¾›å¼€ç®±çš„ Schema å®šä¹‰æ”¯æŒï¼Œä½†æ˜¯å¯ä»¥å¼•å…¥ JsonSchema å®šä¹‰ã€‚</li><li><a href="https://github.com/bazelbuild/starlark" target="_blank" rel="noopener noreferrer">Starlark</a>ï¼šStarlark æ˜¯ä¸€ç§å— Python å¯å‘çš„æ„å»ºè½¬æ¢æè¿°è¯­è¨€ï¼Œä½†å…·æœ‰é€‚åˆåµŒå…¥åˆ°å¦‚ Bazel è¿™æ ·çš„è½¯ä»¶ä¸­çš„ç‰¹æ€§ã€‚å®ƒå¯ä»¥ç”¨äºé…ç½®ç”Ÿæˆï¼Œå› ä¸ºå®ƒå…·æœ‰ç¡®å®šæ€§è¯„ä¼°å’Œè¡¨è¾¾å¤æ‚æ„å»ºè½¬æ¢çš„èƒ½åŠ›ã€‚</li><li><a href="https://kubernetes.io/docs/reference/using-api/cel/" target="_blank" rel="noopener noreferrer">CEL</a>ï¼šCEL æ˜¯ä¸€ç§æ—¨åœ¨ç®€å•ã€å¿«é€Ÿã€å¯ç§»æ¤å’Œå®‰å…¨çš„è¡¨è¾¾å¼è¯­è¨€ã€‚è™½ç„¶å®ƒå¹¶ä¸ç›´æ¥æ˜¯ä¸€ç§é…ç½®è¯­è¨€ï¼Œä½† Kubernetes ä½¿ç”¨ CEL ä½œä¸ºå…¶ API ä¸­å¤æ‚å­—æ®µé€‰æ‹©å’Œè¿‡æ»¤æ“ä½œçš„åŸºç¡€ã€‚CEL å¯ä»¥ä½œä¸ºä¸€ç§åŸºäºç‰¹å®šè¡¨è¾¾å¼éªŒè¯å’Œçº¦æŸé…ç½®çš„å·¥å…·ã€‚</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ç±»å‹åŒ–-typed-çš„-kv">ç±»å‹åŒ– (Typed) çš„ KV<a href="#ç±»å‹åŒ–-typed-çš„-kv" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>ç±»å‹åŒ–çš„ KVï¼ŒåŸºäºä»£ç åŒ– KVï¼Œå¤šäº†ç±»å‹æ£€æŸ¥å’Œçº¦æŸçš„èƒ½åŠ›ï¼Œå…¶ä¼˜åŠ£å¦‚ä¸‹:</p><ul><li>ä¼˜åŠ¿<ul><li>é…ç½®åˆå¹¶å®Œå…¨å¹‚ç­‰ï¼Œå¤©ç„¶é˜²æ­¢é…ç½®å†²çª</li><li>ä¸°å¯Œçš„é…ç½®çº¦æŸè¯­æ³•ç”¨äºç¼–å†™çº¦æŸ</li><li>å°†ç±»å‹å’Œå€¼çº¦æŸç¼–å†™æŠ½è±¡ä¸ºåŒä¸€ç§å½¢å¼ï¼Œç¼–å†™ç®€å•</li><li>é…ç½®é¡ºåºæ— å…³</li></ul></li><li>ç—›ç‚¹<ul><li>å›¾åˆå¹¶å’Œå¹‚ç­‰åˆå¹¶ç­‰æ¦‚å¿µå¤æ‚ï¼Œç”¨æˆ·ç†è§£æˆæœ¬è¾ƒé«˜</li><li>ç±»å‹å’Œå€¼æ··åˆå®šä¹‰æé«˜æŠ½è±¡ç¨‹åº¦çš„åŒæ—¶æå‡äº†ç”¨æˆ·çš„ç†è§£æˆæœ¬ï¼Œå¹¶ä¸”æ‰€æœ‰çº¦æŸåœ¨è¿è¡Œæ—¶è¿›è¡Œæ£€æŸ¥ï¼Œå¤§è§„æ¨¡é…ç½®ä»£ç ä¸‹æœ‰æ€§èƒ½ç“¶é¢ˆ</li><li>å¯¹äºæƒ³è¦é…ç½®è¦†ç›–ã€ä¿®æ”¹çš„å¤šç§Ÿæˆ·ã€å¤šç¯å¢ƒåœºæ™¯éš¾ä»¥å®ç°</li><li>å¯¹äºå¸¦æ¡ä»¶çš„çº¦æŸåœºæ™¯ï¼Œå®šä¹‰å’Œæ ¡éªŒæ··åˆå®šä¹‰ç¼–å†™ç”¨æˆ·ç•Œé¢ä¸å‹å¥½</li></ul></li></ul><p>ç±»å‹åŒ– KV çš„ä»£è¡¨æŠ€æœ¯æœ‰:</p><ul><li><a href="https://github.com/cue-lang/cue" target="_blank" rel="noopener noreferrer">CUE</a>ï¼šCUE è§£å†³çš„æ ¸å¿ƒé—®é¢˜æ˜¯â€œç±»å‹æ£€æŸ¥â€ï¼Œä¸»è¦åº”ç”¨äºé…ç½®çº¦æŸæ ¡éªŒåœºæ™¯åŠç®€å•çš„äº‘åŸç”Ÿé…ç½®åœºæ™¯</li><li><a href="https://github.com/dhall-lang/dhall-lang" target="_blank" rel="noopener noreferrer">Dhall</a>ï¼šDhall æ˜¯ä¸€ç§å¯ç¼–ç¨‹é…ç½®è¯­è¨€ï¼Œå®ƒç»„åˆäº† JSONã€å‡½æ•°ã€ç±»å‹å’Œ imports å¯¼å…¥ç­‰åŠŸèƒ½, æœ¬èº«é£æ ¼åå‘å‡½æ•°å¼ï¼Œå¦‚æœæ‚¨å­¦è¿‡ haskell ç­‰å‡½æ•°å¼é£æ ¼è¯­è¨€ï¼Œå¯èƒ½ä¼šå¯¹å®ƒæ„Ÿåˆ°ç†Ÿæ‚‰çš„ã€‚</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="æ¨¡å‹åŒ–-modeled-çš„-kv">æ¨¡å‹åŒ– (Modeled) çš„ KV<a href="#æ¨¡å‹åŒ–-modeled-çš„-kv" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>æ¨¡å‹åŒ–çš„ KV åœ¨ä»£ç åŒ–å’Œç±»å‹åŒ– KV çš„åŸºç¡€ä¸Šä»¥é«˜çº§è¯­è¨€å»ºæ¨¡èƒ½åŠ›ä¸ºæ ¸å¿ƒæè¿°ï¼ŒæœŸæœ›åšåˆ°æ¨¡å‹çš„å¿«é€Ÿç¼–å†™ä¸åˆ†å‘ï¼Œå…¶ä¼˜åŠ£å¦‚ä¸‹:</p><ul><li>ä¼˜åŠ¿<ul><li>å¼•å…¥å¯åˆ†å—ã€å¯æ‰©å±•çš„ KV é…ç½®å—ç¼–å†™æ–¹å¼</li><li>ç±»é«˜çº§ç¼–ç¨‹è¯­è¨€çš„ç¼–å†™ã€æµ‹è¯•æ–¹å¼</li><li>è¯­è¨€å†…ç½®çš„å¼ºæ ¡éªŒã€å¼ºçº¦æŸæ”¯æŒ</li><li>é¢å‘äººç±»å¯è¯»å¯å†™ï¼Œé¢å‘æœºå™¨éƒ¨åˆ†å¯è¯»å¯å†™</li></ul></li><li>ä¸è¶³<ul><li>æ‰©å±•æ–°æ¨¡å‹åŠç”Ÿæ€æ„å»ºéœ€è¦ä¸€å®šçš„ç ”å‘æˆæœ¬ï¼Œæˆ–è€…ä½¿ç”¨å·¥å…·å¯¹ç¤¾åŒºä¸­å·²æœ‰çš„ JsonSchema å’Œ OpenAPI æ¨¡å‹è¿›è¡Œæ¨¡å‹è½¬æ¢ã€è¿ç§»å’Œé›†æˆï¼Œé€šè¿‡åŒ…ç®¡ç†å·¥å…·å’Œ Registry ç­‰ã€‚</li></ul></li></ul><p>æ¨¡å‹åŒ– KV çš„ä»£è¡¨æŠ€æœ¯æœ‰:</p><ul><li><a href="https://github.com/kcl-lang/kcl" target="_blank" rel="noopener noreferrer">KCL</a>ï¼šä¸€ç§ Rust å®ç°çš„å£°æ˜å¼é…ç½®ç­–ç•¥ç¼–ç¨‹è¯­è¨€ï¼ŒæŠŠè¿ç»´ç±»ç ”å‘ç»Ÿä¸€ä¸ºä¸€ç§å£°æ˜å¼çš„ä»£ç ç¼–å†™ï¼Œå¯ä»¥é’ˆå¯¹å·®å¼‚åŒ–åº”ç”¨äº¤ä»˜åœºæ™¯æŠ½è±¡å‡ºç”¨æˆ·æ¨¡å‹å¹¶æ·»åŠ ç›¸åº”çš„çº¦æŸèƒ½åŠ›ï¼ŒæœŸæœ›å€ŸåŠ©å¯ç¼–ç¨‹ DevOps ç†å¿µè§£å†³è§„æ¨¡åŒ–è¿ç»´åœºæ™¯ä¸­çš„é…ç½®ç­–ç•¥ç¼–å†™çš„æ•ˆç‡å’Œå¯æ‰©å±•æ€§ç­‰é—®é¢˜ã€‚</li><li><a href="https://github.com/tweag/nickel" target="_blank" rel="noopener noreferrer">Nickel</a>ï¼šNickel æ˜¯ä¸€ç§ç®€å•çš„é…ç½®è¯­è¨€ã€‚å®ƒçš„ç›®çš„æ˜¯è‡ªåŠ¨ç”Ÿæˆé™æ€é…ç½®æ–‡ä»¶ï¼Œæœ¬è´¨ä¸Šæ˜¯å¸¦æœ‰å‡½æ•°å’Œç±»å‹çš„ JSONã€‚</li></ul><p>æ­¤å¤–ï¼ŒKCL å’Œ Nickel éƒ½æœ‰ç±»ä¼¼çš„æ¸è¿›å¼ç±»å‹ç³»ç»Ÿï¼ˆé™æ€+åŠ¨æ€ï¼‰ã€åˆå¹¶ç­–ç•¥ã€å‡½æ•°å’Œçº¦æŸå®šä¹‰ã€‚ä¸åŒä¹‹å¤„åœ¨äº KCL æ˜¯ä¸€ç§ç±»ä¼¼ Python çš„è¯­è¨€ï¼Œè€Œ Nickel æ˜¯ä¸€ç§ç±»ä¼¼ JSON çš„è¯­è¨€ã€‚æ­¤å¤–ï¼ŒKCL æä¾›äº† schema å…³é”®å­—æ¥åŒºåˆ†é…ç½®å®šä¹‰å’Œé…ç½®æ•°æ®ï¼Œä»¥é¿å…æ··åˆä½¿ç”¨ã€‚æ­¤å¤–ä½¿ç”¨ KCL å’Œ KCL çš„æ¨¡å‹åº“è¿˜å¯ä»¥ä¸ <a href="https://www.kusionstack.io/" target="_blank" rel="noopener noreferrer">KusionStack</a>, <a href="https://kubevela.net/" target="_blank" rel="noopener noreferrer">KubeVela</a> ç­‰å¼•æ“æ›´å¥½åœ°é›†æˆã€‚</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="é€šç”¨è¯­è¨€å’Œ-cdks">é€šç”¨è¯­è¨€å’Œ CDKs<a href="#é€šç”¨è¯­è¨€å’Œ-cdks" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>é™¤äº†ä½¿ç”¨ DSL æ¥å®šä¹‰ Kubernetes èµ„æºï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨é€šç”¨è¯­è¨€æ¥å®šä¹‰ã€‚ä¸è¿‡é€šç”¨è¯­è¨€ä¸€èˆ¬æ˜¯ Overkill çš„ï¼Œå³è¿œè¿œè¶…è¿‡äº†éœ€è¦è§£å†³çš„é—®é¢˜ï¼Œé€šç”¨è¯­è¨€å­˜åœ¨å„å¼å„æ ·çš„å®‰å…¨é—®é¢˜ï¼Œæ¯”å¦‚èƒ½åŠ›è¾¹ç•Œé—®é¢˜ (å¯åŠ¨æœ¬åœ°çº¿ç¨‹ã€è®¿é—® IO, ç½‘ç»œï¼Œä»£ç æ­»å¾ªç¯ç­‰ä¸å®‰å…¨éšæ‚£)ï¼Œæ¯”å¦‚åƒéŸ³ä¹é¢†åŸŸå°±æœ‰ä¸“é—¨çš„éŸ³ç¬¦å»è¡¨ç¤ºéŸ³ä¹ï¼Œæ–¹ä¾¿å­¦ä¹ ä¸äº¤æµï¼Œä¸æ˜¯ä¸€èˆ¬æ–‡å­—è¯­è¨€å¯ä»¥è¡¨è¿°æ¸…æ¥šçš„ã€‚</p><p>æ­¤å¤–ï¼Œé€šç”¨è¯­è¨€å› ä¸ºæœ¬èº«å°±æ ·å¼ç¹å¤šï¼Œå­˜åœ¨ç»Ÿä¸€ç»´æŠ¤ã€ç®¡ç†å’Œè‡ªåŠ¨åŒ–çš„æˆæœ¬ï¼Œé€šç”¨è¯­è¨€ä¸€èˆ¬ç”¨æ¥ç¼–å†™å®¢æˆ·ç«¯è¿è¡Œæ—¶ï¼Œæ˜¯æœåŠ¡ç«¯è¿è¡Œæ—¶çš„ä¸€ä¸ªå»¶ç»­ï¼Œä¸é€‚åˆç¼–å†™ä¸è¿è¡Œæ—¶æ— å…³çš„é…ç½®ï¼Œæœ€ç»ˆè¢«ç¼–è¯‘ä¸ºäºŒè¿›åˆ¶ä»è¿›ç¨‹å¯åŠ¨ï¼Œç¨³å®šæ€§å’Œæ‰©å±•æ€§ä¸å¥½æ§åˆ¶ï¼Œè€Œé…ç½®è¯­è¨€å¾€å¾€ç¼–å†™çš„æ˜¯æ•°æ®ï¼Œå†æ­é…ä»¥ç®€å•çš„é€»è¾‘ï¼Œæè¿°çš„æ˜¯æœŸæœ›çš„æœ€ç»ˆç»“æœï¼Œç„¶åç”±ç¼–è¯‘å™¨æˆ–è€…å¼•æ“æ¥æ¶ˆè´¹è¿™ä¸ªæœŸæœ›ç»“æœã€‚</p><p>é€šç”¨è¯­è¨€å’Œ CDK çš„ä»£è¡¨æŠ€æœ¯æœ‰:</p><ul><li><a href="https://www.pulumi.com/docs/" target="_blank" rel="noopener noreferrer">Pulumi</a>ï¼šPulumi å…è®¸ä½¿ç”¨å¸¸è§çš„ç¼–ç¨‹è¯­è¨€ï¼ˆå¦‚ TypeScript, Python, Go, å’Œ .NET ç­‰ï¼‰æ¥ç¼–å†™ä»£ç ï¼Œå®šä¹‰å’Œéƒ¨ç½²äº‘åŸºç¡€è®¾æ–½ä»¥åŠåº”ç”¨æœåŠ¡ã€‚å½“ç„¶ Pulumi ä¹Ÿæ”¯æŒä½¿ç”¨ YAML æˆ–è€…å¯ä»¥ç¼–è¯‘ä¸º YAML çš„ DSL å¦‚ KCL ç­‰ã€‚</li><li><a href="https://cdk8s.io/" target="_blank" rel="noopener noreferrer">CDK8s</a>ï¼šCDK8s å¯ä»¥ç”¨äºå®šä¹‰Kubernetesèµ„æºå’Œåº”ç”¨ç¨‹åºã€‚CDK8s ä½¿ç”¨ä¸€ç§ç§°ä¸ºæ„é€ ï¼ˆconstructsï¼‰çš„é«˜çº§æŠ½è±¡æ¦‚å¿µæ¥è¡¨ç¤ºKubernetesçš„å„ç§èµ„æºï¼Œä¾‹å¦‚éƒ¨ç½²ã€æœåŠ¡å’Œé…ç½®ã€‚å¼€å‘äººå‘˜å¯ä»¥ä½¿ç”¨ TypeScriptã€Pythonå’ŒJavaç­‰ç¼–ç¨‹è¯­è¨€æ¥ç¼–å†™ä»£ç ï¼ŒCDK8s ä¼šå°†è¿™äº›ä»£ç è½¬æ¢ä¸ºæ ‡å‡†çš„Kubernetes YAMLæ¸…å•ï¼Œè¿™äº›æ¸…å•å¯ä»¥ç›´æ¥åº”ç”¨åˆ°Kubernetesé›†ç¾¤ä¸Šã€‚</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ç»“æ„åŒ–å’Œä»£ç åŒ–æ··åˆå‹-kv">ç»“æ„åŒ–å’Œä»£ç åŒ–æ··åˆå‹ KV<a href="#ç»“æ„åŒ–å’Œä»£ç åŒ–æ··åˆå‹-kv" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>æœ‰äº›å·¥å…·è™½ç„¶å¸¸ç”¨æ–¹å¼æ˜¯å®šä¹‰ç»“æ„åŒ– KV æ¥å®ç°é…ç½®ç®¡ç†ï¼Œä½†æ˜¯ä»ç„¶æä¾›äº†é¢å¤–çš„æ‰©å±•æ–¹å¼æ¥åº”å¯¹å¤æ‚çš„åœºæ™¯ï¼Œæ¶ˆé™¤æ›´å¤š YAML æ¨¡ç‰ˆã€‚æ¯”å¦‚ä¸€äº›äº‘åŸç”Ÿå·¥å…·æä¾›äº†å‡½æ•°æ‰©å±•æ–¹å¼ï¼Œè¿™äº›å‡½æ•°å¯ä»¥ä½¿ç”¨ Go, Typescript ç­‰é€šç”¨è¯­è¨€æˆ–è€… KCL ç­‰ DSL æ¥å®ç°ã€‚</p><ul><li><a href="https://github.com/carvel-dev/ytt" target="_blank" rel="noopener noreferrer">YTT</a> - YTT æ˜¯ä¸€ä¸ªç†è§£ YAML ç»“æ„çš„æ¨¡æ¿å·¥å…·ï¼Œå®ƒé€šè¿‡ä½¿ç”¨ Starlark è¯­è¨€å¸®åŠ©æ‚¨é€šè¿‡å¯é‡å¤ä½¿ç”¨çš„æ¨¡æ¿å’Œç”¨æˆ·æä¾›çš„å€¼è½»æ¾é…ç½®å¤æ‚çš„è½¯ä»¶ã€‚</li><li><a href="https://kpt.dev/" target="_blank" rel="noopener noreferrer">KPT</a>ï¼šä½¿ç”¨ KPT å’Œ KPT Function å¯ä»¥è§£è€¦æ•°æ®å’Œé€»è¾‘å®šä¹‰ï¼Œä»¥ Git ä»“åº“ä½œä¸ºé…ç½®æºçš„çœŸå®æ¥æºï¼Œé€šè¿‡å£°æ˜å¼æ–¹å¼ç®¡ç† Kubernetes é…ç½®çš„åŒæ—¶ä¸å¤±æ‰©å±•æ€§ã€‚</li><li><a href="https://kustomize.io/" target="_blank" rel="noopener noreferrer">Kustomize</a>ï¼šç±»ä¼¼ KPTï¼Œä½¿ç”¨ Kustomize å’Œ Kustomize Function ä¹Ÿå¯ä»¥è§£è€¦æ•°æ®å’Œé€»è¾‘å®šä¹‰ã€‚</li><li><a href="https://www.crossplane.io/" target="_blank" rel="noopener noreferrer">Crossplane</a>ï¼šä½¿ç”¨ Crossplane å’Œ Crossplane Composite Function è§£è€¦ XR å’Œ Composite èµ„æºå®šä¹‰ã€‚XR å¤åˆèµ„æºå…è®¸å¼€å‘äººå‘˜åˆ›å»ºæ›´é«˜çº§åˆ«çš„æŠ½è±¡ï¼Œè¿™äº›æŠ½è±¡å¯ä»¥å°è£…å’Œç»„åˆå¤šä¸ªä¸åŒç±»å‹çš„äº‘èµ„æºï¼ˆå¯èƒ½è·¨è¶Šä¸åŒçš„äº‘æä¾›å•†å’ŒæœåŠ¡ï¼‰ã€‚ä½¿ç”¨ Crossplane Composite Function æ¸²æŸ“è¿™äº›æŠ½è±¡èƒ½å¤Ÿå¾ˆå¥½ä¸ºä¸åŒçš„ä¾›åº”å•†èµ„æºæä¾›å¾ªç¯æˆ–è€…æ¡ä»¶ç­‰åŠŸèƒ½æå‡æ¨¡ç‰ˆèƒ½åŠ›çš„åŒæ—¶åœ°å‡å°‘ YAML ä»£ç ç¼–å†™é‡ã€‚</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="å®¢æˆ·ç«¯æˆ–è€…è¿è¡Œæ—¶å·¥å…·-åŒ…æ‹¬-operators-å’Œ-kubernetes-crds">å®¢æˆ·ç«¯æˆ–è€…è¿è¡Œæ—¶å·¥å…· (åŒ…æ‹¬ Operators å’Œ Kubernetes CRDs)<a href="#å®¢æˆ·ç«¯æˆ–è€…è¿è¡Œæ—¶å·¥å…·-åŒ…æ‹¬-operators-å’Œ-kubernetes-crds" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>Kubernetes æä¾›äº† Mutation Webhook å’Œ Validation Webhook å¯ä»¥åœ¨è¿è¡Œæ—¶ä¿®æ”¹æˆ–éªŒè¯ Kubernetes èµ„æºå¯¹è±¡åœ¨è¢«æŒä¹…åŒ–ä¹‹å‰çš„è¯·æ±‚ã€‚</p><p>Operators å’Œ Kubernetes CRDs çš„ä»£è¡¨æŠ€æœ¯æœ‰</p><ul><li><a href="https://kusionstack" target="_blank" rel="noopener noreferrer">KusionStack</a> - KusionStack æ˜¯ä¸€ä¸ªç°ä»£çš„åº”ç”¨ç¨‹åºäº¤ä»˜å’Œç®¡ç†å·¥å…·é“¾ï¼Œä½¿å¼€å‘äººå‘˜èƒ½å¤Ÿä»¥å£°æ˜çš„æ–¹å¼æŒ‡å®šæ‰€éœ€çš„æ„å›¾ï¼Œç„¶åä½¿ç”¨ä¸€è‡´çš„å·¥ä½œæµæ¥æ¨åŠ¨åº”ç”¨ç¨‹åºç”Ÿå‘½å‘¨æœŸä¸­çš„è¿ç»­éƒ¨ç½²ã€‚æ­¤å¤–ï¼ŒKusionStack é€šè¿‡ <code>Operation</code> å’Œ <code>ControllerMesh</code> ç­‰å­é¡¹ç›®æä¾›æ»¡è¶³ K8s æ ‡å‡†çš„äº‘åŸç”Ÿè¿ç»´ã€é“¾è·¯å¯è§‚æµ‹ã€èµ„æºå¯æ´å¯Ÿã€ç°åº¦å‘å¸ƒã€ç†”æ–­é™æµç­‰èƒ½åŠ›ï¼Œæ”¯æŒå¯¹ Pod è¿›è¡Œå¢é‡é…ç½®å’Œæ— æŸå˜æ›´ï¼Œä»¥å¸®åŠ©å¼€å‘è€…æ›´å¥½åœ°æ­å»ºè‡ªå·±çš„å¹³å°ã€‚</li><li><a href="https://kubevela.io/docs/" target="_blank" rel="noopener noreferrer">KubeVela</a>ï¼šKubeVela æ˜¯ä¸€ä¸ªç°ä»£åŒ–çš„åº”ç”¨äº¤ä»˜ç³»ç»Ÿï¼Œå®ƒåŸºäº Open Application Modelï¼ˆOAMï¼‰è§„èŒƒæ„å»ºï¼Œä¸ºå¼€å‘è€…å’Œè¿ç»´å›¢é˜Ÿæä¾›äº†ä¸€å¥—ç®€åŒ–å’Œç»Ÿä¸€çš„æ–¹å¼æ¥éƒ¨ç½²ã€ç®¡ç†å’Œè¿ç»´åº”ç”¨ã€‚</li><li><a href="https://www.crossplane.io/" target="_blank" rel="noopener noreferrer">Crossplane</a>ï¼šCrossplane æ˜¯ä¸€ä¸ªå¼€æºçš„å¤šäº‘æ§åˆ¶å¹³é¢ï¼Œå®ƒåœ¨ Kubernetes ä¸Šæä¾›äº†åŸºç¡€è®¾æ–½å³ä»£ç çš„èƒ½åŠ›ã€‚Crossplane å…è®¸ä½ å®šä¹‰ XRD å’Œ XR æ¥ç®¡ç†å’Œç»„åˆäº‘èµ„æºï¼ˆå¦‚æ•°æ®åº“ã€å­˜å‚¨å’Œè®¡ç®—èµ„æºï¼‰ç›´æ¥ä» Kubernetes APIã€‚</li><li><a href="https://github.com/radius-project/radius" target="_blank" rel="noopener noreferrer">Radius</a> - Radius æ˜¯ä¸€ä¸ªäº‘åŸç”Ÿã€å¯ç§»æ¤çš„åº”ç”¨ç¨‹åºå¹³å°ï¼Œä½¿æ„å»ºäº‘åŸç”Ÿåº”ç”¨ç¨‹åºçš„å›¢é˜Ÿæ›´å®¹æ˜“è¿›è¡Œåº”ç”¨ç¨‹åºå¼€å‘ã€‚</li><li><a href="https://github.com/kcl-lang/kcl-operator" target="_blank" rel="noopener noreferrer">KCL Operator</a>ï¼šKCL Operator åŸºäº KCL è¯­è¨€åœ¨è¿è¡Œæ—¶ä¸º Kubernetes èµ„æºé…ç½®å¸¦æ¥ç¼–ç¨‹èƒ½åŠ›ï¼Œä½¿ç”¨ DSL çš„çµæ´»æ€§æ¥é¿å…ç¹ççš„ Webhook çš„å¼€å‘å¹¶æ¥å…¥ KCL å·²æœ‰çš„<a href="https://github.com/kcl-lang/modules" target="_blank" rel="noopener noreferrer">ç”Ÿæ€æ¨¡å‹</a>ã€‚</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="gitops-å·¥å…·">GitOps å·¥å…·<a href="#gitops-å·¥å…·" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>GitOps æ˜¯ä¸€ç§ä½¿ç”¨ Git ä½œä¸ºçœŸå®æ¥æºçš„ç³»ç»Ÿç®¡ç†æ–¹æ³•ï¼Œå®ƒå°†åº”ç”¨ç¨‹åºéƒ¨ç½²å’ŒåŸºç¡€è®¾æ–½é…ç½®çš„å£°æ˜æ€§æè¿°å­˜å‚¨åœ¨ Git ä»“åº“ä¸­ã€‚GitOps å·¥å…·é€šå¸¸æä¾›äº†è‡ªåŠ¨åŒ–çš„è¿ç»­éƒ¨ç½²èƒ½åŠ›ï¼Œå¹¶ç¡®ä¿ Kubernetes é›†ç¾¤çš„å®æ—¶çŠ¶æ€åŒ¹é… Git ä»“åº“ä¸­çš„é…ç½®ã€‚é€šå¸¸ GitOps å·¥å…·éƒ½åŸç”Ÿæä¾›æˆ–è€…é€šè¿‡æ’ä»¶æ”¯æŒä¸å„ç§ Kubernetes é…ç½®å®šä¹‰æ–¹å¼è¿›è¡Œé›†æˆ (ç»“æ„åŒ–ï¼Œæ¨¡ç‰ˆåŒ–ï¼Œä»£ç åŒ– KV ç­‰å¦‚ Kustomize, Helm, Jsonnet, KCL ç­‰)</p><p>GitOps çš„ä»£è¡¨æŠ€æœ¯æœ‰</p><ul><li><a href="https://argo-cd.readthedocs.io/en/stable/" target="_blank" rel="noopener noreferrer">ArgoCD</a>ï¼šArgoCD æ˜¯ä¸€ä¸ªå£°æ˜æ€§çš„ã€GitOps æŒç»­äº¤ä»˜å·¥å…·ï¼Œç”¨äºè‡ªåŠ¨åŒ– Kubernetes é…ç½®ã€ç›‘æ§å’Œç®¡ç†ã€‚å®ƒé€šè¿‡è¿½è¸ªé…ç½®ä¿¡æ¯åœ¨ Git ä»“åº“ä¸­çš„å˜åŒ–æ¥è‡ªåŠ¨éƒ¨ç½²å’Œæ›´æ–°åº”ç”¨ç¨‹åºå’Œé…ç½®ã€‚ArgoCD æä¾›äº†å¯è§†åŒ–çš„ç•Œé¢ä»¥åŠè¯¦å°½çš„æ§åˆ¶å’Œå®‰å…¨æ€§ç‰¹æ€§ï¼Œå®ƒæ”¯æŒå¤šç§é…ç½®ç®¡ç†å·¥å…·ï¼Œå¦‚ Helmã€Kustomizeã€Jsonnet ç­‰ã€‚</li><li><a href="https://fluxcd.io/" target="_blank" rel="noopener noreferrer">FluxCD</a>ï¼šFluxCD æ˜¯å¦ä¸€æ¬¾æµè¡Œçš„ GitOps å·¥å…·ï¼Œå®ƒä¹Ÿå…è®¸å¼€å‘äººå‘˜ä»¥ Git ä»“åº“ä½œä¸ºå•ä¸€çš„é…ç½®æºã€‚Flux è‡ªåŠ¨ç¡®ä¿ Kubernetes é›†ç¾¤çš„çŠ¶æ€ä¸ Git ä»“åº“ä¸­çš„é…ç½®åŒæ­¥ã€‚å®ƒæ”¯æŒè‡ªåŠ¨æ›´æ–°ï¼Œè¿™æ„å‘³ç€ Flux å¯ä»¥ç›‘æ§ Docker é•œåƒä»“åº“çš„æ–°é•œåƒï¼Œå¹¶å°†æ›´æ–°æ¨é€åˆ°é›†ç¾¤ä¸­ã€‚</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="infra-from-code-ifc-å·¥å…·">Infra from Code (IfC) å·¥å…·<a href="#infra-from-code-ifc-å·¥å…·" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>Infra from Code (IfC) æ˜¯ä¸€ç§ç®¡ç†åŸºç¡€è®¾æ–½çš„æ–¹æ³•ï¼Œç±»ä¼¼äº IaC (Infrastructure as Code)ï¼Œå®ƒé€šè¿‡ä»£ç æ¥å®šä¹‰å’Œç®¡ç†åº•å±‚åŸºç¡€è®¾æ–½ï¼Œé€šå¸¸é€šè¿‡ä»£ç æ„å›¾æ¨å¯¼çš„å½¢å¼è€Œä¸æ˜¯æ˜¾å¼å®šä¹‰åŸºç¡€è®¾æ–½ä»£ç ã€‚</p><ul><li><a href="https://github.com/winglang/wing" target="_blank" rel="noopener noreferrer">Winglang</a>ï¼šWinglang æ˜¯é¢å‘äº‘çš„æ–°çš„ç¼–ç¨‹è¯­è¨€ï¼Œå°†åŸºç¡€è®¾æ–½å’Œè¿è¡Œæ—¶ä»£ç ç»“åˆåœ¨ä¸€ç§è¯­è¨€ä¸­ï¼Œå¹¶åŒæ—¶æ”¯æŒ AWS, Kubernetes å¤šç§æ„å»ºç›®æ ‡ã€‚æ­¤å¤–ï¼ŒWinglang è¿˜æä¾›äº†ç›´æ¥æ“ä½œå®¹å™¨å’Œ Helm Chart é…ç½®çš„å†…ç½®åº“ã€‚</li><li><a href="https://github.com/pluto-lang/pluto" target="_blank" rel="noopener noreferrer">Plutolang</a>ï¼šPluto æ˜¯ä¸€ç§æ–°å‹å¼€æºç¼–ç¨‹è¯­è¨€ï¼Œæ—¨åœ¨å¸®åŠ©å¼€å‘è€…ç¼–å†™äº‘åº”ç”¨ç¨‹åºï¼Œé™ä½äº‘æœåŠ¡çš„ä½¿ç”¨éš¾åº¦ã€‚å¼€å‘è€…å¯ä»¥æ ¹æ®ä¸šåŠ¡éœ€æ±‚ï¼Œåœ¨ä»£ç ä¸­ç›´æ¥ä½¿ç”¨æ‰€éœ€èµ„æºï¼Œä¾‹å¦‚ KV æ•°æ®åº“ã€æ¶ˆæ¯é˜Ÿåˆ—ç­‰ã€‚Pluto é€šè¿‡<strong>é™æ€åˆ†æä»£ç </strong>è·å–åº”ç”¨ä¾èµ–çš„åŸºç¡€è®¾æ–½èµ„æºæ‹“æ‰‘ï¼Œå¹¶åœ¨æŒ‡å®šçš„äº‘å¹³å°æˆ–è€… Kubernetes ä¸Šéƒ¨ç½²ç›¸åº”çš„èµ„æºå®ä¾‹å’Œåº”ç”¨ç¨‹åºã€‚</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="æ€»ç»“">æ€»ç»“<a href="#æ€»ç»“" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>æ¯ç§ç®¡ç†æ–¹å¼éƒ½æœ‰å…¶ç‰¹å®šçš„ä¼˜åŠ¿å’Œç”¨é€”ã€‚å¯¹äºç®€å•çš„é¡¹ç›®ï¼Œå¯èƒ½åªéœ€è¦ä½¿ç”¨åŸç”Ÿçš„ Kubernetes YAML æ–‡ä»¶å’Œ ConfigMapsã€‚å¯¹äºéœ€è¦æ›´å¼ºå¤§çš„æ¨¡æ¿åŠŸèƒ½å’ŒåŒ…ç®¡ç†çš„å¤æ‚é¡¹ç›®ï¼Œå¯ä»¥é€‰æ‹© Helm æˆ– Kustomizeã€‚å¦‚æœä½ éœ€è¦ä»¥ç¼–ç¨‹æ–¹å¼å¤„ç†é…ç½®æˆ–éœ€è¦å°† Kubernetes é›†æˆåˆ°æ›´å¹¿æ³›çš„äº‘åŸºç¡€è®¾æ–½ç®¡ç†ä¸­ï¼Œé‚£ä¹ˆåƒ Terraform å’Œ Pulumi è¿™æ ·çš„ IaC å·¥å…·æˆ–è€… KCL å’Œ CUE ç­‰ DSL æ¥æè¿°å¯èƒ½æ›´åŠ é€‚åˆã€‚</p><p>GitOps å·¥å…·æä¾›äº†ä¸€ç§ä»¥ Git ä¸ºæ ¸å¿ƒçš„æŒç»­éƒ¨ç½²æ–¹æ³•ã€‚è€Œ Operators å’Œ CRDs åˆ™å…è®¸ç”¨æˆ·å®šåˆ¶æ‰©å±• Kubernetes æœ¬èº«çš„åŠŸèƒ½ï¼Œä»¥é€‚åº”ç‰¹å®šåº”ç”¨çš„éœ€æ±‚ã€‚è¿™äº›ç®¡ç†æ–¹å¼ä¸æ˜¯ç›¸äº’æ’æ–¥çš„ï¼Œå®é™…ä¸Šï¼Œåœ¨å®é™…çš„é…ç½®ç®¡ç†å·¥ä½œä¸­ï¼Œå®ƒä»¬å¾€å¾€æ˜¯äº’è¡¥çš„ï¼Œå›¢é˜Ÿå¯ä»¥æ ¹æ®å…·ä½“éœ€æ±‚é€‰æ‹©å’Œç»„åˆæœ€é€‚åˆè‡ªå·±çš„å·¥å…·å’Œæ–¹æ³•ã€‚</p><p>é™¤æ­¤ä¹‹å¤–ï¼Œæ‚¨è¿˜çŸ¥é“æ€æ ·çš„æ–¹å¼? æ¬¢è¿è¡¥å……ã€‚â¤ï¸</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å‚è€ƒ">å‚è€ƒ<a href="#å‚è€ƒ" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><ul><li>Terraform Language: <a href="https://www.terraform.io/language" target="_blank" rel="noopener noreferrer">https://www.terraform.io/language</a></li><li>Terraform Kubernetes Provider: <a href="https://github.com/hashicorp/terraform-provider-kubernetes" target="_blank" rel="noopener noreferrer">https://github.com/hashicorp/terraform-provider-kubernetes</a></li><li>Terraform Provider AWS: <a href="https://github.com/hashicorp/terraform-provider-aws" target="_blank" rel="noopener noreferrer">https://github.com/hashicorp/terraform-provider-aws</a></li><li>Pulumi: <a href="https://www.pulumi.com/docs/" target="_blank" rel="noopener noreferrer">https://www.pulumi.com/docs/</a></li><li>Pulumi vs. Terraform: <a href="https://www.pulumi.com/docs/intro/vs/terraform/" target="_blank" rel="noopener noreferrer">https://www.pulumi.com/docs/intro/vs/terraform/</a></li><li>Google SRE Work Book Configuration Design: <a href="https://sre.google/workbook/configuration-design/" target="_blank" rel="noopener noreferrer">https://sre.google/workbook/configuration-design/</a></li><li>Google Borg Paper: <a href="https://storage.googleapis.com/pub-tools-public-publication-data/pdf/43438.pdf" target="_blank" rel="noopener noreferrer">https://storage.googleapis.com/pub-tools-public-publication-data/pdf/43438.pdf</a></li><li>Holistic Configuration Management at Facebook: <a href="https://sigops.org/s/conferences/sosp/2015/current/2015-Monterey/printable/008-tang.pdf" target="_blank" rel="noopener noreferrer">https://sigops.org/s/conferences/sosp/2015/current/2015-Monterey/printable/008-tang.pdf</a></li><li>JSON Spec: <a href="https://www.json.org/json-en.html" target="_blank" rel="noopener noreferrer">https://www.json.org/json-en.html</a></li><li>YAML Spec: <a href="https://yaml.org/spec/" target="_blank" rel="noopener noreferrer">https://yaml.org/spec/</a></li><li>GCL: <a href="https://github.com/rix0rrr/gcl" target="_blank" rel="noopener noreferrer">https://github.com/rix0rrr/gcl</a></li><li>HCL: <a href="https://github.com/hashicorp/hcl" target="_blank" rel="noopener noreferrer">https://github.com/hashicorp/hcl</a></li><li>CUE: <a href="https://github.com/cue-lang/cue" target="_blank" rel="noopener noreferrer">https://github.com/cue-lang/cue</a></li><li>KCL: <a href="https://github.com/kcl-lang/kcl" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl</a></li><li>Nickel: <a href="https://github.com/tweag/nickel" target="_blank" rel="noopener noreferrer">https://github.com/tweag/nickel</a></li><li>Jsonnet: <a href="https://github.com/google/jsonnet" target="_blank" rel="noopener noreferrer">https://github.com/google/jsonnet</a></li><li>Dhall: <a href="https://github.com/dhall-lang/dhall-lang" target="_blank" rel="noopener noreferrer">https://github.com/dhall-lang/dhall-lang</a></li><li>Starlark: <a href="https://github.com/bazelbuild/starlark" target="_blank" rel="noopener noreferrer">https://github.com/bazelbuild/starlark</a></li><li>CEL: <a href="https://kubernetes.io/docs/reference/using-api/cel/" target="_blank" rel="noopener noreferrer">https://kubernetes.io/docs/reference/using-api/cel/</a></li><li>Thrift: <a href="https://github.com/Thriftpy/thriftpy2" target="_blank" rel="noopener noreferrer">https://github.com/Thriftpy/thriftpy2</a></li><li>Kustomize: <a href="https://kustomize.io/" target="_blank" rel="noopener noreferrer">https://kustomize.io/</a></li><li>YTT: <a href="https://github.com/carvel-dev/ytt" target="_blank" rel="noopener noreferrer">https://github.com/carvel-dev/ytt</a></li><li>KPT: <a href="https://kpt.dev/" target="_blank" rel="noopener noreferrer">https://kpt.dev/</a></li><li>Kube-linter: <a href="https://github.com/stackrox/kube-linter" target="_blank" rel="noopener noreferrer">https://github.com/stackrox/kube-linter</a></li><li>Checkov: <a href="https://github.com/bridgecrewio/checkov" target="_blank" rel="noopener noreferrer">https://github.com/bridgecrewio/checkov</a></li><li>How Terraform Works: A Visual Intro: <a href="https://betterprogramming.pub/how-terraform-works-a-visual-intro-6328cddbe067" target="_blank" rel="noopener noreferrer">https://betterprogramming.pub/how-terraform-works-a-visual-intro-6328cddbe067</a></li><li>How Terraform Works: Modules Illustrated: <a href="https://awstip.com/terraform-modules-illustrate-26cbc48be83a" target="_blank" rel="noopener noreferrer">https://awstip.com/terraform-modules-illustrate-26cbc48be83a</a></li><li>TFLint: <a href="https://github.com/terraform-linters/tflint" target="_blank" rel="noopener noreferrer">https://github.com/terraform-linters/tflint</a></li><li>Helm: <a href="https://helm.sh/" target="_blank" rel="noopener noreferrer">https://helm.sh/</a></li><li>Helm vs. Kustomize: <a href="https://harness.io/blog/helm-vs-kustomize" target="_blank" rel="noopener noreferrer">https://harness.io/blog/helm-vs-kustomize</a></li><li>KubeVela: <a href="https://kubevela.io/docs/" target="_blank" rel="noopener noreferrer">https://kubevela.io/docs/</a></li><li>Radius: <a href="https://github.com/radius-project/radius" target="_blank" rel="noopener noreferrer">https://github.com/radius-project/radius</a></li><li>KusionStack: <a href="https://kusionstack.io" target="_blank" rel="noopener noreferrer">https://kusionstack.io</a></li><li>Crossplane: <a href="https://www.crossplane.io/" target="_blank" rel="noopener noreferrer">https://www.crossplane.io/</a></li><li>ArgoCD: <a href="https://argo-cd.readthedocs.io/en/stable/" target="_blank" rel="noopener noreferrer">https://argo-cd.readthedocs.io/en/stable/</a></li><li>FluxCD: <a href="https://fluxcd.io/" target="_blank" rel="noopener noreferrer">https://fluxcd.io/</a></li><li>Helmfile: <a href="https://helmfile.readthedocs.io/en/latest/" target="_blank" rel="noopener noreferrer">https://helmfile.readthedocs.io/en/latest/</a></li><li>CDK8s: <a href="https://cdk8s.io/" target="_blank" rel="noopener noreferrer">https://cdk8s.io/</a></li><li><a href="https://medium.com/@sushantkapare1717/helm-vs-kustomize-in-kubernetes-cc063bbb4b0e" target="_blank" rel="noopener noreferrer">Helm vs. Kustomize in Kubernetes</a></li><li>Winglang: <a href="https://github.com/winglang/wing" target="_blank" rel="noopener noreferrer">https://github.com/winglang/wing</a></li><li>Plutolang: <a href="https://github.com/pluto-lang/pluto" target="_blank" rel="noopener noreferrer">https://github.com/pluto-lang/pluto</a></li><li><a href="https://blog.terramate.io/infrastructure-as-code-landscape-in-2023-e2dad4fb87d3" target="_blank" rel="noopener noreferrer">Infrastructure as Code Landscape in 2023</a></li></ul>]]></content>
        <author>
            <name>KCL å›¢é˜Ÿ</name>
        </author>
        <category label="KCL" term="KCL"/>
        <category label="Configuration" term="Configuration"/>
        <category label="Landscape" term="Landscape"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[KCL ç¤¾åŒºå¼€æºåŒå‘¨æŠ¥ (2023 12.07 - 12.21) | KCL v0.7.2 å‘å¸ƒå’Œ KubeVela/OAM é›†æˆ]]></title>
        <id>https://kcl-lang.github.io/zh-CN/blog/2023-12-21-biweekly-newsletter</id>
        <link href="https://kcl-lang.github.io/zh-CN/blog/2023-12-21-biweekly-newsletter"/>
        <updated>2023-12-21T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[KCL æ˜¯ä¸€ä¸ª CNCF åŸºé‡‘ä¼šæ‰˜ç®¡çš„åŸºäºçº¦æŸçš„è®°å½•åŠå‡½æ•°è¯­è¨€ï¼ŒæœŸæœ›é€šè¿‡æˆç†Ÿçš„ç¼–ç¨‹è¯­è¨€æŠ€æœ¯å’Œå®è·µæ¥æ”¹è¿›å¯¹å¤§é‡ç¹æ‚é…ç½®æ¯”å¦‚äº‘åŸç”Ÿ Kubernetes é…ç½®åœºæ™¯çš„ç¼–å†™ï¼Œè‡´åŠ›äºæ„å»ºå›´ç»•é…ç½®çš„æ›´å¥½çš„æ¨¡å—åŒ–ã€æ‰©å±•æ€§å’Œç¨³å®šæ€§ï¼Œæ›´ç®€å•çš„é€»è¾‘ç¼–å†™ï¼Œä»¥åŠæ›´ç®€å•çš„è‡ªåŠ¨åŒ–å’Œç”Ÿæ€å·¥å…·é›†æˆã€‚]]></summary>
        <content type="html"><![CDATA[<p><img loading="lazy" src="/zh-CN/assets/images/biweekly-newsletter-zh-bd4cf8c2bcc913a580e7b0e5d6691a08.png" width="1127" height="435" class="img_ev3q"></p><p><a href="https://github.com/kcl-lang" target="_blank" rel="noopener noreferrer">KCL</a> æ˜¯ä¸€ä¸ª CNCF åŸºé‡‘ä¼šæ‰˜ç®¡çš„åŸºäºçº¦æŸçš„è®°å½•åŠå‡½æ•°è¯­è¨€ï¼ŒæœŸæœ›é€šè¿‡æˆç†Ÿçš„ç¼–ç¨‹è¯­è¨€æŠ€æœ¯å’Œå®è·µæ¥æ”¹è¿›å¯¹å¤§é‡ç¹æ‚é…ç½®æ¯”å¦‚äº‘åŸç”Ÿ Kubernetes é…ç½®åœºæ™¯çš„ç¼–å†™ï¼Œè‡´åŠ›äºæ„å»ºå›´ç»•é…ç½®çš„æ›´å¥½çš„æ¨¡å—åŒ–ã€æ‰©å±•æ€§å’Œç¨³å®šæ€§ï¼Œæ›´ç®€å•çš„é€»è¾‘ç¼–å†™ï¼Œä»¥åŠæ›´ç®€å•çš„è‡ªåŠ¨åŒ–å’Œç”Ÿæ€å·¥å…·é›†æˆã€‚</p><p>æœ¬æ ç›®å°†ä¼šåŒå‘¨æ›´æ–° KCL è¯­è¨€ç¤¾åŒºæœ€æ–°åŠ¨æ€ï¼ŒåŒ…æ‹¬åŠŸèƒ½ã€å®˜ç½‘æ›´æ–°å’Œæœ€æ–°çš„ç¤¾åŒºåŠ¨æ€ç­‰ï¼Œå¸®åŠ©å¤§å®¶æ›´å¥½åœ°äº†è§£ KCL ç¤¾åŒºï¼</p><p><strong><em>KCL å®˜ç½‘ï¼š<a href="https://kcl-lang.io" target="_blank" rel="noopener noreferrer">https://kcl-lang.io</a></em></strong></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å†…å®¹æ¦‚è¿°">å†…å®¹æ¦‚è¿°<a href="#å†…å®¹æ¦‚è¿°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>æ„Ÿè°¢æ‰€æœ‰è´¡çŒ®è€…è¿‡å»ä¸¤å‘¨ (2023 12.07 - 12.21) çš„æ°å‡ºå·¥ä½œï¼Œä»¥ä¸‹æ˜¯é‡ç‚¹å†…å®¹æ¦‚è¿°</p><p><strong>ğŸ“¦ æ¨¡å‹æ›´æ–°</strong></p><p>KCL æ¨¡å‹æ•°é‡æ–°å¢è‡³ <strong>300 ä¸ª</strong>ï¼Œå¢åŠ äº† k8s 1.29 ç‰ˆæœ¬çš„ KCL æ¨¡å‹ã€‚</p><p><strong>ğŸ”§ å·¥å…·é“¾æ›´æ–°</strong></p><ul><li><p><strong>å¯¼å…¥å·¥å…·æ›´æ–°</strong></p><ul><li>å¯¼å…¥å·¥å…·æ”¯æŒ OpenAPI allOf å…³é”®å­—æ ¡éªŒè¡¨è¾¾å¼ç”Ÿæˆ</li><li>å¯¼å…¥å·¥å…·æ”¯æŒ KCL æ•°ç»„å’Œå­—å…¸ç±»å‹çš„ all/any æ ¡éªŒè¡¨è¾¾å¼ç”Ÿæˆ</li><li>å¯¼å…¥å·¥å…·ä¿®å¤ JSON Schema æ•°ç»„ç”Ÿæˆ KCL ä»£ç ç‰‡æ®µé”™è¯¯åŠå­—ç¬¦ä¸²è½¬ä¹‰é”™è¯¯</li></ul></li><li><p><strong>ğŸ„ åŒ…ç®¡ç†å·¥å…·æ›´æ–°</strong></p><ul><li>å¢åŠ å¯¹åç§°ä¸­åŒ…å«æ¨ªçº¿çš„ä¸‰æ–¹åº“çš„æ”¯æŒã€‚</li><li>ä¿®å¤äº† update åŠŸèƒ½æ— æ³•è‡ªåŠ¨é€šè¿‡ kcl.mod å’Œ kcl.mod.lock çš„é—®é¢˜ã€‚</li></ul></li></ul><p><strong>ğŸ’» KCL æ›´æ–°</strong></p><ul><li>KCL ç¼–è¯‘ç¼“å­˜è·¯å¾„æ”¯æŒä½¿ç”¨ç¯å¢ƒå˜é‡ KCL_CACHE_PATH æŒ‡å®š</li><li>ä¿®å¤äº† KCL CLI ä½¿ç”¨ç¼–è¯‘å‚æ•° -S å¯èƒ½ä¼šå¯¼è‡´çš„ç¼–è¯‘é”™è¯¯</li><li>ä¿®å¤äº† kcl fmt å·¥å…·å¯¹ lambda è¡¨è¾¾å¼è¿›è¡Œæ ¼å¼åŒ–æ—¶ï¼Œç»“å°¾å¢åŠ ä¸€ä¸ªç©ºè¡Œçš„é”™è¯¯ã€‚</li><li>ä¿®å¤ Schema Doc è¡¥å…¨ä»£ç ç‰‡æ®µé”™è¯¯</li></ul><p><strong>ğŸ“’ IDE æ›´æ–°</strong></p><ul><li>ä¿®å¤äº† check è¯­å¥ä¸­å˜é‡è¡¥å…¨å¤±æ•ˆçš„é—®é¢˜</li><li>VSCode Extension æ›´æ–°è‡³ 0.1.3 ç‰ˆæœ¬ï¼Œæ›´æ–°äº†éƒ¨åˆ†å…³é”®å­—çš„é«˜äº®å’Œè¡¥å…¨</li><li>æ–°å¢äº† builtin å‡½æ•°çš„è¡¥å…¨</li><li>ä¼˜åŒ–äº†å‡½æ•°è¡¥å…¨çš„æ ·å¼</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ç²¾é€‰æ›´æ–°">ç²¾é€‰æ›´æ–°<a href="#ç²¾é€‰æ›´æ–°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="å®ç°é«˜æ•ˆäº‘åŸç”Ÿåº”ç”¨éƒ¨ç½²è¿ç»´---kcl-ä¸-kubevela-å¿«é€Ÿé›†æˆæŒ‡å—">å®ç°é«˜æ•ˆäº‘åŸç”Ÿåº”ç”¨éƒ¨ç½²è¿ç»´ - KCL ä¸ KubeVela å¿«é€Ÿé›†æˆæŒ‡å—<a href="#å®ç°é«˜æ•ˆäº‘åŸç”Ÿåº”ç”¨éƒ¨ç½²è¿ç»´---kcl-ä¸-kubevela-å¿«é€Ÿé›†æˆæŒ‡å—" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>KCL å»ºç«‹åœ¨ä¸€ä¸ªå®Œå…¨å¼€æ”¾çš„äº‘åŸç”Ÿä¸–ç•Œå½“ä¸­ï¼Œä¸ä¸ä»»ä½•ç¼–æ’/å¼•æ“å·¥å…·æˆ–è€… Kubernetes æ§åˆ¶å™¨ç»‘å®šï¼Œå¯ä»¥åŒæ—¶ä¸º Kubernetes å®¢æˆ·ç«¯å’Œè¿è¡Œæ—¶æä¾› API æŠ½è±¡ã€ç»„åˆå’Œæ ¡éªŒçš„èƒ½åŠ›ã€‚ç”¨æˆ·å¯ä»¥æ ¹æ®åœºæ™¯é€‰æ‹©åˆé€‚çš„äº‘åŸç”Ÿå·¥å…·æ¯”å¦‚ Kubectl, Helm, Kustomize, KPT, KusionStack, KubeVela, Helmfile, Crossplane æˆ– ArgoCD ç­‰æ¥å’Œ KCL ç»“åˆå°†é…ç½®ç”Ÿæ•ˆåˆ°é›†ç¾¤ã€‚</p><p>KubeVela æ˜¯ä¸€ä¸ª CNCF åŸºé‡‘ä¼šæ‰˜ç®¡çš„ç°ä»£çš„åº”ç”¨äº¤ä»˜ç³»ç»Ÿï¼Œå®ƒåŸºäº Open Application Modelï¼ˆOAMï¼‰è§„èŒƒæ„å»ºï¼Œæ—¨åœ¨å±è”½ Kubernetes çš„å¤æ‚æ€§ï¼Œæä¾›ä¸€å¥—ç®€å•æ˜“ç”¨çš„å‘½ä»¤è¡Œå·¥å…·å’Œ APIsï¼Œè®©å¼€å‘è€…æ— éœ€å…³å¿ƒåº•å±‚ç»†èŠ‚å³å¯éƒ¨ç½²å’Œè¿ç»´äº‘åŸç”Ÿåº”ç”¨ã€‚</p><p>é€šè¿‡ç»“åˆ KCL ä¸ KubeVelaï¼Œå¯ä»¥ä¸º KubeVela OAM é…ç½®æä¾›æ›´å¼ºçš„æ¨¡ç‰ˆåŒ–èƒ½åŠ›å¦‚æ¡ä»¶ï¼Œå¾ªç¯ç­‰ï¼Œå‡å°‘æ ·æ¿ YAML ä¹¦å†™ï¼ŒåŒæ—¶å¤ç”¨ KCL æ¨¡å‹åº“å’Œå·¥å…·é“¾ç”Ÿæ€ï¼Œæå‡é…ç½®åŠç­–ç•¥ç¼–å†™çš„ä½“éªŒå’Œç®¡ç†æ•ˆç‡ã€‚</p><p>å¹¶ä¸”ï¼Œç›¸è¾ƒäºå›´ç»• YAML è¿›è¡Œé…ç½®ï¼Œé€šè¿‡ KCL å¯ä»¥æä¾›æ›´æœ‰åˆ©äºç‰ˆæœ¬æ§åˆ¶å’Œå›¢é˜Ÿåä½œçš„é…ç½®æ–‡ä»¶ç»“æ„ï¼Œæ­é… KCL ç¼–å†™çš„ OAM åº”ç”¨æ¨¡å‹ï¼Œå¯ä»¥ä½¿å¾—åº”ç”¨é…ç½®æ›´æ˜“äºç»´æŠ¤å’Œè¿­ä»£ã€‚</p><p>ç»“åˆ KCL çš„é…ç½®ç®€æ´æ€§å’Œ KubeVela çš„æ˜“ç”¨æ€§ï¼Œè¿˜å¯ä»¥ç®€åŒ–æ—¥å¸¸çš„æ“ä½œä»»åŠ¡ï¼Œæ¯”å¦‚éƒ¨ç½²æ›´æ–°ã€æ‰©å±•æˆ–å›æ»šåº”ç”¨ã€‚å¯ä»¥ä½¿å¼€å‘è€…å¯ä»¥æ›´åŠ ä¸“æ³¨äºåº”ç”¨æœ¬èº«ï¼Œè€Œä¸æ˜¯éƒ¨ç½²è¿‡ç¨‹ä¸­çš„ç¹çç»†èŠ‚ã€‚</p><p>é€šè¿‡ KCL é…ç½®åˆ†å—ç¼–å†™ä»¥åŠåŒ…ç®¡ç†èƒ½åŠ›ä¸ KubeVela ç»“åˆä½¿ç”¨ï¼Œå¯ä»¥å®šä¹‰æ›´æ¸…æ™°çš„ç•Œé™ï¼Œä½¿å¾—ä¸åŒçš„å›¢é˜Ÿï¼ˆå¦‚å¼€å‘ã€æµ‹è¯•å’Œè¿ç»´å›¢é˜Ÿï¼‰å¯ä»¥æœ‰æ¡ç†åœ°åä½œã€‚æ¯ä¸ªå›¢é˜Ÿå¯ä»¥ä¸“æ³¨äºå…¶èŒè´£èŒƒå›´å†…çš„ä»»åŠ¡ï¼Œåˆ†åˆ«äº¤ä»˜ã€åˆ†äº«å’Œå¤ç”¨å„è‡ªçš„é…ç½®ï¼Œè€Œä¸ç”¨æ‹…å¿ƒå…¶ä»–æ–¹é¢çš„ç»†èŠ‚ã€‚</p><p>ä»¥ KCL Playground åº”ç”¨ä¸ºä¾‹ï¼ˆè¿™æ˜¯ä½¿ç”¨ Go å’Œ HTML5 ç¼–å†™çš„åº”ç”¨ï¼‰å±•ç¤ºå¦‚ä½•ä½¿ç”¨ KCL å®šä¹‰éœ€è¦éƒ¨ç½²çš„ OAM é…ç½®ï¼Œå¹¶é€šè¿‡ KubeVela å‘å¸ƒåº”ç”¨é…ç½®ã€‚</p><ul><li><p>å‡†å¤‡å·¥ä½œ</p><ul><li>é…ç½® Kubernetes é›†ç¾¤</li><li>å®‰è£… KubeVela</li><li>å®‰è£… KCL</li></ul></li><li><p>æ–°å»ºå·¥ç¨‹å¹¶æ·»åŠ  OAM åº“ä¾èµ–</p></li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kcl mod init kcl-play-svc &amp;&amp; cd kcl-play-svc &amp;&amp; kcl mod add oam</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>åœ¨ main.k ä¸­ç¼–å†™ä»£ç </li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">import oam</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">oam.Application {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    metadata.name = "kcl-play-svc"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    spec.components = [{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        name = metadata.name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        type = "webservice"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        properties = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            image = "kcllang/kcl"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ports = [{port = 80, expose = True}]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            cmd = ["kcl", "play"]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>è¿è¡Œå‘½ä»¤ä¸‹å‘é…ç½®</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kcl run | vela up -f -</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>ç«¯å£è½¬å‘</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">vela port-forward kcl-play-svc</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ç„¶åæˆ‘ä»¬å¯ä»¥åœ¨æµè§ˆå™¨ä¸­çœ‹åˆ° KCL Playground åº”ç”¨æˆåŠŸè¿è¡Œ</p><p><img loading="lazy" alt="kcl-play-svc" src="/zh-CN/assets/images/kcl-play-svc-17cdd017ee58347075be64904d62e73f.png" width="2326" height="858" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ide-ä¼˜åŒ–äº†å‡½æ•°è¡¥å…¨çš„æ ·å¼">IDE ä¼˜åŒ–äº†å‡½æ•°è¡¥å…¨çš„æ ·å¼<a href="#ide-ä¼˜åŒ–äº†å‡½æ•°è¡¥å…¨çš„æ ·å¼" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p><img loading="lazy" alt="ide-func" src="/zh-CN/assets/images/ide-func-96160828de7f06d68aa5c50f372008c2.gif" width="870" height="427" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å…¶ä»–èµ„æº">å…¶ä»–èµ„æº<a href="#å…¶ä»–èµ„æº" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>â¤ï¸ æ„Ÿè°¢æ‰€æœ‰ KCL ç”¨æˆ·å’Œç¤¾åŒºå°ä¼™ä¼´åœ¨ç¤¾åŒºä¸­æå‡ºçš„å®è´µåé¦ˆä¸å»ºè®®ã€‚åç»­æˆ‘ä»¬ä¼šå‘å¸ƒæ›´å¤š KCL äº‘åŸç”Ÿæ¨¡å‹å’Œå·¥å…·é›†æˆæ–‡ç« ï¼Œæ•¬è¯·æœŸå¾…! æŸ¥çœ‹ <em><a href="https://github.com/kcl-lang/community" target="_blank" rel="noopener noreferrer">KCL ç¤¾åŒº</a></em> åŠ å…¥æˆ‘ä»¬ã€‚</p><p>æ›´å¤šå…¶ä»–èµ„æºè¯·å‚è€ƒï¼š</p><ul><li><a href="https://kcl-lang.io/" target="_blank" rel="noopener noreferrer">KCL ç½‘ç«™</a></li><li><a href="https://kusionstack.io/" target="_blank" rel="noopener noreferrer">KusionStack ç½‘ç«™</a></li><li><a href="https://github.com/kcl-lang/kcl/milestone/8" target="_blank" rel="noopener noreferrer">KCL v0.8.0 Milestone</a></li></ul>]]></content>
        <author>
            <name>KCL å›¢é˜Ÿ</name>
        </author>
        <category label="KCL" term="KCL"/>
        <category label="Biweekly-Newsletter" term="Biweekly-Newsletter"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[å¦‚ä½•å°† KCL ä»£ç éƒ¨ç½²åˆ°é›†ç¾¤?]]></title>
        <id>https://kcl-lang.github.io/zh-CN/blog/2023-12-19-how-to-apply-kcl-config-to-cluster</id>
        <link href="https://kcl-lang.github.io/zh-CN/blog/2023-12-19-how-to-apply-kcl-config-to-cluster"/>
        <updated>2023-12-19T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[ä»€ä¹ˆæ˜¯ KCL]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ä»€ä¹ˆæ˜¯-kcl">ä»€ä¹ˆæ˜¯ KCL<a href="#ä»€ä¹ˆæ˜¯-kcl" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p><a href="https://kcl-lang.io" target="_blank" rel="noopener noreferrer">KCL</a> æ˜¯ä¸€ä¸ª CNCF åŸºé‡‘ä¼šæ‰˜ç®¡çš„é¢å‘äº‘åŸç”Ÿåœºæ™¯çš„é…ç½®åŠç­–ç•¥è¯­è¨€ï¼ŒæœŸæœ›é€šè¿‡æˆç†Ÿçš„ç¼–ç¨‹è¯­è¨€æŠ€æœ¯å’Œå®è·µæ¥æ”¹è¿›å¯¹å¤§é‡ç¹æ‚é…ç½®æ¯”å¦‚äº‘åŸç”Ÿ Kubernetes é…ç½®åœºæ™¯çš„ç¼–å†™ï¼Œè‡´åŠ›äºæ„å»ºå›´ç»•é…ç½®çš„æ›´å¥½çš„æ¨¡å—åŒ–ã€æ‰©å±•æ€§å’Œç¨³å®šæ€§ï¼Œæ›´ç®€å•çš„é€»è¾‘ç¼–å†™ï¼Œä»¥åŠæ›´ç®€å•çš„è‡ªåŠ¨åŒ–å’Œç”Ÿæ€å·¥å…·é›†æˆã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å°†-kcl-é…ç½®éƒ¨ç½²åˆ°é›†ç¾¤çš„å‡ ç§æ–¹å¼">å°† KCL é…ç½®éƒ¨ç½²åˆ°é›†ç¾¤çš„å‡ ç§æ–¹å¼<a href="#å°†-kcl-é…ç½®éƒ¨ç½²åˆ°é›†ç¾¤çš„å‡ ç§æ–¹å¼" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p><img loading="lazy" alt="cloud-native-tool-integration" src="/zh-CN/assets/images/cloud-native-tool-integration-b2157c3d2b3210c16f145176928e2cfc.png" width="1386" height="608" class="img_ev3q"></p><p>å› ä¸º KCL æœ¬èº«å¯ä»¥è¾“å‡ºä¸º YAML/JSON æ–‡ä»¶ï¼Œå› æ­¤ç†è®ºä¸Šæ”¯æŒå°† YAML/JSON é…ç½®éƒ¨ç½²åˆ°é›†ç¾¤çš„æ–¹å¼ï¼Œéƒ½å¯ä»¥å°† KCL é…ç½®éƒ¨ç½²åˆ°é›†ç¾¤ï¼Œé€šå¸¸æˆ‘ä»¬å°† KCL æ–‡ä»¶æ”¾åœ¨ Git æˆ–è€… Module Registry ä¸­ä¿å­˜æ–¹ä¾¿ä¸ä¸åŒçš„è§’è‰²å’Œå›¢é˜Ÿä¹‹é—´å…±äº«é…ç½®ï¼Œä½†æ˜¯ KCL å¯ä»¥åšåˆ°çš„è¿œä¸æ­¢è¿™äº›ï¼Œè¿™é‡Œå°†å¯ä»¥å°† KCL é…ç½®éƒ¨ç½²åˆ°çš„é›†ç¾¤ä¸»è¦åˆ†ä¸ºå¦‚ä¸‹å‡ ç§æƒ…å†µã€‚</p><ul><li><strong>ä½¿ç”¨ kubectl</strong>: è®¿é—® Kubernetes é›†ç¾¤æœ€åŸºæœ¬çš„æ–¹å¼å°±æ˜¯ä½¿ç”¨ Kubectlï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ kubectl apply å‘½ä»¤ç›´æ¥å°† KCL ç”Ÿæˆçš„ Kubernetes YAML é…ç½®æ–‡ä»¶éƒ¨ç½²åˆ°é›†ç¾¤ä¸­ã€‚è¿™ç§æ–¹å¼ç®€å•å¿«æ·ï¼Œé€‚ç”¨äºå•ä¸ªæˆ–å°‘é‡èµ„æºçš„éƒ¨ç½²</li><li><strong>ä½¿ç”¨ CI/CD å·¥å…·</strong>: å¯ä»¥ä½¿ç”¨ CI/CD å·¥å…·ï¼ˆä¾‹å¦‚ Jenkinsã€GitLab CIã€CircleCIã€ArgoCDã€FluxCD ç­‰ï¼‰æ¥å®ç° GitOps è‡ªåŠ¨åŒ–éƒ¨ç½² Kubernetes YAML é…ç½®æ–‡ä»¶åˆ°é›†ç¾¤ä¸­ã€‚é€šè¿‡å®šä¹‰ CI/CD æµç¨‹å’Œé…ç½®æ–‡ä»¶ï¼Œå¯ä»¥å®ç°è‡ªåŠ¨åŒ–æ„å»ºå’Œéƒ¨ç½²åˆ°é›†ç¾¤ä¸­</li><li><strong>ä½¿ç”¨æ”¯æŒ KRM Function è§„èŒƒçš„å·¥å…·</strong>: KRM Function å…è®¸ç”¨æˆ·ä½¿ç”¨å…¶ä»–è¯­è¨€åŒ…æ‹¬ KCL æ¥æå‡ YAML æ¨¡ç‰ˆå’Œé€»è¾‘ç¼–å†™èƒ½åŠ›æ¯”å¦‚ç¼–å†™æ¡ä»¶ã€å¾ªç¯ç­‰ï¼Œè¿™ç±»å·¥å…·ä¸»è¦åŒ…æ‹¬ Kustomize, KPT, Crossplane ç­‰ï¼Œè™½ç„¶ Helm å¹¶æ²¡æœ‰åŸç”Ÿæ”¯æŒï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥å°† Helm å’Œ Kustomize ç»“åˆä½¿ç”¨æ¥å®ç°</li><li><strong>ä½¿ç”¨å®¢æˆ·ç«¯/è¿è¡Œæ—¶è‡ªå®šä¹‰æŠ½è±¡é…ç½®å·¥å…·è¿›è¡Œéƒ¨ç½²</strong>: å¦‚ KusionStack, KubeVela ç­‰ï¼Œå½“ç„¶ KCL å…è®¸æ‚¨è‡ªå®šä¹‰æ‚¨å–œæ¬¢çš„åº”ç”¨é…ç½®æ¨¡å‹ã€‚</li><li><strong>ä½¿ç”¨ KCL Operator</strong>: ç»“åˆ Kubernetes Mutation Webhook å’Œ Validation Webhook æ”¯æŒè¿è¡Œæ—¶ç¼–å†™é…ç½®æˆ–ç­–ç•¥ã€‚+<strong>ä½¿ç”¨é…ç½®ç®¡ç†å·¥å…·</strong>: ç»“åˆé…ç½®ç®¡ç†å·¥å…·ï¼ˆä¾‹å¦‚ Puppetã€Chefã€Ansible ç­‰ï¼‰æ¥è‡ªåŠ¨åŒ–éƒ¨ç½² Kubernetes YAML é…ç½®åˆ°é›†ç¾¤ä¸­ã€‚è¿™äº›å·¥å…·å¯ä»¥é€šè¿‡å®šä¹‰ KCL æ¨¡æ¿å’Œå˜é‡æ¥å®ç°åŠ¨æ€é…ç½®éƒ¨ç½²</li></ul><p>KCL æ”¯æŒå¤šç§éƒ¨ç½²æ–¹å¼å’Œäº‘åŸç”Ÿå·¥å…·é›†æˆæœ‰ä»¥ä¸‹å‡ ä¸ªåŸå› ï¼š</p><ul><li><strong>çµæ´»æ€§</strong>ï¼šä¸åŒçš„éƒ¨ç½²æ–¹å¼é€‚ç”¨äºä¸åŒçš„åœºæ™¯å’Œéœ€æ±‚ï¼Œå› æ­¤æä¾›å¤šç§é€‰æ‹©å¯ä»¥ä½¿ç”¨æˆ·æ ¹æ®å…¶ç‰¹å®šçš„æƒ…å†µé€‰æ‹©æœ€åˆé€‚çš„æ–¹å¼æ¥éƒ¨ç½²åº”ç”¨ç¨‹åºæˆ–é…ç½®ã€‚</li><li><strong>å·¥å…·ç”Ÿæ€ç³»ç»Ÿ</strong>ï¼šKubernetes æ˜¯ä¸€ä¸ªç”Ÿæ€ç³»ç»Ÿåºå¤§çš„å¹³å°ï¼Œæœ‰è®¸å¤šå·¥å…·å’ŒæŠ€æœ¯è¢«å¹¿æ³›åº”ç”¨ã€‚æ”¯æŒå¤šç§éƒ¨ç½²æ–¹å¼å¯ä»¥ä¸ºç”¨æˆ·æä¾›æ›´å¤šé€‰æ‹©ï¼Œæ»¡è¶³å…¶ä½¿ç”¨ä¹ æƒ¯å’ŒæŠ€æœ¯åå¥½ã€‚</li><li><strong>è§„èŒƒå’Œæ ‡å‡†</strong>ï¼šKubernetes ç¤¾åŒºåŠªåŠ›æ¨åŠ¨æ ‡å‡†å’Œè§„èŒƒï¼Œä¾‹å¦‚ OAM, KRM Function è§„èŒƒå’Œ Helm Charts ç­‰ã€‚é€šè¿‡ç»Ÿä¸€çš„ KRM KCL è§„èŒƒå’Œ KCL Module æä¾›å¤šç§æ”¯æŒæ–¹å¼ï¼Œå¯ä»¥æ»¡è¶³ä¸åŒè§„èŒƒå’Œæ ‡å‡†çš„éœ€æ±‚ã€‚</li><li><strong>è‡ªåŠ¨åŒ–å’Œé›†æˆ</strong>ï¼šä¸€äº›éƒ¨ç½²æ–¹å¼å¯ä»¥é€šè¿‡è‡ªåŠ¨åŒ–å·¥å…·å’Œ CI/CD ç®¡é“è¿›è¡Œé›†æˆï¼Œä»¥å®ç°è‡ªåŠ¨åŒ–çš„éƒ¨ç½²æµç¨‹ã€‚å› æ­¤ï¼Œæä¾›å¤šç§æ–¹å¼å¯ä»¥æ»¡è¶³ä¸åŒè‡ªåŠ¨åŒ–å’Œé›†æˆçš„éœ€æ±‚ã€‚</li></ul><p>ç»¼ä¸Šæ‰€è¿°ï¼Œæ”¯æŒå¤šç§éƒ¨ç½²æ–¹å¼å¯ä»¥ä¸ºç”¨æˆ·æä¾›æ›´å¤§çš„çµæ´»æ€§å’Œé€‰æ‹©æƒï¼Œç”¨æˆ·å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚å’Œåå¥½æ¥éƒ¨ç½²åº”ç”¨ç¨‹åºæˆ–é…ç½®ã€‚</p><p>ä¸‹é¢æ˜¯å„ä¸ªéƒ¨ç½²æ–¹å¼çš„å…·ä½“ä½¿ç”¨æ–¹å¼</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ä½¿ç”¨-kubectl-å·¥å…·">ä½¿ç”¨ Kubectl å·¥å…·<a href="#ä½¿ç”¨-kubectl-å·¥å…·" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p><a href="https://kcl-lang.io/blog/2023-11-20-search-k8s-module-on-artifacthub" target="_blank" rel="noopener noreferrer">https://kcl-lang.io/blog/2023-11-20-search-k8s-module-on-artifacthub</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ä½¿ç”¨-cicd-å·¥å…·">ä½¿ç”¨ CI/CD å·¥å…·<a href="#ä½¿ç”¨-cicd-å·¥å…·" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p><a href="https://kcl-lang.io/blog/2023-07-31-kcl-github-argocd-gitops" target="_blank" rel="noopener noreferrer">https://kcl-lang.io/blog/2023-07-31-kcl-github-argocd-gitops</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ä½¿ç”¨-krm-function">ä½¿ç”¨ KRM Function<a href="#ä½¿ç”¨-krm-function" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p><a href="https://kcl-lang.io/blog/2023-10-23-cloud-native-supply-chain-krm-kcl-spec" target="_blank" rel="noopener noreferrer">https://kcl-lang.io/blog/2023-10-23-cloud-native-supply-chain-krm-kcl-spec</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ä½¿ç”¨è‡ªå®šä¹‰æŠ½è±¡é…ç½®å·¥å…·">ä½¿ç”¨è‡ªå®šä¹‰æŠ½è±¡é…ç½®å·¥å…·<a href="#ä½¿ç”¨è‡ªå®šä¹‰æŠ½è±¡é…ç½®å·¥å…·" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p><a href="https://kcl-lang.io/blog/2023-12-15-kubevela-integration" target="_blank" rel="noopener noreferrer">https://kcl-lang.io/blog/2023-12-15-kubevela-integration</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ä½¿ç”¨-kcl-operator">ä½¿ç”¨ KCL Operator<a href="#ä½¿ç”¨-kcl-operator" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p><a href="https://kcl-lang.io/docs/user_docs/guides/working-with-k8s/mutate-manifests/kcl-operator" target="_blank" rel="noopener noreferrer">https://kcl-lang.io/docs/user_docs/guides/working-with-k8s/mutate-manifests/kcl-operator</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ä½¿ç”¨é…ç½®ç®¡ç†å·¥å…·">ä½¿ç”¨é…ç½®ç®¡ç†å·¥å…·<a href="#ä½¿ç”¨é…ç½®ç®¡ç†å·¥å…·" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p><a href="https://github.com/kcl-lang/kcl/issues/952" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl/issues/952</a></p>]]></content>
        <author>
            <name>KCL å›¢é˜Ÿ</name>
        </author>
        <category label="KCL" term="KCL"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[KCD ç¤¾åŒºä¼šè®®å›é¡¾ | äº‘åŸç”Ÿç­–ç•¥é…ç½®è¯­è¨€ KCL]]></title>
        <id>https://kcl-lang.github.io/zh-CN/blog/2023-12-18-cloud-native-configuration-language-kcl</id>
        <link href="https://kcl-lang.github.io/zh-CN/blog/2023-12-18-cloud-native-configuration-language-kcl"/>
        <updated>2023-12-18T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[KusionStack è´Ÿè´£äººæå¤§å…ƒå’Œäº‘åŸç”Ÿç­–ç•¥é…ç½®è¯­è¨€ KCL é¡¹ç›®çš„ Maintainer å®—å–†åœ¨ 2023 å¹´ CNCF KCD æ·±åœ³ä¼šè®®çš„å†…å®¹å›é¡¾ï¼Œæœ¬æ–‡ç« ä¸»è¦æ˜¯ KCL è¯­è¨€éƒ¨åˆ†æ¼”è®²çš„å†…å®¹å›é¡¾ï¼Œæ´»åŠ¨é“¾æ¥//community.cncf.io/events/details/cncf-kcd-hangzhou-presents-kcd-shenzhen-2023/]]></summary>
        <content type="html"><![CDATA[<blockquote><p>KusionStack è´Ÿè´£äººæå¤§å…ƒå’Œäº‘åŸç”Ÿç­–ç•¥é…ç½®è¯­è¨€ KCL é¡¹ç›®çš„ Maintainer å®—å–†åœ¨ 2023 å¹´ CNCF KCD æ·±åœ³ä¼šè®®çš„å†…å®¹å›é¡¾ï¼Œæœ¬æ–‡ç« ä¸»è¦æ˜¯ KCL è¯­è¨€éƒ¨åˆ†æ¼”è®²çš„å†…å®¹å›é¡¾ï¼Œæ´»åŠ¨é“¾æ¥: <a href="https://community.cncf.io/events/details/cncf-kcd-shenzhen-presents-kcd-shenzhen-2023/" target="_blank" rel="noopener noreferrer">https://community.cncf.io/events/details/cncf-kcd-hangzhou-presents-kcd-shenzhen-2023/</a></p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="äº‘åŸç”Ÿæ—¶ä»£åŸºç¡€è®¾æ–½ä»£ç åŒ–æ˜¯å¼€å‘è€…ä½“éªŒçš„æ ¸å¿ƒ">äº‘åŸç”Ÿæ—¶ä»£ï¼ŒåŸºç¡€è®¾æ–½ä»£ç åŒ–æ˜¯å¼€å‘è€…ä½“éªŒçš„æ ¸å¿ƒ<a href="#äº‘åŸç”Ÿæ—¶ä»£åŸºç¡€è®¾æ–½ä»£ç åŒ–æ˜¯å¼€å‘è€…ä½“éªŒçš„æ ¸å¿ƒ" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>åœ¨å½“ä»Šå¿«é€Ÿå‘å±•çš„æŠ€æœ¯ä¸–ç•Œä¸­ï¼ŒåŸºç¡€è®¾æ–½ä»£ç åŒ–ï¼ˆIaCï¼‰å·²æˆä¸ºè‡ªåŠ¨åŒ–å’Œç®¡ç†äº‘èµ„æºçš„å…³é”®ï¼ŒIaC ä¹Ÿæˆä¸ºäº†å¼€å‘è€…ä½“éªŒçš„æ ¸å¿ƒéƒ¨åˆ†ï¼Œå¸¦æ¥äº†ä¾¿åˆ©å’Œæ•ˆç‡çš„åŒæ—¶ï¼Œä½†å®ƒä¹Ÿå¸¦æ¥äº†ä¸€ç³»åˆ—æŒ‘æˆ˜ã€‚</p><p><img loading="lazy" alt="intro-iac.png" src="/zh-CN/assets/images/intro-iac-db1079efa6f8bfde940c536ee89ee031.png" width="1488" height="834" class="img_ev3q"></p><p>é¦–å…ˆï¼Œæ™®é€šçš„åº”ç”¨å¼€å‘è€…éœ€è¦é¢å¯¹k8sæä¾›çš„å¤æ‚çš„åŸºç¡€è®¾æ–½å’Œå¹³å°æ¦‚å¿µï¼Œè¿™é€ æˆäº†è¾ƒé«˜çš„è®¤çŸ¥è´Ÿæ‹…ï¼Œå½±å“äº†æ›´ä¸Šå±‚åº”ç”¨å¼€å‘è€…çš„è½¯ä»¶äº¤ä»˜ä½“éªŒã€‚
åŒæ—¶ï¼Œå¯¹äºä¸€äº›ä¸åŒçš„åŠ¨æ€ç¯å¢ƒä¸‹çš„é…ç½®ç®¡ç†ï¼Œç›®å‰å·¥ä¸šç•Œç¼ºå°‘ä¸€å¥—æˆç†Ÿæ ‡å‡†çš„ç®¡ç†åŠæ³•ï¼Œå¾€å¾€ä¾èµ–äºä¸€çº¿äººå‘˜çš„ä¸“ä¸šç´ å…»ï¼Œé‡‡ç”¨éæ ‡å‡†åŒ–çš„æ–¹æ³•æ¯”å¦‚è„šæœ¬å’Œèƒ¶æ°´ä»£ç çš„æ–¹å¼è¿›è¡Œé…ç½®ç®¡ç†ï¼Œä¼šå¯¼è‡´é¡¹ç›®å˜å¾—è¶Šæ¥è¶Šå¤æ‚ï¼Œéš¾äºç»´æŠ¤å¹¶ä¸”å¼•å…¥äº†é…ç½®æ¼‚ç§»çš„é£é™©ã€‚
å› æ­¤ï¼Œæˆ‘ä»¬è¿«åˆ‡éœ€è¦ä¸€ç§èƒ½å¤Ÿå‡è½»å¼€å‘è€…è®¤çŸ¥è´Ÿæ‹…ã€æä¾›é«˜æ•ˆåŠ¨æ€é…ç½®ç®¡ç†ï¼Œå¹¶ä¸”é€šè¿‡æ ‡å‡†çš„é…ç½®æµ‹è¯•ä¸éªŒè¯æ‰‹æ®µæ¥ä¿è¯å¯é æ€§çš„é…ç½®ç®¡ç†æ–¹å¼ï¼Œæ¥ç¡®ä¿åŸºç¡€è®¾æ–½æ—¢çš„é«˜æ•ˆä¸å®‰å…¨ã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="kcl-äº‘åŸç”Ÿç­–ç•¥é…ç½®è¯­è¨€">KCL äº‘åŸç”Ÿç­–ç•¥é…ç½®è¯­è¨€<a href="#kcl-äº‘åŸç”Ÿç­–ç•¥é…ç½®è¯­è¨€" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>äºæ˜¯ï¼Œæˆ‘ä»¬å°è¯•è®¾è®¡äº†ä¸€ç§æ–°çš„é…ç½®è¯­è¨€ KCL ï¼Œé€šè¿‡åœ¨è¯­è¨€è¯­æ³•çš„è®¾è®¡å’Œå‘¨è¾¹å·¥å…·çš„å¢å¼ºæ¥è§£å†³ä¸Šæ–‡ä¸­æåˆ°è¯¸å¤šé—®é¢˜ã€‚</p><p><img loading="lazy" alt="intro-kcl.png" src="/zh-CN/assets/images/intro-kcl-7d30de9980c288d9dda280a5ae38bbdc.png" width="1488" height="834" class="img_ev3q"></p><p>KCL è¯­è¨€é’ˆå¯¹å‰é¢æåˆ°çš„<strong>åŠ¨æ€é…ç½®ç®¡ç†</strong>ï¼Œ <strong>é…ç½®å¯é æ€§çš„éªŒè¯ä¸æµ‹è¯•</strong>å’Œ<strong>é™ä½å¼€å‘è€…è®¤çŸ¥è´Ÿæ‹…</strong>çš„ä¸‰ä¸ªæ–¹é¢å‡ºå‘ã€‚æå‡ºä¸‰ä¸ªä¸»è¦çš„è®¾è®¡ç†å¿µï¼Œ<strong>Mutation</strong>ï¼Œ <strong>Validation</strong> å’Œ <strong>Abstraction</strong> ï¼Œæˆ‘ä»¬ä¹Ÿå°†è¿™ä¸‰ä¸ªè®¾è®¡ç†å¿µä½œä¸ºäº† KCL æ ¸å¿ƒçš„ slogan å±•ç¤ºåœ¨ KCL å®˜ç½‘çš„é¦–é¡µã€‚</p><p>å›´ç»•ç€ä¸‰ä¸ªè®¾è®¡ç†å¿µï¼ŒKCL åœ¨è¯­è¨€è¯­æ³•ä¸Šåšäº†ä¸€äº›è®¾è®¡ï¼š</p><ul><li>è¦ä½¿ç”¨ KCL åšåŠ¨æ€çš„é…ç½®ç®¡ç†ï¼Œè¯­è¨€ä¾§å°±éœ€è¦æä¾›è¯¸å¦‚æµç¨‹æ§åˆ¶ï¼Œlambdaè¡¨è¾¾å¼ç­‰èƒ½å¤Ÿæè¿°ç¨‹åºè¡Œä¸ºçš„è¯­æ³•ã€‚</li><li>è¦åšé…ç½®å¯é æ€§ç›¸å…³çš„éªŒè¯ä¸æµ‹è¯•ï¼šå°±è¦é€šè¿‡å¼ºç±»å‹ç³»ç»Ÿï¼Œassertï¼Œcheck ç­‰è¯­æ³•ï¼Œèµ‹äºˆè¿™ä¸ªè¯­è¨€èƒ½å¤Ÿæ£€æŸ¥é…ç½®å†…å®¹çš„èƒ½åŠ›ï¼Œæ¥æ”¯æŒæµ‹è¯•å’ŒéªŒè¯è¿‡ç¨‹ã€‚</li><li>é™ä½å¼€å‘è€…è®¤çŸ¥è´Ÿæ‹…å’Œå¼€å‘æˆæœ¬ï¼šKCL æä¾›äº† Schema æ¨¡å‹å¯¹æ•°æ®ç»“æ„è¿›è¡ŒæŠ½è±¡ï¼Œå¯¹äºå¼€å‘è€…æ¥è¯´å±è”½éå¿…è¦å­—æ®µï¼Œå¹¶ä¸”é€šè¿‡åŒ…ç®¡ç†æœºåˆ¶æä¾›ä¸°å¯Œçš„ä¸‰æ–¹åº“èµ„æºï¼Œé™ä½å¼€å‘è€…ç›´æ¥ç¼–å†™æ¨¡å‹çš„ç¼–å†™æˆæœ¬ã€‚</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="kcl-è¯­è¨€ç‰¹æ€§">KCL è¯­è¨€ç‰¹æ€§<a href="#kcl-è¯­è¨€ç‰¹æ€§" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>è¿™ä¸ªæåˆ°çš„ä¸€äº›è¯­è¨€ç‰¹æ€§çš„å±•ç¤ºï¼Œæˆ‘åœ¨ ppt ä¸­åˆ—äº†ä¸€äº›å°çš„èƒ½å¤Ÿåæ˜ è¯­è¨€ç‰¹æ€§çš„ä»£ç ç‰‡æ®µï¼š</p><p><img loading="lazy" alt="kcl-feature.png" src="/zh-CN/assets/images/kcl-feature-8dfe448683fc7881d1f898b6847d7f5c.png" width="1488" height="834" class="img_ev3q"></p><p>é¦–å…ˆï¼Œæœ€å·¦é¢çš„å›¾ä¸­å±•ç¤ºçš„æ˜¯ä¸é€šç”¨ç¼–ç¨‹è¯­è¨€ç›¸è¿‘çš„æµç¨‹æ§åˆ¶ï¼Œlambda è¡¨è¾¾å¼çš„ï¼Œpython é£æ ¼çš„å¾ªç¯è¡¨è¾¾å¼ã€‚ç„¶åï¼Œä¸­é—´çš„å›¾ä¸­å±•ç¤ºçš„æ˜¯é’ˆå¯¹éªŒè¯å’Œæµ‹è¯•è¿‡ç¨‹æä¾›çš„ assert è¯­å¥ï¼Œschema çš„ check å—ï¼Œé€šè¿‡check ä¸­çš„ç¼–å†™çš„ç­–ç•¥å¯ä»¥å¯¹ Schema ä¸­çš„å­—æ®µè¿›è¡Œæ£€æŸ¥ã€‚æœ€åæœ€å³é¢çš„å›¾æ˜¯ä½¿ç”¨ Schema å®šä¹‰æ•°æ®ç»“æ„ï¼Œå¹¶ä¸”å®ä¾‹åŒ–é…ç½®ã€‚å¹¶ä¸”å¤§å®¶å¯ä»¥çœ‹åˆ°ï¼Œåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œä¹Ÿå·²ç»å±•ç¤ºå‡º KCL çš„å¼ºç±»å‹ç³»ç»Ÿå¯¹äºé…ç½®ç±»å‹çš„æ ¡éªŒåŠŸèƒ½ï¼Œå¦‚æœåœ¨ä½¿ç”¨ Schema å®ä¾‹åŒ–é…ç½®çš„è¿‡ç¨‹ä¸­ï¼ŒæŸä¸ªå­—æ®µç±»å‹å†™é”™äº†ï¼Œåœ¨ç¼–è¯‘é˜¶æ®µï¼Œå°±ä¼šæ’æŸ¥å‡ºé”™è¯¯ã€‚æœ€åä¸€å¼ å›¾æ˜¯ä½¿ç”¨äº†k8s çš„ä¸‰æ–¹åº“ï¼Œåˆ›å»ºäº†ä¸€ä¸ª nginx çš„ podï¼Œä¸€äº›ä¸å¿…è¦çš„å­—æ®µå·²ç»è¢«å±è”½æ‰äº†ï¼Œåº”ç”¨å¼€å‘äººå‘˜åªéœ€è¦å¡«å……å°‘æ•°å­—æ®µå°±å¯ä»¥å®Œæˆé…ç½®çš„ç¼–å†™ã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="kcl--krm--åŠ¨æ€é…ç½®ç®¡ç†">KCL &amp; KRM &amp; åŠ¨æ€é…ç½®ç®¡ç†<a href="#kcl--krm--åŠ¨æ€é…ç½®ç®¡ç†" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>ä¸ºäº†è§£å†³å‰é¢æåˆ°çš„ä¸‰ä¸ªé—®é¢˜ï¼ŒKCL æä¾›äº†æåˆ°çš„ä¸€äº›åŠ¨æ€è¡Œä¸ºï¼Œcheckï¼Œassertè¯­å¥ï¼Œç±»å‹ç³»ç»Ÿï¼ŒSchema æŠ½è±¡ç­‰ç­‰ç‰¹æ€§ã€‚ä½†æ˜¯ï¼Œå½“æˆ‘ä»¬å°è¯•åˆ©ç”¨ä¸Šè¿°ç‰¹æ€§è¿›è¡Œé…ç½®ç®¡ç†çš„æ—¶å€™ï¼Œæˆ‘ä»¬å‘ç°ï¼ŒKCL çš„è¯­è¨€ç‰¹æ€§ä»…ä»…ä½œç”¨äº KCL è¯­è¨€æœ¬èº«æ˜¯ä¸å¤Ÿçš„ã€‚æƒ³è¦è§£å†³ IaC é¢†åŸŸçš„é—®é¢˜ï¼Œå°±å¿…é¡»è¦è€ƒè™‘åˆ°å­˜é‡é…ç½®ï¼Œå°†å­˜é‡é…ç½®å…¨éƒ¨æ¨å€’ç”¨ KCL é‡æ–°å¾ˆæ˜æ˜¾ä¸æ˜¯ä¸€ä¸ªåˆé€‚çš„æ–¹å¼ï¼Œä¹Ÿæ— æ³•å®ç°ã€‚
å› æ­¤ï¼Œ<strong>å¯¹äºå­˜é‡çš„ä¸€äº›é…ç½®ï¼Œæˆ‘ä»¬é™¤äº†åœ¨è¯­è¨€æœºåˆ¶ä¸Šä¸‹åŠŸå¤«ä¹‹å¤–ï¼Œè¿˜éœ€è¦å…·å¤‡ä¸ç¤¾åŒºç”Ÿæ€é›†æˆçš„èƒ½åŠ›ï¼Œèƒ½å¤Ÿå°† KCL è¯­è¨€ç‰¹æ€§çš„ä½œç”¨ä¹Ÿå‘æŒ¥åœ¨å…¶ä»–çš„é…ç½®è¯­è¨€ä¸Š, ä½¿å¾— KCL èƒ½å¤ŸçœŸæ­£çš„è§£å†³ IaC é¢†åŸŸçš„é—®é¢˜</strong>ï¼Œåœ¨å°½å¯èƒ½å‡å°‘å¯¹å­˜é‡é…ç½®çš„æ”¹åŠ¨ä¸‹ï¼Œå……åˆ†å‘æŒ¥ KCL è¯­è¨€ç‰¹æ€§çš„ä½œç”¨ï¼Œè§£å†³å‰é¢æåˆ°çš„åŠ¨æ€é…ç½®ï¼Œå¯é æ€§æ ¡éªŒå’Œé™ä½å¼€å‘è€…å¿ƒæ™ºè´Ÿæ‹…çš„é—®é¢˜ã€‚</p><p><img loading="lazy" alt="kcl-krm.png" src="/zh-CN/assets/images/kcl-krm-09bacf4842aa097a4f7f34e2b5846809.png" width="1488" height="834" class="img_ev3q"></p><p>äºæ˜¯ï¼Œæˆ‘ä»¬æå‡ºäº† <a href="https://github.com/kcl-lang/krm-kcl" target="_blank" rel="noopener noreferrer">KCL KRM è§„èŒƒ</a>ï¼ŒåŸºäºè¿™ä¸ªè§„èŒƒï¼Œæˆ‘ä»¬å¯ä»¥å€ŸåŠ© KCL è¯­è¨€çš„èƒ½åŠ›ï¼Œå¯¹ KRM ä¸­çš„èµ„æºè¿›è¡ŒåŠ¨æ€é…ç½®ï¼Œæ¨¡å‹æ ¡éªŒå’ŒæŠ½è±¡ã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="kcl-ç”Ÿæ€é›†æˆ">KCL ç”Ÿæ€é›†æˆ<a href="#kcl-ç”Ÿæ€é›†æˆ" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>åŸºäº KCL &amp; KRM è§„èŒƒæˆ‘ä»¬å¼€å‘äº†ä¸€äº›å‘¨è¾¹å·¥å…·æ¥ä½¿ KCL èƒ½å¤Ÿæ›´å¥½çš„ä¸å‘¨è¾¹å·¥å…·ç”Ÿæ€è¿›è¡Œé›†æˆã€‚</p><p><img loading="lazy" alt="kcl-integration.png" src="/zh-CN/assets/images/kcl-integration-3baeaf75e9ee71364d270a33c945b44a.png" width="1488" height="834" class="img_ev3q"></p><ul><li>æ•°æ®ç»“æ„çš„å¯¼å…¥å¯¼å‡ºï¼šKCL æä¾›äº†å¦‚ import/export å·¥å…·ï¼Œæ”¯æŒä½¿ç”¨ KCL ä» JsonSchemaï¼ŒTerraform ç­‰å¯¼å…¥/å¯¼å‡ºæ•°æ®ç»“æ„ï¼Œä»¥å‡å°‘åœ¨å¼€å‘è¿‡ç¨‹ä¸­å¯¹äºæ•°æ®é‡å¤å»ºæ¨¡çš„è¿‡ç¨‹ï¼Œä½¿ KCL çš„ç‰¹æ€§èƒ½å¤Ÿæ›´åŠ ç›´æ¥çš„ä½œç”¨äºå­˜é‡é…ç½®ã€‚</li><li>æä¾›äº†å¦‚ kubectl, kustomize, helm/helmfile ç­‰å·¥å…·çš„ KCL æ’ä»¶ï¼Œç”¨æˆ·å¯ä»¥é’ˆå¯¹ä¸åŒçš„åœºæ™¯é€‰æ‹©åˆé€‚åœºæ™¯çš„å¼•æ“æ¯”å¦‚ Kubectl, KusionStack, KubeVela æˆ– Helmfile ç­‰æ¥å’Œ KCL ç»“åˆå°†é…ç½®ç”Ÿæ•ˆåˆ°é›†ç¾¤ã€‚</li><li>å¼€å‘äº† <a href="https://github.com/kcl-lang/kcl-operator" target="_blank" rel="noopener noreferrer">KCL Operator</a> ä¸Kubernetes é›†æˆï¼Œåœ¨è¿è¡Œæ—¶å®ç°é…ç½®è‡ªåŠ¨ä¿®æ”¹ï¼Œæ— éœ€é‡å¤å¼€å‘Kubernetes Webhook ç¼–å†™å¤§é‡çš„é…ç½®å¤„ç†é€»è¾‘ã€‚</li></ul><p>KCL å»ºç«‹åœ¨ä¸€ä¸ªå®Œå…¨å¼€æ”¾çš„äº‘åŸç”Ÿä¸–ç•Œå½“ä¸­ï¼ŒKCL å‡ ä¹ä¸ä¸ä»»ä½•ç¼–æ’/å¼•æ“å·¥å…·å¼ºç»‘å®šåœ¨ä¸€èµ·ï¼Œå¯åŒæ—¶ä¸ºå®¢æˆ·ç«¯æˆ–è€…è¿è¡Œæ—¶æä¾› API æŠ½è±¡ã€ç»„åˆå’Œæ ¡éªŒçš„èƒ½åŠ›ã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="kcl-å‘¨è¾¹å·¥å…·">KCL å‘¨è¾¹å·¥å…·<a href="#kcl-å‘¨è¾¹å·¥å…·" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>è™½ç„¶ KCL æ˜¯ä¸€ä¸ªé¢†åŸŸè¯­è¨€ã€‚KCL ä¹Ÿæä¾›äº†ä¸é€šç”¨ç¼–ç¨‹è¯­è¨€è¯­è¨€èƒ½åŠ›åŸºæœ¬ç­‰åŒçš„çš„å·¥å…·é“¾ï¼Œå¦‚æ ¼å¼åŒ–ï¼Œæµ‹è¯•ã€æ–‡æ¡£ã€åŒ…ç®¡ç†ç­‰å·¥å…·å¸®åŠ©æ›´å¥½åœ°ç¼–å†™ã€ç†è§£å’Œæ£€æŸ¥ç¼–å†™çš„é…ç½®æˆ–ç­–ç•¥ï¼›é€šè¿‡ VS Code ç­‰ IDE æ’ä»¶å’Œ Playground é™ä½é…ç½®ç¼–å†™ã€åˆ†äº«çš„æˆæœ¬ï¼›é€šè¿‡ Rust, Go, å’Œ Python å¤šè¯­è¨€ SDK è‡ªåŠ¨åŒ–åœ°ç®¡ç†å’Œæ‰§è¡Œé…ç½®ã€‚
å¯¹äº IDE æ’ä»¶ï¼ŒKCL ç›®å‰ä¸»è¦æä¾›äº† VS Codeï¼ŒIntelliJ å’Œ NeoVimä¸‰ç§ IDE æ’ä»¶åŸºäºåŒæ ·çš„ KCL Language Server å®ç°äº†åŒæ ·çš„è¡¥å…¨ã€è·³è½¬ã€æ‚¬åœã€ä»£ç é‡æ„å’Œæ ¼å¼åŒ–ç­‰èƒ½åŠ›ã€‚</p><p><img loading="lazy" alt="kcl-tools.png" src="/zh-CN/assets/images/kcl-tools-3e634040d9a87055947caf49773be40e.png" width="1488" height="834" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="artifacthub--kcl"><strong>Artifacthub &amp; KCL</strong><a href="#artifacthub--kcl" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>æˆ‘ä»¬ä¸ ArtifactHub è¿›è¡Œäº†é›†æˆï¼Œå°† Artifacthub ä½œä¸º KCL çš„æ¨¡å‹å¸‚åœºï¼Œæä¾›äº†è¶…è¿‡ 200 + çš„ KCL æ¨¡å‹ï¼Œæ¶µç›–é…ç½®ç¼–è¾‘ï¼Œæ ¡éªŒå’Œæ¨¡å‹æŠ½è±¡ç­‰å¤šä¸ªæ–¹é¢ã€‚å¤§å®¶å¦‚æœæœ‰å…´è¶£çš„è¯ï¼Œå¯ä»¥æ¥çœ‹çœ‹æ˜¯å¦æœ‰ä½ æ„Ÿå…´è¶£çš„æ¨¡å‹ï¼Œæˆ–è€…å¦‚æœæ‚¨æœ‰å¥½çš„æƒ³æ³•æƒ³è¦ä¸å¤§å®¶åˆ†äº«ï¼Œæ‚¨ä¹Ÿå¯ä»¥å°†æ‚¨çš„ KCL åŒ…è´¡çŒ®åœ¨ ArtifactHub ä¸­ã€‚</p><p><img loading="lazy" alt="kcl-ah.png" src="/zh-CN/assets/images/kcl-ah-d46f23bce4a711737384ff8ba3501774.png" width="1488" height="834" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å®è·µæ¡ˆä¾‹">å®è·µæ¡ˆä¾‹<a href="#å®è·µæ¡ˆä¾‹" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>æ¥ä¸‹æ¥ä¸€äº›ç®€å•çš„æ¡ˆä¾‹ï¼Œå±•ç¤ºä¸€äº› KCL çš„ä½¿ç”¨è¿‡ç¨‹ã€‚</p><p><img loading="lazy" alt="kcl-mut.png" src="/zh-CN/assets/images/kcl-mut-821049e1ebc127e91396e13610a306c3.png" width="1488" height="834" class="img_ev3q"></p><p>é¦–å…ˆï¼Œå¦‚æœåœ¨é›†ç¾¤ä¸­å®‰è£…äº† KCL Operatorï¼Œé‚£ä¹ˆå°±å¯ä»¥é€šè¿‡å·¦é¢çš„é…ç½®æ–‡ä»¶å¯¹å³é¢çš„é…ç½®è¿›è¡Œ mutation æ“ä½œï¼Œé€šè¿‡åœ¨ source å­—æ®µä¸­ç”¨ KCL ç¼–å†™è¡Œä¸ºä»£ç ï¼ŒåŠ¨æ€çš„ä¸ºå³é¢çš„é…ç½®æ–‡ä»¶ä¸­å¢åŠ äº† annotationã€‚</p><p><img loading="lazy" alt="kcl-vet.png" src="/zh-CN/assets/images/kcl-vet-4978717671fb07a13b57fef6dd68b9b6.png" width="1488" height="834" class="img_ev3q"></p><p>ç„¶åï¼Œè¿™ä¸ªæ¡ˆä¾‹ä¸­å±•ç¤ºäº†ä½¿ç”¨ KCL æä¾›çš„é…ç½®éªŒè¯å·¥å…· kcl-vet å¯¹ terraform plan ç”Ÿæˆçš„é…ç½®å†…å®¹è¿›è¡ŒéªŒè¯ã€‚</p><p><img loading="lazy" alt="kcl-abs.png" src="/zh-CN/assets/images/kcl-abs-623404b7130148f361e13cd1accb8b21.png" width="1488" height="834" class="img_ev3q"></p><p>æœ€åè¿™ä¸ªæ¡ˆä¾‹ä¸­ï¼Œå±•ç¤ºäº† abstraction çš„å†…å®¹ï¼Œå¯ä»¥é€šè¿‡ç›´æ¥ç¼–å†™ KCL ç¨‹åºï¼Œæˆ–è€…ä½¿ç”¨ KCL &amp; KRM çš„æ–¹å¼ç¼–å†™é…ç½®ï¼Œç„¶åç¼–è¯‘æˆå¯¹åº”çš„ Kubernetes manifestsã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="æ€»ç»“">æ€»ç»“<a href="#æ€»ç»“" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>KCL è¯­è¨€æ˜¯ä¸€ä¸ªä¸“æ³¨äºäº‘åŸç”Ÿé…ç½®ç®¡ç†çš„é¢†åŸŸè¯­è¨€ï¼Œå®ƒæä¾›äº†ä¸€ç³»åˆ—çš„è¯­è¨€ç‰¹æ€§ï¼Œå¦‚å¼ºç±»å‹ç³»ç»Ÿï¼ŒSchema æŠ½è±¡ï¼Œæµç¨‹æ§åˆ¶ï¼Œlambda è¡¨è¾¾å¼ï¼Œassert è¯­å¥ï¼Œcheck è¯­å¥ç­‰ç­‰ï¼Œæ¥è§£å†³äº‘åŸç”Ÿé…ç½®ç®¡ç†é¢†åŸŸçš„é—®é¢˜ï¼Œå¦‚åŠ¨æ€é…ç½®ç®¡ç†ï¼Œé…ç½®å¯é æ€§çš„éªŒè¯ä¸æµ‹è¯•ï¼Œé™ä½å¼€å‘è€…è®¤çŸ¥è´Ÿæ‹…ç­‰ç­‰ã€‚åŒæ—¶ï¼ŒKCL ä¹Ÿæä¾›äº†ä¸€ç³»åˆ—çš„å‘¨è¾¹å·¥å…·ï¼Œå¦‚ IDE æ’ä»¶ï¼ŒArtifactHub é›†æˆï¼ŒKCL Operator ç­‰ç­‰ï¼Œæ¥æå‡å¼€å‘è€…çš„å¼€å‘ä½“éªŒï¼Œé™ä½å¼€å‘æˆæœ¬ã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å…¶ä»–èµ„æº">å…¶ä»–èµ„æº<a href="#å…¶ä»–èµ„æº" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>æ›´å¤šå…¶ä»–èµ„æºè¯·å‚è€ƒï¼š</p><ul><li><a href="https://kcl-lang.io/" target="_blank" rel="noopener noreferrer">KCL ç½‘ç«™</a></li><li><a href="https://github.com/kcl-lang/" target="_blank" rel="noopener noreferrer">KCL GitHub ä»“åº“</a></li><li><a href="https://kusionstack.io/" target="_blank" rel="noopener noreferrer">KusionStack ç½‘ç«™</a></li><li><a href="https://github.com/KusionStack/" target="_blank" rel="noopener noreferrer">KusionStack GitHub ä»“åº“</a></li></ul>]]></content>
        <author>
            <name>KCL Team</name>
        </author>
        <category label="KCL" term="KCL"/>
        <category label="Meeting" term="Meeting"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[2023 CNCF KCD æ·±åœ³ç¤¾åŒºä¼šè®® KCL & KusionStack ä»‹ç»å†…å®¹]]></title>
        <id>https://kcl-lang.github.io/zh-CN/blog/2023-12-18-kcl-kcd-shenzhen-meeting</id>
        <link href="https://kcl-lang.github.io/zh-CN/blog/2023-12-18-kcl-kcd-shenzhen-meeting"/>
        <updated>2023-12-18T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[PDF ä¸‹è½½]]></summary>
        <content type="html"><![CDATA[<p><a href="https://kcl-lang.io/talks/kcl-cncf-kcd-shenzhen2023.pdf" target="_blank" rel="noopener noreferrer">PDF ä¸‹è½½</a></p><p><img loading="lazy" alt="Talk Cover" src="/zh-CN/assets/images/talk-cover-43bb207d2e2feea61c1884a6dd39f90c.png" width="2108" height="1188" class="img_ev3q"></p>]]></content>
        <author>
            <name>KCL Team</name>
        </author>
        <category label="KCL" term="KCL"/>
        <category label="Meeting" term="Meeting"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[å®ç°é«˜æ•ˆäº‘åŸç”Ÿåº”ç”¨éƒ¨ç½²è¿ç»´ - KCL ä¸ KubeVela å¿«é€Ÿé›†æˆæŒ‡å—]]></title>
        <id>https://kcl-lang.github.io/zh-CN/blog/2023-12-15-kubevela-integration</id>
        <link href="https://kcl-lang.github.io/zh-CN/blog/2023-12-15-kubevela-integration"/>
        <updated>2023-12-15T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[cover]]></summary>
        <content type="html"><![CDATA[<p><img loading="lazy" alt="cover" src="/zh-CN/assets/images/cover-c640e1eb03f64663e0c2a8902a36a702.png" width="712" height="350" class="img_ev3q"></p><h1>å‰è¨€</h1><p><a href="https://kubevela.net/" target="_blank" rel="noopener noreferrer">KubeVela</a> æ˜¯ä¸€ä¸ª CNCF åŸºé‡‘ä¼šæ‰˜ç®¡çš„ç°ä»£çš„åº”ç”¨äº¤ä»˜ç³»ç»Ÿï¼Œå®ƒåŸºäº Open Application Modelï¼ˆOAMï¼‰è§„èŒƒæ„å»ºï¼Œæ—¨åœ¨å±è”½ Kubernetes çš„å¤æ‚æ€§ï¼Œæä¾›ä¸€å¥—ç®€å•æ˜“ç”¨çš„å‘½ä»¤è¡Œå·¥å…·å’Œ APIsï¼Œè®©å¼€å‘è€…æ— éœ€å…³å¿ƒåº•å±‚ç»†èŠ‚å³å¯éƒ¨ç½²å’Œè¿ç»´äº‘åŸç”Ÿåº”ç”¨ã€‚</p><p><a href="https://kcl-lang.io" target="_blank" rel="noopener noreferrer">KCL</a> æ˜¯ä¸€ä¸ª CNCF åŸºé‡‘ä¼šæ‰˜ç®¡çš„é¢å‘äº‘åŸç”Ÿåœºæ™¯çš„é…ç½®åŠç­–ç•¥è¯­è¨€ï¼ŒæœŸæœ›é€šè¿‡æˆç†Ÿçš„ç¼–ç¨‹è¯­è¨€æŠ€æœ¯å’Œå®è·µæ¥æ”¹è¿›å¯¹å¤§é‡ç¹æ‚é…ç½®æ¯”å¦‚äº‘åŸç”Ÿ Kubernetes é…ç½®åœºæ™¯çš„ç¼–å†™ï¼Œè‡´åŠ›äºæ„å»ºå›´ç»•é…ç½®çš„æ›´å¥½çš„æ¨¡å—åŒ–ã€æ‰©å±•æ€§å’Œç¨³å®šæ€§ï¼Œæ›´ç®€å•çš„é€»è¾‘ç¼–å†™ï¼Œä»¥åŠæ›´ç®€å•çš„è‡ªåŠ¨åŒ–å’Œç”Ÿæ€å·¥å…·é›†æˆã€‚</p><p>KCL å»ºç«‹åœ¨ä¸€ä¸ªå®Œå…¨å¼€æ”¾çš„äº‘åŸç”Ÿä¸–ç•Œå½“ä¸­ï¼Œä¸ä¸ä»»ä½•ç¼–æ’/å¼•æ“å·¥å…·æˆ–è€… Kubernetes æ§åˆ¶å™¨ç»‘å®šï¼Œå¯ä»¥åŒæ—¶ä¸º Kubernetes å®¢æˆ·ç«¯å’Œè¿è¡Œæ—¶æä¾› API æŠ½è±¡ã€ç»„åˆå’Œæ ¡éªŒçš„èƒ½åŠ›ã€‚</p><p>ç”¨æˆ·å¯ä»¥æ ¹æ®åœºæ™¯é€‰æ‹©åˆé€‚çš„äº‘åŸç”Ÿå·¥å…·æ¯”å¦‚ Kubectl, Helm, Kustomize, KPT, KusionStack, KubeVela, Helmfile, Crossplane æˆ– ArgoCD ç­‰æ¥å’Œ KCL ç»“åˆå°†é…ç½®ç”Ÿæ•ˆåˆ°é›†ç¾¤ã€‚</p><p><img loading="lazy" alt="integration" src="/zh-CN/assets/images/integration-c0c6e40b3644da0976464727ec78cfdd.png" width="2606" height="672" class="img_ev3q"></p><p>æœ¬ç¯‡æ–‡ç« æ˜¯å°† KCL ä¸ KubeVela ä¸€èµ·ä½¿ç”¨å®ç°é«˜æ•ˆäº‘åŸç”Ÿåº”ç”¨éƒ¨ç½²è¿ç»´çš„ç³»åˆ—æ–‡ç« ç¬¬ä¸€ç¯‡ï¼Œåç»­æˆ‘ä»¬ä¼šåˆ†äº«æ›´å¤šé«˜çº§ç”¨æ³•ï¼Œå°½æƒ…æœŸå¾…ã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å°†-kcl-ä¸-kubevela-ä¸€èµ·ä½¿ç”¨">å°† KCL ä¸ KubeVela ä¸€èµ·ä½¿ç”¨<a href="#å°†-kcl-ä¸-kubevela-ä¸€èµ·ä½¿ç”¨" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>å°† KCL ä¸ KubeVela ä¸€èµ·ä½¿ç”¨å…·æœ‰å¦‚ä¸‹å¥½å¤„:</p><ul><li><strong>æ›´ç®€å•çš„é…ç½®</strong>ï¼šåœ¨å®¢æˆ·ç«¯å±‚é¢ä¸º KubeVela OAM é…ç½®æä¾›æ›´å¼ºçš„æ¨¡ç‰ˆåŒ–èƒ½åŠ›å¦‚æ¡ä»¶ï¼Œå¾ªç¯ç­‰ï¼Œå‡å°‘æ ·æ¿ YAML ä¹¦å†™ï¼ŒåŒæ—¶å¤ç”¨ KCL æ¨¡å‹åº“å’Œå·¥å…·é“¾ç”Ÿæ€ï¼Œæå‡é…ç½®åŠç­–ç•¥ç¼–å†™çš„ä½“éªŒå’Œç®¡ç†æ•ˆç‡ã€‚</li><li><strong>æ›´å¥½çš„å¯ç»´æŠ¤æ€§</strong>ï¼šé€šè¿‡ KCL å¯ä»¥æä¾›æ›´æœ‰åˆ©äºç‰ˆæœ¬æ§åˆ¶å’Œå›¢é˜Ÿåä½œçš„é…ç½®æ–‡ä»¶ç»“æ„ï¼Œè€Œä¸æ˜¯å›´ç»• YAML è¿›è¡Œé…ç½®ï¼ŒåŒæ—¶æ­é… KCL ç¼–å†™çš„ OAM åº”ç”¨æ¨¡å‹ï¼Œå¯ä»¥ä½¿å¾—åº”ç”¨é…ç½®æ›´æ˜“äºç»´æŠ¤å’Œè¿­ä»£ã€‚</li><li><strong>æ›´ç®€åŒ–çš„æ“ä½œ</strong>ï¼šç»“åˆ KCL çš„é…ç½®ç®€æ´æ€§å’Œ KubeVela çš„æ˜“ç”¨æ€§ï¼Œå¯ä»¥ç®€åŒ–æ—¥å¸¸çš„æ“ä½œä»»åŠ¡ï¼Œæ¯”å¦‚éƒ¨ç½²æ›´æ–°ã€æ‰©å±•æˆ–å›æ»šåº”ç”¨ã€‚å¼€å‘è€…å¯ä»¥æ›´åŠ ä¸“æ³¨äºåº”ç”¨æœ¬èº«ï¼Œè€Œä¸æ˜¯éƒ¨ç½²è¿‡ç¨‹ä¸­çš„ç¹çç»†èŠ‚ã€‚</li><li><strong>æ›´å¥½çš„è·¨å›¢é˜Ÿåä½œ</strong>ï¼šé€šè¿‡ KCL é…ç½®åˆ†å—ç¼–å†™ä»¥åŠåŒ…ç®¡ç†èƒ½åŠ›ä¸ KubeVela ç»“åˆä½¿ç”¨ï¼Œå¯ä»¥å®šä¹‰æ›´æ¸…æ™°çš„ç•Œé™ï¼Œä½¿å¾—ä¸åŒçš„å›¢é˜Ÿï¼ˆå¦‚å¼€å‘ã€æµ‹è¯•å’Œè¿ç»´å›¢é˜Ÿï¼‰å¯ä»¥æœ‰æ¡ç†åœ°åä½œã€‚æ¯ä¸ªå›¢é˜Ÿå¯ä»¥ä¸“æ³¨äºå…¶èŒè´£èŒƒå›´å†…çš„ä»»åŠ¡ï¼Œåˆ†åˆ«äº¤ä»˜ã€åˆ†äº«å’Œå¤ç”¨å„è‡ªçš„é…ç½®ï¼Œè€Œä¸ç”¨æ‹…å¿ƒå…¶ä»–æ–¹é¢çš„ç»†èŠ‚ã€‚</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å·¥ä½œæµç¨‹">å·¥ä½œæµç¨‹<a href="#å·¥ä½œæµç¨‹" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p><img loading="lazy" alt="workflow" src="/zh-CN/assets/images/workflow-65f3b48f48ffc200fd831743c0738a81.png" width="1058" height="340" class="img_ev3q"></p><p>åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ KCL Playground åº”ç”¨ä¸ºä¾‹ï¼ˆè¿™æ˜¯ä½¿ç”¨ Go å’Œ HTML5 ç¼–å†™çš„åº”ç”¨ï¼‰ï¼ŒåŒæ—¶ä½¿ç”¨ KCL å®šä¹‰éœ€è¦éƒ¨ç½²çš„ OAM é…ç½®</p><p>æ•´ä½“å·¥ä½œæµç¨‹å¦‚ä¸‹</p><ol><li>åº”ç”¨ä»£ç å¼€å‘äº§å‡º Docker é•œåƒ</li><li>ä½¿ç”¨ KCL ç¼–å†™ OAM é…ç½®</li><li>ä½¿ç”¨ KubeVela å‘å¸ƒé…ç½®</li><li>éªŒè¯åº”ç”¨è¿è¡Œæƒ…å†µ</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å…·ä½“æ­¥éª¤">å…·ä½“æ­¥éª¤<a href="#å…·ä½“æ­¥éª¤" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="0-å…ˆå†³æ¡ä»¶">0. å…ˆå†³æ¡ä»¶<a href="#0-å…ˆå†³æ¡ä»¶" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><ul><li>ç†Ÿæ‚‰ Unix/Linux çš„åŸºæœ¬å‘½ä»¤</li><li>ç†Ÿæ‚‰ Git ä½¿ç”¨</li><li>äº†è§£ Kubernetes åŸºæœ¬çŸ¥è¯†</li><li>äº†è§£ KubeVela</li><li>äº†è§£ KCL åŸºæœ¬çŸ¥è¯†</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-é…ç½®-kubernetes-é›†ç¾¤">1. é…ç½® Kubernetes é›†ç¾¤<a href="#1-é…ç½®-kubernetes-é›†ç¾¤" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><ul><li>å®‰è£… <a href="https://github.com/k3d-io/k3d" target="_blank" rel="noopener noreferrer">K3d</a> å¹¶åˆ›å»ºä¸€ä¸ªé›†ç¾¤</li></ul><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">k3d cluster create</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>æ³¨æ„ï¼šä½ å¯ä»¥åœ¨æ­¤æ–¹æ¡ˆä¸­ä½¿ç”¨å…¶ä»–æ–¹å¼åˆ›å»ºæ‚¨è‡ªå·±çš„ Kubernetes é›†ç¾¤ï¼Œå¦‚ kind, minikube ç­‰ã€‚</p></blockquote><h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-å®‰è£…-kubevela">2. å®‰è£… KubeVela<a href="#2-å®‰è£…-kubevela" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><ul><li>å®‰è£… KubeVela CLI</li></ul><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> -fsSl https://kubevela.net/script/install.sh </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">bash</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>å®‰è£… KubeVela Core</li></ul><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">vela </span><span class="token function" style="color:#d73a49">install</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-å®‰è£…-kcl-å¹¶ç¼–å†™é…ç½®">3. å®‰è£… KCL å¹¶ç¼–å†™é…ç½®<a href="#3-å®‰è£…-kcl-å¹¶ç¼–å†™é…ç½®" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><ul><li>å®‰è£… KCL</li></ul><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> -fsSL https://kcl-lang.io/script/install-cli.sh </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> /bin/bash</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>æ–°å»ºå·¥ç¨‹å¹¶æ·»åŠ  OAM ä¾èµ–</li></ul><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kcl mod init kcl-play-svc </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token builtin class-name">cd</span><span class="token plain"> kcl-play-svc </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> kcl mod </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> oam</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>åœ¨ main.k ä¸­ç¼–å†™å¦‚ä¸‹ä»£ç </li></ul><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> oam</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">oam</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Application </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    metadata</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"kcl-play-svc"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    spec</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">components </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> metadata</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token builtin">type</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"webservice"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        properties </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            image </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"kcllang/kcl"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ports </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">port </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">80</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> expose </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            cmd </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"kcl"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"play"</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>æ³¨æ„ï¼Œä½ å¯ä»¥åœ¨ ArtifactHub ä¸ŠæŸ¥é˜…åˆ°ç›¸åº”çš„ OAM æ¨¡å‹æ–‡æ¡£æˆ–è€…ç›´æ¥åœ¨ IDE ä¸­æŸ¥çœ‹ <a href="https://artifacthub.io/packages/kcl/kcl-module/oam" target="_blank" rel="noopener noreferrer">https://artifacthub.io/packages/kcl/kcl-module/oam</a> or in the IDE extension.</p></blockquote><p><img loading="lazy" alt="oam-definition-hover" src="/zh-CN/assets/images/oam-definition-hover-bf557b943b8e7abe7c4d13e91d1c48d9.png" width="1048" height="630" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-éƒ¨ç½²åº”ç”¨å¹¶éªŒè¯">4. éƒ¨ç½²åº”ç”¨å¹¶éªŒè¯<a href="#4-éƒ¨ç½²åº”ç”¨å¹¶éªŒè¯" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><ul><li>ä¸‹å‘é…ç½®</li></ul><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kcl run </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> vela up -f -</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>ç«¯å£è½¬å‘</li></ul><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">vela port-forward kcl-play-svc</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ç„¶åæˆ‘ä»¬å¯ä»¥åœ¨æµè§ˆå™¨ä¸­çœ‹åˆ° KCL Playground åº”ç”¨æˆåŠŸè¿è¡Œ</p><p><img loading="lazy" alt="kcl-play-svc" src="/zh-CN/assets/images/kcl-play-svc-17cdd017ee58347075be64904d62e73f.png" width="2326" height="858" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ç»“è®º">ç»“è®º<a href="#ç»“è®º" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>é€šè¿‡æœ¬ç¯‡æ–‡ç« çš„æ•™ç¨‹ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ KubeVela å’Œ KCL ç­‰åˆæ­¥éƒ¨ç½²äº‘åŸç”Ÿåº”ç”¨ï¼Œåç»­æˆ‘ä»¬å°†é€šè¿‡æ›´å¤šæ–‡ç« è®²è§£å¦‚ä½•åœ¨å®¢æˆ·ç«¯ä½¿ç”¨ KCL è¿›ä¸€æ­¥æ‰©å±• KubeVela çš„èƒ½åŠ›</p><ul><li>ä½¿ç”¨ KCL çš„ç»§æ‰¿ã€ç»„åˆå’Œæ ¡éªŒæ‰‹æ®µæ‰©å±• OAM æ¨¡å‹ï¼Œæ¯”å¦‚æ ¹æ®æ‚¨çš„åŸºç¡€è®¾æ–½æˆ–è€…ç»„ç»‡åŸºäº OAM å®šä¹‰æ›´é€‚åˆçš„åº”ç”¨æŠ½è±¡æ¨¡å‹</li><li>ä½¿ç”¨ KCL é…ç½®åˆ†å—ç¼–å†™ï¼Œæ¡ä»¶ï¼Œé€»è¾‘ï¼Œå¾ªç¯å’Œæ¨¡å—åŒ–èƒ½åŠ›æ›´å¥½åœ°ç»„ç»‡ OAM å¤šç¯å¢ƒé…ç½®ï¼Œæå‡æ¨¡ç‰ˆåŒ–èƒ½åŠ›ï¼Œæ¯”å¦‚å°†è¾ƒé•¿çš„ App Definition åˆ†æ•£åˆ°ä¸åŒçš„æ–‡ä»¶è¿›è¡Œç»„ç»‡ï¼Œå‡å°‘æ ·æ¿é…ç½®</li><li>ä¸ KusionStack å’Œ ArgoCD ç­‰é¡¹ç›®è¿›ä¸€æ­¥é›†æˆå®ç°æ›´å¥½çš„ GitOps</li><li>å°†æ›´å¤šçš„äº‘åŸç”Ÿèƒ½åŠ›æˆ– Kubernetes Operator å¦‚ KubeBlocks å’Œ Crossplane ç­‰å®ç°æ›´å¥½çš„æ•°æ®åº“è¿ç»´ä»¥åŠç»Ÿä¸€çš„äº‘ API å’Œ Kubernetes API å¯ç¼–ç¨‹æ¥å…¥</li><li>å…¶ä»–æ›´å¤šä½¿ç”¨åœºæ™¯...</li></ul>]]></content>
        <author>
            <name>KCL å›¢é˜Ÿ</name>
        </author>
        <category label="KCL" term="KCL"/>
        <category label="KubeVela" term="KubeVela"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[KCL åœ¨å·¥ç¨‹åŒ–é…ç½®ç­–ç•¥åœºæ™¯çš„æ¢ç´¢å’Œè½åœ°ä½¿ç”¨]]></title>
        <id>https://kcl-lang.github.io/zh-CN/blog/2023-12-09-engineering-config-policy-with-kcl-meeting</id>
        <link href="https://kcl-lang.github.io/zh-CN/blog/2023-12-09-engineering-config-policy-with-kcl-meeting"/>
        <updated>2023-12-09T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[PDF ä¸‹è½½(ä¸­æ–‡ç‰ˆ)]]></summary>
        <content type="html"><![CDATA[<p><a href="https://kcl-lang.io/talks/engineering-config-policy-with-kcl.pdf" target="_blank" rel="noopener noreferrer">PDF ä¸‹è½½(ä¸­æ–‡ç‰ˆ)</a></p>]]></content>
        <author>
            <name>KCL å›¢é˜Ÿ</name>
        </author>
        <category label="KCL" term="KCL"/>
        <category label="Meeting" term="Meeting"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[KCL é«˜æ•ˆè¯­ä¹‰æ¨¡å‹æŠ€æœ¯æ­ç§˜ï¼šå®ç°å¿«é€Ÿç¼–è¯‘ä¸å¢å¼º IDE æ”¯æŒ]]></title>
        <id>https://kcl-lang.github.io/zh-CN/blog/2023-12-09-kcl-new-semantic-model</id>
        <link href="https://kcl-lang.github.io/zh-CN/blog/2023-12-09-kcl-new-semantic-model"/>
        <updated>2023-12-09T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[ä»€ä¹ˆæ˜¯ KCL è¯­ä¹‰æ¨¡å‹ï¼Ÿ]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ä»€ä¹ˆæ˜¯-kcl-è¯­ä¹‰æ¨¡å‹">ä»€ä¹ˆæ˜¯ KCL è¯­ä¹‰æ¨¡å‹ï¼Ÿ<a href="#ä»€ä¹ˆæ˜¯-kcl-è¯­ä¹‰æ¨¡å‹" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p><img loading="lazy" alt="image.png" src="/zh-CN/assets/images/01-a4f6cb66bb886db68b7fb33069e7d7bc.png" width="1480" height="1238" class="img_ev3q"></p><ul><li>â€œè¯­ä¹‰æ¨¡å‹â€æŒ‡çš„æ˜¯æºä»£ç ä¸­å‡ºç°çš„æ¨¡å—ã€å‡½æ•°å’Œç±»å‹çš„å†…å­˜è¡¨ç¤ºã€‚è¿™ç§è¡¨ç¤ºæ˜¯å®Œå…¨â€œè§£æâ€çš„ï¼šæ‰€æœ‰è¡¨è¾¾å¼éƒ½æœ‰ç±»å‹ï¼ˆæ³¨æ„ï¼Œå¯èƒ½å­˜åœ¨æ— æ³•åœ¨ KCL ä¸­æ¨å¯¼çš„è¡¨è¾¾å¼ç±»å‹ï¼Œå®ƒä»¬å°†è¢«å®šä¹‰ä¸º any <strong>ç±»å‹</strong>ï¼‰ï¼Œå¹¶ä¸”æ‰€æœ‰å¼•ç”¨éƒ½ç»‘å®šåˆ°å£°æ˜ç­‰ã€‚</li><li>å®¢æˆ·ç«¯å¯ä»¥æäº¤å°‘é‡çš„è¾“å…¥æ•°æ®ï¼ˆé€šå¸¸æ˜¯å¯¹å•ä¸ªæ–‡ä»¶çš„æ›´æ”¹ï¼‰å¹¶è·å¾—æ–°çš„ä»£ç æ¨¡å‹æ¥è§£é‡Šæ›´æ”¹ã€‚</li><li>åº•å±‚å¼•æ“ç¡®ä¿æ¨¡å‹æ˜¯<strong>æƒ°æ€§çš„ï¼ˆæŒ‰éœ€ï¼‰å’Œå¢é‡</strong>è®¡ç®—çš„ï¼Œå¹¶ä¸”å¯ä»¥é’ˆå¯¹å°çš„å˜åŒ–å¿«é€Ÿæ›´æ–°ã€‚</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ä¸ºä»€ä¹ˆ-kcl-éœ€è¦æ–°çš„è¯­ä¹‰æ¨¡å‹">ä¸ºä»€ä¹ˆ KCL éœ€è¦æ–°çš„è¯­ä¹‰æ¨¡å‹ï¼Ÿ<a href="#ä¸ºä»€ä¹ˆ-kcl-éœ€è¦æ–°çš„è¯­ä¹‰æ¨¡å‹" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>æˆ‘ä»¬å¯ä»¥å…ˆç®€ç•¥åœ°çœ‹ä¸€ä¸‹æ—§è¯­ä¹‰æ¨¡å‹çš„è®¾è®¡ï¼š
<img loading="lazy" alt="image.png" src="/zh-CN/assets/images/02-40975ad67009f082400bce523d31386c.png" width="1216" height="812" class="img_ev3q">
æ—§è¯­ä¹‰æ¨¡å‹å¯ä»¥ç®€å•åœ°çœ‹ä½œä¸€ä¸ªå¤§é‡ä½œç”¨åŸŸçš„é›†åˆï¼Œå…¶ä¸­ä¸åŒçš„ä½œç”¨åŸŸå†…å­˜å‚¨äº†ä½œç”¨åŸŸä¹‹é—´çš„çˆ¶å­èŠ‚ç‚¹ä»¥åŠå†…éƒ¨åŒ…å«çš„ç¬¦å·å­—ç¬¦ä¸²åŠå¯¹åº”ç±»å‹ï¼Œå®ƒå¯ä»¥ç®€å•åœ°æ»¡è¶³ç¼–è¯‘å™¨å¯¹ç±»å‹æ£€æŸ¥å’Œä»£ç ç”Ÿæˆçš„éœ€æ±‚ã€‚ä½†æ¶‰åŠåˆ°é«˜çº§å·¥å…·é“¾ï¼ˆä¾‹å¦‚ IDEï¼‰è¿™ç§ç®€å•çš„ç»“æ„å°±ä¸è¶³ä»¥æ»¡è¶³éœ€æ±‚äº†ã€‚
ä¸¾å‡ ä¸ªå…¸å‹çš„ IDE æŸ¥è¯¢ä¸ºä¾‹ï¼š</p><ul><li>å¯¹åº”ä½ç½®ä¸‹çš„ ast èŠ‚ç‚¹çš„ç±»å‹æ˜¯ä»€ä¹ˆï¼Ÿ</li><li>æ‰€æœ‰å¯¹å½“å‰ ast èŠ‚ç‚¹çš„å¼•ç”¨åœ¨å“ªï¼Ÿï¼ˆfind referenceï¼‰</li><li>å½“å‰ ast èŠ‚ç‚¹å¼•ç”¨äº†å“ªä¸ªèŠ‚ç‚¹ï¼Ÿï¼ˆfind definitionï¼‰</li><li>å½“å‰ä½ç½®å¯è®¿é—®çš„æ‰€æœ‰ç¬¦å·ï¼Ÿ</li></ul><p>ä»…åˆ©ç”¨æ—§è¯­ä¹‰æ¨¡å‹ï¼Œè¿™å°±è¦æ±‚ IDE å¤šæ¬¡éå† AST ä»¥åŠè¿›è¡Œå¤šæ¬¡é‡å¤è®¡ç®—ï¼Œå¯ä»¥ç®€å•åœ°åˆ†æä¸€ä¸‹æ—§è¯­ä¹‰æ¨¡å‹çš„é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°ï¼š</p><ul><li>æ—§è¯­ä¹‰æ¨¡å‹ä¿¡æ¯æŸ¥è¯¢è¾ƒä¸ºå›°éš¾ï¼Œä»…å­˜å‚¨äº†å­—ç¬¦ä¸²åˆ°ç¬¦å·çš„æ˜ å°„</li><li>ç¬¦å·ä¹‹é—´çš„å…³è”ï¼Œç¬¦å·ä¸ä½œç”¨åŸŸä¹‹é—´çš„å…³è”è¾ƒå¼±ï¼Œå¯¼è‡´éœ€è¦æŸ¥è¯¢ç›¸å…³ä¿¡æ¯æ—¶å¾€å¾€éœ€è¦éå†æ‰€æœ‰ä½œç”¨åŸŸ</li><li>å¤§é‡çš„ä¸­é—´ä¿¡æ¯åœ¨åˆ†æè¿‡ç¨‹ä¸­è¢«ä¸¢å¼ƒï¼Œæœªè¿›è¡Œç¼“å­˜ï¼Œå¯¼è‡´å¤šæ¬¡æŸ¥è¯¢è¿›è¡Œé‡å¤è¿ç®—</li></ul><p>ç®€è€Œè¨€ä¹‹ï¼Œæ—§è¯­ä¹‰æ¨¡å‹æ— æ³•æ»¡è¶³é«˜çº§å·¥å…·é“¾çš„æŸ¥è¯¢éœ€æ±‚ï¼Œå¤§é‡ä¿¡æ¯ç¼ºå¤±ï¼Œå¦ä¸€æ–¹é¢ï¼Œæ—§è¯­ä¹‰æ¨¡å‹ä¸æ”¯æŒå¢é‡ç¼–è¯‘ï¼Œè¿™ä¹Ÿé™ä½äº†å·¥å…·é“¾çš„ç”¨æˆ·ä½“éªŒã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="æ–°è¯­ä¹‰æ¨¡å‹çš„ä¸»è¦æ€è·¯map-reduce">æ–°è¯­ä¹‰æ¨¡å‹çš„ä¸»è¦æ€è·¯ï¼šMap Reduce<a href="#æ–°è¯­ä¹‰æ¨¡å‹çš„ä¸»è¦æ€è·¯map-reduce" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>Map Reduce æ¶æ„çš„æƒ³æ³•æ˜¯å°†åˆ†æåˆ†ä¸ºç›¸å¯¹ç®€å•çš„ç´¢å¼•é˜¶æ®µå’Œå•ç‹¬çš„å®Œæ•´åˆ†æé˜¶æ®µã€‚
ç´¢å¼•çš„æ ¸å¿ƒçº¦æŸæ˜¯å®ƒåŸºäºæ¯ä¸ªæ–‡ä»¶è¿è¡Œï¼Œç´¢å¼•å™¨è·å–å•ä¸ªæ–‡ä»¶çš„æ–‡æœ¬ï¼Œå¯¹å…¶è¿›è¡Œè§£æï¼Œå¹¶åå‡ºæœ‰å…³è¯¥æ–‡ä»¶çš„ä¸€äº›æ•°æ®ã€‚ç´¢å¼•å™¨æ— æ³•è§¦åŠå…¶ä»–æ–‡ä»¶ã€‚
å®Œæ•´åˆ†æå¯ä»¥è¯»å–å…¶ä»–æ–‡ä»¶ï¼Œå¹¶åˆ©ç”¨ç´¢å¼•ä¸­çš„ä¿¡æ¯æ¥èŠ‚çœå·¥ä½œé‡ã€‚
è¿™å¬èµ·æ¥å¤ªæŠ½è±¡äº†ï¼Œæ‰€ä»¥è®©æˆ‘ä»¬çœ‹ä¸€ä¸ªå…·ä½“çš„ä¾‹å­â€”â€”Javaã€‚åœ¨ Java ä¸­ï¼Œæ¯ä¸ªæ–‡ä»¶éƒ½ä»¥åŒ…å£°æ˜å¼€å¤´ã€‚ç´¢å¼•å™¨å°†åŒ…çš„åç§°ä¸ç±»åè¿æ¥èµ·æ¥ä»¥è·å¾—å…¨é™å®šåã€‚å®ƒè¿˜æ”¶é›†ç±»ä¸­å£°æ˜çš„æ–¹æ³•é›†ã€è¶…ç±»å’Œæ¥å£çš„åˆ—è¡¨ç­‰ã€‚
æ¯ä¸ªæ–‡ä»¶çš„æ•°æ®è¢«åˆå¹¶åˆ°ä¸€ä¸ªç´¢å¼•ä¸­ï¼Œè¯¥ç´¢å¼•å°†å…¨é™å®šåï¼ˆFQNï¼‰æ˜ å°„åˆ°ç±»ã€‚ç´¢å¼•çš„æ›´æ–°æˆæœ¬å¾ˆä½ï¼Œå½“æ–‡ä»¶ä¿®æ”¹è¯·æ±‚åˆ°è¾¾æ—¶ï¼Œç´¢å¼•ä¸­è¯¥æ–‡ä»¶çš„è´¡çŒ®å°†è¢«åˆ é™¤ï¼Œæ–‡ä»¶çš„æ–‡æœ¬å°†è¢«æ›´æ”¹ï¼Œç´¢å¼•å™¨å°†åœ¨æ–°æ–‡æœ¬ä¸Šè¿è¡Œå¹¶æ·»åŠ æ–°çš„è´¡çŒ®ã€‚è¦åšçš„å·¥ä½œé‡ä¸æ›´æ”¹çš„æ–‡ä»¶æ•°é‡æˆæ­£æ¯”ï¼Œå¹¶ä¸”ä¸æ–‡ä»¶æ€»æ•°æ— å…³ã€‚
è®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•ä½¿ç”¨ FQN ç´¢å¼•æ¥å¿«é€Ÿæä¾›è¡¥å…¨ã€‚</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// File ./mypackage/Foo.java</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">package mypackage;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import java.util.*;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class Foo {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static Bar f() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return new Bar();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// File ./mypackage/Bar.java</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">package mypackage;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class Bar {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void g() {}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// File ./Main.java</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import mypackage.Foo;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class Main {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static void main(String[] args) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Foo.f().</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ç”¨æˆ·åˆšåˆšè¾“å…¥äº† <code>Foo.f().</code>ï¼Œæˆ‘ä»¬éœ€è¦å¼„æ¸…æ¥šæ¥æ”¶è€…è¡¨è¾¾å¼çš„ç±»å‹æ˜¯ <code>Bar</code>ï¼Œå¹¶å»ºè®® <code>g</code> ä½œä¸ºè¡¥å…¨ã€‚
é¦–å…ˆï¼Œå½“æ–‡ä»¶ <code>Main.java</code> è¢«ä¿®æ”¹æ—¶ï¼Œæˆ‘ä»¬åœ¨è¿™ä¸ªå•ä¸ªæ–‡ä»¶ä¸Šè¿è¡Œç´¢å¼•å™¨ï¼šæ²¡æœ‰ä»»ä½•å˜åŒ–ï¼ˆæ–‡ä»¶ä»ç„¶åŒ…å«å…·æœ‰é™æ€ <code>main</code> æ–¹æ³•çš„ç±» <code>Main</code>ï¼‰ï¼Œå› æ­¤æˆ‘ä»¬ä¸éœ€è¦æ›´æ–° FQN ç´¢å¼•ã€‚
æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦è§£æåç§° <code>Foo</code>ã€‚æˆ‘ä»¬è§£ææ–‡ä»¶ <code>Main.java</code>ï¼Œæ³¨æ„åˆ°äº† <code>import mypackage.Foo</code>ï¼Œå¹¶ä¸”åœ¨ FQN ç´¢å¼•ä¸­æŸ¥æ‰¾ <code>mypackage.Foo</code> ã€‚åœ¨ç´¢å¼•å½“ä¸­ï¼Œæˆ‘ä»¬å‘ç° <code>Foo</code> æœ‰ä¸€ä¸ªé™æ€æ–¹æ³• <code>f</code>, äºæ˜¯æˆ‘ä»¬ä¹ŸæˆåŠŸè§£æäº†è°ƒç”¨ <code>f()</code>ã€‚ç´¢å¼•è¿˜å­˜å‚¨äº† <code>f</code> çš„è¿”å›ç±»å‹, ä½†æ˜¯è¯·æ³¨æ„ï¼Œç´¢å¼•ä¸­å­˜å‚¨çš„æ˜¯å­—ç¬¦ä¸² <code>"Bar"</code>ï¼Œè€Œä¸æ˜¯å¯¹ç±» <code>Bar</code> çš„ç›´æ¥å¼•ç”¨ã€‚
è¿™æ ·åšçš„åŸå› åœ¨äºï¼Œ<code>Foo.java</code> ä¸­çš„ <code>import java.util.*</code> ä¼šå¯¼è‡´ <code>Bar</code> å¯ä»¥è¢«æ¨æµ‹ä¸º <code>java.util.Bar</code> æˆ– <code>mypackage.Bar</code>, ç´¢å¼•å™¨å¹¶ä¸çŸ¥é“å…·ä½“æ˜¯å“ªä¸€ä¸ªï¼Œå› ä¸ºå®ƒåªèƒ½â€œçœ‹åˆ°â€æ–‡ä»¶ <code>Foo.java</code> çš„æ–‡æœ¬ã€‚æ¢å¥è¯è¯´ï¼Œè™½ç„¶ç´¢å¼•ç¡®å®å­˜å‚¨äº†æ–¹æ³•çš„è¿”å›ç±»å‹ï¼Œä½†å®ƒä»¥æœªè§£æçš„å½¢å¼å­˜å‚¨å®ƒä»¬ã€‚
ä¸‹ä¸€æ­¥æ˜¯åœ¨ <code>Foo.java</code> çš„ä¸Šä¸‹æ–‡ä¸­è§£ææ ‡è¯†ç¬¦ <code>Bar</code>ã€‚è¿™ä¼šç»§ç»­ä½¿ç”¨ FQN ç´¢å¼•ï¼Œå¹¶ä¸”å®šä½åˆ°ç±» <code>mypackage.Bar</code>ã€‚äºæ˜¯æœ€åçš„æœ€åï¼Œæƒ³è¦çš„è¡¥å…¨ï¼šæ–¹æ³• <code>g</code> å°±è¢«æˆ‘ä»¬æ‰¾åˆ°äº†
å®Œæˆè¿‡ç¨‹ä¸­æ€»å…±åªè§¦åŠäº†ä¸‰ä¸ªæ–‡ä»¶ã€‚FQN ç´¢å¼•ä½¿æˆ‘ä»¬èƒ½å¤Ÿå®Œå…¨å¿½ç•¥é¡¹ç›®ä¸­çš„æ‰€æœ‰å…¶ä»–æ–‡ä»¶ã€‚
åˆ°ç›®å‰ä¸ºæ­¢æ‰€æè¿°çš„æ–¹æ³•çš„ä¸€ä¸ªé—®é¢˜æ˜¯ä»ç´¢å¼•è§£æç±»å‹éœ€è¦å¤§é‡çš„å·¥ä½œã€‚ä¾‹å¦‚ï¼Œå¦‚æœ <code>Foo.f</code> è¢«å¤šæ¬¡è°ƒç”¨ï¼Œè¿™é¡¹å·¥ä½œå¯èƒ½ä¼šé‡å¤ã€‚è§£å†³åŠæ³•æ˜¯æ·»åŠ ç¼“å­˜ã€‚åç§°è§£æç»“æœä¼šè¢«è®°å¿†ï¼Œå› æ­¤åªéœ€è¦è¿›è¡Œä¸€æ¬¡è§£æã€‚ä»»ä½•æ›´æ”¹éƒ½ä¼šå¯¼è‡´ç¼“å­˜å®Œå…¨æ¶ˆå¤±â€”â€”ä½¿ç”¨ç´¢å¼•ï¼Œé‡å»ºç¼“å­˜çš„æˆæœ¬å¹¶ä¸é‚£ä¹ˆé«˜ã€‚
æ€»ç»“ä¸€ä¸‹ï¼Œç¬¬ä¸€ç§æ–¹æ³•çš„å·¥ä½œåŸç†å¦‚ä¸‹ï¼š</p><ol><li>æ¯ä¸ªæ–‡ä»¶éƒ½è¢«ç‹¬ç«‹ä¸”å¹¶è¡Œåœ°ç´¢å¼•ï¼Œç”Ÿæˆä¸€ä¸ªâ€œå­˜æ ¹â€â€”â€” æŒ‡ä¸€ç»„å¯è§çš„é¡¶çº§å£°æ˜ï¼Œå…·æœ‰æœªè§£æçš„ç±»å‹ã€‚</li><li>æ‰€æœ‰å­˜æ ¹éƒ½åˆå¹¶åˆ°ä¸€ä¸ªç´¢å¼•æ•°æ®ç»“æ„ä¸­ã€‚</li><li>åç§°è§£æå’Œç±»å‹æ¨æ–­ä¸»è¦æ˜¯åœ¨å­˜æ ¹åŸºç¡€ä¸Šè¿›è¡Œçš„ã€‚</li><li>åç§°è§£ææ˜¯æƒ°æ€§çš„ï¼ˆæˆ‘ä»¬ä»…åœ¨éœ€è¦æ—¶ä»å­˜æ ¹è§£æç±»å‹ï¼‰å¹¶ä¸”æ˜¯è®°å¿†çš„ï¼ˆæ¯ç§ç±»å‹ä»…è§£æä¸€æ¬¡ï¼‰ã€‚</li><li>æ¯æ¬¡æ›´æ”¹æ—¶ç¼“å­˜éƒ½ä¼šå®Œå…¨å¤±æ•ˆ</li><li>ç´¢å¼•æ˜¯å¢é‡æ›´æ–°çš„ï¼š<ul><li>å¦‚æœç¼–è¾‘æ²¡æœ‰æ›´æ”¹æ–‡ä»¶çš„å­˜æ ¹ï¼Œåˆ™ä¸éœ€è¦æ›´æ”¹ç´¢å¼•ã€‚</li><li>å¦åˆ™ï¼Œæ—§ç´¢å¼•å°†è¢«åˆ é™¤ï¼Œæ–°ç´¢å¼•è¢«é‡æ–°æ·»åŠ </li></ul></li></ol><p>è¿™ç§æ–¹æ³•è¶³å¤Ÿç®€å•å¹¶å…·æœ‰å‡ºè‰²çš„æ€§èƒ½ã€‚å¤§éƒ¨åˆ†å·¥ä½œä¸»è¦åœ¨ç´¢å¼•é˜¶æ®µï¼Œè€Œè¿™äº›å·¥ä½œæˆ‘ä»¬å¯ä»¥å¹¶è¡Œåœ°æ‰§è¡Œã€‚æ­¤æ¶æ„çš„ä¸¤ä¸ªç¤ºä¾‹æ˜¯ <a href="https://www.jetbrains.com/idea/" target="_blank" rel="noopener noreferrer">IntelliJ</a> å’Œ <a href="https://sorbet.org/" target="_blank" rel="noopener noreferrer">Sorbet</a>ã€‚
è¿™ç§æ–¹æ³•çš„ä¸»è¦ç¼ºç‚¹æ˜¯å®ƒåªæœ‰åœ¨æœ‰æ•ˆæ—¶æ‰æœ‰æ•ˆâ€”â€” å…·ä½“è€Œè¨€ï¼Œå¹¶éæ¯ç§è¯­è¨€éƒ½æœ‰æ˜ç¡®å®šä¹‰çš„ FQN æ¦‚å¿µã€‚ä½†æ€»çš„æ¥è¯´ï¼Œè®¾è®¡å¥½æ¨¡å—å’Œåç§°è§£æå¯¹äºè¯­è¨€æ¥è¯´æ€»æ˜¯å¥½çš„ï¼Œå…·ä½“åˆ°ç›®å‰çš„æƒ…å†µä¸Šï¼ŒKCL æ­£å¥½æ»¡è¶³è¿™ä¸ªæ¡ä»¶ã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="æ–°è¯­ä¹‰æ¨¡å‹-pipeline">æ–°è¯­ä¹‰æ¨¡å‹ Pipeline<a href="#æ–°è¯­ä¹‰æ¨¡å‹-pipeline" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>æ–°è¯­ä¹‰æ¨¡å‹æ€»ä½“ pipeline å¦‚ä¸‹ï¼š
<img loading="lazy" alt="image.png" src="/zh-CN/assets/images/03-c2c78dc8d47dd97ac1ae13c114b6c30d.png" width="954" height="772" class="img_ev3q"></p><p><img loading="lazy" alt="image.png" src="/zh-CN/assets/images/04-f50a1ff5aa06ed172217d6176fafdb14.png" width="960" height="778" class="img_ev3q"></p><p><img loading="lazy" alt="image.png" src="/zh-CN/assets/images/05-1a4d9bc6eb1226873d9264609ddff30b.png" width="1316" height="1296" class="img_ev3q">
ç›¸è¾ƒäºåŸè¯­ä¹‰æ¨¡å‹åˆ†ææµç¨‹ï¼Œæ–°è¯­ä¹‰æ¨¡å‹æ–°å¢äº† namer å’Œ advanced_resolve ä¸¤è½® passï¼Œä»è€Œåœ¨ä¸å½±å“åŸæœ‰ç¼–è¯‘å™¨æµç¨‹çš„æƒ…å†µä¸‹å¢å¼ºå¯¹é«˜çº§å·¥å…·é“¾çš„æ”¯æŒã€‚</p><ul><li><code>resolver</code> åŸºäºæ–‡ä»¶çº§åˆ«å·¥ä½œï¼Œä¸»è¦æ¶‰åŠ <code>GlobalState</code> çš„åˆå§‹åŒ–ï¼ŒæŠŠæºä»£ç è§£æä¸º ASTï¼Œå¹¶å»ºç«‹ AST èŠ‚ç‚¹åˆ°ç±»å‹çš„æ˜ å°„ä»¥ä¾›åé¢çš„é˜¶æ®µä½¿ç”¨ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ç¼“å­˜å•ä¸ªæ–‡ä»¶ç´¢å¼•çš„è¾“å‡ºï¼Œä»¥ä¾¿åœ¨æ–‡ä»¶å†…å®¹æœªæ›´æ”¹æ—¶å®Œå…¨è·³è¿‡å¯¹è¯¥æ–‡ä»¶çš„è§£æã€‚</li><li><code>namer</code> çš„å‰æœŸé˜¶æ®µä¹Ÿå°†åŸºäºæ–‡ä»¶çº§åˆ«å·¥ä½œï¼Œè¯¥é˜¶æ®µæ”¶é›†æ–‡ä»¶ä¸­å®šä¹‰çš„å…¨å±€ç¬¦å·ï¼Œä¹‹åå°†ç¬¦å·åŸºäº FQN åˆå¹¶ï¼Œå¾—åˆ°å”¯ä¸€ä¸€ä¸ª <code>GlobalState</code><ul><li>åŸºäºæ–‡ä»¶çº§åˆ«æ„å‘³ç€æˆ‘ä»¬å¯ä»¥å¾ˆæ–¹ä¾¿åœ°åœ¨å‰ä¸¤ä¸ªé˜¶æ®µè¿›è¡Œå¢é‡ç¼–è¯‘</li></ul></li><li><code>advanced_resolver</code> å°†éå† AST è§£æå±€éƒ¨ç¬¦å·å¹¶å°†ç¬¦å·çš„å¼•ç”¨æŒ‡å‘å®ƒçš„å®šä¹‰,åŒæ—¶è®¾ç½®å±€éƒ¨ä½œç”¨åŸŸçš„ owner ç¬¦å·ï¼Œä¾‹å¦‚ <code>Schema</code> ä¸ <code>Package</code></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="æ–°è¯­ä¹‰æ¨¡å‹è¯­ä¹‰æ•°æ®åº“globalstate">æ–°è¯­ä¹‰æ¨¡å‹è¯­ä¹‰æ•°æ®åº“ï¼šGlobalState<a href="#æ–°è¯­ä¹‰æ¨¡å‹è¯­ä¹‰æ•°æ®åº“globalstate" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>æ–°è¯­ä¹‰æ¨¡å‹çš„æ ¸å¿ƒç»“æ„æ˜¯ <code>core::GlobalState</code>ï¼Œå·¥å…·é“¾ä¸»è¦é€šè¿‡å®ƒæ¥å®Œæˆä¸ç¼–è¯‘å™¨çš„äº¤äº’åŠæŸ¥è¯¢ã€‚</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/// GlobalState is used to store semantic information of KCL source code</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#[derive(Default, Debug, Clone)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pub struct GlobalState {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // store all allocated symbols</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    symbols: KCLSymbolData,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // store all allocated scopes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    scopes: ScopeData,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // store package infomation for name mapping</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    packages: PackageDB,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // store semantic information after analysis</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pub(crate) sema_db: SemanticDB,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>GlobalState</code> ä½œä¸ºæ–°è¯­ä¹‰æ¨¡å‹çš„è¯­ä¹‰æ•°æ®åº“è¢«ä½¿ç”¨ï¼Œæ˜¯è¯­ä¹‰åˆ†æåçš„æœ€ç»ˆäº§ç‰©ï¼Œä¸»è¦åŒ…å«å››ä¸ªæ–¹é¢çš„ä¿¡æ¯ï¼š</p><ul><li><code>SymbolData</code>ï¼šå­˜å‚¨ AST ä¸­çš„æ‰€æœ‰ç¬¦å·ä»¥åŠå®ƒä»¬å¯¹åº”çš„è¯­ä¹‰ä¿¡æ¯ï¼Œå¹¶ç»´æŠ¤å¼•ç”¨å…³ç³»</li><li><code>ScopeData</code>ï¼šå­˜å‚¨ AST ä¸­æ¶‰åŠçš„æ‰€æœ‰ä½œç”¨åŸŸï¼ŒåŒæ—¶åˆ†éš”ç¬¦å·ï¼Œç»´æŠ¤ç¬¦å·å¯è§æ€§ä¸ä½œç”¨åŸŸåµŒå¥—å…³ç³»</li><li><code>PackageDB</code>: å­˜å‚¨åŒ…ä¿¡æ¯ï¼Œä¾‹å¦‚åŒ…çš„æ–‡ä»¶é›†åˆï¼Œå¯¼å…¥ä¿¡æ¯ç­‰</li><li><code>SemanticDB</code>: å­˜å‚¨è¾…åŠ©ä¿¡æ¯ï¼ŒåŠ é€ŸæŸ¥è¯¢ï¼Œå¦‚ç¬¦å·çš„æ’åºå’Œä½ç½®ç¼“å­˜ç­‰</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="symboldata">SymbolData<a href="#symboldata" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p><code>SymbolData</code> è´Ÿè´£ç®¡ç†ç¬¦å·çš„åˆ†é…ï¼Œå­˜å‚¨åˆ†é…çš„ç¬¦å·ä»¥åŠç›¸å…³çš„è¯­ä¹‰ä¿¡æ¯, åœ¨è¿™é‡Œæˆ‘ä»¬å€Ÿç”¨ rust çš„ arena è®¾è®¡æ¥è®¿é—®ç›¸å…³ç¬¦å·ã€‚</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#[derive(Default, Debug, Clone)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pub struct KCLSymbolData {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pub(crate) values: Arena&lt;ValueSymbol&gt;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pub(crate) packages: Arena&lt;PackageSymbol&gt;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pub(crate) attributes: Arena&lt;AttributeSymbol&gt;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pub(crate) schemas: Arena&lt;SchemaSymbol&gt;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pub(crate) type_aliases: Arena&lt;TypeAliasSymbol&gt;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pub(crate) unresolved: Arena&lt;UnresolvedSymbol&gt;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pub(crate) rules: Arena&lt;RuleSymbol&gt;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pub(crate) symbols_info: SymbolDB,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>åœ¨æ–°è¯­ä¹‰æ¨¡å‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>core::SymbolRef</code> æ¥è¡¨ç¤ºå¯¹ä¸€ä¸ªç¬¦å·çš„å¼•ç”¨ï¼ŒåŒæ—¶ä¹Ÿåˆ©ç”¨ <code>SymbolRef</code> æ¥è®¿é—® <code>SymbolData</code> ä¸­å…·ä½“çš„ç¬¦å·ä¿¡æ¯ã€‚</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#[derive(Debug, Clone, Copy, PartialEq, Eq, PartialOrd, Ord, Hash)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pub struct SymbolRef {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pub(crate) id: generational_arena::Index,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pub(crate) kind: SymbolKind,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>å…·ä½“è€Œè¨€ï¼Œ<code>SymbolData</code> ä¼šæ ¹æ® <code>SymbolRef</code> çš„ <code>kind</code>ï¼Œå–å‡ºä¸åŒç±»å‹çš„ Symbolï¼Œå¹¶è½¬åŒ–ä¸ºæŠ½è±¡çš„ <code>trait Symbol</code>ã€‚</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">pub type KCLSymbol = dyn Symbol&lt;SymbolData = KCLSymbolData,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SemanticInfo = KCLSymbolSemanticInfo&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pub fn get_symbol(&amp;self, id: SymbolRef) -&gt; Option&lt;&amp;KCLSymbol&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        match id.get_kind() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            SymbolKind::Schema =&gt; self</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                .schemas</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                .get(id.get_id())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                .map(|symbol| symbol as &amp;KCLSymbol),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">pub trait Symbol {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    type SymbolData;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    type SemanticInfo;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn get_sema_info(&amp;self) -&gt; &amp;Self::SemanticInfo;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn is_global(&amp;self) -&gt; bool;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn get_range(&amp;self) -&gt; Range;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn get_owner(&amp;self) -&gt; Option&lt;SymbolRef&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn get_definition(&amp;self) -&gt; Option&lt;SymbolRef&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn get_name(&amp;self) -&gt; String;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn get_id(&amp;self) -&gt; Option&lt;SymbolRef&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn get_attribute(&amp;self, ...) -&gt; Option&lt;SymbolRef&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn has_attribute(&amp;self, ...) -&gt; bool;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn get_all_attributes(&amp;self, ...) -&gt; Vec&lt;SymbolRef&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn simple_dump(&amp;self) -&gt; String;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn full_dump(&amp;self, data: &amp;Self::SymbolData) -&gt; Option&lt;String&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>é€šè¿‡è¿™ä¸ª traitï¼Œå·¥å…·é“¾å¯ä»¥è½»æ¾åœ°å®Œæˆç¬¦å·è¯­ä¹‰ä¿¡æ¯ä»¥åŠå¼•ç”¨å…³ç³»çš„æŸ¥è¯¢ã€‚</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="scopedata">ScopeData<a href="#scopedata" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p><code>ScopeData</code> çš„è®¾è®¡æ€è·¯å®é™…ä¸Šå’Œ <code>SymbolData</code> ç±»ä¼¼ï¼Œå­˜å‚¨äº†ä¸åŒç±»å‹çš„ <code>Scope</code> å¹¶ä½¿ç”¨ <code>ScopeRef</code> è®¿é—®ã€‚</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#[derive(Default, Debug, Clone)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pub struct ScopeData {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// map pkgpath to root_scope</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pub(crate) root_map: IndexMap&lt;String, ScopeRef&gt;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pub(crate) locals: generational_arena::Arena&lt;LocalSymbolScope&gt;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pub(crate) roots: generational_arena::Arena&lt;RootSymbolScope&gt;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">pub trait Scope {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    type SymbolData;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn get_filename(&amp;self) -&gt; &amp;str;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn get_parent(&amp;self) -&gt; Option&lt;ScopeRef&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn get_children(&amp;self) -&gt; Vec&lt;ScopeRef&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn contains_pos(&amp;self, pos: &amp;Position) -&gt; bool;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn get_owner(&amp;self) -&gt; Option&lt;SymbolRef&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn look_up_def(&amp;self, ...) -&gt; Option&lt;SymbolRef&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn get_all_defs(&amp;self, ...) -&gt; HashMap&lt;String, SymbolRef&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn dump(&amp;self, scope_data: &amp;ScopeData,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            symbol_data: &amp;Self::SymbolData) -&gt; Option&lt;String&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="semanticdb">SemanticDB<a href="#semanticdb" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p><code>SemanticDB</code> æœ¬è´¨ä¸Šæ˜¯è¯­ä¹‰å¯¹è±¡éƒ¨åˆ†è¯­ä¹‰ä¿¡æ¯çš„ç¼“å­˜å’Œæ•´åˆï¼Œå®ƒçš„ä½œç”¨ä¸»è¦æ˜¯ç”¨äºåŠ é€Ÿ <code>GlobalState</code> å†…éƒ¨ä¿¡æ¯çš„ç»´æŠ¤ä»¥åŠæŸ¥è¯¢ã€‚</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#[derive(Debug, Default, Clone)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pub struct SemanticDB {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pub(crate) file_sema_map: IndexMap&lt;String, FileSemanticInfo&gt;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#[derive(Debug, Clone)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pub struct FileSemanticInfo {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pub(crate) filename: String,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pub(crate) symbols: Vec&lt;SymbolRef&gt;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pub(crate) scopes: Vec&lt;ScopeRef&gt;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pub(crate) symbol_locs: IndexMap&lt;SymbolRef, CachedLocation&gt;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pub(crate) local_scope_locs: IndexMap&lt;ScopeRef, CachedRange&gt;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="æ€»ç»“">æ€»ç»“<a href="#æ€»ç»“" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>KCL æ–°è¯­ä¹‰æ¨¡å‹å®è´¨ä¸Šåªåšäº†ä¸¤ä»¶äº‹ï¼Œä¸€æ˜¯å°†å·¥å…·é“¾åœ¨åº”ç”¨å±‚åšçš„é‡å¤è®¡ç®—ä¸‹æ²‰è‡³è¯­ä¹‰å±‚ï¼Œå¹¶è®¾è®¡å¯¹åº”æœºåˆ¶ç®€åŒ–ä¿¡æ¯æŸ¥è¯¢ï¼ŒäºŒæ˜¯å°†è¯­ä¹‰åˆ†æè¿‡ç¨‹ä¸­ä¸¢å¤±çš„ä¿¡æ¯é‡æ–°åˆ†æå¹¶ç¼“å­˜ã€‚
è¿™ä¹ˆåšä¸»è¦æœ‰å‡ ä¸ªç›®çš„ï¼š</p><ul><li>æ”¶æ‹¢äº†è®¡ç®—è¿‡ç¨‹ï¼Œé˜²æ­¢äº†åº”ç”¨å±‚å¯¹ç¼–è¯‘å™¨è¯­ä¹‰æ ¸å¿ƒçš„ä¾µå…¥</li><li>å®Œå–„äº†ç¼“å­˜æœºåˆ¶ï¼Œç®€åŒ–äº†å¢é‡ç¼–è¯‘çš„å®ç°ï¼Œä»è€ŒåŠ é€ŸæŸ¥è¯¢é€Ÿåº¦</li><li>ç®€åŒ–åº”ç”¨å±‚å·¥å…·é“¾çš„å¼€å‘ï¼ŒåŒæ—¶å‡å°‘å·¥å…·é“¾å¯¹ Corner Case çš„å¤„ç†ï¼Œä»è€Œæé«˜å¯ç»´æŠ¤æ€§</li></ul><p>ä»å®è·µä¸Šä¹ŸåŸºæœ¬è¾¾åˆ°äº†ä¸Šè¿°ç›®çš„ï¼Œè¿ç§»åçš„ LSP ç›¸å…³åŠŸèƒ½çš„ä»£ç é‡çº¦ä¸‹é™ 60%ï¼Œå¢é‡ç¼–è¯‘åç¼–è¯‘é€Ÿåº¦çº¦æå‡ 500%ã€‚</p>]]></content>
        <author>
            <name>KCL å›¢é˜Ÿ</name>
        </author>
        <category label="KCL" term="KCL"/>
        <category label="Semantic" term="Semantic"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[KCL ç¤¾åŒºå¼€æºåŒå‘¨æŠ¥ (2023 11.24 - 12.07) | å¦‚ä½•åœ¨ KCL ä¸­ä½¿ç”¨ä¸åŒ Kubernetes é…ç½®åˆå¹¶ç­–ç•¥?]]></title>
        <id>https://kcl-lang.github.io/zh-CN/blog/2023-12-07-biweekly-newsletter</id>
        <link href="https://kcl-lang.github.io/zh-CN/blog/2023-12-07-biweekly-newsletter"/>
        <updated>2023-12-07T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[KCL æ˜¯ä¸€ä¸ª CNCF åŸºé‡‘ä¼šæ‰˜ç®¡çš„åŸºäºçº¦æŸçš„è®°å½•åŠå‡½æ•°è¯­è¨€ï¼ŒæœŸæœ›é€šè¿‡æˆç†Ÿçš„ç¼–ç¨‹è¯­è¨€æŠ€æœ¯å’Œå®è·µæ¥æ”¹è¿›å¯¹å¤§é‡ç¹æ‚é…ç½®æ¯”å¦‚äº‘åŸç”Ÿ Kubernetes é…ç½®åœºæ™¯çš„ç¼–å†™ï¼Œè‡´åŠ›äºæ„å»ºå›´ç»•é…ç½®çš„æ›´å¥½çš„æ¨¡å—åŒ–ã€æ‰©å±•æ€§å’Œç¨³å®šæ€§ï¼Œæ›´ç®€å•çš„é€»è¾‘ç¼–å†™ï¼Œä»¥åŠæ›´ç®€å•çš„è‡ªåŠ¨åŒ–å’Œç”Ÿæ€å·¥å…·é›†æˆã€‚]]></summary>
        <content type="html"><![CDATA[<p><img loading="lazy" src="/zh-CN/assets/images/biweekly-newsletter-zh-bd4cf8c2bcc913a580e7b0e5d6691a08.png" width="1127" height="435" class="img_ev3q"></p><p><a href="https://github.com/kcl-lang" target="_blank" rel="noopener noreferrer">KCL</a> æ˜¯ä¸€ä¸ª CNCF åŸºé‡‘ä¼šæ‰˜ç®¡çš„åŸºäºçº¦æŸçš„è®°å½•åŠå‡½æ•°è¯­è¨€ï¼ŒæœŸæœ›é€šè¿‡æˆç†Ÿçš„ç¼–ç¨‹è¯­è¨€æŠ€æœ¯å’Œå®è·µæ¥æ”¹è¿›å¯¹å¤§é‡ç¹æ‚é…ç½®æ¯”å¦‚äº‘åŸç”Ÿ Kubernetes é…ç½®åœºæ™¯çš„ç¼–å†™ï¼Œè‡´åŠ›äºæ„å»ºå›´ç»•é…ç½®çš„æ›´å¥½çš„æ¨¡å—åŒ–ã€æ‰©å±•æ€§å’Œç¨³å®šæ€§ï¼Œæ›´ç®€å•çš„é€»è¾‘ç¼–å†™ï¼Œä»¥åŠæ›´ç®€å•çš„è‡ªåŠ¨åŒ–å’Œç”Ÿæ€å·¥å…·é›†æˆã€‚</p><p>æœ¬æ ç›®å°†ä¼šåŒå‘¨æ›´æ–° KCL è¯­è¨€ç¤¾åŒºæœ€æ–°åŠ¨æ€ï¼ŒåŒ…æ‹¬åŠŸèƒ½ã€å®˜ç½‘æ›´æ–°å’Œæœ€æ–°çš„ç¤¾åŒºåŠ¨æ€ç­‰ï¼Œå¸®åŠ©å¤§å®¶æ›´å¥½åœ°äº†è§£ KCL ç¤¾åŒºï¼</p><p><strong><em>KCL å®˜ç½‘ï¼š<a href="https://kcl-lang.io" target="_blank" rel="noopener noreferrer">https://kcl-lang.io</a></em></strong></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å†…å®¹æ¦‚è¿°">å†…å®¹æ¦‚è¿°<a href="#å†…å®¹æ¦‚è¿°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>æ„Ÿè°¢æ‰€æœ‰è´¡çŒ®è€…è¿‡å»ä¸¤å‘¨ (2023 11.24 - 12.07) çš„æ°å‡ºå·¥ä½œï¼Œä»¥ä¸‹æ˜¯é‡ç‚¹å†…å®¹æ¦‚è¿°</p><p><strong>ğŸ“¦ æ¨¡å‹æ›´æ–°</strong></p><p>KCL æ¨¡å‹æ•°é‡æ–°å¢è‡³ <strong>240 ä¸ª</strong>ï¼Œä¸»è¦æ–°å¢ä¸ Crossplane Provider ç›¸å…³çš„æ¨¡å‹å’Œä¸ JSON åˆå¹¶æ“ä½œç›¸å…³çš„åº“</p><ul><li>KCL JSON Patch åº“ï¼š<em><a href="https://artifacthub.io/packages/kcl/kcl-module/jsonpatch" target="_blank" rel="noopener noreferrer">https://artifacthub.io/packages/kcl/kcl-module/jsonpatch</a></em></li><li>KCL JSON Merge Patch åº“ï¼š<em><a href="https://artifacthub.io/packages/kcl/kcl-module/json_merge_patch" target="_blank" rel="noopener noreferrer">https://artifacthub.io/packages/kcl/kcl-module/json_merge_patch</a></em></li><li>KCL Kubernetes Strategy Merge Patch åº“ï¼š<em><a href="https://artifacthub.io/packages/kcl/kcl-module/strategic_merge_patch" target="_blank" rel="noopener noreferrer">https://artifacthub.io/packages/kcl/kcl-module/strategic_merge_patch</a></em></li><li>KCL Crossplane åŠ Crossplane Provider ç³»åˆ—æ¨¡å‹ï¼š<em><a href="https://artifacthub.io/packages/search?org=kcl&amp;sort=relevance&amp;page=1&amp;ts_query_web=crossplane" target="_blank" rel="noopener noreferrer">https://artifacthub.io/packages/search?org=kcl&amp;sort=relevance&amp;page=1&amp;ts_query_web=crossplane</a></em></li></ul><p><strong>ğŸ”§ å·¥å…·é“¾æ›´æ–°</strong></p><ul><li><strong>æ–‡æ¡£å·¥å…·æ›´æ–°</strong><ul><li>æ”¯æŒæ¨¡å‹ä¾èµ–çš„ä¸‰æ–¹åº“çš„æ–‡æ¡£ç”Ÿæˆï¼Œæ¯”å¦‚ <code>k8s</code> æ¨¡å‹</li></ul></li><li><strong>éªŒè¯å·¥å…·æ›´æ–°</strong><ul><li>æ”¯æŒéªŒè¯ç»“æœå’Œé”™è¯¯å®šä½åˆ° YAML/JSON æ–‡ä»¶ï¼Œè¾“å‡ºé”™è¯¯è¡Œåˆ—å·ä¿¡æ¯</li></ul></li><li><strong>å¯¼å…¥å·¥å…·æ›´æ–°</strong><ul><li>æ”¯æŒ OpenAPI <code>multiplyOf</code> è§„èŒƒæ˜ å°„åˆ° KCL <code>multiplyof</code> å‡½æ•°è¿›è¡Œæ ¡éªŒ</li><li>æ”¯æŒ YAML Stream æ ¼å¼çš„ Kubernetes CRD æ–‡ä»¶è¾“å‡ºä¸ºå¤šä¸ª KCL æ–‡ä»¶</li><li>ä¼˜åŒ– KCL ä»£ç ç”Ÿæˆï¼Œå»é™¤ç©ºçš„ check è¯­å¥</li></ul></li></ul><p><strong>ğŸ„ SDK æ›´æ–°</strong></p><ul><li>åœ¨ KCL å·²æœ‰ Go å’Œ Python SDK çš„åŸºç¡€ä¸Šæ–°å¢ Rust SDK (ä¸éœ€è¦ LLVM ä¾èµ–), åˆæ­¥åŒ…å« KCL æ–‡ä»¶ç¼–è¯‘ã€æ ¡éªŒã€æµ‹è¯•å’Œæ ¼å¼åŒ–ä»£ç ç­‰ API</li></ul><p><strong>ğŸ’» IDE æ›´æ–°</strong></p><ul><li><strong>ä½“éªŒæ”¹è¿›</strong><ul><li>æ”¯æŒå¢é‡è§£æå’Œå¼‚æ­¥ç¼–è¯‘åŠŸèƒ½ï¼Œæå‡æ€§èƒ½</li></ul></li><li><strong>é”™è¯¯ä¿®å¤</strong><ul><li>ä¿®å¤ assert è¯­å¥ä¸­å­—ç¬¦ä¸²æ’å€¼å˜é‡ä¸èƒ½è·³è½¬çš„å¼‚å¸¸</li><li>ä¿®å¤äº†å­—ç¬¦ä¸²ä¸­å¼‚å¸¸è§¦å‘å‡½æ•°è¡¥å…¨çš„å¼‚å¸¸</li><li>ä¿®å¤ import è¯­å¥åˆ«åè¯­ä¹‰æ£€æŸ¥å’Œè¡¥å…¨çš„å¼‚å¸¸</li><li>ä¿®å¤äº† schema ä¸­ check è¡¨è¾¾å¼è¡¥å…¨çš„å¼‚å¸¸</li></ul></li></ul><p><strong>ğŸ“’ æ–‡æ¡£æ›´æ–°</strong></p><ul><li>KCL ç³»ç»Ÿåº“æ–‡æ¡£æ·»åŠ ç´¢å¼•å¡ç‰‡ï¼Œä¸€é”®å¯¼èˆª: <em><a href="https://kcl-lang.io/docs/reference/model/overview" target="_blank" rel="noopener noreferrer">https://kcl-lang.io/docs/reference/model/overview</a></em></li><li>KCL CLI å‚è€ƒæ–‡æ¡£æ›´æ–°: <em><a href="https://kcl-lang.io/docs/tools/cli/kcl/overview" target="_blank" rel="noopener noreferrer">https://kcl-lang.io/docs/tools/cli/kcl/overview</a></em></li><li>KCL API å‚è€ƒæ–‡æ¡£æ›´æ–°: <em><a href="https://kcl-lang.io/docs/reference/xlang-api/overview" target="_blank" rel="noopener noreferrer">https://kcl-lang.io/docs/reference/xlang-api/overview</a></em></li><li>KCL 2023 &amp; 2024 Roadmap æ–‡æ¡£: <em><a href="https://kcl-lang.io/docs/community/release-policy/roadmap" target="_blank" rel="noopener noreferrer">https://kcl-lang.io/docs/community/release-policy/roadmap</a></em></li><li>Intellij KCL ä»“åº“è¡¥å……é¡¹ç›®ç»“æ„ä»‹ç»å’Œ FAQ: <em><a href="https://github.com/kcl-lang/intellij-kcl/pull/18" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/intellij-kcl/pull/18</a></em></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ç‰¹åˆ«é¸£è°¢">ç‰¹åˆ«é¸£è°¢<a href="#ç‰¹åˆ«é¸£è°¢" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>ä»¥ä¸‹æ’åä¸åˆ†å…ˆå</p><ul><li>æ„Ÿè°¢ @professorabhay æ”¯æŒ KCL æµ‹è¯• Diff åŠŸèƒ½ ğŸ™Œ<ul><li><em><a href="https://github.com/kcl-lang/kcl/issues/940" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl/issues/940</a></em></li></ul></li><li>æ„Ÿè°¢ @patrycju, @Callum Lyall, @Even Solberg, @Matt Gowie, @ShiroDN åœ¨ä½¿ç”¨ KCL è¿‡ç¨‹ä¸­çš„äº¤æµä¸å®è´µåé¦ˆ ğŸ™Œ</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ç²¾é€‰æ›´æ–°">ç²¾é€‰æ›´æ–°<a href="#ç²¾é€‰æ›´æ–°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="åœ¨-kcl-ä¸­ä½¿ç”¨-kubernetes-strategy-merge-patch-æ›´æ–°é…ç½®">åœ¨ KCL ä¸­ä½¿ç”¨ Kubernetes Strategy Merge Patch æ›´æ–°é…ç½®<a href="#åœ¨-kcl-ä¸­ä½¿ç”¨-kubernetes-strategy-merge-patch-æ›´æ–°é…ç½®" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>åœ¨ç›®å‰çš„ KCL ç‰ˆæœ¬ä¸­æ”¯æŒä½¿ç”¨å„ç§<strong>å±æ€§è¿ç®—ç¬¦</strong>å¯¹é…ç½®è¿›è¡Œæ›´æ–°å’Œè¦†ç›–æ“ä½œï¼Œä½†æ˜¯èƒ½åŠ›è¿˜æ¯”è¾ƒåŸå­ï¼Œæ— æ³•å¾ˆå¥½åœ°è¦†ç›–äº‘åŸç”Ÿå¸¸è§„çš„é…ç½®ç­–ç•¥åœºæ™¯ï¼Œå¯¹äº Kubernetes é…ç½®ï¼Œä¼šé¢‘ç¹åœ°ä½¿ç”¨åˆ° Kubernetes åŸç”Ÿæ”¯æŒçš„ Json Merge Patch å’Œ Strategy Merge Patch èƒ½åŠ›ï¼Œæ¯”å¦‚ä½¿ç”¨ <code>kubectl patch</code>, <code>kustomize</code> å’Œå¤§éƒ¨åˆ†ä¸äº‘åŸç”Ÿé…ç½®/ç­–ç•¥å·¥å…·å¼€ç®±æ”¯æŒçš„ Patch èƒ½åŠ›ã€‚</p><p>å› æ­¤ï¼Œä¸ºäº†é¿å…åœ¨ KCL ä¸­å¤„ç† Kubernetes é…ç½®æ—¶åå¤ä½¿ç”¨ KCL å±æ€§è¿ç®—ç¬¦ç¼–å†™é…ç½® Patch çš„æ¨¡ç‰ˆä»£ç ï¼Œæˆ‘ä»¬æä¾›äº† Kubernetes Strategy Merge Patch åº“ç”¨äº Kubernetes é…ç½®æ›´æ–°ï¼Œå¹¶ä¸”æ”¯æŒæ‰€æœ‰ Kubernetes åŸç”Ÿå¯¹è±¡å®šä¹‰çš„åˆå¹¶ç­–ç•¥ï¼Œæ¯”å¦‚åˆ—è¡¨å¯¹è±¡çš„è¦†ç›–ï¼Œä¿®æ”¹å’Œæ·»åŠ ç­‰ã€‚ä¸‹é¢æ˜¯ä½¿ç”¨æ–¹å¼</p><ul><li>æ–°å»ºå·¥ç¨‹å¹¶æ·»åŠ  <code>Strategy Merge Patch</code> åº“ä¾èµ–</li></ul><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kcl mod init </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> kcl mod </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> strategic_merge_patch</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>åœ¨ <code>main.k</code> ä¸­ç¼–å†™é…ç½® Patch ä»£ç  (ä»¥ <code>Deployment</code> æ¨¡ç‰ˆçš„ <code>labels</code>, <code>replicas</code> å’Œ <code>container</code> å­—æ®µä¸ºä¾‹)</li></ul><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> strategic_merge_patch </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">original </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    apiVersion </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"apps/v1"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    kind </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Deployment"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    metadata </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"my-deployment"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        labels</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">app </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"my-app"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        replicas </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        template</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">spec</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">containers </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"my-container-1"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                image </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"my-image-1"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"my-container-2"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                image </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"my-image-2"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">patch </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    apiVersion </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"apps/v1"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    kind </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Deployment"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    metadata </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"my-deployment"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        labels</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">version </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"v1"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        replicas </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        template</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">spec</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">containers </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"my-container-1"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                image </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"my-new-image-1"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"my-container-3"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                image </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"my-image-3"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">got </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> s</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">merge</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">original</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> patch</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>è¿è¡Œå‘½ä»¤è·å¾—è¾“å‡º</li></ul><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kcl run</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>è¾“å‡ºä¸º</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">original</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> apps/v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Deployment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">deployment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">replicas</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">template</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">containers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">container</span><span class="token punctuation" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">image</span><span class="token punctuation" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">container</span><span class="token punctuation" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">image</span><span class="token punctuation" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">patch</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> apps/v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Deployment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">deployment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">version</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">replicas</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">template</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">containers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">container</span><span class="token punctuation" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">new</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">image</span><span class="token punctuation" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">container</span><span class="token punctuation" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">image</span><span class="token punctuation" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">got</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> apps/v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Deployment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">deployment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">version</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">replicas</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">template</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">containers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">container</span><span class="token punctuation" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">new</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">image</span><span class="token punctuation" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">container</span><span class="token punctuation" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">image</span><span class="token punctuation" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">container</span><span class="token punctuation" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">image</span><span class="token punctuation" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">3</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>å¯ä»¥çœ‹åˆ° <code>Deployment</code> æ¨¡ç‰ˆçš„ <code>labels</code>, <code>replicas</code> å’Œ <code>container</code> å­—æ®µéƒ½è¢«æ›´æ–°ä¸ºäº†æ­£ç¡®çš„å€¼ï¼Œæ›´å¤šæ–‡æ¡£å’Œä½¿ç”¨æ–¹å¼è¯·æŸ¥é˜… <em><a href="https://artifacthub.io/packages/kcl/kcl-module/strategic_merge_patch" target="_blank" rel="noopener noreferrer">https://artifacthub.io/packages/kcl/kcl-module/strategic_merge_patch</a></em></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å…¶ä»–èµ„æº">å…¶ä»–èµ„æº<a href="#å…¶ä»–èµ„æº" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>â¤ï¸ æ„Ÿè°¢æ‰€æœ‰ KCL ç”¨æˆ·å’Œç¤¾åŒºå°ä¼™ä¼´åœ¨ç¤¾åŒºä¸­æå‡ºçš„å®è´µåé¦ˆä¸å»ºè®®ã€‚åç»­æˆ‘ä»¬ä¼šå‘å¸ƒæ›´å¤š KCL äº‘åŸç”Ÿæ¨¡å‹å’Œå·¥å…·é›†æˆæ–‡ç« ï¼Œæ•¬è¯·æœŸå¾…! æŸ¥çœ‹ <em><a href="https://github.com/kcl-lang/community" target="_blank" rel="noopener noreferrer">KCL ç¤¾åŒº</a></em> åŠ å…¥æˆ‘ä»¬ã€‚</p><p>æ›´å¤šå…¶ä»–èµ„æºè¯·å‚è€ƒï¼š</p><ul><li><a href="https://kcl-lang.io/" target="_blank" rel="noopener noreferrer">KCL ç½‘ç«™</a></li><li><a href="https://kusionstack.io/" target="_blank" rel="noopener noreferrer">KusionStack ç½‘ç«™</a></li><li><a href="https://github.com/kcl-lang/kcl/milestone/8" target="_blank" rel="noopener noreferrer">KCL v0.8.0 Milestone</a></li></ul>]]></content>
        <author>
            <name>KCL å›¢é˜Ÿ</name>
        </author>
        <category label="KCL" term="KCL"/>
        <category label="Biweekly-Newsletter" term="Biweekly-Newsletter"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[KCL v0.7.0 é‡ç£…å‘å¸ƒ - é¢å‘äº‘åŸç”Ÿåœºæ™¯æ›´å®Œå–„çš„ç”Ÿæ€æ¨¡å‹ã€è¯­è¨€å’Œå·¥å…·é“¾]]></title>
        <id>https://kcl-lang.github.io/zh-CN/blog/2023-11-30-kcl-0.7.0-release</id>
        <link href="https://kcl-lang.github.io/zh-CN/blog/2023-11-30-kcl-0.7.0-release"/>
        <updated>2023-11-30T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[ç®€ä»‹]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ç®€ä»‹">ç®€ä»‹<a href="#ç®€ä»‹" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>KCL å›¢é˜Ÿå¾ˆé«˜å…´åœ°å®£å¸ƒ <strong>KCL v0.7.0 æ–°ç‰ˆæœ¬ç°åœ¨å·²ç»å¯ç”¨</strong>ï¼æœ¬æ¬¡å‘å¸ƒä¸ºå¤§å®¶å¸¦æ¥äº†ä¸‰æ–¹é¢çš„é‡ç‚¹æ›´æ–°ï¼š<strong>è¯­è¨€</strong>ã€<strong>å·¥å…·é“¾</strong>ã€<strong>ç¤¾åŒºé›†æˆ &amp; æ‰©å±•æ”¯æŒ</strong>ã€‚</p><ul><li><em>ä½¿ç”¨åŠŸèƒ½æ›´å®Œå–„é”™è¯¯æ›´å°‘çš„ KCL è¯­è¨€ã€å·¥å…·é“¾å’Œ IDE æå‡ä»£ç ç¼–å†™ä½“éªŒå’Œæ•ˆç‡</em></li><li><em>å…¨æ–°çš„ KCL å‘½ä»¤è¡Œå·¥å…·ï¼Œé›†æˆ KCL åŒ…ç®¡ç†ï¼Œdoc, test å‘¨è¾¹å·¥å…·é“¾ç”Ÿæ€ï¼ŒåŒ…ç½—ä¸‡è±¡ï¼Œä¸€é”®ç›´è¾¾</em></li><li><em>ä¸°å¯Œçš„ KCL ä¸‰æ–¹åº“å¸‚åœº artifacthub.io, æä¾›äº†è¶…è¿‡ 200 ç§ KCL ä¸‰æ–¹åº“ï¼Œå°½æƒ…æŒ‘é€‰ï¼Œæ— é™å¯èƒ½</em></li></ul><p>è¿›ä¸€æ­¥æ‚¨å¯ä»¥åœ¨ <a href="https://github.com/kcl-lang/kcl/releases/tag/v0.7.0" target="_blank" rel="noopener noreferrer">KCL v0.7.0 å‘å¸ƒé¡µé¢</a> æˆ–è€… <a href="https://kcl-lang.io" target="_blank" rel="noopener noreferrer">KCL å®˜æ–¹ç½‘ç«™</a> è·å¾—ä¸‹è½½å®‰è£…æŒ‡å—å’Œè¯¦ç»†å‘å¸ƒä¿¡æ¯ã€‚</p><p><a href="https://github.com/kcl-lang/kcl" target="_blank" rel="noopener noreferrer">KCL</a> æ˜¯ä¸€ä¸ª CNCF åŸºé‡‘ä¼šæ‰˜ç®¡çš„é¢å‘äº‘åŸç”Ÿé¢†åŸŸå¼€æºçš„åŸºäºçº¦æŸçš„è®°å½•åŠå‡½æ•°ç¼–ç¨‹è¯­è¨€ï¼ŒæœŸæœ›é€šè¿‡æˆç†Ÿçš„ç¼–ç¨‹è¯­è¨€æŠ€æœ¯å’Œå®è·µæ¥æ”¹è¿›å¯¹å¤§é‡ç¹æ‚é…ç½®æ¯”å¦‚äº‘åŸç”Ÿ Kubernetes é…ç½®åœºæ™¯çš„ç¼–å†™ï¼Œè‡´åŠ›äºå›´ç»•é…ç½®çš„æ¨¡å—åŒ–ã€æ‰©å±•æ€§å’Œç¨³å®šæ€§ï¼Œæ‰“é€ æ›´ç®€å•çš„é€»è¾‘ç¼–å†™ä½“éªŒï¼Œæ„å»ºæ›´ç®€å•çš„è‡ªåŠ¨åŒ–å’Œç”Ÿæ€é›†æˆè·¯å¾„ã€‚</p><p>æœ¬æ–‡é‡ç‚¹ä»‹ç» KCL v0.7.0 ç‰ˆæœ¬çš„æ›´æ–°å†…å®¹ä»¥åŠ KCL ç¤¾åŒºçš„è¿‘æœŸåŠ¨æ€ã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="è¯­è¨€æ›´æ–°">è¯­è¨€æ›´æ–°<a href="#è¯­è¨€æ›´æ–°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ï¸-å…¨æ–°çš„-kcl-å‘½ä»¤è¡Œå·¥å…·">â­ï¸ å…¨æ–°çš„ KCL å‘½ä»¤è¡Œå·¥å…·<a href="#ï¸-å…¨æ–°çš„-kcl-å‘½ä»¤è¡Œå·¥å…·" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>åœ¨æ–°ç‰ˆæœ¬ä¸­æä¾›äº†å…¨æ–°çš„ KCL å‘½ä»¤è¡Œå·¥å…·, ç›®æ ‡æ˜¯å°† KCL å‘¨è¾¹ç”Ÿæ€å›Šæ‹¬åœ¨ä¸€èµ·ï¼Œä¸ºæ‚¨æä¾›ç»Ÿä¸€ç®€æ˜çš„æ“ä½œé¡µé¢ï¼ŒåŒ…ç½—ä¸‡è±¡ï¼Œä¸€é”®ç›´è¾¾ã€‚</p><p>æ–°çš„ KCL å‘½ä»¤è¡Œå·¥å…·å°†ä¼šä»¥ç»§ç»­ kcl ä½œä¸ºå‘½ä»¤å‰ç¼€ï¼Œç›®å‰æä¾›åŒ…å«ç¼–è¯‘ï¼ŒåŒ…ç®¡ç†ï¼Œæ ¼å¼åŒ–å·¥å…·ç­‰å¤šä¸ªå­å‘½ä»¤ã€‚</p><p><img loading="lazy" alt="cli-help" src="/zh-CN/assets/images/cli-help-ac296258bd181406f51407cb459d3aed.png" width="1454" height="1266" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="-è¯Šæ–­ä¿¡æ¯çš„ä¼˜åŒ–">ğŸ”§ è¯Šæ–­ä¿¡æ¯çš„ä¼˜åŒ–<a href="#-è¯Šæ–­ä¿¡æ¯çš„ä¼˜åŒ–" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>åœ¨ KCL æ–°ç‰ˆæœ¬ä¸­ï¼Œåœ¨éƒ¨åˆ†ä»£ç é”™è¯¯ä¿¡æ¯ä¸­å¢åŠ äº†ä¿®å¤å»ºè®®ï¼Œæ¯”å¦‚å˜é‡åç§°å†™é”™æˆ–è€…æŸ¥æ‰¾ä¸åˆ° import çš„ä»£ç åŒ…</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> sub </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> s1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">The_first_kcl_program </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> s</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">The_first_kcl_program</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="did you mean" src="/zh-CN/assets/images/did-you-mean-c2cb0ea05c662fa22633d564216676b5.png" width="1134" height="186" class="img_ev3q"></p><p><img loading="lazy" alt="try-kcl-mod-add" src="/zh-CN/assets/images/try-kcl-mod-add-465bb8082896a1c61c1ec9e698bf9222.png" width="1048" height="284" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="-è¯­è¨€ç¼–å†™ä½“éªŒä¼˜åŒ–">ğŸš€ è¯­è¨€ç¼–å†™ä½“éªŒä¼˜åŒ–<a href="#-è¯­è¨€ç¼–å†™ä½“éªŒä¼˜åŒ–" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="å»æ‰äº†éƒ¨åˆ†ä»£ç å—ä¸­çš„ç¼©è¿›æ£€æŸ¥">å»æ‰äº†éƒ¨åˆ†ä»£ç å—ä¸­çš„ç¼©è¿›æ£€æŸ¥<a href="#å»æ‰äº†éƒ¨åˆ†ä»£ç å—ä¸­çš„ç¼©è¿›æ£€æŸ¥" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><p>åœ¨ KCL æ–°ç‰ˆæœ¬ä¸­ï¼Œæˆ‘ä»¬å–æ¶ˆäº†é…ç½®ä»£ç å—çš„ä¸¥æ ¼ç¼©è¿›æ£€æŸ¥ï¼Œå¦‚æœ KCL ä»£ç å†™æˆè¿™æ ·</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">schema TestIndent</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    msg</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token builtin">id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">test_indent </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> TestIndent </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"test"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  msg </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"test"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token builtin">id</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ä½¿ç”¨ kcl fmt å‘½ä»¤ä¼šå¯ä»¥ä¸€é”®æ ¼å¼åŒ–</p><p><img loading="lazy" alt="kcl-fmt" src="/zh-CN/assets/images/kclfmt-d4f2588cc56651010ca6444150529d55.gif" width="942" height="834" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="å‡½æ•°ç±»å‹æ³¨è§£">å‡½æ•°ç±»å‹æ³¨è§£<a href="#å‡½æ•°ç±»å‹æ³¨è§£" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><p>åœ¨ KCL æ–°ç‰ˆæœ¬ä¸­ï¼Œæ–°å¢äº†å‡½æ•°ç±»å‹æ³¨è§£ï¼Œæ‚¨å¯ä»¥åœ¨æ–°ç‰ˆæœ¬çš„ KCL ä¸­ç¼–å†™å¦‚ä¸‹å¸¦æœ‰ç±»å‹æ³¨è§£çš„ lambdaã€‚</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">schema Test</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">identity</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Test</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token builtin">bool</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">lambda</span><span class="token plain"> res</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Test </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token builtin">bool</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    res</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">name </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"hello"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">c </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> identity</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Test </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"hello"</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="-api-æ›´æ–°">ğŸ„ API æ›´æ–°<a href="#-api-æ›´æ–°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><ul><li>æ–°å¢ KCL å•å…ƒæµ‹è¯• API: <em><a href="https://github.com/kcl-lang/kcl/pull/904" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl/pull/904</a></em></li><li>KCL Schema æ¨¡å‹è§£æ API å¢å¼ºç‰ˆ GetFullSchemaTypeæ”¯æŒè·å–å¸¦æœ‰ä¸‰æ–¹åº“çš„ KCL åŒ…ç›¸å…³ä¿¡æ¯å’Œ Schema å±æ€§é»˜è®¤å€¼ <em><a href="https://github.com/kcl-lang/kcl/pull/906" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl/pull/906</a></em></li><li>æ–°å¢ KCL ç¬¦å·é‡å‘½å API: <em><a href="https://github.com/kcl-lang/kcl/pull/890" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl/pull/890</a></em></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="-å…¶ä»–æ›´æ–°åŠé”™è¯¯ä¿®å¤">ğŸ å…¶ä»–æ›´æ–°åŠé”™è¯¯ä¿®å¤<a href="#-å…¶ä»–æ›´æ–°åŠé”™è¯¯ä¿®å¤" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><ul><li>KCL å‘½ä»¤è¡Œå·¥å…·æ”¯æŒè¾“å…¥æ–‡ä»¶é€šé…ç¬¦è¿›è¡Œç¼–è¯‘ <code>kcl path/to/*.k</code></li><li>ä¿®å¤éƒ¨åˆ†åœºæ™¯å­—å…¸ç±»å‹çš„ç±»å‹æ¨å¯¼é”™è¯¯ <a href="https://github.com/kcl-lang/kcl/pull/900" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl/pull/900</a></li><li>ä¿®å¤ Schema å‚æ•°çš„æ£€æŸ¥ <a href="https://github.com/kcl-lang/kcl/pull/877/files" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl/pull/877/files</a></li><li>ä¿®å¤äº†å¸¦æœ‰ä¸‰æ–¹åº“çš„KCLç¨‹åºç¼–è¯‘ç¼“å­˜å¤±æ•ˆçš„é—®é¢˜ <a href="https://github.com/kcl-lang/kcl/pull/841" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl/pull/841</a></li><li>é”™è¯¯ä¿¡æ¯ä¸­è¡¥å…¨ç¼ºå¤±çš„ lambda çš„ç±»å‹ä¿¡æ¯ <a href="https://github.com/kcl-lang/kcl/pull/771" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl/pull/771</a></li><li>ä¿®å¤äº†è¯Šæ–­ä¿¡æ¯ä¸­å•æ•°å’Œå¤æ•°çš„é—®é¢˜ <a href="https://github.com/kcl-lang/kcl/pull/769" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl/pull/769</a></li><li>ä¿®å¤äº†å¸¦æœ‰ç±»å‹æ³¨è§£èµ‹å€¼è¯­å¥ä¸­ç±»å‹æ£€æŸ¥å¤±æ•ˆçš„é—®é¢˜ <a href="https://github.com/kcl-lang/kcl/pull/757" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl/pull/757</a></li><li>å¢åŠ äº†æ£€æŸ¥ï¼Œç¦æ­¢åŒåçš„ import è¯­å¥ <a href="https://github.com/kcl-lang/kcl/pull/727" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl/pull/727</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ide--å·¥å…·é“¾æ›´æ–°">IDE &amp; å·¥å…·é“¾æ›´æ–°<a href="#ide--å·¥å…·é“¾æ›´æ–°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ide-æ›´æ–°">IDE æ›´æ–°<a href="#ide-æ›´æ–°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="kcl-ide-æ’ä»¶æ”¯æŒäº†å¯¹ç¬¦å·çš„å¼•ç”¨è·³è½¬åŠé‡å‘½ååŠŸèƒ½">KCL IDE æ’ä»¶æ”¯æŒäº†å¯¹ç¬¦å·çš„å¼•ç”¨è·³è½¬åŠé‡å‘½ååŠŸèƒ½<a href="#kcl-ide-æ’ä»¶æ”¯æŒäº†å¯¹ç¬¦å·çš„å¼•ç”¨è·³è½¬åŠé‡å‘½ååŠŸèƒ½" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><p>IDE å¢åŠ äº†å¯¹ç¬¦å·çš„å¼•ç”¨è·³è½¬æ”¯æŒï¼Œä½¿ç”¨<code>è½¬åˆ°å¼•ç”¨</code>æˆ–<code>æŸ¥æ‰¾æ‰€æœ‰å¼•ç”¨</code>ï¼š</p><p><img loading="lazy" alt="find-ref" src="/zh-CN/assets/images/FindRefs-8770a657ab949aae7dd82f9e52fc5090.png" width="1682" height="880" class="img_ev3q"></p><p>å¯¹ç¬¦å·è¿›è¡Œ<code>é‡å‘½å</code>ï¼š</p><p><img loading="lazy" alt="rename" src="/zh-CN/assets/images/Rename-82061ac2cb03a77c542d5a4474797228.gif" width="832" height="513" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="ide-æ”¯æŒå¯¹å¼•ç”¨è¯­å¥å’Œè”åˆç±»å‹çš„æ ¼å¼åŒ–">IDE æ”¯æŒå¯¹å¼•ç”¨è¯­å¥å’Œè”åˆç±»å‹çš„æ ¼å¼åŒ–<a href="#ide-æ”¯æŒå¯¹å¼•ç”¨è¯­å¥å’Œè”åˆç±»å‹çš„æ ¼å¼åŒ–" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><p>ä¼˜åŒ–äº†å¼•ç”¨è¯­å¥ä¸å…¶ä»–ä»£ç å—ä¹‹é—´çš„ç©ºè¡Œè¡Œä¸ºï¼ˆæ ¼å¼åŒ–ä¸ºä¸€ä¸ªç©ºè¡Œï¼‰å’Œè”åˆç±»å‹çš„ç©ºæ ¼è¡Œä¸ºï¼ˆå¤šä¸ªç±»å‹ä¹‹é—´æ ¼å¼åŒ–ä¸ºä»¥ <code>|</code> é—´éš”ï¼‰ï¼š</p><p><img loading="lazy" alt="fmt" src="/zh-CN/assets/images/Format-bacf4e759fcb2a5a29f0f219b4dfa8ec.gif" width="590" height="269" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="kcl-ide-æ’ä»¶åŸºäºæ–°å¢äº†å¤§é‡è¡¥å…¨æç¤º">KCL IDE æ’ä»¶åŸºäºæ–°å¢äº†å¤§é‡è¡¥å…¨æç¤º<a href="#kcl-ide-æ’ä»¶åŸºäºæ–°å¢äº†å¤§é‡è¡¥å…¨æç¤º" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><p>é’ˆå¯¹<strong>é…ç½®å®šä¹‰</strong>è¿™ä¸€æ ¸å¿ƒç¯èŠ‚ï¼Œç®€åŒ–ç”¨æˆ·åŸºäºæ¨¡å‹ç¼–å†™é…ç½®çš„å¿ƒæ™ºã€æå‡é…ç½®ç¼–è¾‘çš„æ•ˆç‡ã€‚æ­¤å¤–ï¼Œå¢å¼ºäº†è°ƒç”¨å†…ç½®å‡½æ•°æ—¶å‚æ•°è¡¥å…¨ã€‚talk is cheapï¼Œæˆ‘ä»¬ç›´æ¥æ¥çœ‹æ•ˆæœï¼š</p><p><img loading="lazy" alt="func-completion" src="/zh-CN/assets/images/module-function-completion-bee0f3843b5a931de523f25776bbb7a6.gif" width="850" height="401" class="img_ev3q"></p><p><img loading="lazy" alt="conf-completion" src="/zh-CN/assets/images/config-completion-99e49bbda5b33f7ff7fb3ecb54050d82.gif" width="640" height="302" class="img_ev3q"></p><p>è€Œå¯¹äº<strong>æ¨¡å‹è®¾è®¡</strong>ç¯èŠ‚ï¼Œä¹Ÿæ–°å¢äº†å¯¹ docstring çš„å¿«é€Ÿç”Ÿæˆï¼Œå‡å°‘æ‰‹æ•² boilerplateï¼š</p><p><img loading="lazy" alt="gen-docstring" src="/zh-CN/assets/images/docstring-gen-882f1ecbd5845a659b1f0623b58ccb13.gif" width="1023" height="728" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="æ€§èƒ½æå‡">æ€§èƒ½æå‡<a href="#æ€§èƒ½æå‡" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><ul><li>KCL è®¾è®¡å¹¶é‡æ„äº†æ–°çš„è¯­ä¹‰æ¨¡å‹ä»¥åŠæ”¯æŒæœ€è¿‘ç¬¦å·æŸ¥æ‰¾å’Œç¬¦å·è¯­ä¹‰ä¿¡æ¯æŸ¥è¯¢ API</li><li>IDE è¡¥å…¨ï¼Œè·³è½¬å’Œæ‚¬åœç­‰åŠŸèƒ½å®ç°è¿ç§»è‡³æ–°è¯­ä¹‰æ¨¡å‹ï¼Œæ˜¾è‘—é™ä½ IDE åŠŸèƒ½å¼€å‘éš¾åº¦å’Œä»£ç é‡</li><li>KCL ç¼–è¯‘å™¨æ”¯æŒè¯­æ³•å¢é‡è§£æä»¥åŠè¯­ä¹‰å¢é‡æ£€æŸ¥ï¼Œå¤§éƒ¨åˆ†åœºæ™¯æå‡ KCL ç¼–è¯‘æ„å»ºå’Œ IDE æ’ä»¶ä½¿ç”¨æ€§èƒ½ <strong>5-10 å€</strong></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="å…¶ä»–æ›´æ–°å’Œé”™è¯¯ä¿®å¤">å…¶ä»–æ›´æ–°å’Œé”™è¯¯ä¿®å¤<a href="#å…¶ä»–æ›´æ–°å’Œé”™è¯¯ä¿®å¤" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><ul><li>KCL IntelliJ æ’ä»¶é€‚é… 2023.2+ ç‰ˆæœ¬</li><li>æ”¯æŒå¯¹æ ‡å‡†åº“å’Œå†…ç½®å‡½æ•°çš„æ‚¬åœæç¤ºï¼Œæ”¯æŒå¯¹ KCL ä»£ç é”™è¯¯çš„å¿«é€Ÿä¿®å¤</li><li>ä¼˜åŒ–äº†å¯¹å¼•ç”¨è¯­å¥å’Œ union ç±»å‹çš„æ ¼å¼åŒ–è¾“å‡ºã€‚</li><li>ä¿®å¤äº†è¯­è¨€æœåŠ¡è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿç›¸å…³çš„bugï¼šæ–‡ä»¶ç»´åº¦çš„å˜æ›´å¼•å‘ä¼šè¯­è¨€æœåŠ¡å´©æºƒï¼Œå¿…é¡»é‡å¯ IDE æ¢å¤ï¼Œç°å·²ä¿®å¤ã€‚</li><li>æ”¯æŒåŒ…ç®¡ç†å·¥å…·å¼•å…¥çš„å¤–éƒ¨åŒ…ä¾èµ– import è¯­å¥è¡¥å…¨</li><li>ä¿®å¤å‡½æ•°å‚æ•°æœªå®šä¹‰ç±»å‹é”™è¯¯æ˜¾ç¤ºä½ç½®</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="æµ‹è¯•å·¥å…·æ›´æ–°">æµ‹è¯•å·¥å…·æ›´æ–°<a href="#æµ‹è¯•å·¥å…·æ›´æ–°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>æ‹…å¿ƒæ‚¨çš„ KCL ç¨‹åºå†™é”™äº†ï¼Œè¦ä¸æ¥æµ‹æµ‹ ï¼Ÿæœ¬æ¬¡æ›´æ–°æä¾›äº†å…¨æ–°çš„ KCL æµ‹è¯•å·¥å…·ï¼Œä»£ç å¥½åï¼Œä¸€æµ‹ä¾¿çŸ¥ ï¼æ–°çš„ KCL æµ‹è¯•å·¥å…·æ”¯æŒä½¿ç”¨ KCL å‡½æ•°ç¼–å†™å•å…ƒæµ‹è¯•å¹¶ä½¿ç”¨å·¥å…·æ‰§è¡Œæµ‹è¯•ã€‚</p><p>æ‚¨å¯ä»¥åœ¨åç¼€åä¸º â€œ<!-- -->_<!-- -->test.kâ€ æ–‡ä»¶ä¸­é€šè¿‡ lambda è¡¨è¾¾å¼æ¥ç¼–å†™æ‚¨çš„æµ‹è¯•ç”¨ä¾‹ã€‚</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Convert the `App` model into Kubernetes Deployment and Service Manifests</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">test_kubernetesRender </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">lambda</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    a </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">App </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"app"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        containers</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ngnix </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            image </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"ngnix"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ports </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">containerPort </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">80</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        service</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ports </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> port </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">80</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    deployment_got </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> kubernetesRender</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">a</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">assert</span><span class="token plain"> deployment_got</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">kind </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Deployment"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">assert</span><span class="token plain"> deployment_got</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">kind </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Service"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>é€šè¿‡ kcl test å‘½ä»¤å¯ä»¥è¿è¡Œè¿™ä¸ªæµ‹è¯•ç”¨ä¾‹å¹¶æŸ¥çœ‹æµ‹è¯•ç»“æœã€‚</p><p>æµ‹è¯•é€šè¿‡ä¼šå°†å¾—åˆ°å¦‚ä¸‹ç»“æœï¼š</p><p><img loading="lazy" alt="test-pass" src="/zh-CN/assets/images/test-pass-6a4552ce41be999dfcc5ce13207545c5.png" width="1138" height="132" class="img_ev3q"></p><p>å¦‚æœæµ‹è¯•å¤±è´¥äº†ï¼Œkcl test ä¼šå°†è¾“å‡ºé”™è¯¯ä¿¡æ¯è¿›è¡Œè¾“å‡ºã€‚</p><p><img loading="lazy" alt="test-failed" src="/zh-CN/assets/images/test-failed-c371087c0b1b18b877fd3b38fa98ab8f.png" width="1152" height="180" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="kcl-åŒ…ç®¡ç†å·¥å…·">KCL åŒ…ç®¡ç†å·¥å…·<a href="#kcl-åŒ…ç®¡ç†å·¥å…·" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>æ–°å¢ update å‘½ä»¤ç”¨äºè‡ªåŠ¨æ›´æ–°æœ¬åœ°ä¾èµ–ï¼Œä½¿ç”¨ <code>kcl mod update</code> å°†ä¼šè‡ªåŠ¨ä¸‹è½½æœ¬åœ°ç¼ºå¤±çš„ä¸‰æ–¹åº“ã€‚å…·ä½“å‚è€ƒ: <a href="https://github.com/kcl-lang/kpm/pull/212" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kpm/pull/212</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="kcl-å¯¼å…¥å·¥å…·å‘å¸ƒ">KCL å¯¼å…¥å·¥å…·å‘å¸ƒ<a href="#kcl-å¯¼å…¥å·¥å…·å‘å¸ƒ" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>æ”¯æŒä» YAML/JSON/CRD/Terraform Schema ä¸€é”®ç”Ÿæˆ KCL é…ç½®/æ¨¡å‹ï¼Œå®ç°è‡ªåŠ¨åŒ–è¿ç§»ã€‚</p><p>å¦‚æœæ‚¨æœ‰å¦‚ä¸‹ yaml æ–‡ä»¶ï¼š</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> apps/v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Deployment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nginx</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">deployment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nginx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">replicas</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">selector</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">matchLabels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nginx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">template</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nginx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">containers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nginx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nginx</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">1.14.2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">containerPort</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">80</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>é€šè¿‡å‘½ä»¤ <code>kcl import test.yaml</code> æ‚¨å¯ä»¥å°†å…¶è½¬æ¢ä¸º KCL ç¨‹åºã€‚</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">"""</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">This file was generated by the KCL auto-gen tool. DO NOT EDIT.</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">Editing this file might prove futile when you re-run the KCL auto-gen generate command.</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">"""</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">apiVersion </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"apps/v1"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kind </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Deployment"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">metadata </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"nginx-deployment"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    labels </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        app </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"nginx"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spec </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    replicas </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    selector </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        matchLabels </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            app </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"nginx"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    template </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        metadata </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            labels </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                app </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"nginx"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        spec </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            containers </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"nginx"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    image </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"nginx:1.14.2"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    ports </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            containerPort </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">80</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æ›´å¤šè¯¦ç»†å†…å®¹è¯·å‚è€ƒ<a href="https://kcl-lang.io/docs/user_docs/guides/working-with-k8s/adopt-from-kubernetes" target="_blank" rel="noopener noreferrer">ä¸€é”®ä» Kubernetes ç”Ÿæ€è¿ç§»åˆ° KCL</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ç¤¾åŒºé›†æˆ--æ‰©å±•æ›´æ–°">ç¤¾åŒºé›†æˆ &amp; æ‰©å±•æ›´æ–°<a href="#ç¤¾åŒºé›†æˆ--æ‰©å±•æ›´æ–°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="kcl-ä¸‰æ–¹åº“å¸‚åœº-artifacthub">KCL ä¸‰æ–¹åº“å¸‚åœº ArtifactHub<a href="#kcl-ä¸‰æ–¹åº“å¸‚åœº-artifacthub" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>é€šè¿‡é›†æˆ artifacthub.io æˆ‘ä»¬æ„å»ºäº†ä¸€ä¸ª KCL ä¸‰æ–¹åº“å¸‚åœºï¼Œåœ¨è¿™é‡Œæ‚¨å°½å¯ä»¥å¤§å±•æ‚¨çš„æ‰åï¼Œä¸æˆ‘ä»¬ä¸€åŒåˆ†äº«æ‚¨å¯¹ KCL ç¨‹åºçš„ç‹¬ç‰¹ç†è§£ï¼Œæ‚¨ä¹Ÿå¯ä»¥å°½æƒ…æŒ‘é€‰ï¼Œæ‰¾åˆ°é€‚åˆæ‚¨è‡ªå·±çš„ KCL ä¸‰æ–¹åº“ ï¼</p><p>æ‰“å¼€é¦–é¡µï¼Œç›´æ¥æœç´¢æ‚¨éœ€è¦çš„å…³é”®å­—ï¼Œå°±èƒ½çœ‹åˆ°å…³äº KCL ä¸‰æ–¹åº“çš„ç›¸å…³å†…å®¹ ï¼</p><p><img loading="lazy" alt="artifachub-index" src="/zh-CN/assets/images/artifachub-index-aa5f2faa8ee5f265e3ff0b10531408ff.png" width="1114" height="694" class="img_ev3q"></p><p>åœ¨ä¸‰æ–¹åº“é¦–é¡µï¼Œå¯ä»¥æŸ¥çœ‹å…³äºä¸‰æ–¹åº“çš„è¯¦ç»†å†…å®¹å’Œç›¸å…³æ–‡æ¡£ã€‚</p><p><img loading="lazy" alt="pkg-page" src="/zh-CN/assets/images/pkg-page-7cb869241bab5d297ba22d1aa9b9d3de.png" width="1084" height="694" class="img_ev3q"></p><p>å¦‚æœæ‚¨ä¸çŸ¥é“è¯¥å¦‚ä½•ä½¿ç”¨è¿™äº›ä¸‰æ–¹åº“ï¼Œå³ä¾§çš„æŒ‰é’®å¯ä»¥ä¸ºæ‚¨å”¤èµ·å®‰è£…é¡µé¢ã€‚</p><p><img loading="lazy" alt="install-pkg" src="/zh-CN/assets/images/install-pkg-80641923d4cf4b6972f6fb1857846446.png" width="1102" height="664" class="img_ev3q"></p><p>æ¬¢è¿å¤§å®¶æ¥ artifacthub.io ä¸º KCL ç¤¾åŒºè´¡çŒ®æ‚¨çš„ä¸‰æ–¹åº“ï¼Œè®© KCL ç¤¾åŒºå˜å¾—æ›´åŠ ä¸°å¯Œå¤šå½©ï¼</p><p>è´¡çŒ®æŒ‡å—ï¼š<a href="https://kcl-lang.io/docs/user_docs/guides/package-management/how-to/publish_pkg_to_ah" target="_blank" rel="noopener noreferrer">https://kcl-lang.io/docs/user_docs/guides/package-management/how-to/publish_pkg_to_ah</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å…¶ä»–æ›´æ–°">å…¶ä»–æ›´æ–°<a href="#å…¶ä»–æ›´æ–°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>å®Œæ•´æ›´æ–°å’Œé”™è¯¯ä¿®å¤åˆ—è¡¨è¯¦è§: <a href="https://github.com/kcl-lang/kcl/compare/v0.6.0...v0.7.0" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl/compare/v0.6.0...v0.7.0</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="æ–‡æ¡£æ›´æ–°">æ–‡æ¡£æ›´æ–°<a href="#æ–‡æ¡£æ›´æ–°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>KCL ç½‘ç«™æ–°å¢ KCL v0.7.0 æ–‡æ¡£å†…å®¹å¹¶æ”¯æŒç‰ˆæœ¬åŒ–è¯­ä¹‰é€‰é¡¹ï¼Œç›®å‰æ”¯æŒ v0.4.x, v0.5.x, v0.6.x å’Œ v0.7.0 ç‰ˆæœ¬é€‰æ‹©ï¼ŒåŒæ—¶æ¬¢è¿ç¤¾åŒºåŒå­¦è¿›è¡Œæ–‡æ¡£å…±å»ºã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ç¤¾åŒºåŠ¨æ€">ç¤¾åŒºåŠ¨æ€<a href="#ç¤¾åŒºåŠ¨æ€" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="kcl-æ­£å¼æˆä¸º-cncf-æ²™ç®±é¡¹ç›®">KCL æ­£å¼æˆä¸º CNCF æ²™ç®±é¡¹ç›®<a href="#kcl-æ­£å¼æˆä¸º-cncf-æ²™ç®±é¡¹ç›®" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>ğŸ‰ ğŸ‰ ğŸ‰ 2023 å¹´ 9 æœˆ 20 æ—¥ï¼ŒKCL é¡¹ç›®é€šè¿‡äº†å…¨çƒé¡¶çº§å¼€æºåŸºé‡‘ä¼šäº‘åŸç”Ÿè®¡ç®—åŸºé‡‘ä¼šï¼ˆCNCFï¼‰æŠ€æœ¯ç›‘ç£å§”å‘˜ä¼šè¯„å®šï¼Œæ­£å¼æˆä¸º CNCF æ²™ç®±é¡¹ç›®ã€‚</p><p>æ›´å¤šè¯¦æƒ…è¯¦è§: <a href="https://kcl-lang.io/blog/2023-09-19-kcl-joining-cncf-sandbox/" target="_blank" rel="noopener noreferrer">https://kcl-lang.io/blog/2023-09-19-kcl-joining-cncf-sandbox/</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ç‰¹åˆ«é¸£è°¢">ç‰¹åˆ«é¸£è°¢<a href="#ç‰¹åˆ«é¸£è°¢" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>æ„Ÿè°¢ç¤¾åŒºçš„å°ä¼™ä¼´åœ¨ KCL v0.7.0 ç‰ˆæœ¬ä¸­çš„è´¡çŒ®ï¼Œä»¥ä¸‹æ’åä¸åˆ†å…ˆå</p><ul><li>æ„Ÿè°¢ @jakezhu9 å¯¹ KCL Import å·¥å…· Terraform Schema åˆ° KCL Schema è½¬æ¢çš„è´¡çŒ® ğŸ™Œ <em><a href="https://github.com/kcl-lang/kcl-go/pull/152" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl-go/pull/152</a></em></li><li>æ„Ÿè°¢ @jakezhu9 å¯¹ kpm é›†æˆ Import å·¥å…·çš„è´¡çŒ® ğŸ™Œ <em><a href="https://github.com/kcl-lang/kpm/pull/194" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kpm/pull/194</a></em></li><li>æ„Ÿè°¢ @zwpaper å¯¹ KCL æ–‡æ¡£å’Œ Tree Sitter Grammar åšå‡ºçš„è´¡çŒ® ğŸ™Œ <em><a href="https://github.com/kcl-lang/tree-sitter-kcl/pull/1" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/tree-sitter-kcl/pull/1</a></em> ç­‰</li><li>æ„Ÿè°¢ @jakezhu9 å¯¹ KCL è¯­æ³•è§£æå•å…ƒæµ‹è¯•çš„æ”¹è¿›ï¼Œå°†éƒ¨åˆ†æµ‹è¯•ç”¨ä¾‹ç»Ÿä¸€è¿ç§»åˆ°ä½¿ç”¨ snaptest æ¡†æ¶ ğŸ™Œ <em><a href="https://github.com/kcl-lang/kcl/pull/794" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl/pull/794</a></em> ç­‰</li><li>æ„Ÿè°¢ @opsnull å¯¹ KCL å®˜ç½‘æ–‡æ¡£ä¸­ä»£ç ç¤ºä¾‹çš„çº é”™å’Œè´¡çŒ® ğŸ™Œ <em><a href="https://github.com/kcl-lang/kcl-lang.io/pull/182" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl-lang.io/pull/182</a></em></li><li>æ„Ÿè°¢ @prahaladramji å¯¹ KCL IntelliJ æ’ä»¶æ ¼å¼åŒ–åŠŸèƒ½çš„çº é”™å’Œä¼˜åŒ– ğŸ™Œ <em><a href="https://github.com/kcl-lang/intellij-kcl/pull/15" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/intellij-kcl/pull/15</a></em></li><li>æ„Ÿè°¢ @jakezhu9 å¯¹ KCL benchmark ç”±å•çº¿ç¨‹ Rc åˆ° Arc çš„æ”¹è¿›ï¼Œå¯¹ KCL å¯¼å…¥å·¥å…·ä¸­å…³äºå¼•ç”¨è·¯å¾„çš„ bugä¿®å¤ ğŸ™Œ <em><a href="https://github.com/kcl-lang/kcl-go/pull/170" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl-go/pull/170</a></em> ç­‰</li><li>æ„Ÿè°¢ @liangyuanpeng ä¸º KCL æ¨¡å‹è´¡çŒ® karmada æ¨¡å‹åŒ…ï¼Œæ¬¢è¿ï¼ğŸ™Œ <em><a href="https://github.com/kcl-lang/artifacthub/pull/48/files" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/artifacthub/pull/48/files</a></em></li><li>æ„Ÿè°¢ @cr7258 å¯¹ KCL æ¨¡å‹åº“ä»¥åŠ KCL æ–‡æ¡£çš„è´¡çŒ® ğŸ™Œ<ul><li><em><a href="https://github.com/kcl-lang/kcl-lang.io/pull/203" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl-lang.io/pull/203</a></em></li><li><em><a href="https://github.com/kcl-lang/kcl-lang.io/pull/209" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl-lang.io/pull/209</a></em></li><li><em><a href="https://github.com/kcl-lang/kcl-lang.io/pull/210" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl-lang.io/pull/210</a></em></li><li><em><a href="https://github.com/kcl-lang/kcl-lang.io/pull/211" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl-lang.io/pull/211</a></em></li><li><em><a href="https://github.com/kcl-lang/modules/pull/67" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/modules/pull/67</a></em></li></ul></li><li>æ„Ÿè°¢ @XiaoK29 ä¸º KCL IDE çš„æ‚¬åœå’Œå¼•ç”¨æŸ¥æ‰¾åŠŸèƒ½ä»£ç æ¶æ„é‡æ„ä»¥åŠ KCL æ–‡æ¡£çš„è´¡çŒ® ğŸ™Œ<ul><li><em><a href="https://github.com/kcl-lang/kcl/pull/887" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl/pull/887</a></em></li><li><em><a href="https://github.com/kcl-lang/kcl/pull/899" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl/pull/899</a></em></li><li><em><a href="https://github.com/kcl-lang/kcl-lang.io/pull/205" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl-lang.io/pull/205</a></em></li></ul></li><li>æ„Ÿè°¢ @MeenuyD, @negz å¯¹ Crossplane KCL Composition Functions é›†æˆçš„è®¨è®ºä¸æ”¯æŒ ğŸ™Œ<ul><li><em><a href="https://github.com/kcl-lang/kcl/issues/885" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl/issues/885</a></em></li></ul></li><li>æ„Ÿè°¢ @kolloch å¯¹ Bazel KCL æ„å»ºè§„åˆ™è„šæœ¬çš„å®è´µåé¦ˆ ğŸ™Œ<ul><li><em><a href="https://github.com/kcl-lang/rules_kcl/pull/2" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/rules_kcl/pull/2</a></em></li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ä¸‹ä¸€æ­¥è®¡åˆ’">ä¸‹ä¸€æ­¥è®¡åˆ’<a href="#ä¸‹ä¸€æ­¥è®¡åˆ’" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>æ„Ÿè°¢æ‰€æœ‰ KCL ç”¨æˆ·å’Œç¤¾åŒºå°ä¼™ä¼´åœ¨æ­¤æ¬¡ç‰ˆæœ¬æ›´æ–°è¿‡ç¨‹ä¸­æå‡ºçš„å®è´µåé¦ˆä¸å»ºè®®ã€‚é¢„è®¡ 2024 å¹´ 2 æœˆï¼Œæˆ‘ä»¬å°†å‘å¸ƒ KCL v0.8.0 ç‰ˆæœ¬ï¼Œæ›´å¤šè¯¦æƒ…è¯·å‚è€ƒ KCL 2024 è·¯çº¿è§„åˆ’ å’Œ KCL v0.8.0 Milestoneï¼Œå¦‚æœæ‚¨æœ‰æ›´å¤šçš„æƒ³æ³•å’Œéœ€æ±‚ï¼Œæ¬¢è¿åœ¨ KCL Github ä»“åº“å‘èµ· Issues æˆ–è®¨è®ºï¼Œä¹Ÿæ¬¢è¿åŠ å…¥æˆ‘ä»¬çš„ç¤¾åŒºè¿›è¡Œäº¤æµ ğŸ™Œ ğŸ™Œ ğŸ™Œ</p><p>æ›´å¤šå…¶ä»–èµ„æºè¯·å‚è€ƒï¼š</p><ul><li><p>KCL ç½‘ç«™: <a href="https://kcl-lang.io/" target="_blank" rel="noopener noreferrer">https://kcl-lang.io/</a></p></li><li><p>Kusion ç½‘ç«™: <a href="https://kusionstack.io/" target="_blank" rel="noopener noreferrer">https://kusionstack.io/</a></p></li><li><p>KCL GitHub ä»“åº“: <a href="https://github.com/kcl-lang/kcl" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl</a></p></li><li><p>Kusion GitHub ä»“åº“: <a href="https://github.com/KusionStack/kusion" target="_blank" rel="noopener noreferrer">https://github.com/KusionStack/kusion</a></p></li><li><p>KCL v0.8.0 Milestone: <a href="https://github.com/kcl-lang/kcl/milestone/8" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl/milestone/8</a></p></li><li><p>KCL 2024 è·¯çº¿è§„åˆ’: <a href="https://github.com/kcl-lang/kcl/issues/882" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl/issues/882</a></p></li><li><p>KCL ç¤¾åŒº: <a href="https://github.com/kcl-lang/community" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/community</a></p></li></ul>]]></content>
        <author>
            <name>KCL Team</name>
        </author>
        <category label="Release Blog" term="Release Blog"/>
        <category label="KCL" term="KCL"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[KCL ç¤¾åŒºå¼€æºåŒå‘¨æŠ¥ (2023 11.09 - 11.23) | äº‘åŸç”Ÿæ¨¡å‹ã€è¯­è¨€å’Œå·¥å…·é“¾æ›´æ–°é€Ÿé€’!]]></title>
        <id>https://kcl-lang.github.io/zh-CN/blog/2023-11-23-biweekly-newsletter</id>
        <link href="https://kcl-lang.github.io/zh-CN/blog/2023-11-23-biweekly-newsletter"/>
        <updated>2023-11-23T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[KCL æ˜¯ä¸€ä¸ª CNCF åŸºé‡‘ä¼šæ‰˜ç®¡çš„åŸºäºçº¦æŸçš„è®°å½•åŠå‡½æ•°è¯­è¨€ï¼ŒæœŸæœ›é€šè¿‡æˆç†Ÿçš„ç¼–ç¨‹è¯­è¨€æŠ€æœ¯å’Œå®è·µæ¥æ”¹è¿›å¯¹å¤§é‡ç¹æ‚é…ç½®æ¯”å¦‚äº‘åŸç”Ÿ Kubernetes é…ç½®åœºæ™¯çš„ç¼–å†™ï¼Œè‡´åŠ›äºæ„å»ºå›´ç»•é…ç½®çš„æ›´å¥½çš„æ¨¡å—åŒ–ã€æ‰©å±•æ€§å’Œç¨³å®šæ€§ï¼Œæ›´ç®€å•çš„é€»è¾‘ç¼–å†™ï¼Œä»¥åŠæ›´ç®€å•çš„è‡ªåŠ¨åŒ–å’Œç”Ÿæ€å·¥å…·é›†æˆã€‚]]></summary>
        <content type="html"><![CDATA[<p><img loading="lazy" src="/zh-CN/assets/images/biweekly-newsletter-zh-bd4cf8c2bcc913a580e7b0e5d6691a08.png" width="1127" height="435" class="img_ev3q"></p><p><a href="https://github.com/kcl-lang" target="_blank" rel="noopener noreferrer">KCL</a> æ˜¯ä¸€ä¸ª CNCF åŸºé‡‘ä¼šæ‰˜ç®¡çš„åŸºäºçº¦æŸçš„è®°å½•åŠå‡½æ•°è¯­è¨€ï¼ŒæœŸæœ›é€šè¿‡æˆç†Ÿçš„ç¼–ç¨‹è¯­è¨€æŠ€æœ¯å’Œå®è·µæ¥æ”¹è¿›å¯¹å¤§é‡ç¹æ‚é…ç½®æ¯”å¦‚äº‘åŸç”Ÿ Kubernetes é…ç½®åœºæ™¯çš„ç¼–å†™ï¼Œè‡´åŠ›äºæ„å»ºå›´ç»•é…ç½®çš„æ›´å¥½çš„æ¨¡å—åŒ–ã€æ‰©å±•æ€§å’Œç¨³å®šæ€§ï¼Œæ›´ç®€å•çš„é€»è¾‘ç¼–å†™ï¼Œä»¥åŠæ›´ç®€å•çš„è‡ªåŠ¨åŒ–å’Œç”Ÿæ€å·¥å…·é›†æˆã€‚</p><p>æœ¬æ ç›®å°†ä¼šåŒå‘¨æ›´æ–° KCL è¯­è¨€ç¤¾åŒºæœ€æ–°åŠ¨æ€ï¼ŒåŒ…æ‹¬åŠŸèƒ½ã€å®˜ç½‘æ›´æ–°å’Œæœ€æ–°çš„ç¤¾åŒºåŠ¨æ€ç­‰ï¼Œå¸®åŠ©å¤§å®¶æ›´å¥½åœ°äº†è§£ KCL ç¤¾åŒºï¼</p><p><strong><em>KCL å®˜ç½‘ï¼š<a href="https://kcl-lang.io" target="_blank" rel="noopener noreferrer">https://kcl-lang.io</a></em></strong></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å†…å®¹æ¦‚è¿°">å†…å®¹æ¦‚è¿°<a href="#å†…å®¹æ¦‚è¿°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>æ„Ÿè°¢æ‰€æœ‰è´¡çŒ®è€…è¿‡å»ä¸¤å‘¨ (2023 11.09 - 11.23) çš„æ°å‡ºå·¥ä½œï¼Œä»¥ä¸‹æ˜¯é‡ç‚¹å†…å®¹æ¦‚è¿°</p><p><strong>ğŸ“¦ æ¨¡å‹æ›´æ–°</strong></p><ul><li>KCL æ¨¡å‹æ•°é‡æ–°å¢è‡³ <strong>200 ä¸ª</strong>ï¼Œä¸»è¦æ–°å¢ä¸ <code>Pod</code>, <code>RBAC</code> ç›¸å…³çš„æ ¡éªŒæ¨¡å‹åŠ Kubernetes 1.14-1.28 ç‰ˆæœ¬çš„æ¨¡å‹å‚è€ƒæ–‡æ¡£</li><li>å¯ä»¥åœ¨ <code>Artifact Hub</code> ä¸­æœç´¢æµè§ˆåˆ°æ‰€æœ‰æ¨¡å‹çš„æ–‡æ¡£åŠä½¿ç”¨æ–¹å¼: <em><a href="https://artifacthub.io/packages/search?org=kcl&amp;sort=relevance&amp;page=1" target="_blank" rel="noopener noreferrer">https://artifacthub.io/packages/search?org=kcl&amp;sort=relevance&amp;page=1</a></em></li></ul><p><strong>ğŸ’¬ è¯­è¨€æ›´æ–°</strong></p><ul><li><strong>ä½“éªŒæ”¹è¿›</strong><ul><li>ä¼˜åŒ–é…ç½®ä»£ç å—çš„è¯­æ³•ç¼©è¿›æ£€æŸ¥ï¼Œä¸å†å¼ºåˆ¶æŠ¥é”™</li><li>æ”¯æŒé€šè¿‡æ–‡ä»¶è·¯å¾„é€šé…ç¬¦ä½œä¸ºç¼–è¯‘å…¥å£</li></ul></li><li><strong>é”™è¯¯ä¿®å¤</strong><ul><li>ä¿®å¤éƒ¨åˆ†åœºæ™¯å­—å…¸ç±»å‹çš„ç±»å‹æ¨å¯¼é”™è¯¯</li><li>ä¿®å¤ Schema å‚æ•°æ•°é‡çš„æ£€æŸ¥</li></ul></li></ul><p><strong>ğŸ”§ å·¥å…·é“¾æ›´æ–°</strong></p><ul><li><strong>æµ‹è¯•å·¥å…·å‘å¸ƒ</strong><ul><li>æ”¯æŒä½¿ç”¨ KCL å‡½æ•°ç¼–å†™å•å…ƒæµ‹è¯•å¹¶ä½¿ç”¨å·¥å…·æ‰§è¡Œæµ‹è¯•</li><li>æ”¯æŒä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼è¿‡æ»¤å¾…æµ‹è¯•ç”¨ä¾‹</li><li>æ”¯æŒå•å…ƒæµ‹è¯•å¿«é€Ÿå¤±è´¥åŠŸèƒ½</li></ul></li><li><strong>å¯¼å…¥å·¥å…·æ›´æ–°</strong><ul><li>ä¿®å¤ patterns åˆ°æ­£åˆ™åŒ¹é…è¡¨è¾¾å¼çš„ç”Ÿæˆ: <em><a href="https://github.com/kcl-lang/kcl-openapi/pull/70" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl-openapi/pull/70</a></em></li><li>ä¿®å¤ minItems/maxItems åˆ°å­—æ®µé•¿åº¦æ ¡éªŒè§„åˆ™çš„ç”Ÿæˆ: <em><a href="https://github.com/kcl-lang/kcl-openapi/pull/69" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl-openapi/pull/69</a></em></li><li>ä¿®å¤ 0 æˆ–ç©ºå­—ç¬¦ä¸²ä¸ºé»˜è®¤å€¼çš„ç”Ÿæˆ: <em><a href="https://github.com/kcl-lang/kcl-openapi/pull/69" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl-openapi/pull/69</a></em></li><li>ä¿®å¤ Kubernetes CRD åˆ° KCL Package è½¬æ¢ä¸­åŒ…åçš„ç”Ÿæˆä¸ºï¼š<code>${apiVersion}_${kind}</code>: <em><a href="https://github.com/kcl-lang/kcl-openapi/pull/68" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl-openapi/pull/68</a></em></li></ul></li><li><strong>åŒ…ç®¡ç†å·¥å…·æ›´æ–°</strong><ul><li>æ–°å¢ update å‘½ä»¤ç”¨äºè‡ªåŠ¨æ›´æ–°æœ¬åœ°ä¾èµ–: <em><a href="https://github.com/kcl-lang/kpm/pull/212" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kpm/pull/212</a></em></li></ul></li></ul><p><strong>ğŸ’» IDE æ›´æ–°</strong></p><ul><li><strong>ä½“éªŒæ”¹è¿›</strong><ul><li>æ”¯æŒåŒ…ç®¡ç†å·¥å…·å¼•å…¥çš„å¤–éƒ¨åŒ…ä¾èµ– import è¯­å¥è¡¥å…¨</li></ul></li><li><strong>é”™è¯¯ä¿®å¤</strong><ul><li>ä¿®å¤å‡½æ•°å‚æ•°æœªå®šä¹‰ç±»å‹é”™è¯¯æ˜¾ç¤ºä½ç½®</li></ul></li></ul><p><strong>ğŸ„ API æ›´æ–°</strong></p><ul><li>æ–°å¢ KCL å•å…ƒæµ‹è¯• API: <em><a href="https://github.com/kcl-lang/kcl/pull/904" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl/pull/904</a></em></li><li>æ–°å¢ KCL ç¬¦å·é‡å‘½å API: <em><a href="https://github.com/kcl-lang/kcl/pull/890" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl/pull/890</a></em></li></ul><p><strong>ğŸ”¥ æ¶æ„å‡çº§</strong></p><ul><li>KCL è®¾è®¡å¹¶é‡æ„äº†æ–°çš„è¯­ä¹‰æ¨¡å‹ä»¥åŠæ”¯æŒæœ€è¿‘ç¬¦å·æŸ¥æ‰¾å’Œç¬¦å·è¯­ä¹‰ä¿¡æ¯æŸ¥è¯¢ API</li><li>IDE è¡¥å…¨ï¼Œè·³è½¬å’Œæ‚¬åœç­‰åŠŸèƒ½å®ç°è¿ç§»è‡³æ–°è¯­ä¹‰æ¨¡å‹ï¼Œæ˜¾è‘—é™ä½ IDE åŠŸèƒ½å¼€å‘éš¾åº¦å’Œä»£ç é‡</li></ul><p><strong>ğŸš€ æ€§èƒ½æå‡</strong></p><ul><li>KCL ç¼–è¯‘å™¨æ”¯æŒè¯­æ³•å¢é‡è§£æä»¥åŠè¯­ä¹‰å¢é‡æ£€æŸ¥ï¼Œå¤§éƒ¨åˆ†åœºæ™¯æå‡ KCL ç¼–è¯‘æ„å»ºå’Œ IDE æ’ä»¶ä½¿ç”¨æ€§èƒ½ <strong>5-10 å€</strong></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ç‰¹åˆ«é¸£è°¢">ç‰¹åˆ«é¸£è°¢<a href="#ç‰¹åˆ«é¸£è°¢" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>ä»¥ä¸‹æ’åä¸åˆ†å…ˆå</p><ul><li>æ„Ÿè°¢ @cr7258 å¯¹ KCL æ¨¡å‹åº“ä»¥åŠ KCL æ–‡æ¡£çš„è´¡çŒ® ğŸ™Œ<ul><li><em><a href="https://github.com/kcl-lang/kcl-lang.io/pull/203" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl-lang.io/pull/203</a></em></li><li><em><a href="https://github.com/kcl-lang/kcl-lang.io/pull/209" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl-lang.io/pull/209</a></em></li><li><em><a href="https://github.com/kcl-lang/kcl-lang.io/pull/210" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl-lang.io/pull/210</a></em></li><li><em><a href="https://github.com/kcl-lang/kcl-lang.io/pull/211" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl-lang.io/pull/211</a></em></li><li><em><a href="https://github.com/kcl-lang/modules/pull/67" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/modules/pull/67</a></em></li></ul></li><li>æ„Ÿè°¢ @XiaoK29 ä¸º KCL IDE çš„æ‚¬åœå’Œå¼•ç”¨æŸ¥æ‰¾åŠŸèƒ½ä»£ç æ¶æ„é‡æ„ä»¥åŠ KCL æ–‡æ¡£çš„è´¡çŒ® ğŸ™Œ<ul><li><em><a href="https://github.com/kcl-lang/kcl/pull/887" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl/pull/887</a></em></li><li><em><a href="https://github.com/kcl-lang/kcl/pull/899" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl/pull/899</a></em></li><li><em><a href="https://github.com/kcl-lang/kcl-lang.io/pull/205" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl-lang.io/pull/205</a></em></li></ul></li><li>æ„Ÿè°¢ @MeenuyD, @negz å¯¹ Crossplane KCL Composition Functions é›†æˆçš„è®¨è®ºä¸æ”¯æŒ ğŸ™Œ<ul><li><em><a href="https://github.com/kcl-lang/kcl/issues/885" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl/issues/885</a></em></li></ul></li><li>æ„Ÿè°¢ @kolloch å¯¹ Bazel KCL æ„å»ºè§„åˆ™è„šæœ¬çš„å®è´µåé¦ˆ ğŸ™Œ<ul><li><em><a href="https://github.com/kcl-lang/rules_kcl/pull/2" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/rules_kcl/pull/2</a></em></li></ul></li><li>æ„Ÿè°¢ @é™†äº‘, @Even Solberg, @Prahalad Ramji @Matt Gowie, @ddh å’Œ @mouuii åœ¨ä½¿ç”¨æ¨å¹¿ KCL è¿‡ç¨‹ä¸­çš„äº¤æµä¸å®è´µåé¦ˆ ğŸ™Œ</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ç²¾é€‰æ›´æ–°">ç²¾é€‰æ›´æ–°<a href="#ç²¾é€‰æ›´æ–°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="åœ¨-artifact-hub-ä¸Šæ£€ç´¢-kcl-ä»£ç åŒ…åŠäº‘åŸç”Ÿæ¨¡å‹">åœ¨ Artifact Hub ä¸Šæ£€ç´¢ KCL ä»£ç åŒ…åŠäº‘åŸç”Ÿæ¨¡å‹<a href="#åœ¨-artifact-hub-ä¸Šæ£€ç´¢-kcl-ä»£ç åŒ…åŠäº‘åŸç”Ÿæ¨¡å‹" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><ul><li>é€šè¿‡ k8s æ¨¡å‹ç¼–å†™æˆ–è€…æ ¡éªŒ Kubernetes é…ç½®</li></ul><p><img loading="lazy" src="/zh-CN/assets/images/k8s-module-912b38ba6f9f47e59a536ba9212fffbf.png" width="2180" height="834" class="img_ev3q"></p><ul><li>é€šè¿‡ Open Application Model (OAM) å¼€æ”¾åº”ç”¨æ¨¡å‹é…åˆ KubeVela æ§åˆ¶å™¨è¿›è¡Œåº”ç”¨å‘å¸ƒä¸è¿ç»´</li></ul><p><img loading="lazy" src="/zh-CN/assets/images/oam-module-bc32f420836145889ab5b02afb3a530b.png" width="1964" height="796" class="img_ev3q"></p><ul><li>æŸ¥æ‰¾ KCL ä»£ç åº“å¦‚ <code>jsonpatch</code> è¿›è¡Œé…ç½®æ“ä½œ</li></ul><p><img loading="lazy" src="/zh-CN/assets/images/jsonpatch-module-2f9f35483b0d57221644c6788f13f1d8.png" width="1998" height="714" class="img_ev3q"></p><ul><li>é€šè¿‡å¼•å…¥ <a href="https://github.com/KusionStack/catalog" target="_blank" rel="noopener noreferrer">KusionStack Modules æ¨¡å‹ç”Ÿæ€</a>å¹¶é…åˆ KusionStack å¢å¼ºå®¢æˆ·ç«¯çš„åº”ç”¨äº¤ä»˜ä½“éªŒ</li></ul><p>åç»­æˆ‘ä»¬ä¼šé€šè¿‡ä¸€ç³»åˆ—æ–‡ç« è®²è§£å„ä¸ªæ¨¡å‹æ›´å…·ä½“ä½¿ç”¨åœºæ™¯ä»¥åŠå·¥ä½œæµç¨‹ï¼Œæ•¬è¯·æœŸå¾…! 200+ æ¨¡å‹çš„æºä»£ç ä½äº <em><a href="https://github.com/kcl-lang/modules" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/modules</a></em>ï¼Œæ¬¢è¿ç¤¾åŒºçš„å°ä¼™ä¼´è¿›è¡Œå…±å»ºã€‚â¤ï¸</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å…¶ä»–èµ„æº">å…¶ä»–èµ„æº<a href="#å…¶ä»–èµ„æº" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>â¤ï¸ æ„Ÿè°¢æ‰€æœ‰ KCL ç”¨æˆ·å’Œç¤¾åŒºå°ä¼™ä¼´åœ¨ç¤¾åŒºä¸­æå‡ºçš„å®è´µåé¦ˆä¸å»ºè®®ã€‚é¢„è®¡ 11 æœˆåº•æˆ‘ä»¬ä¼šæ­£å¼å‘å¸ƒ KCL v0.7 æ–°ç‰ˆæœ¬ï¼Œæ•¬è¯·æœŸå¾…! æŸ¥çœ‹ <em><a href="https://github.com/kcl-lang/community" target="_blank" rel="noopener noreferrer">KCL ç¤¾åŒº</a></em> åŠ å…¥æˆ‘ä»¬ã€‚</p><p>æ›´å¤šå…¶ä»–èµ„æºè¯·å‚è€ƒï¼š</p><ul><li><a href="https://kcl-lang.io/" target="_blank" rel="noopener noreferrer">KCL ç½‘ç«™</a></li><li><a href="https://kusionstack.io/" target="_blank" rel="noopener noreferrer">KusionStack ç½‘ç«™</a></li><li><a href="https://github.com/kcl-lang/kcl/milestone/7" target="_blank" rel="noopener noreferrer">KCL v0.7.0 Milestone</a></li><li><a href="https://github.com/kcl-lang/kcl/milestone/8" target="_blank" rel="noopener noreferrer">KCL v0.8.0 Milestone</a></li></ul>]]></content>
        <author>
            <name>KCL å›¢é˜Ÿ</name>
        </author>
        <category label="KCL" term="KCL"/>
        <category label="Biweekly-Newsletter" term="Biweekly-Newsletter"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[å¿«æ¥çœ‹çœ‹ï¼Œè¿™é‡Œæœ‰ä½ éœ€è¦çš„ Kubernetes æ¨¡å‹ï¼]]></title>
        <id>https://kcl-lang.github.io/zh-CN/blog/2023-11-20-search-k8s-module-on-artifacthub</id>
        <link href="https://kcl-lang.github.io/zh-CN/blog/2023-11-20-search-k8s-module-on-artifacthub"/>
        <updated>2023-11-20T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[ç®€ä»‹]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ç®€ä»‹">ç®€ä»‹<a href="#ç®€ä»‹" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>åœ¨ä¹‹å‰çš„å‡ æ¬¡æ›´æ–°ä¸­ï¼Œæˆ‘ä»¬ä¸º <a href="https://github.com/kcl-lang" target="_blank" rel="noopener noreferrer">KCL è¯­è¨€</a>å¢åŠ äº†åŒ…ç®¡ç†çš„èƒ½åŠ›ï¼Œè§£å†³äº†å¦‚ä½•è·å–å’Œå‘å¸ƒä¸‰æ–¹åº“çš„é—®é¢˜ã€‚éšä¹‹è€Œæ¥çš„æ–°é—®é¢˜æ˜¯ï¼Œåœ¨å¼€å‘ç¨‹åºçš„è¿‡ç¨‹ä¸­ï¼Œå°ä¼™ä¼´ä»¬å¾€å¾€ä¸ç¡®å®šè¯¥ä½¿ç”¨å“ªä¸ªåº“è§£å†³è‡ªå·±çš„é—®é¢˜ã€‚åœ¨é€šè¿‡åŒ…ç®¡ç†å·¥å…·ä½¿ç”¨ä¸‰æ–¹åº“ä¹‹å‰ï¼Œéœ€è¦ç»“åˆå…·ä½“äº‘åŸç”Ÿè¿ç»´åœºæ™¯çš„éœ€æ±‚å’Œå„ç§ä¸‰æ–¹åº“çš„èƒ½åŠ›å»æŒ‘é€‰åˆé€‚çš„åº“ä½¿ç”¨ã€‚</p><p><a href="https://github.com/kcl-lang" target="_blank" rel="noopener noreferrer">KCL</a> æ˜¯ä¸€ä¸ª CNCF åŸºé‡‘ä¼šæ‰˜ç®¡çš„åŸºäºçº¦æŸçš„è®°å½•åŠå‡½æ•°è¯­è¨€å¹¶é€šè¿‡æˆç†Ÿçš„ç¼–ç¨‹è¯­è¨€æŠ€æœ¯å’Œå®è·µæ¥æ”¹è¿›å¯¹å¤§é‡ç¹æ‚é…ç½®æ¯”å¦‚äº‘åŸç”Ÿ Kubernetes é…ç½®åœºæ™¯çš„ç¼–å†™ï¼Œè‡´åŠ›äºæ„å»ºå›´ç»•é…ç½®çš„æ›´å¥½çš„æ¨¡å—åŒ–ã€æ‰©å±•æ€§å’Œç¨³å®šæ€§ï¼Œæ›´ç®€å•çš„é€»è¾‘ç¼–å†™ï¼Œä»¥åŠæ›´ç®€å•çš„è‡ªåŠ¨åŒ–å’Œç”Ÿæ€å·¥å…·é›†æˆã€‚</p><p>å› æ­¤ï¼Œæˆ‘ä»¬å€ŸåŠ©åŒä¸º CNCF çš„ <a href="https://artifacthub.io/" target="_blank" rel="noopener noreferrer">ArtifactHub</a> é¡¹ç›®æ„å»ºäº†ä¸€ä¸ª KCL ä¸‰æ–¹åº“çš„å¸‚åœºï¼Œåœ¨è¿™ä¸ªå¸‚åœºä¸­ï¼Œæœ‰éœ€æ±‚çš„æœ‹å‹ä»¬èƒ½å¤Ÿæ ¹æ®è‡ªå·±çš„éœ€æ±‚è‡ªç”±é€‰æ‹©è‡ªå·±éœ€è¦çš„ä¸‰æ–¹åº“ï¼Œæœ‰æƒ³æ³•æ„¿æ„åˆ†äº«çš„æœ‹å‹ä»¬ï¼Œä¹Ÿå¯ä»¥åœ¨è¿™ä¸ªå¸‚åœºä¸­ä¸å¤§å®¶åˆ†äº«ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†é€šè¿‡ä¸€ä¸ªç®€å•çš„å‘å¸ƒåº”ç”¨çš„æ¡ˆä¾‹æ¥è¿‘è·ç¦»æ„Ÿå—ä¸€ä¸‹å¦‚ä½•åœ¨ ArtifactHub&nbsp;ä¸Šæ£€ç´¢ KCL ä¸‰æ–¹åº“ï¼Œå¹¶ç»“åˆåº“æ–‡æ¡£çš„å†…å®¹è¿›è¡Œ KCL ç¨‹åºå¼€å‘ã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å‰ç½®å·¥ä½œ">å‰ç½®å·¥ä½œ<a href="#å‰ç½®å·¥ä½œ" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>å®‰è£…ç¯å¢ƒ</p><ul><li>å®‰è£…&nbsp;KCL&nbsp;<em><a href="https://kcl-lang.io/docs/user_docs/getting-started/install/" target="_blank" rel="noopener noreferrer">https://kcl-lang.io/docs/user_docs/getting-started/install/</a></em></li><li>å®‰è£… kubectl&nbsp;<em><a href="https://kubernetes.io/zh-cn/docs/tasks/tools/#kubectl" target="_blank" rel="noopener noreferrer">https://kubernetes.io/zh-cn/docs/tasks/tools/#kubectl</a></em></li><li>å®‰è£… minikube <em><a href="https://minikube.sigs.k8s.io/docs/start/" target="_blank" rel="noopener noreferrer">https://minikube.sigs.k8s.io/docs/start/</a></em></li></ul><p>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¯åŠ¨ minikube</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">minikube start --cache-images</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>å¦‚æœæ‚¨çš„ minikube ä¸­æ²¡æœ‰å®‰è£… Ingress æ§åˆ¶å™¨ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤å®‰è£…ï¼š</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">minikube addons </span><span class="token builtin class-name">enable</span><span class="token plain"> ingress</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="helloworld-æ¡ˆä¾‹">HelloWorld æ¡ˆä¾‹<a href="#helloworld-æ¡ˆä¾‹" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>é¦–å…ˆï¼Œæˆ‘ä»¬å¯ä»¥å‡†å¤‡ä¸€ä¸ªç®€å•çš„ js åº”ç”¨ã€‚</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> express </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"express"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> app </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">express</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> port </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8080</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// å®šä¹‰ä¸€ä¸ªå“åº” GET è¯·æ±‚çš„è·¯ç”±</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"/"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">req</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> res</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  res</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">send</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"æ¬¢è¿æ¥åˆ°æˆ‘çš„Webåº”ç”¨ç¨‹åºï¼"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// å¯åŠ¨æœåŠ¡å™¨</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">listen</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">port</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">Web app listening http://localhost:</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">port</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>å¹¶ä¸”ä¸ºè¿™ä¸ªåº”ç”¨å‡†å¤‡ä¸€ä¸ªé•œåƒï¼Œå¹¶å°†é•œåƒä¸Šä¼ åˆ°é•œåƒä¸­å¿ƒã€‚</p><div class="language-dockerfile codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">FROM node:14</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">WORKDIR /usr/src/app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">COPY package*.json ./</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RUN npm install</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">COPY . .</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">EXPOSE 8080</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CMD [ "node", "app.js" ]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æœ¬æ–‡çš„æ¡ˆä¾‹ä¸­æˆ‘ä»¬å°†ä½¿ç”¨é•œåƒåœ°å€ <code>ghcr.io/test/my-web-app:1.0</code> æ¥å±•ç¤ºå…·ä½“çš„å†…å®¹ã€‚å®Œæˆäº†å‡†å¤‡å·¥ä½œï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ KCL ç¼–å†™å¯¹åº”çš„å‘å¸ƒä»£ç äº†ã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ä½¿ç”¨-artifacthubæœç´¢æ‚¨éœ€è¦çš„åŒ…">ä½¿ç”¨ ArtifactHub&nbsp;æœç´¢æ‚¨éœ€è¦çš„åŒ…<a href="#ä½¿ç”¨-artifacthubæœç´¢æ‚¨éœ€è¦çš„åŒ…" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>é¦–å…ˆï¼Œæˆ‘æƒ³è¦å°†æˆ‘çš„ my-web-app åº”ç”¨å‘å¸ƒï¼Œæˆ‘éœ€è¦å€ŸåŠ© <code>k8s</code> çš„ä¸‰æ–¹åº“å®Œæˆæˆ‘çš„å·¥ä½œã€‚ç›´æ¥åœ¨ <a href="https://artifacthub.io/" target="_blank" rel="noopener noreferrer">ArtifactHub</a> ä¸­æœç´¢ <code>k8s</code>å…³é”®å­—ï¼Œå¯ä»¥çœ‹åˆ°ç›®å‰æä¾›çš„ k8s çš„ä¸‰æ–¹åº“ã€‚</p><p><img loading="lazy" alt="index-page" src="/zh-CN/assets/images/index-page-5be59bc5c5d26caa4dd532a2ab88e4ab.png" width="1060" height="601" class="img_ev3q"></p><p>åœ¨ <code>k8s</code> æ¨¡å‹çš„ä¸»é¡µä¸­ï¼Œæ‚¨å¯ä»¥æ‰¾åˆ°å…³äº <code>k8s</code> åŒ…çš„æ–‡æ¡£ï¼Œä¸åŒç‰ˆæœ¬ç­‰æ›´åŠ è¯¦ç»†çš„å†…å®¹ã€‚</p><p><img loading="lazy" alt="k8s-page" src="/zh-CN/assets/images/k8s-page-ef5ac237c942bb5b7168b48dcf52b7a7.png" width="1068" height="758" class="img_ev3q"></p><p>å³ä¾§çš„ <code>INSTALL</code> æŒ‰é’®ä¸ºæ‚¨æä¾›äº†å®‰è£… <code>k8s</code> ä¸‰æ–¹åº“çš„æ–¹å¼ã€‚</p><p><img loading="lazy" alt="k8s-install-page" src="/zh-CN/assets/images/k8s-install-page-2f6bcea900e6aa1d4927c2a071407d07.png" width="1080" height="613" class="img_ev3q"></p><p>æˆ‘ä»¬è¿™é‡Œæ˜¯ä½¿ç”¨ <code>k8s</code> ä½œä¸ºåŒ…çš„ä¾èµ–ï¼Œå› æ­¤å¦‚ä¸‹å‘½ä»¤è¿›è¡Œå®‰è£…ï¼š</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kcl mod init my-kubernetes-config </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token builtin class-name">cd</span><span class="token plain"> my-kubernetes-config </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> kcl mod </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> k8s:1.28</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦ç¼–å†™å‘å¸ƒåº”ç”¨å¯¹åº”çš„ <code>deployment</code>, <code>service</code>&nbsp;å’Œ <code>ingress</code>&nbsp;ä¸‰ä¸ªéƒ¨åˆ†ã€‚è¿™é‡Œéœ€è¦ä½¿ç”¨åˆ°æˆ‘ä»¬åˆšæ‰æ·»åŠ çš„ <code>k8s</code> åŒ…ä¸­çš„ <code>Deployment</code>, <code>Service</code>å’Œ <code>Ingress</code> ä¸‰ä¸ª <code>schema</code>ã€‚&nbsp;
æ›´å¤šå…³äº schema&nbsp;çš„å†…å®¹å¯ä»¥æŸ¥é˜…: <em><a href="https://kcl-lang.io/docs/next/reference/lang/tour#schema" target="_blank" rel="noopener noreferrer">https://kcl-lang.io/docs/next/reference/lang/tour#schema</a></em></p><p>å¦‚æœæ‚¨å¯¹è¿™ä¸‰ä¸ªå†…å®¹ä¸å¤ªäº†è§£ï¼Œæ‚¨å¯ä»¥ç›´æ¥åœ¨æ¨¡å‹çš„è¯¦æƒ…é¡µè¿›è¡Œæœç´¢ã€‚ä»¥ <code>Deployment</code> ä¸ºä¾‹ï¼Œæ‚¨å¯ä»¥åœ¨æ–‡æ¡£ä¸­çœ‹åˆ°æ›´åŠ è¯¦ç»†çš„ä¿¡æ¯ã€‚</p><p><img loading="lazy" alt="deployment" src="/zh-CN/assets/images/deployment-4c48cb0322567b7a9bb6fa72add27fe3.png" width="1080" height="490" class="img_ev3q"></p><p>æ ¹æ®æ–‡æ¡£çš„å†…å®¹ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ <code>main.k</code> æ–‡ä»¶ä¸­ç¼–å†™å¦‚ä¸‹ <code>deployment</code></p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> k8s</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">api</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">apps</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">v1 </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> d</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">deployment </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> d</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Deployment </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    metadata</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"web-app-deployment"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    spec </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        selector</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">matchLabels </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">app </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"web-app"</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        template </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            metadata</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">labels </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">app </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"web-app"</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            spec</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">containers </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"web-app"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                image </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"ghcr.io/test/my-web-app:1.0"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                ports </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">containerPort </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">80</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>å…³äº <code>Service</code>, å¯ä»¥æŸ¥åˆ°ç›¸å…³æ–‡æ¡£ï¼š</p><p><img loading="lazy" alt="service" src="/zh-CN/assets/images/service-c9a8a508ff5a293adcaa6c222e3de5d4.png" width="1080" height="540" class="img_ev3q"></p><p>å¯¹åº”çš„ <code>service</code>å†…å®¹å¦‚ä¸‹ï¼š</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">import</span><span class="token plain"> k8s.api.core.v1 as s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">service</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> s.Service </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    metadata.name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"web-app-service"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    spec.selector </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">"app"</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"web-app"</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    spec.ports </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        port: </span><span class="token number" style="color:#36acaa">80</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        targetPort: </span><span class="token number" style="color:#36acaa">8080</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>å…³äº <code>Ingress</code>, å¯ä»¥æŸ¥åˆ°ç›¸å…³æ–‡æ¡£</p><p><img loading="lazy" alt="ingress" src="/zh-CN/assets/images/ingress-033c971c9a89d43c2dab5a2e533acedb.png" width="1080" height="579" class="img_ev3q"></p><p>å¯¹åº”çš„ <code>ingress</code>å†…å®¹å¦‚ä¸‹ï¼š</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> k8s</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">api</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">networking</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">v1 </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> i</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ingress </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> i</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Ingress </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    metadata</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"web-app-ingress"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    spec</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">rules </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            host</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"web-app.example.com"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            http</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">paths </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    path</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"/"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    pathType</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Prefix"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    backend</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">service</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"web-app-service"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    backend</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">service</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        number</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8080</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æœ€åï¼Œåœ¨ main.k æ–‡ä»¶ä¸­å¢åŠ å¦‚ä¸‹å†…å®¹ï¼Œå°† deployment, service å’Œ ingress æ¸²æŸ“ä¸º yaml æ ¼å¼ã€‚</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">manifests.yaml_stream</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    deployment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">service</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ingress</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æ‚¨å¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ç¼–è¯‘å¯¹åº”çš„ KCL ç¨‹åºï¼Œå¹¶ä¸” applyã€‚</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kcl run main.k </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> kubectl apply -f -</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>è¿›è¡Œåˆ°è¿™é‡Œï¼Œæˆ‘ä»¬å·²ç»åœ¨ ArtifactHub&nbsp;çš„å¸®åŠ©ä¸‹æˆåŠŸå‘å¸ƒäº†åº”ç”¨ my-web-appã€‚</p><p>æœ€åï¼Œæˆ‘ä»¬é€šè¿‡ kubectl ç«¯å£è½¬å‘ï¼Œæ¥çœ‹ä¸€ä¸‹å‘å¸ƒçš„æ•ˆæœã€‚ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿›è¡Œè½¬å‘ã€‚</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl port-forward service/web-app-service </span><span class="token number" style="color:#36acaa">8080</span><span class="token plain">:80</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ç„¶åé€šè¿‡å¦‚ä¸‹å‘½ä»¤æˆ–è€…ç›´æ¥é€šè¿‡æµè§ˆå™¨è®¿é—® http://localhost:8080 æ¥è®¿é—®æˆ‘ä»¬å‘å¸ƒçš„åº”ç”¨ã€‚</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> http://localhost:8080</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>å¦‚æœæ‚¨é€šè¿‡ curl å‘½ä»¤è¡Œè®¿é—®ï¼Œæ‚¨å°†ä¼šè·å¾—è¾“å‡ºï¼š</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> http://localhost:8080</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">æ¬¢è¿æ¥åˆ°æˆ‘çš„ Web åº”ç”¨ç¨‹åºï¼</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>å¦‚æœæ‚¨é€šè¿‡æµè§ˆå™¨è®¿é—®ï¼Œæ‚¨å°†ä¼šçœ‹åˆ°ï¼š</p><p><img loading="lazy" alt="browser" src="/zh-CN/assets/images/browser-4607db02d09e9204da6505fdd7b92693.png" width="532" height="184" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="æ€»ç»“">æ€»ç»“<a href="#æ€»ç»“" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>æœ¬æ–‡é€šè¿‡ä¸€ä¸ªç®€å•çš„åº”ç”¨å‘å¸ƒï¼Œä¸ºå¤§å®¶å±•ç¤ºäº†å¦‚ä½•åœ¨ ArtifactHub&nbsp;ä¸Šé€‰æ‹©åˆé€‚çš„ KCL ä¸‰æ–¹åº“ï¼Œç›®å‰ ArtifactHub&nbsp;ä¸Šå·²ç»æä¾›è¶…è¿‡ 150 ä¸ª KCL ä¸‰æ–¹åº“ä¾›å¤§å®¶é€‰æ‹©ï¼Œå¿«æ¥çœ‹çœ‹æœ‰æ²¡æœ‰ä½ éœ€è¦çš„ KCL æ¨¡å‹å§ ï¼</p><p>åœ¨æœ¬æ–‡æä¾›çš„æ¡ˆä¾‹ä¸­ï¼Œæˆ‘ä»¬ç”¨ KCL ç¼–å†™äº†å‘å¸ƒåº”ç”¨çš„ç¨‹åºã€‚åœ¨åç»­çš„æ›´æ–°ä¸­ï¼Œæˆ‘ä»¬å°†è¿›ä¸€æ­¥é€šè¿‡åŠ¨æ€å‚æ•°ç­‰ç‰¹æ€§å¯¹æœ¬æ–‡ä¸­çš„ KCL ç¨‹åºè¿›è¡ŒæŠ½è±¡ä»¥åŠä½¿ç”¨æ›´å¤šçš„åº”ç”¨æ¨¡å‹ä»‹ç»å¦‚ Open Application Model (OAM) ç­‰ï¼Œå¹¶ä¸”æ‰“åŒ…æˆä¸€ä¸ªå•ç‹¬çš„æ¨¡å—å‘å¸ƒåˆ°&nbsp;ArtifactHub&nbsp;ä¸­ï¼Œå¦‚æœæ‚¨ä¹Ÿæœ‰æƒ³è¦ä¸ä»–äººåˆ†äº«çš„ KCL æ¨¡å—ï¼Œæˆ‘ä»¬å°†ç»§ç»­æ›´æ–°è¯¦ç»†çš„æ­¥éª¤å’ŒæŒ‡å—ï¼Œå¸®åŠ©æ‚¨æˆåŠŸå‘å¸ƒæ‚¨çš„åŒ…ã€‚æ•¬è¯·æœŸå¾…ï¼</p>]]></content>
        <author>
            <name>KCL Team</name>
        </author>
        <category label="KCL" term="KCL"/>
        <category label="Kubernetes" term="Kubernetes"/>
        <category label="Modules" term="Modules"/>
        <category label="ArtifactHub" term="ArtifactHub"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[KCL ç¤¾åŒºå¼€æºåŒå‘¨æŠ¥ (2023 10.26 - 11.08) | è¶…å¤š IDE ä½“éªŒæå‡å’Œå¼€ç®±å³ç”¨çš„æ¨¡å‹]]></title>
        <id>https://kcl-lang.github.io/zh-CN/blog/2023-11-08-biweekly-newsletter</id>
        <link href="https://kcl-lang.github.io/zh-CN/blog/2023-11-08-biweekly-newsletter"/>
        <updated>2023-11-08T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[KCL æ˜¯ä¸€ä¸ª CNCF åŸºé‡‘ä¼šæ‰˜ç®¡çš„åŸºäºçº¦æŸçš„è®°å½•åŠå‡½æ•°è¯­è¨€å¹¶é€šè¿‡æˆç†Ÿçš„ç¼–ç¨‹è¯­è¨€æŠ€æœ¯å’Œå®è·µæ¥æ”¹è¿›å¯¹å¤§é‡ç¹æ‚é…ç½®æ¯”å¦‚äº‘åŸç”Ÿ Kubernetes é…ç½®åœºæ™¯çš„ç¼–å†™ï¼Œè‡´åŠ›äºæ„å»ºå›´ç»•é…ç½®çš„æ›´å¥½çš„æ¨¡å—åŒ–ã€æ‰©å±•æ€§å’Œç¨³å®šæ€§ï¼Œæ›´ç®€å•çš„é€»è¾‘ç¼–å†™ï¼Œä»¥åŠæ›´ç®€å•çš„è‡ªåŠ¨åŒ–å’Œç”Ÿæ€å·¥å…·é›†æˆã€‚]]></summary>
        <content type="html"><![CDATA[<p><img loading="lazy" src="/zh-CN/assets/images/biweekly-newsletter-zh-bd4cf8c2bcc913a580e7b0e5d6691a08.png" width="1127" height="435" class="img_ev3q"></p><p><a href="https://github.com/kcl-lang" target="_blank" rel="noopener noreferrer">KCL</a> æ˜¯ä¸€ä¸ª CNCF åŸºé‡‘ä¼šæ‰˜ç®¡çš„åŸºäºçº¦æŸçš„è®°å½•åŠå‡½æ•°è¯­è¨€å¹¶é€šè¿‡æˆç†Ÿçš„ç¼–ç¨‹è¯­è¨€æŠ€æœ¯å’Œå®è·µæ¥æ”¹è¿›å¯¹å¤§é‡ç¹æ‚é…ç½®æ¯”å¦‚äº‘åŸç”Ÿ Kubernetes é…ç½®åœºæ™¯çš„ç¼–å†™ï¼Œè‡´åŠ›äºæ„å»ºå›´ç»•é…ç½®çš„æ›´å¥½çš„æ¨¡å—åŒ–ã€æ‰©å±•æ€§å’Œç¨³å®šæ€§ï¼Œæ›´ç®€å•çš„é€»è¾‘ç¼–å†™ï¼Œä»¥åŠæ›´ç®€å•çš„è‡ªåŠ¨åŒ–å’Œç”Ÿæ€å·¥å…·é›†æˆã€‚</p><p>æœ¬æ ç›®å°†ä¼šåŒå‘¨æ›´æ–° KCL è¯­è¨€ç¤¾åŒºæœ€æ–°åŠ¨æ€ï¼ŒåŒ…æ‹¬åŠŸèƒ½ã€å®˜ç½‘æ›´æ–°å’Œæœ€æ–°çš„ç¤¾åŒºåŠ¨æ€ç­‰ï¼Œå¸®åŠ©å¤§å®¶æ›´å¥½åœ°äº†è§£ KCL ç¤¾åŒºï¼</p><p><strong><em>KCL å®˜ç½‘ï¼š<a href="https://kcl-lang.io" target="_blank" rel="noopener noreferrer">https://kcl-lang.io</a></em></strong></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å†…å®¹æ¦‚è¿°">å†…å®¹æ¦‚è¿°<a href="#å†…å®¹æ¦‚è¿°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>æ„Ÿè°¢æ‰€æœ‰è´¡çŒ®è€…è¿‡å»ä¸¤å‘¨ (2023 10.26 - 11.08) çš„æ°å‡ºå·¥ä½œï¼Œä»¥ä¸‹æ˜¯é‡ç‚¹åˆå¹¶å†…å®¹æ¦‚è¿°</p><p><strong>ğŸ”§ è¯­è¨€åŠå·¥å…·é“¾æ›´æ–°</strong></p><ul><li>KCL IDE æ›´æ–° - æ›´æ™ºèƒ½çš„é…ç½®å€¼è¡¥å…¨ã€å±æ€§åˆ—è¡¨è¡¥å…¨ã€å‡½æ•°å‚æ•°è¡¥å…¨ã€å†…ç½®åŒ…å¼•ç”¨è¡¥å…¨å’Œ docstring è¡¥å…¨ç­‰</li><li>KCL åŒ…ç®¡ç†å·¥å…· KPM æ›´æ–° - æ›´æµç•…çš„åˆ›å»ºã€å‘å¸ƒ KCL åŒ…çš„å·¥ä½œæµï¼šæ”¯æŒåŸºäºç‰ˆæœ¬ç³»ç»Ÿçš„åŒ…æ›´æ–°å’Œå‘å¸ƒçš„è‡ªåŠ¨åŒ–æµç¨‹ï¼›æ­¤å¤–ï¼Œç°å·²å…è®¸å¯¹KCLåŒ…çš„å…ƒä¿¡æ¯è‡ªå®šä¹‰é…ç½®</li><li>KCL æ¨¡å‹æ›´æ–° - å¼€ç®±å³ç”¨çš„ KCL æ¨¡å‹æ–°å¢è‡³ 120+</li><li>KCL è¯­è¨€æ›´æ–° - ä¼˜åŒ–äº† schema å­—æ®µç±»å‹ä¸åŒ¹é…çš„æŠ¥é”™ä¿¡æ¯ï¼Œæ”¯æŒ lambda ç±»å‹æ³¨è§£ï¼Œä»¥åŠä¸ªåˆ«ç¼–è¯‘é—®é¢˜ä¿®å¤ï¼›ç³»ç»Ÿåº“æ”¯æŒå¯¹ JSON/YAML å­—ç¬¦ä¸²çš„éªŒè¯ã€åºåˆ—åŒ–å’Œååºåˆ—åŒ–</li><li>KCL å¯¼å…¥å·¥å…·å‘å¸ƒï¼šæ”¯æŒä» YAML/JSON/CRD/Terraform Schema ä¸€é”®ç”Ÿæˆ KCL é…ç½®/æ¨¡å‹ï¼Œå®ç°è‡ªåŠ¨åŒ–è¿ç§»</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ç‰¹åˆ«é¸£è°¢">ç‰¹åˆ«é¸£è°¢<a href="#ç‰¹åˆ«é¸£è°¢" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>ä»¥ä¸‹æ’åä¸åˆ†å…ˆå</p><ul><li>æ„Ÿè°¢ @jakezhu9 å¯¹ KCL benchmark ç”±å•çº¿ç¨‹ Rc åˆ° Arc çš„æ”¹è¿›ï¼Œå¯¹ KCL å¯¼å…¥å·¥å…·ä¸­å…³äºå¼•ç”¨è·¯å¾„çš„ bugä¿®å¤ ğŸ™Œ <em><a href="https://github.com/kcl-lang/kcl-go/pull/170" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl-go/pull/170</a></em> ç­‰</li><li>æ„Ÿè°¢ @liangyuanpeng ä¸º KCL æ¨¡å‹è´¡çŒ® karmada æ¨¡å‹åŒ…ï¼Œæ¬¢è¿ï¼ğŸ™Œ <em><a href="https://github.com/kcl-lang/artifacthub/pull/48/files" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/artifacthub/pull/48/files</a></em></li><li>æ­¤å¤–ï¼Œæ„Ÿè°¢ @Matt Gowie, @ddh å¯¹ KCL çš„å…³æ³¨å’Œå®è´µåé¦ˆ ğŸ™Œ</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ç²¾é€‰æ›´æ–°">ç²¾é€‰æ›´æ–°<a href="#ç²¾é€‰æ›´æ–°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="kcl-ide-æ’ä»¶æ›´æ–°">KCL IDE æ’ä»¶æ›´æ–°<a href="#kcl-ide-æ’ä»¶æ›´æ–°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>KCL IDE æ’ä»¶åŸºäºæ–°å¢äº†å¤§é‡è¡¥å…¨æç¤ºï¼Œé‡ç‚¹é’ˆå¯¹<strong>é…ç½®å®šä¹‰</strong>è¿™ä¸€æ ¸å¿ƒç¯èŠ‚ï¼Œç®€åŒ–ç”¨æˆ·åŸºäºæ¨¡å‹ç¼–å†™é…ç½®çš„å¿ƒæ™ºã€æå‡é…ç½®ç¼–è¾‘çš„æ•ˆç‡ã€‚æ­¤å¤–ï¼Œå¢å¼ºäº†è°ƒç”¨å†…ç½®å‡½æ•°æ—¶å‚æ•°è¡¥å…¨ã€‚talk is cheapï¼Œæˆ‘ä»¬ç›´æ¥æ¥çœ‹æ•ˆæœï¼š</p><p><img loading="lazy" src="/zh-CN/assets/images/module-function-completion-bee0f3843b5a931de523f25776bbb7a6.gif" width="850" height="401" class="img_ev3q"></p><p><img loading="lazy" src="/zh-CN/assets/images/config-completion-99e49bbda5b33f7ff7fb3ecb54050d82.gif" width="640" height="302" class="img_ev3q"></p><p>è€Œå¯¹äº<strong>æ¨¡å‹è®¾è®¡</strong>ç¯èŠ‚ï¼Œä¹Ÿæ–°å¢äº†å¯¹ docstring çš„å¿«é€Ÿç”Ÿæˆï¼Œå‡å°‘æ‰‹æ•² boilerplateï¼š</p><p><img loading="lazy" src="/zh-CN/assets/images/docstring-gen-882f1ecbd5845a659b1f0623b58ccb13.gif" width="1023" height="728" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="kcl-åŒ…ç®¡ç†å·¥å…·">KCL åŒ…ç®¡ç†å·¥å…·<a href="#kcl-åŒ…ç®¡ç†å·¥å…·" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>åŒ…ç®¡ç†å·¥å…·ç°å·²ä¸²è”èµ· KCL åŒ…åˆ›å»º-æ›´æ–°-ä»£ç å®¡æŸ¥-å‘å¸ƒçš„æ ¸å¿ƒå·¥ä½œæµï¼Œå¹¶åŸºäºæ­¤æ–°å¢å¼€ç®±å³ç”¨çš„ KCL æ¨¡å‹åŒ…è‡³ 120+ï¼Œç”¨æˆ·å¯å‚ç…§<a href="https://kcl-lang.io/docs/user_docs/guides/working-with-k8s/publish-modules/" target="_blank" rel="noopener noreferrer">ç¼–å†™å¹¶å‘å¸ƒ Kubernetes KCL ä»£ç åŒ…</a> å³åˆ»ä½¿ç”¨ã€‚</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="kcl-è¯­è¨€æ›´æ–°">KCL è¯­è¨€æ›´æ–°<a href="#kcl-è¯­è¨€æ›´æ–°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>KCL çš„ç¼–è¯‘å‘½ä»¤å¯¹é”™è¯¯ä¿¡æ¯çš„è¾“å‡ºä¼˜åŒ–ç»§ç»­æ¨è¿›ï¼Œè‡´åŠ›äºæä¾›æ¸…æ™°æ˜“æ‡‚çš„æŒ‡å¼•ï¼Œå¸®åŠ©å¼€å‘è€…å¿«é€Ÿå®šä½å’Œä¿®å¤é—®é¢˜ï¼Œç¼–å†™å‡ºæ­£ç¡®çš„ä»£ç ã€‚è¿‘æœŸï¼ŒKCL ä¼˜åŒ–äº† schema å­—æ®µç±»å‹ä¸åŒ¹é…çš„æŠ¥é”™ä¿¡æ¯ï¼š</p><ul><li><p>before:
<img loading="lazy" src="/zh-CN/assets/images/schema-expr-type-error-before-fbb3b4d4a2222f4cb1418a1075f2582f.png" width="1080" height="185" class="img_ev3q"></p></li><li><p>after:
<img loading="lazy" src="/zh-CN/assets/images/schema-expr-type-error-after-5c78dffcaec4e93ed2770080dd198e64.png" width="1080" height="320" class="img_ev3q"></p></li></ul><p>æ­¤å¤–ï¼Œè¿˜æ”¯æŒäº† <code>-â€”recursive</code> é€‰é¡¹å…è®¸ kcl é€’å½’ç¼–è¯‘å­ç›®å½•ï¼Œæ”¯æŒåœ¨ lambda è¡¨è¾¾å¼ä¸­æ·»åŠ ç±»å‹æ³¨è§£ï¼Œç³»ç»Ÿåº“æ”¯æŒäº†å¯¹ JSON/YAML å­—ç¬¦ä¸²çš„éªŒè¯ã€åºåˆ—åŒ–å’Œååºåˆ—åŒ–ï¼›ä¿®å¤äº†å¸¦æœ‰ä¸‰æ–¹åº“çš„ KCL ç¨‹åºç¼“å­˜å¤±æ•ˆçš„é—®é¢˜ï¼›ä¿®å¤äº†ç¼–è¯‘å…¥åº“æ–‡ä»¶è·¨ kcl.mod æƒ…å†µä¸‹çš„è·¯å¾„å†²çªé”™è¯¯ï¼›ä¿®å¤ KCL å‡½æ•°é»˜è®¤å€¼è¯­ä¹‰æ£€æŸ¥é”™è¯¯ç­‰ã€‚</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="kcl-å¯¼å…¥å·¥å…·">KCL å¯¼å…¥å·¥å…·<a href="#kcl-å¯¼å…¥å·¥å…·" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>æ”¯æŒä» YAML/JSON/CRD/Terraform Schema ä¸€é”®ç”Ÿæˆ KCL é…ç½®/æ¨¡å‹ï¼Œå®ç°è‡ªåŠ¨åŒ–è¿ç§»ï¼Œç›¸å…³æŒ‡å—è¯·å‚ç…§<a href="https://kcl-lang.io/docs/user_docs/guides/working-with-k8s/adopt-from-kubernetes" target="_blank" rel="noopener noreferrer">ä¸€é”®ä» Kubernetes ç”Ÿæ€è¿ç§»åˆ° KCL</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å…¶ä»–èµ„æº">å…¶ä»–èµ„æº<a href="#å…¶ä»–èµ„æº" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>â¤ï¸ æ„Ÿè°¢æ‰€æœ‰ KCL ç”¨æˆ·å’Œç¤¾åŒºå°ä¼™ä¼´åœ¨ç¤¾åŒºä¸­æå‡ºçš„å®è´µåé¦ˆä¸å»ºè®®ã€‚é¢„è®¡ 11 æœˆåº•æˆ‘ä»¬ä¼šæ­£å¼å‘å¸ƒ KCL v0.7 æ–°ç‰ˆæœ¬ï¼Œæ•¬è¯·æœŸå¾…!</p><p>æ›´å¤šå…¶ä»–èµ„æºè¯·å‚è€ƒï¼š</p><ul><li><p><a href="https://kcl-lang.io/" target="_blank" rel="noopener noreferrer">KCL ç½‘ç«™</a></p></li><li><p><a href="https://kusionstack.io/" target="_blank" rel="noopener noreferrer">KusionStack ç½‘ç«™</a></p></li><li><p><a href="https://kcl-lang.io/docs/community/release-policy/roadmap" target="_blank" rel="noopener noreferrer">KCL 2023 è·¯çº¿è§„åˆ’</a></p></li><li><p><a href="https://github.com/kcl-lang/kcl/milestone/7" target="_blank" rel="noopener noreferrer">KCL v0.7.0 Milestone</a></p></li><li><p><a href="https://github.com/kcl-lang/kcl/issues" target="_blank" rel="noopener noreferrer">KCL Github Issues</a></p></li><li><p><a href="https://github.com/orgs/kcl-lang/discussions" target="_blank" rel="noopener noreferrer">KCL Github Discussion</a></p></li><li><p><a href="https://github.com/kcl-lang/community" target="_blank" rel="noopener noreferrer">KCL Community</a></p></li></ul>]]></content>
        <author>
            <name>KCL å›¢é˜Ÿ</name>
        </author>
        <category label="KCL" term="KCL"/>
        <category label="Biweekly-Newsletter" term="Biweekly-Newsletter"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[KCL ç¤¾åŒºå¼€æºåŒå‘¨æŠ¥ (2023 10.12 - 10.25) | IDE æ’ä»¶æ”¯æŒå¼•ç”¨æŸ¥æ‰¾ã€åŒ…ç®¡ç†é›†æˆ ArtifactHub]]></title>
        <id>https://kcl-lang.github.io/zh-CN/blog/2023-10-25-biweekly-newsletter</id>
        <link href="https://kcl-lang.github.io/zh-CN/blog/2023-10-25-biweekly-newsletter"/>
        <updated>2023-10-25T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[KCL æ˜¯ä¸€ä¸ª CNCF åŸºé‡‘ä¼šæ‰˜ç®¡çš„åŸºäºçº¦æŸçš„è®°å½•åŠå‡½æ•°è¯­è¨€å¹¶é€šè¿‡æˆç†Ÿçš„ç¼–ç¨‹è¯­è¨€æŠ€æœ¯å’Œå®è·µæ¥æ”¹è¿›å¯¹å¤§é‡ç¹æ‚é…ç½®æ¯”å¦‚äº‘åŸç”Ÿ Kubernetes é…ç½®åœºæ™¯çš„ç¼–å†™ï¼Œè‡´åŠ›äºæ„å»ºå›´ç»•é…ç½®çš„æ›´å¥½çš„æ¨¡å—åŒ–ã€æ‰©å±•æ€§å’Œç¨³å®šæ€§ï¼Œæ›´ç®€å•çš„é€»è¾‘ç¼–å†™ï¼Œä»¥åŠæ›´ç®€å•çš„è‡ªåŠ¨åŒ–å’Œç”Ÿæ€å·¥å…·é›†æˆã€‚]]></summary>
        <content type="html"><![CDATA[<p><img loading="lazy" src="/zh-CN/assets/images/biweekly-newsletter-zh-bd4cf8c2bcc913a580e7b0e5d6691a08.png" width="1127" height="435" class="img_ev3q"></p><p><a href="https://github.com/kcl-lang" target="_blank" rel="noopener noreferrer">KCL</a> æ˜¯ä¸€ä¸ª CNCF åŸºé‡‘ä¼šæ‰˜ç®¡çš„åŸºäºçº¦æŸçš„è®°å½•åŠå‡½æ•°è¯­è¨€å¹¶é€šè¿‡æˆç†Ÿçš„ç¼–ç¨‹è¯­è¨€æŠ€æœ¯å’Œå®è·µæ¥æ”¹è¿›å¯¹å¤§é‡ç¹æ‚é…ç½®æ¯”å¦‚äº‘åŸç”Ÿ Kubernetes é…ç½®åœºæ™¯çš„ç¼–å†™ï¼Œè‡´åŠ›äºæ„å»ºå›´ç»•é…ç½®çš„æ›´å¥½çš„æ¨¡å—åŒ–ã€æ‰©å±•æ€§å’Œç¨³å®šæ€§ï¼Œæ›´ç®€å•çš„é€»è¾‘ç¼–å†™ï¼Œä»¥åŠæ›´ç®€å•çš„è‡ªåŠ¨åŒ–å’Œç”Ÿæ€å·¥å…·é›†æˆã€‚</p><p>æœ¬æ ç›®å°†ä¼šåŒå‘¨æ›´æ–° KCL è¯­è¨€ç¤¾åŒºæœ€æ–°åŠ¨æ€ï¼ŒåŒ…æ‹¬åŠŸèƒ½ã€å®˜ç½‘æ›´æ–°å’Œæœ€æ–°çš„ç¤¾åŒºåŠ¨æ€ç­‰ï¼Œå¸®åŠ©å¤§å®¶æ›´å¥½åœ°äº†è§£ KCL ç¤¾åŒºï¼</p><p><strong><em>KCL å®˜ç½‘ï¼š<a href="https://kcl-lang.io" target="_blank" rel="noopener noreferrer">https://kcl-lang.io</a></em></strong></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å†…å®¹æ¦‚è¿°">å†…å®¹æ¦‚è¿°<a href="#å†…å®¹æ¦‚è¿°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>æ„Ÿè°¢æ‰€æœ‰è´¡çŒ®è€…è¿‡å»ä¸¤å‘¨ (2023 10.12 - 10.25) çš„æ°å‡ºå·¥ä½œï¼Œä»¥ä¸‹æ˜¯é‡ç‚¹åˆå¹¶å†…å®¹æ¦‚è¿°</p><p><strong>ğŸ”§ è¯­è¨€åŠå·¥å…·é“¾æ›´æ–°</strong></p><ul><li>KCL IDE æ›´æ–° - æ”¯æŒå¯¹ç¬¦å·çš„å¼•ç”¨è·³è½¬å’Œé‡å‘½åï¼›ä¼˜åŒ–äº†å¼•ç”¨è¯­å¥å’Œ union ç±»å‹çš„æ ¼å¼åŒ–è¾“å‡ºï¼›ä¿®å¤äº†æ–‡ä»¶å˜æ›´å¼•å‘è¯­è¨€æœåŠ¡å´©æºƒçš„é—®é¢˜</li><li>KCL åŒ…ç®¡ç†å·¥å…· KPM æ›´æ–° - kpm æ­£åœ¨é›†æˆ AritifactHubï¼Œæ”¯æŒå°† KCL åŒ…å‘å¸ƒåˆ° ArtifactHub</li><li>KCL è¯­è¨€æ›´æ–° - ä¼˜åŒ–äº†æ–¹æ³•çš„å‚æ•°ç±»å‹ä¸åŒ¹é…ç­‰æŠ¥é”™ä¿¡æ¯ï¼Œæ˜ç¡®æŒ‡å‡ºäº†ä¸åŒ¹é…çš„ç±»å‹</li><li>KCL å‘½ä»¤è¡Œç»Ÿä¸€ç•Œé¢ - é‡æ–°è®¾è®¡äº† KCL ç›¸å…³å·¥å…·çš„å‘½ä»¤è¡Œç»Ÿä¸€ç•Œé¢å’Œå·¥ä½œæµï¼Œè¿›å…¥å®ç°é˜¶æ®µ</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ç‰¹åˆ«é¸£è°¢">ç‰¹åˆ«é¸£è°¢<a href="#ç‰¹åˆ«é¸£è°¢" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>ä»¥ä¸‹æ’åä¸åˆ†å…ˆå</p><ul><li>æ„Ÿè°¢ @jakezhu9 å¯¹ KCL è¯­æ³•è§£æå•å…ƒæµ‹è¯•çš„æ”¹è¿›ï¼Œå°†éƒ¨åˆ†æµ‹è¯•ç”¨ä¾‹ç»Ÿä¸€è¿ç§»åˆ°ä½¿ç”¨ snaptest æ¡†æ¶ ğŸ™Œ <em><a href="https://github.com/kcl-lang/kcl/pull/794" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl/pull/794</a></em> ç­‰</li><li>æ„Ÿè°¢ @opsnull å¯¹ KCL å®˜ç½‘æ–‡æ¡£ä¸­ä»£ç ç¤ºä¾‹çš„çº é”™å’Œè´¡çŒ® ğŸ™Œ <em><a href="https://github.com/kcl-lang/kcl-lang.io/pull/182" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl-lang.io/pull/182</a></em></li><li>æ„Ÿè°¢ @prahaladramji å¯¹ KCL IntelliJ æ’ä»¶æ ¼å¼åŒ–åŠŸèƒ½çš„çº é”™å’Œä¼˜åŒ– ğŸ™Œ <em><a href="https://github.com/kcl-lang/intellij-kcl/pull/15" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/intellij-kcl/pull/15</a></em></li><li>æ„Ÿè°¢ @steeling, @prahaladramji, @liangyuanpen, @Kory Taborn ç­‰åœ¨ä½¿ç”¨ KCL åŠå·¥å…·é“¾è¿‡ç¨‹ä¸­æå‡ºçš„å®è´µåé¦ˆå’Œè®¨è®º ğŸ™Œ</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ç²¾é€‰æ›´æ–°">ç²¾é€‰æ›´æ–°<a href="#ç²¾é€‰æ›´æ–°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="kcl-ide-æ’ä»¶æ›´æ–°">KCL IDE æ’ä»¶æ›´æ–°<a href="#kcl-ide-æ’ä»¶æ›´æ–°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>åœ¨å¾…å‘å¸ƒçš„ç‰ˆæœ¬ä¸­ï¼ŒKCL IDE æ’ä»¶æ”¯æŒäº†å¯¹ç¬¦å·çš„å¼•ç”¨è·³è½¬åŠé‡å‘½ååŠŸèƒ½ï¼›ä¼˜åŒ–äº†å¯¹å¼•ç”¨è¯­å¥å’Œunionç±»å‹çš„æ ¼å¼åŒ–è¾“å‡ºã€‚åŒæ—¶ä¿®å¤äº†è¯­è¨€æœåŠ¡è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿç›¸å…³çš„bugï¼šæ–‡ä»¶ç»´åº¦çš„å˜æ›´å¼•å‘ä¼šè¯­è¨€æœåŠ¡å´©æºƒï¼Œå¿…é¡»é‡å¯ IDE æ¢å¤ï¼Œç°å·²ä¿®å¤ã€‚</p><p>ä½¿ç”¨<code>è½¬åˆ°å¼•ç”¨</code>æˆ–<code>æŸ¥æ‰¾æ‰€æœ‰å¼•ç”¨</code>ï¼š
<img loading="lazy" src="/zh-CN/assets/images/FindRefs-8770a657ab949aae7dd82f9e52fc5090.png" width="1682" height="880" class="img_ev3q"></p><p>å¯¹ç¬¦å·è¿›è¡Œ<code>é‡å‘½å</code>ï¼š
<img loading="lazy" src="/zh-CN/assets/images/Rename-82061ac2cb03a77c542d5a4474797228.gif" width="832" height="513" class="img_ev3q"></p><p>å¯¹å¼•ç”¨è¯­å¥å’Œ union ç±»å‹çš„æ ¼å¼åŒ–ï¼šä¼˜åŒ–äº†å¼•ç”¨è¯­å¥ä¸å…¶ä»–ä»£ç å—ä¹‹é—´çš„ç©ºè¡Œè¡Œä¸ºï¼ˆæ ¼å¼åŒ–ä¸ºä¸€ä¸ªç©ºè¡Œï¼‰ã€union ç±»å‹çš„ç©ºæ ¼è¡Œä¸ºï¼ˆå¤šä¸ªç±»å‹ä¹‹é—´æ ¼å¼åŒ–ä¸ºä»¥ <code>|</code> é—´éš”ï¼‰ï¼š
<img loading="lazy" src="/zh-CN/assets/images/Format-bacf4e759fcb2a5a29f0f219b4dfa8ec.gif" width="590" height="269" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="kcl-åŒ…ç®¡ç†å·¥å…·">KCL åŒ…ç®¡ç†å·¥å…·<a href="#kcl-åŒ…ç®¡ç†å·¥å…·" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>åœ¨å¾…å‘å¸ƒçš„ç‰ˆæœ¬ä¸­ï¼Œkpm æ”¯æŒä¸ <a href="https://artifacthub.io/" target="_blank" rel="noopener noreferrer">ArtifactHub</a> çš„é›†æˆï¼Œæ‚¨å¯ä»¥é€šè¿‡å‘<a href="https://github.com/kcl-lang/artifacthub" target="_blank" rel="noopener noreferrer">kcl-lang Registry ä»“åº“</a> æäº¤ PR çš„æ–¹å¼å°†æ‚¨çš„ KCL åŒ…å‘å¸ƒåˆ° ArtifactHub. ç›®å‰æˆ‘ä»¬å¯ä»¥åœ¨ <a href="https://staging.artifacthub.io/packages/search?ts_query_web=kcl&amp;sort=relevance&amp;page=1" target="_blank" rel="noopener noreferrer">ArtifactHub staging é¡µé¢</a>çœ‹åˆ°é¢„ä¸Šä¼ çš„ KCL k8s åŒ…çš„æ•ˆæœï¼Œè¯¥åŠŸèƒ½å°†åœ¨ v0.6.1 ç‰ˆæœ¬å‘å¸ƒï¼š</p><p><img loading="lazy" src="/zh-CN/assets/images/artifacthubStaging-ae8bdb088c72f1d8828d074553c283fe.png" width="2204" height="1536" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="kcl-è¯­è¨€æ›´æ–°">KCL è¯­è¨€æ›´æ–°<a href="#kcl-è¯­è¨€æ›´æ–°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>KCL çš„ç¼–è¯‘å‘½ä»¤æ­£åœ¨æŒç»­åœ°ä¼˜åŒ–é”™è¯¯ä¿¡æ¯çš„è¾“å‡ºï¼Œè‡´åŠ›äºæä¾›æ¸…æ™°æ˜“æ‡‚çš„æŒ‡å¼•ï¼Œå¸®åŠ©å¼€å‘è€…å¿«é€Ÿå®šä½å’Œä¿®å¤é—®é¢˜ï¼Œç¼–å†™å‡ºæ­£ç¡®çš„ä»£ç ã€‚è¿‘æœŸï¼ŒKCL å¯¹æ–¹æ³•ç±»å‹å’Œå‚æ•°æ–¹é¢çš„é”™è¯¯ä¿¡æ¯è¿›è¡Œäº†ä¼˜åŒ–ï¼Œä¾‹å¦‚ï¼šæ˜ç¡®æŒ‡å‡ºäº†æ–¹æ³•çš„å‚æ•°ç±»å‹ä¸åŒ¹é…çš„æŠ¥é”™ï¼š</p><p><img loading="lazy" src="/zh-CN/assets/images/error-msg-b9f86d8cb2dc9273d4a6ab951c562c96.png" width="1254" height="968" class="img_ev3q"></p><p>æ­¤å¤–ï¼Œè¿˜ä¿®å¤äº†å±æ€§èµ‹å€¼çš„æƒ°æ€§æ±‚å€¼é—®é¢˜ï¼Œå°†å±æ€§èµ‹å€¼çš„è®¡ç®—å’Œçº¦æŸæ ¡éªŒå»¶è¿Ÿåˆ°é…ç½®åˆå¹¶å®Œæˆåï¼Œé¿å…ä¸å¿…è¦çš„ç¼–è¯‘æŠ¥é”™ã€‚</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="kcl-å‘½ä»¤è¡Œç»Ÿä¸€ç•Œé¢">KCL å‘½ä»¤è¡Œç»Ÿä¸€ç•Œé¢<a href="#kcl-å‘½ä»¤è¡Œç»Ÿä¸€ç•Œé¢" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>ä¸ºå‘ KCL ç”¨æˆ·æä¾›ä¸€è‡´å’Œæ ‡å‡†åŒ–çš„ä½“éªŒï¼Œæˆ‘ä»¬æ­£åœ¨å¯¹ KCL çš„å‘½ä»¤è¡Œç•Œé¢è¿›è¡Œè®¾è®¡æ”¹è¿›ï¼Œä»¥è¾¾åˆ°ç»Ÿä¸€çš„ç”¨æˆ·å·¥ä½œæµã€ç›¸å…³å·¥å…·å’Œå¤šè¯­è¨€ API çš„æ— ç¼é›†æˆã€å‘½ä»¤è¡Œå·¥å…·çš„å¯æ‰©å±•æ€§ã€‚ç›®å‰å®Œæˆäº†åˆæ­¥è®¾è®¡è¿›å…¥å®ç°é˜¶æ®µï¼Œæ¬¢è¿æ„Ÿå…´è¶£çš„å°ä¼™ä¼´ä¸€èµ·è®¨è®ºï¼š<a href="https://github.com/kcl-lang/kcl/issues/756" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl/issues/756</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ç¤¾åŒºåŠ¨æ€">ç¤¾åŒºåŠ¨æ€<a href="#ç¤¾åŒºåŠ¨æ€" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>éšç€åŠ å…¥ CNCF sandboxï¼ŒCNCF KCL Slack é¢‘é“å·²ç»å¼€é€šï¼Œä¸ KCL è¯­è¨€ç›¸å…³çš„äº¤æµå°†é€æ­¥è¿ç§»åˆ°æ–°çš„é¢‘é“ï¼Œæ¬¢è¿å¤§å®¶åŠ å…¥äº¤æµï¼š</p><ol><li>åŠ å…¥ CNCF å·¥ä½œç©ºé—´ï¼Œå¡«å†™ä¸ªäººé‚®ç®±å³å¯: <a href="https://communityinviter.com/apps/cloud-native/cncf" target="_blank" rel="noopener noreferrer">https://communityinviter.com/apps/cloud-native/cncf</a></li><li>åŠ å…¥ CNCF KCL é¢‘é“: <a href="https://cloud-native.slack.com/archives/C05TC96NWN8" target="_blank" rel="noopener noreferrer">https://cloud-native.slack.com/archives/C05TC96NWN8</a></li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å…¶ä»–èµ„æº">å…¶ä»–èµ„æº<a href="#å…¶ä»–èµ„æº" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>â¤ï¸ æ„Ÿè°¢æ‰€æœ‰ KCL ç”¨æˆ·å’Œç¤¾åŒºå°ä¼™ä¼´åœ¨ç¤¾åŒºä¸­æå‡ºçš„å®è´µåé¦ˆä¸å»ºè®®ã€‚é¢„è®¡ 11 æœˆåº•æˆ‘ä»¬ä¼šæ­£å¼å‘å¸ƒ KCL v0.7 æ–°ç‰ˆæœ¬ï¼Œæ•¬è¯·æœŸå¾…!</p><p>æ›´å¤šå…¶ä»–èµ„æºè¯·å‚è€ƒï¼š</p><ul><li><p><a href="https://kcl-lang.io/" target="_blank" rel="noopener noreferrer">KCL ç½‘ç«™</a></p></li><li><p><a href="https://kusionstack.io/" target="_blank" rel="noopener noreferrer">KusionStack ç½‘ç«™</a></p></li><li><p><a href="https://kcl-lang.io/docs/community/release-policy/roadmap" target="_blank" rel="noopener noreferrer">KCL 2023 è·¯çº¿è§„åˆ’</a></p></li><li><p><a href="https://github.com/kcl-lang/kcl/milestone/7" target="_blank" rel="noopener noreferrer">KCL v0.7.0 Milestone</a></p></li><li><p><a href="https://github.com/kcl-lang/kcl/issues" target="_blank" rel="noopener noreferrer">KCL Github Issues</a></p></li><li><p><a href="https://github.com/orgs/kcl-lang/discussions" target="_blank" rel="noopener noreferrer">KCL Github Discussion</a></p></li><li><p><a href="https://github.com/kcl-lang/community" target="_blank" rel="noopener noreferrer">KCL Community</a></p></li></ul>]]></content>
        <author>
            <name>KCL å›¢é˜Ÿ</name>
        </author>
        <category label="KCL" term="KCL"/>
        <category label="Biweekly-Newsletter" term="Biweekly-Newsletter"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[KCD ç¤¾åŒºä¼šè®®å›é¡¾ | åŸºäºäº‘åŸç”Ÿä¾›åº”é“¾çš„é…ç½®ç­–ç•¥ç®¡ç†æ–°èŒƒå¼ - KRM KCL è§„èŒƒ]]></title>
        <id>https://kcl-lang.github.io/zh-CN/blog/2023-10-23-cloud-native-supply-chain-krm-kcl-spec</id>
        <link href="https://kcl-lang.github.io/zh-CN/blog/2023-10-23-cloud-native-supply-chain-krm-kcl-spec"/>
        <updated>2023-10-23T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[æœ¬ç¯‡æ–‡ç« æ˜¯ 2023 å¹´ CNCF KCD æ­å·ä¼šè®® KCL æ¼”è®²éƒ¨åˆ†å†…å®¹å›é¡¾ï¼Œæ´»åŠ¨é“¾æ¥//community.cncf.io/events/details/cncf-kcd-hangzhou-presents-kcd-hangzhou-2023/]]></summary>
        <content type="html"><![CDATA[<blockquote><p>æœ¬ç¯‡æ–‡ç« æ˜¯ 2023 å¹´ CNCF KCD æ­å·ä¼šè®® KCL æ¼”è®²éƒ¨åˆ†å†…å®¹å›é¡¾ï¼Œæ´»åŠ¨é“¾æ¥: <a href="https://community.cncf.io/events/details/cncf-kcd-hangzhou-presents-kcd-hangzhou-2023/" target="_blank" rel="noopener noreferrer">https://community.cncf.io/events/details/cncf-kcd-hangzhou-presents-kcd-hangzhou-2023/</a></p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="èƒŒæ™¯">èƒŒæ™¯<a href="#èƒŒæ™¯" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><blockquote><p>éšç€äº‘åŸç”ŸæŠ€æœ¯çš„å‘å±•ï¼Œæˆ‘ä»¬æ›´å¤šåœ°è½¬å‘äº‘åŸºç¡€è®¾æ–½ï¼ŒKubernetes å’Œ Terraform ç­‰åŸºç¡€è®¾æ–½å³ä»£ç  (IaC) å·¥å…·å·²æˆä¸ºè¶Šæ¥è¶Šæµè¡Œçš„ç®¡ç†å’Œéƒ¨ç½²åŸºäºäº‘ API çš„åº”ç”¨ç¨‹åºçš„å·¥å…·ã€‚ä½†æ˜¯éšä¹‹è€Œæ¥è¡ç”Ÿå‡ºçš„å¤æ‚æ€§é—®é¢˜å’Œè®¤çŸ¥è´Ÿæ‹…é—®é¢˜åœ¨è¿‘å‡ å¹´è¾¾åˆ°äº†é«˜å³°ã€‚</p></blockquote><p><img loading="lazy" alt="cognitive-loading" src="/zh-CN/assets/images/cognitive-loading-618f5d417a2cbef1c7e8b0c0396f4d1d.png" width="2064" height="1200" class="img_ev3q"></p><p>å¯¹äº Kubernetesï¼Œä½œä¸ºä½¿ç”¨æœ€å¹¿æ³›çš„å®¹å™¨ç¼–æ’ç³»ç»Ÿï¼ŒGartner é¢„æµ‹ï¼Œåˆ° 2022 å¹´ï¼Œå…¨çƒè¶…è¿‡ 75% çš„ç»„ç»‡å°†åœ¨ç”Ÿäº§ä¸­è¿è¡Œå®¹å™¨åŒ–åº”ç”¨ç¨‹åºã€‚å¦‚ä»Šï¼Œå®¹å™¨ç®¡ç†å¸‚åœºä¼°è®¡çº¦ä¸º 3 äº¿ç¾å…ƒï¼Œé¢„è®¡åˆ° 2025 å¹´å°†çªç ´ 10 äº¿ç¾å…ƒï¼Œå¹¶ä¸” Kubernetes æ­£ç¨³æ­¥èµ°å‡ºéº»çƒ¦çš„ä½è°·ï¼Œèµ°å‘æˆç†Ÿå’Œæ›´å¹¿æ³›çš„é‡‡ç”¨<sup>[1]</sup>ã€‚</p><p>å¯¹äº Terraformï¼Œä½œä¸ºä½¿ç”¨æœ€å¹¿æ³›çš„ IaC å·¥å…·ï¼Œæˆªæ­¢æœ¬æ–‡æ’°å†™æ—¶ï¼ŒTerraform VS Code æ’ä»¶å®‰è£…é‡æœ‰ 3.2M å·¦å³ï¼Œç›¸å½“äº Go VS Code æ’ä»¶å®‰è£…é‡çš„ä¸‰åˆ†ä¹‹ä¸€ (10M å·¦å³)ï¼Œç”šè‡³è¶…è¿‡å¾ˆå¤šé€šç”¨ç¼–ç¨‹è¯­è¨€çš„å®‰è£…é‡ï¼Œæ¯”å¦‚ Rust VS Code æ’ä»¶åœ¨ 2.3M å·¦å³, å¹¶ä¸” HCL æ˜¯ GitHub 2022 å¹´åº¦å¢é•¿æœ€å¿«çš„ç¼–ç¨‹è¯­è¨€ï¼Œè¶…è¿‡äº†å…¶ä»–æ‰€æœ‰é€šç”¨ç¼–ç¨‹è¯­è¨€å’Œé¢†åŸŸç¼–ç¨‹è¯­è¨€ï¼Œå½¢æˆäº†å¹¿æ³›çš„ç ”å‘è€…ç”Ÿæ€<sup>[2]</sup>ã€‚</p><p>ç”±æ­¤å¯ä»¥çœ‹å‡ºï¼ŒKubernetes å’Œ Terraform æ­£åœ¨æˆä¸ºäº‘åŸç”Ÿé¢†åŸŸä¸­ä¸å¯æˆ–ç¼ºçš„åŸºç¡€è®¾æ–½é¡¹ç›®å¹¶ä¸”åœ¨æœªæ¥å‡ å¹´å°†ä¼šæŒç»­å¢é•¿ï¼Œè™½ç„¶å®ƒä»¬ä¸¤è€…çš„é¡¹ç›®æ€§è´¨å¹¶ä¸å®Œå…¨ç›¸åŒï¼Œä½†æ˜¯æ®Šé€”åŒå½’ï¼Œå®ƒä»¬æ­£åœ¨å˜å¾—è¶Šæ¥è¶Šå¤æ‚ã€‚</p><p><img loading="lazy" alt="issues" src="/zh-CN/assets/images/issues-7a98051ab7155088ba8dba3d5701562a.png" width="2474" height="1064" class="img_ev3q"></p><p>Kubernetes å’Œ Terraform èƒŒåæ‰€ä»£è¡¨çš„äº‘ API è¶Šæ¥è¶Šå¤æ‚çš„åŸå› ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç‚¹<sup>[3]</sup><sup>[4]</sup><sup>[5]</sup>ï¼š</p><ul><li><strong>ä¸æ–­å¢åŠ çš„åŠŸèƒ½å’Œèƒ½åŠ›</strong>ï¼šKubernetes å’Œäº‘ API éƒ½æ˜¯ä¸ºäº†åº”å¯¹ä¸æ–­å¢é•¿çš„åº”ç”¨éœ€æ±‚å’Œäº‘è®¡ç®—çš„å‘å±•è€Œä¸æ–­æ¼”è¿›ã€‚ä¸ºäº†æ»¡è¶³ç”¨æˆ·çš„éœ€æ±‚ï¼Œå®ƒä»¬ä¸æ–­å¼•å…¥æ–°çš„åŠŸèƒ½å’Œèƒ½åŠ›ï¼Œå¦‚è‡ªåŠ¨æ‰©å±•ã€æœåŠ¡å‘ç°ã€è´Ÿè½½å‡è¡¡ã€æƒé™ç®¡ç†ç­‰ã€‚è¿™äº›æ–°åŠŸèƒ½çš„å¼•å…¥å¢åŠ äº†ç³»ç»Ÿçš„å¤æ‚æ€§ã€‚è™½ç„¶æˆ‘ä»¬å·²ç»æœ‰äº†å„å¼å„æ ·çš„è‡ªåŠ¨åŒ–æ‰‹æ®µï¼Œéšç€æ—¶é—´çš„æ¨ç§»ï¼Œå› ä¸ºä¸åŒèµ„æºç±»å‹çš„æ•°é‡ã€è¿™äº›èµ„æºç±»å‹çš„æ½œåœ¨è®¾ç½®æ•°é‡ä»¥åŠè¿™äº›èµ„æºç±»å‹ä¹‹é—´çš„å¤æ‚å…³ç³»å‘ˆæŒ‡æ•°çº§å¢é•¿ã€‚</li><li><strong>å¤æ‚çš„é…ç½®å’Œç®¡ç†éœ€æ±‚</strong>ï¼šéšç€åº”ç”¨è§„æ¨¡çš„å¢é•¿ï¼Œé…ç½®å’Œç®¡ç† Kubernetes å’Œäº‘ API å˜å¾—è¶Šæ¥è¶Šå¤æ‚ã€‚ä¾‹å¦‚ï¼Œéœ€è¦ç®¡ç†å¤§é‡çš„å®¹å™¨å®ä¾‹å’Œèµ„æºã€é…ç½®å¤æ‚çš„ç½‘ç»œå’Œå­˜å‚¨ã€å®ç°é«˜å¯ç”¨æ€§å’Œè´Ÿè½½å‡è¡¡ï¼Œéœ€è¦é’ˆå¯¹ä¸åŒçš„ç¯å¢ƒå’Œæ‹“æ‰‘é‡å¤åœ°è¿›è¡Œé…ç½®ç­‰ã€‚è¿™äº›å¤æ‚çš„é…ç½®å’Œç®¡ç†éœ€æ±‚å¢åŠ äº† Kubernetes å’Œäº‘ API çš„å¤æ‚æ€§ï¼Œå¼€ç©ç¬‘çš„è¯´ç”šè‡³åœ¨ Kubernetes é¢†åŸŸå¸¸å¸¸ä¼´éšå‚¬ç”Ÿäº†ä¸€æ‰¹ YAML å·¥ç¨‹å¸ˆæˆ–æ ‡è®°è¯­è¨€äººè‚‰ç¼–è¾‘å·¥ç¨‹å¸ˆã€‚</li></ul><p>å¯¹äºäº‘ API, æˆ‘ä»¬å€ŸåŠ© Terraform ç­‰ IaC å·¥å…·å¯ä»¥è·å¾—å¤§é‡çš„å·²ç»ç¼–å†™å¥½çš„ Module é…ç½®å’Œ Provider ç­‰ï¼Œä½†æ˜¯å¯¹äº Kubernetes ä»ç„¶ç¼ºä¹å®¢æˆ·ç«¯çš„è½»é‡çº§çš„é…ç½®ç»„åˆå’ŒæŠ½è±¡è§£å†³æ–¹æ¡ˆï¼Œç°æœ‰çš„æ–¹æ¡ˆæˆ–è€…è§„èŒƒéš¾ä»¥åœ¨æŠ½è±¡èƒ½åŠ›å’Œæ‰©å±•æ€§è·å¾—å¹³è¡¡ï¼Œç”šè‡³å¯¹äºä¸€äº›æç«¯åœºæ™¯ï¼Œå¼€å‘è€…å¾€å¾€ç¼–å†™è®¸å¤šèƒ¶æ°´ä»£ç å’Œè„šæœ¬å¯¹é…ç½®è¿›è¡Œå¤„ç†é€»è¾‘ï¼Œç¨³å®šæ€§å’Œæ•ˆç‡éƒ½å—åˆ°ä¸€å®šæ¡æ¢ã€‚</p><p>äºæ˜¯æˆ‘ä»¬æ€è€ƒéœ€è¦æœ‰ä¸€ä¸ªç»Ÿä¸€è§„èŒƒæè¿°æ¥åŒæ—¶æ‰¿è½½é…ç½®è¯­è¨€èƒ½åŠ›ï¼Œå¹¶ä¸”å¯ä»¥å°½å¯èƒ½æ— å‰¯ä½œç”¨åœ°åŒæ—¶æ»¡è¶³äº‘åŸç”Ÿä¾›åº”é“¾å’Œè§„æ¨¡åŒ–é…ç½®ç­‰åœºæ™¯ä¸‹çš„ç¨³å®šæ€§ã€æ‰©å±•æ€§å’Œæ•ˆç‡ç­‰ç‰¹æ€§ï¼Œå‡è½»åŸºç¡€è®¾æ–½å¯¹å¼€å‘äººå‘˜çš„è®¤çŸ¥è´Ÿæ‹…ï¼Œæé«˜é…ç½®ç®¡ç†æ•ˆç‡ã€‚</p><p>å› æ­¤ï¼Œæˆ‘ä»¬æå‡ºäº† KCL é¡¹ç›®ä»¥åŠ KRM KCL è§„èŒƒæœŸæœ›é€šè¿‡æ›´ç°ä»£åŒ–çš„å£°æ˜å¼é…ç½®è¯­è¨€å’Œå·¥å…·ï¼Œåœ¨è½»é‡çº§å®¢æˆ·ç«¯äº‘åŸç”ŸåŠ¨æ€é…ç½®é¢†åŸŸå¡«è¡¥é…ç½®è¯­è¨€åŠå·¥å…·çš„ç©ºç™½å¹¶è§£å†³å¦‚ä¸‹é—®é¢˜ï¼š</p><ul><li><strong>ç»´åº¦çˆ†ç‚¸</strong>: å¤§å¤šæ•°é™æ€é…ç½®å¦‚äº‘åŸç”Ÿé¢†åŸŸçš„ Kubernetes YAML é…ç½®éœ€è¦ä¸ºæ¯ä¸ªç¯å¢ƒå•ç‹¬è¿›è¡Œé…ç½®ï¼›åœ¨æœ€ç³Ÿç³•çš„æƒ…å†µä¸‹ï¼Œå®ƒå¯èƒ½å¼•å…¥æ¶‰åŠç¯å¢ƒäº¤å‰é“¾æ¥çš„éš¾ä»¥è°ƒè¯•çš„é”™è¯¯ï¼Œç¨³å®šæ€§å’Œæ‰©å±•æ€§éƒ½è¾ƒå·®ã€‚</li><li><strong>é…ç½®æ¼‚ç§»</strong>: å¯¹äºä¸åŒç¯å¢ƒçš„é™æ€ç®¡ç†åº”ç”¨ç¨‹åºå’ŒåŸºç¡€è®¾æ–½é…ç½®çš„æ–¹å¼ï¼Œå¾€å¾€æ²¡æœ‰æ ‡å‡†çš„æ–¹å¼å»ç®¡ç†è¿™äº›åŠ¨æ€çš„ä¸åŒç¯å¢ƒçš„é…ç½®ï¼Œé‡‡ç”¨éæ ‡å‡†åŒ–çš„æ–¹æ³•æ¯”å¦‚è„šæœ¬å’Œèƒ¶æ°´ä»£ç çš„æ‹¼ç›˜ï¼Œä¼šå¯¼è‡´å¤æ‚åº¦å‘ˆæŒ‡æ•°å¢é•¿ï¼Œå¹¶å¯¼è‡´é…ç½®æ¼‚ç§»ã€‚</li><li><strong>è®¤çŸ¥è´Ÿæ‹…</strong>: Kubernetes ç­‰ä½œä¸ºæ„å»ºå¹³å°çš„å¹³å°æŠ€æœ¯æ‰‹æ®µåœ¨åº•å±‚ç»Ÿä¸€åŸºç¡€æ¶æ„ç»†èŠ‚æ–¹é¢å‡ºè‰²ï¼Œä½†æ˜¯ç¼ºä¹æ›´ä¸Šå±‚çš„åº”ç”¨è½¯ä»¶äº¤ä»˜æŠ½è±¡ï¼Œå¯¹äºæ™®é€šå¼€å‘è€…è®¤çŸ¥è´Ÿæ‹…è¾ƒé«˜ï¼Œå½±å“äº†æ›´ä¸Šå±‚åº”ç”¨å¼€å‘è€…çš„è½¯ä»¶äº¤ä»˜ä½“éªŒã€‚</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="æ¦‚å¿µ">æ¦‚å¿µ<a href="#æ¦‚å¿µ" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p><img loading="lazy" alt="kcl-intro" src="/zh-CN/assets/images/kcl-intro-4ed4ff272fd5928fe67b529267316451.png" width="2310" height="1166" class="img_ev3q"></p><p>KCL æ˜¯ä¸€æ¬¾é¢å‘äº‘åŸç”Ÿé¢†åŸŸçš„ä¸“ç”¨é…ç½®ç­–ç•¥è¯­è¨€ï¼Œ2022 å¹´ 6 æœˆ å¼€æºï¼Œ2023 å¹´ 9 æœˆæˆä¸º CNCF åŸºé‡‘ä¼šæ‰˜ç®¡çš„ Sandbox é¡¹ç›®ï¼Œè‡´åŠ›äºæ”¹è¿›ç¼–å†™äº‘åŸç”Ÿé…ç½®ç­–ç•¥å’Œ Kubernetes API å±‚å¯ç¼–ç¨‹æ€§ç¼–å†™çš„ç”¨æˆ·ä½“éªŒã€‚KCL é¡¹ç›®ç›®å‰ä½äº CNCF åŸºé‡‘ä¼šå…¨æ™¯å›¾ Automation &amp; Configuration Landscape ä¸­ï¼ŒKCL ä¸­çš„ C æ˜¯ Configuration çš„ç¼©å†™ï¼ŒL æ˜¯ Language çš„ç¼©å†™ï¼ŒK å–è‡ª Kubernetes çš„é¦–å­—æ¯ K <sup>[6]</sup>ã€‚</p><p>ä¸é€šç”¨ç¼–ç¨‹è¯­è¨€ä¸åŒï¼ŒKCL ä½œä¸ºä¸€æ¬¾é¢†åŸŸç‰¹å®šçš„ç¼–ç¨‹è¯­è¨€ï¼Œæ˜¯ä»¥æ”¶æ•›æœ‰é™çš„è¯­æ³•ã€è¯­ä¹‰é›†åˆè§£å†³è¿‘ä¹æ— é™å˜åŒ–çš„ä¸šåŠ¡åœºæ™¯å’Œå¤æ‚æ€§ (æ¯”å¦‚ä»… Kubernetes é¢†åŸŸä¸­å°±æœ‰æˆåƒä¸Šä¸‡ç§èµ„æºä»¥åŠç¤¾åŒºä¸­å¤šåˆ°æ•°ä¸æ¸…ä¸”ç¢ç‰‡åŒ–çš„ Operator ç”Ÿæ€)ï¼Œå°†å¤æ‚é…ç½®å’Œç­–ç•¥ç¼–å†™æ€è·¯å’Œæ–¹å¼æ²‰æ·€åˆ°è¯­è¨€ç‰¹æ€§ä¸­ï¼Œé¿å…ä½¿ç”¨é€šç”¨è¯­è¨€ç­‰é…ç½®å¸¦æ¥å®‰å…¨éšæ‚£ç­‰å‰¯ä½œç”¨ã€‚</p><p>ä½œä¸ºä¸€ç§é…ç½®è¯­è¨€ï¼ŒKCL ä¸ºåº”ç”¨ç¨‹åºå’Œå¹³å°å¼€å‘äººå‘˜/SRE æä¾›çš„æœ€é‡è¦çš„åŠŸèƒ½æ˜¯åŠ¨æ€é…ç½®ç®¡ç†ã€‚é€šè¿‡ä»£ç æŠ½è±¡ï¼Œæˆ‘ä»¬å¯ä»¥æ„å»ºä»¥åº”ç”¨ä¸ºä¸­å¿ƒçš„æ¨¡å‹å±è”½å¤æ‚çš„åŸºç¡€è®¾æ–½å’Œå¹³å°æ¦‚å¿µï¼Œä¸ºå¼€å‘äººå‘˜æä¾›ä¸€ä¸ªä»¥åº”ç”¨ç¨‹åºä¸ºä¸­å¿ƒä¸”æ˜“äºç†è§£çš„ç•Œé¢ã€‚æ­¤å¤–ï¼ŒKCL è¿˜å…è®¸å¹³å°äººå‘˜å¿«é€Ÿæ‰©å±•å’Œå®šä¹‰è‡ªå·±çš„æ¨¡å‹ï¼Œå¹¶ä¸”æä¾›ä¸°å¯Œçš„å¯ç®¡ç†èƒ½åŠ›åŒ…æ‹¬å¼€ç®±å³ç”¨çš„ KCL ä»£ç åº“ã€è¯­ä¹‰ç‰ˆæœ¬åŒ–ç®¡ç†ã€OCI Registryï¼Œè¯­è¨€å·¥å…·é“¾å’Œè‡ªåŠ¨åŒ–æ”¯æŒã€‚</p><p>æ­¤å¤–ï¼ŒKCL å»ºç«‹åœ¨ä¸€ä¸ªå®Œå…¨å¼€æ”¾çš„äº‘åŸç”Ÿä¸–ç•Œå½“ä¸­ï¼Œå‡ ä¹ä¸ä¸ä»»ä½•ç¼–æ’/å¼•æ“å·¥å…·æˆ–è€… Kubernetes æ§åˆ¶å™¨ç»‘å®šï¼Œåœ¨äº‘åŸç”Ÿä¾›åº”é“¾åœºæ™¯å’Œè§„æ¨¡åŒ–è¿ç»´åœºæ™¯ä¸­ï¼Œå¯åŒæ—¶ä¸ºå®¢æˆ·ç«¯å’Œè¿è¡Œæ—¶æä¾› API æŠ½è±¡ã€ç»„åˆå’Œæ ¡éªŒçš„èƒ½åŠ›ï¼Œç”¨æˆ·å¯ä»¥é€‰æ‹©åˆé€‚åœºæ™¯çš„å¼•æ“æ¯”å¦‚ Kubectl<sup>[7]</sup>, KusionStack<sup>[8]</sup>, KubeVela<sup>[9]</sup> æˆ– Helmfile<sup>[10]</sup> ç­‰æ¥å’Œ KCL ç»“åˆå°†é…ç½®ç”Ÿæ•ˆåˆ°é›†ç¾¤ã€‚</p><p><img loading="lazy" alt="kcl-concept" src="/zh-CN/assets/images/kcl-concept-ac32b491a34b905a5d04fdf4e2748cd0.png" width="2352" height="1190" class="img_ev3q"></p><p>æ­¤å¤–ï¼ŒKCL è¯­è¨€æœ¬èº«æ˜¯ä¸€ç§ç°ä»£åŒ–çš„é«˜çº§é¢†åŸŸç¼–ç¨‹è¯­è¨€ï¼Œå®ƒæ˜¯ä¸€ç§ç¼–è¯‘é™æ€çš„å¼ºç±»å‹è¯­è¨€ã€‚KCL ä¸ºå¼€å‘äººå‘˜æä¾›äº†é€šè¿‡è®°å½•å’Œå‡½æ•°è¯­è¨€è®¾è®¡å°†<strong>é…ç½®ï¼ˆconfigï¼‰</strong>ã€<strong>å»ºæ¨¡æŠ½è±¡ï¼ˆschemaï¼‰</strong>ã€<strong>é€»è¾‘ï¼ˆlambdaï¼‰</strong>å’Œ<strong>ç­–ç•¥ï¼ˆruleï¼‰</strong>ä½œä¸ºæ ¸å¿ƒèƒ½åŠ›ã€‚</p><p>KCL è¯•å›¾æä¾›ç‹¬ç«‹äºè¿è¡Œæ—¶çš„å¯ç¼–ç¨‹æ€§ï¼Œä¸åœ¨æœ¬åœ°æä¾›çº¿ç¨‹å’Œ IO ç­‰ç³»ç»ŸåŠŸèƒ½ï¼Œå¹¶è¯•å›¾ä¸ºè§£å†³é¢†åŸŸé—®é¢˜å¹¶æä¾›ç¨³å®šã€å®‰å…¨ã€ä½å™ªå£°ã€ä½å‰¯ä½œç”¨ã€é«˜æ€§èƒ½ã€æ˜“äºè‡ªåŠ¨åŒ–å’Œæ˜“äºç®¡ç†çš„ç¼–ç¨‹æ”¯æŒã€‚</p><p><img loading="lazy" alt="krm-kcl" src="/zh-CN/assets/images/krm-kcl-6342250ce5edccc7fd140b03bbf145e6.png" width="2354" height="1144" class="img_ev3q"></p><p>KRM KCL è§„èŒƒæ˜¯åŸºäº Kubernetes Resource Modelï¼ˆKRMï¼‰çš„ä¸€ç§é…ç½®è§„èŒƒã€‚KRM æ˜¯ä¸€ä¸ªé€šç”¨çš„é…ç½®æ¨¡å‹ï¼Œç”¨äºæè¿°å’Œç®¡ç†å„ç§äº‘åŸç”Ÿèµ„æºï¼Œå¦‚å®¹å™¨ã€Podã€æœåŠ¡ç­‰ã€‚KRM æä¾›äº†ä¸€ç§ç»Ÿä¸€çš„æ–¹å¼æ¥å®šä¹‰å’Œç®¡ç†è¿™äº›èµ„æºï¼Œä½¿å¾—å®ƒä»¬å¯ä»¥åœ¨ä¸åŒçš„ç¯å¢ƒä¸­è¿›è¡Œç§»æ¤å’Œå¤ç”¨<sup>[11]</sup>ã€‚</p><p>KRM è§„èŒƒä½œä¸º Kubernetes å®˜æ–¹çš„è§„èŒƒä¹‹ä¸€ï¼Œå…¶æ ¸å¿ƒæ¦‚å¿µæ˜¯ KRM å‡½æ•°ï¼ŒKRM å‡½æ•°çš„è¾“å…¥æ˜¯ä¸€ç³»åˆ— Kubernetes èµ„æºä»¥åŠ KRM å‡½æ•°çš„é…ç½®ï¼Œè¾“å‡ºä¹Ÿæ˜¯ä¸€ç³»åˆ— Kubernetes èµ„æºåŠ ä¸Šå‡½æ•°è¿è¡Œçš„ç»“æœæ¯”å¦‚æŠ¥é”™ã€è°ƒè¯•ä¿¡æ¯ç­‰ã€‚è€Œ KRM KCL æ˜¯å°† KRM Function ä½¿ç”¨ KCL ä»£ç å®ç°ï¼Œå¹¶åœ¨å…¶åŸºç¡€ä¸Šæ‰©å±•äº†å¤šç§ä»£ç æºæ”¯æŒæ¯”å¦‚ OCI Registry, Git å’Œ Https ç­‰ã€‚</p><p>åœ¨ KRM KCL è§„èŒƒä¸­ï¼Œæˆ‘ä»¬å°† KCL é…ç½®æ¨¡å‹çš„è¡Œä¸ºä¸»è¦åˆ†æˆä¸‰ç±»</p><ul><li><strong>Mutation</strong>: è¾“å…¥ KCL å‚æ•° <code>params</code> å’Œ KRM åˆ—è¡¨å¹¶è¾“å‡ºä¿®æ”¹å KRM åˆ—è¡¨ã€‚</li><li><strong>Validation</strong>: è¾“å…¥ KCL å‚æ•° <code>params</code> å’Œ KRM åˆ—è¡¨å¹¶è¾“å‡º KRM åˆ—è¡¨å’Œèµ„æºéªŒè¯ç»“æœã€‚</li><li><strong>Abstraction</strong>: è¾“å…¥ KCL å‚æ•° <code>params</code> å¹¶è¾“å‡º KRM åˆ—è¡¨ã€‚</li></ul><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ KCL ä»¥å¯ç¼–ç¨‹çš„æ–¹å¼å®ç°å¦‚ä¸‹èƒ½åŠ›:</p><ul><li>ä½¿ç”¨ KCL å¯¹èµ„æºè¿›è¡Œä¿®æ”¹ï¼Œå¦‚æ ¹æ®æŸä¸ªæ¡ä»¶æ·»åŠ /ä¿®æ”¹ label æ ‡ç­¾æˆ– annotation æ³¨é‡Šæˆ–åœ¨åŒ…å« PodTemplate çš„æ‰€æœ‰ Kubernetes Resource Model (KRM) èµ„æºä¸­æ³¨å…¥ Sidecar å®¹å™¨é…ç½®ç­‰ã€‚</li><li>ä½¿ç”¨ KCL Schema éªŒè¯æ‰€æœ‰ KRM èµ„æºï¼Œå¦‚çº¦æŸåªèƒ½ä»¥ Root æ–¹å¼å¯åŠ¨å®¹å™¨ç­‰ã€‚</li><li>ä½¿ç”¨æŠ½è±¡æ¨¡å‹ç”Ÿæˆ KRM èµ„æºæˆ–è€…å¯¹ä¸åŒçš„ Kubernetes API è¿›è¡ŒæŠ½è±¡/ç»„åˆå¹¶ä½¿ç”¨ï¼Œæ¯”å¦‚ä½¿ç”¨ <code>web-service</code> æ¨¡å‹å®ä¾‹åŒ–ä¸€ä¸ª Web åº”ç”¨é…ç½®ã€‚</li></ul><p>æˆ‘ä»¬å¯ä»¥å€ŸåŠ© KCL IDE å’Œ KCL åŒ…ç®¡ç†å·¥å…·ç¼–å†™æ¨¡å‹å¹¶ä¸Šä¼ åˆ° OCI Registry ä»¥å®ç°æ¨¡å‹å¤ç”¨ï¼Œå¯¹ KRM KCL è§„èŒƒè¿›è¡Œå¯ç¼–ç¨‹æ‰©å±•æ”¯æŒï¼Œå¹¶ä¸”è¿™äº›æ¨¡å‹å¯ä»¥æ ¹æ®åœºæ™¯éœ€æ±‚åˆ†åˆ«ç”¨åœ¨å®¢æˆ·ç«¯æˆ–è€…è¿è¡Œæ—¶ã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ç”¨æˆ·ä½“éªŒ">ç”¨æˆ·ä½“éªŒ<a href="#ç”¨æˆ·ä½“éªŒ" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>é’ˆå¯¹ä¸Šè¿°æåˆ°åˆ°é¢†åŸŸä¸­çš„é—®é¢˜ä»¥åŠ KCL ç›¸å…³æ¦‚å¿µï¼Œæˆ‘ä»¬ä¸»è¦ä¸ºç”¨æˆ·æä¾›äº†ä¸‰æ–¹é¢çš„æ”¯æŒï¼šè¯­è¨€ã€å·¥å…·é“¾ã€äº‘åŸç”Ÿé›†æˆã€‚</p><p><img loading="lazy" alt="workspace" src="/zh-CN/assets/images/workspace-4b43fe7e7bdf1bebdbdde2e63f01ea9a.png" width="1974" height="1164" class="img_ev3q"></p><p>è™½ç„¶ KCL æ˜¯ä¸€ä¸ªé¢†åŸŸè¯­è¨€ï¼Œä½†æ˜¯éº»é›€è™½å°ï¼Œäº”è„ä¿±å…¨ã€‚KCL æä¾›äº†ä¸é€šç”¨è¯­è¨€èƒ½åŠ›åŸºæœ¬ç­‰åŒçš„çš„å·¥å…·é“¾å¦‚æ ¼å¼åŒ–ï¼Œæµ‹è¯•ã€æ–‡æ¡£ã€åŒ…ç®¡ç†ç­‰å·¥å…·å¸®åŠ©æ›´å¥½åœ°ç¼–å†™ã€ç†è§£å’Œæ£€æŸ¥ç¼–å†™çš„é…ç½®æˆ–ç­–ç•¥ï¼›é€šè¿‡ VS Code ç­‰ IDE æ’ä»¶å’Œ Playground é™ä½é…ç½®ç¼–å†™ã€åˆ†äº«çš„æˆæœ¬ï¼›é€šè¿‡ Rust, Go, å’Œ Python å¤šè¯­è¨€ SDK è‡ªåŠ¨åŒ–åœ°ç®¡ç†å’Œæ‰§è¡Œé…ç½®ã€‚</p><p><img loading="lazy" alt="ide" src="/zh-CN/assets/images/ide-5fe2523decb4b8e9e2a2f5843dd7efee.png" width="2432" height="1190" class="img_ev3q"></p><p>å¯¹äº IDE æ’ä»¶ï¼ŒKCL ç›®å‰ä¸»è¦æä¾›äº† VS Codeï¼ŒIntelliJ å’Œ NeoVim ä¸‰ç§ IDE æ’ä»¶åŸºäºåŒæ ·çš„ KCL Language Server å®ç°äº†åŒæ ·çš„è¡¥å…¨ã€è·³è½¬ã€æ‚¬åœã€ä»£ç é‡æ„å’Œæ ¼å¼åŒ–ç­‰èƒ½åŠ›<sup>[12]</sup>ã€‚</p><p><img loading="lazy" alt="integration" src="/zh-CN/assets/images/integration-64afd19bc906c3502da1088cb1d9da03.png" width="2512" height="1196" class="img_ev3q"></p><p>ä½œä¸º CNCF çš„é¡¹ç›®ï¼ŒKCL è¿˜ä¸ CNCF å…¶ä»–ä¼—å¤šç”Ÿæ€é¡¹ç›®è¿›è¡Œäº†é›†æˆï¼Œæ¯”å¦‚ä¸ºç°æœ‰çš„ CNCF ç”Ÿæ€é…ç½®ç®¡ç†å·¥å…·é¡¹ç›®å¦‚ Kubectl, Helmã€Kustomizeã€kptã€helmfile ç­‰æä¾› KCL æ’ä»¶ï¼Œåœ¨è¿è¡Œæ—¶æä¾› KCL Kubernetes Operatorï¼Œä»¥æ»¡è¶³ä¸åŒåœºæ™¯çš„é…ç½®ç®¡ç†éœ€æ±‚ç­‰ã€‚æ­¤å¤–æˆ‘ä»¬è¿˜æä¾›å¦‚ä¸‹é›†æˆæ”¯æŒï¼š</p><ul><li><strong>å¤šè¯­è¨€æ”¯æŒ</strong>ï¼šæˆ‘ä»¬æä¾›äº†å¤šè¯­è¨€ SDKï¼Œå¸®åŠ©ç”¨æˆ·ä»¥ä¸åŒçš„è¯­è¨€æ“ä½œ KCLï¼Œå¹¶å°†å…¶é›†æˆåˆ°è‡ªå·±çš„åº”ç”¨ç¨‹åºä¸­ã€‚</li><li><strong>åŒ…ç®¡ç†æ”¯æŒ</strong>ï¼šæˆ‘ä»¬æä¾›äº† KCL åŒ…ç®¡ç†å·¥å…·å¯ä»¥å°†é…ç½®å’Œç­–ç•¥ä»£ç é€šè¿‡ Harbor, Docker Hub, GitHub Packages ç­‰æ ‡å‡†çš„ OCI ä¾›åº”é“¾æ–¹å¼è¿›è¡Œåˆ†å‘å’Œå¤ç”¨ã€‚</li><li><strong>Schema å’Œæ•°æ®è¿ç§»æ”¯æŒ</strong>ï¼šæˆ‘ä»¬æ”¯æŒå…¶ä»–ç”Ÿæ€ç³»ç»Ÿçš„ Schema å’Œæ•°æ®ä¸€é”®è¿ç§»åˆ° KCL Schemaï¼Œå¦‚ Go/Rust ç»“æ„å®šä¹‰ã€JsonSchemaã€Protobufã€OpenAPIã€Terraform Provider Schemaã€JSON å’Œ YAML ç­‰ã€‚</li></ul><p><img loading="lazy" alt="artifact-hub" src="/zh-CN/assets/images/artifact-hub-e25e5aa9b3e59e2b6ad2674084a0f15f.png" width="1806" height="1250" class="img_ev3q"></p><p><img loading="lazy" alt="artifact-hub-k8s" src="/zh-CN/assets/images/artifact-hub-k8s-6ec143b33c6a33b239efa57bfa5cdffe.png" width="1080" height="753" class="img_ev3q"></p><p>æ­¤å¤–ï¼ŒKCL è¿˜æ”¯æŒä¸ ArtifactHub çš„é›†æˆï¼Œæ‚¨å¯ä»¥é€šè¿‡å‘ <code>kcl-lang/artifacthub</code> ä»“åº“æäº¤ PR çš„æ–¹å¼å°†æ‚¨çš„ KCL åŒ…å‘å¸ƒåˆ° ArtifactHubï¼Œç„¶åå¯ä»¥åœ¨ ArtifactHub é¡µé¢çœ‹åˆ°ä¸Šä¼ çš„ KCL åŒ…çš„æ•ˆæœæ¯”å¦‚ k8s åŒ…<sup>[13]</sup>ã€‚</p><p><img loading="lazy" alt="registry" src="/zh-CN/assets/images/registry-c2090b6bd1dd474fec06e54a41c4f806.png" width="2314" height="1216" class="img_ev3q"></p><p>åœ¨æ­¤åŸºç¡€ä¸Šï¼ŒKCL æä¾›äº†è®¸å¤šå¼€ç®±å³ç”¨çš„äº‘åŸç”Ÿæ¨¡å‹ä¸»è¦æ¶µç›– Kubernetes å’Œ Terraform æ¨¡å‹ï¼Œå¯ä»¥é€šè¿‡ä¸€è¡Œ KCL å‘½ä»¤æ·»åŠ ç›¸åº”çš„é…ç½®æ¨¡å‹ä¾èµ–æˆ–è€…æŸ¥çœ‹ KCL æºä»£ç ã€‚</p><p><img loading="lazy" alt="performance" src="/zh-CN/assets/images/performance-a8764d525c4656280132e1c7c175ea75.png" width="1992" height="1070" class="img_ev3q"></p><p>é™¤äº†ä¸ç”¨æˆ·ç›´æ¥ç›¸å…³çš„è¯­è¨€ã€å·¥å…·é“¾å’Œäº‘åŸç”Ÿé›†æˆçš„å¤–è¡¨å·¥ä½œï¼Œæˆ‘ä»¬è¿˜åœ¨ KCL çš„ç¨³å®šæ€§ã€æ€§èƒ½ç­‰å†…åœ¨æ–¹é¢åšäº†è®¸å¤šå·¥ä½œã€‚åœ¨ä»£ç è§„æ¨¡è¾ƒå¤§æˆ–è€…è®¡ç®—é‡è¾ƒé«˜çš„åœºæ™¯æƒ…å†µä¸‹ KCL æ¯” CUE/Jsonnet/HCL ç­‰è¯­è¨€æ€§èƒ½æ›´å¥½ï¼Œä¸”ç”±äº KCL çš„æ¸è¿›å¼é™æ€ç±»å‹ç³»ç»Ÿã€ä¸å¯å˜æ€§ã€Schemaã€æ ¡éªŒè§„åˆ™ç­‰ç‰¹æ€§ï¼Œèƒ½å¤Ÿè¿›ä¸€æ­¥ä¿éšœé…ç½®çš„ç¨³å®šæ€§ã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å®è·µ">å®è·µ<a href="#å®è·µ" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="kubernetes">Kubernetes<a href="#kubernetes" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>KCL ç›®å‰èšç„¦åœ¨äº‘åŸç”Ÿé¢†åŸŸç‰¹åˆ«æ˜¯ Kubernetes åœºæ™¯æ¨¡å‹ã€‚</p><p><img loading="lazy" alt="k8s-mutation" src="/zh-CN/assets/images/k8s-mutation-7ad4300b90e29c0368a68e4f10822d5e.png" width="2194" height="1156" class="img_ev3q"></p><p>ä½œä¸ºäº‘åŸç”Ÿé¢†åŸŸå†…çš„ä¸€ä¸ªå°è¯­è¨€ï¼ŒKCL å¯ä»¥ç›´æ¥è¢«ç”¨äºè§£å†³åœºæ™¯ä¸­ç®€å•çš„å°é—®é¢˜ï¼Œå¦‚é€šè¿‡ <code>append-env</code> æ¨¡å‹ç›´æ¥ä¸º Kubernetes èµ„æºæ³¨å…¥ç¯å¢ƒå˜é‡ç­‰é…ç½®è€Œä¸æ˜¯ç¼–å†™è„šæœ¬ï¼Œå¹¶ä¸”è¿™äº›æ¨¡å‹æ˜¯å¯ä»¥åˆ†äº«å¤ç”¨å¹¶ä¸”ç»è¿‡äº†ä»£ç æµ‹è¯•ï¼Œåœ¨å·¥ç¨‹æ€§ã€ç¨³å®šæ€§å’Œæ‰©å±•æ€§ä¸Šå‡æœ‰ä¿éšœã€‚</p><p><img loading="lazy" alt="k8s-validation" src="/zh-CN/assets/images/k8s-validation-eb9e40a2530d2891ea770198bb04b264.png" width="2072" height="1232" class="img_ev3q"></p><p>é™¤äº† Kubernetes é…ç½®åŸåœ°ç¼–è¾‘ï¼ŒKCL è¿˜åœ¨ Kubernetes é…ç½®æ ¡éªŒæ–¹é¢æä¾›äº†è®¸å¤šå¼€ç®±å³ç”¨çš„æ¨¡å‹æ¯”å¦‚å®¹å™¨æœåŠ¡æ ¡éªŒæ¨¡å‹ã€é•œåƒå‡†å…¥æ¨¡å‹ã€Pod Container Policy (PSP) æ¨¡å‹ç­‰æ¥è§£å†³äº‘åŸç”Ÿä¾›åº”é“¾å½“ä¸­çš„å®‰å…¨å’Œåˆè§„é—®é¢˜ã€‚æ¯”å¦‚å¯ä»¥é€šè¿‡ <code>disallow-svc-lb</code> æ¨¡å‹æ¥éªŒè¯ <code>Service</code> èµ„æºä¸­æ˜¯å¦é”™è¯¯åœ°è®¾ç½®äº† <code>LoadBalancer</code> ç±»å‹ï¼›é€šè¿‡ <code>https-only</code> æ¨¡å‹æ¥éªŒè¯ <code>Ingress</code> èµ„æºä¸­æ˜¯å¦åŒ…å«äº†æ˜¾ç¤ºè®¾ç½®ä¸º https çš„ label æ³¨è§£ã€‚</p><p>ç›¸æ¯”äºå…¶ä»–ç­–ç•¥å·¥å…·æˆ–å¼•æ“ï¼Œä½¿ç”¨ KCL çš„å¥½å¤„æ˜¯ä¸€ä»½æ ¡éªŒæ¨¡å‹å¯ä»¥åŒæ—¶åœ¨å®¢æˆ·ç«¯å’Œè¿è¡Œæ—¶ä½¿ç”¨ï¼Œå¹¶ä¸”å¯ä»¥åŒæ—¶åœ¨ç¼–ç¨‹è¯­è¨€ç•Œé¢åŒæ—¶å®šä¹‰ Schema å’Œçº¦æŸæ¡ä»¶ï¼Œæ— éœ€é¢å¤–é…åˆ OpenAPI Schema æˆ–è€… JSON Schema ä½¿ç”¨ã€‚</p><p><img loading="lazy" alt="kcl-operator" src="/zh-CN/assets/images/kcl-operator-b29922286e08e6a0f1cffdff710ed483.png" width="2036" height="1194" class="img_ev3q"></p><p>é™¤äº†åœ¨å®¢æˆ·ç«¯å®Œæˆé…ç½®çš„æŠ½è±¡ã€ç¼–è¾‘å’Œæ ¡éªŒï¼ŒKCL è¿˜æä¾›äº†è¿è¡Œæ—¶æ”¯æŒã€‚KCL Operator æä¾›äº† Kubernetes é›†ç¾¤é›†æˆï¼Œå…è®¸åœ¨å°† Kubernetes èµ„æºåº”ç”¨åˆ°é›†ç¾¤æ—¶ä½¿ç”¨ Access Webhook æ ¹æ® KCL é…ç½®ç”Ÿæˆã€å˜å¼‚æˆ–éªŒè¯èµ„æºã€‚Webhook å°†æ•è·åˆ›å»ºã€åº”ç”¨å’Œç¼–è¾‘æ“ä½œï¼Œå¹¶ <code>KCLRun</code> åœ¨ä¸æ¯ä¸ªæ“ä½œå…³è”çš„é…ç½®ä¸Šæ‰§è¡Œèµ„æº<sup>[14]</sup>ã€‚</p><p>ä½¿ç”¨ KCL Operator, é€šè¿‡å‡ ä¸ªæ­¥éª¤å°±å¯ä»¥åœ¨ Kubernetes é›†ç¾¤å†…éƒ¨ä»¥å¾ˆè½»é‡çš„æ–¹å¼åœ°é€šè¿‡ KCL ä»£ç è‡ªåŠ¨åŒ–åœ°å®Œæˆèµ„æºé…ç½®çš„ç®¡ç†å’Œå®‰å…¨éªŒè¯ï¼Œæ— éœ€é‡å¤å¼€å‘ Webhook Server åœ¨è¿è¡Œæ—¶åŠ¨æ€ä¿®æ”¹å’ŒéªŒè¯é…ç½®ã€‚</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="terraform">Terraform<a href="#terraform" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>å¦å¤–ä¸€ä¸ª KCL èšç„¦çš„åœºæ™¯æ˜¯ Terraform çš„ç”Ÿæ€æ¨¡å‹ã€‚</p><p><img loading="lazy" alt="tf-validation" src="/zh-CN/assets/images/tf-validation-96334a3c5c22b04b2d4451fbe31f39ae.png" width="2390" height="1202" class="img_ev3q"></p><p>åœ¨äº‘åŸç”Ÿä¾›åº”é“¾åœºæ™¯ä¸­ï¼Œé™¤äº†ç”¨æˆ·çš„ä¸šåŠ¡ä»£ç ï¼Œå¾€å¾€ä¹Ÿéœ€è¦éªŒè¯ IaC ä»£ç çš„å®‰å…¨æ€§ï¼Œå› æ­¤ KCL ä¹Ÿæä¾›äº†ä¸ Terraform ç›¸å…³çš„éªŒè¯æ¨¡å‹ã€‚æ¯”å¦‚å›¾ä¸­çš„ç¤ºä¾‹ä»…éœ€è¦ç¼–å†™å‡ è¡Œ KCL ä»£ç å°±å¯ä»¥å®Œæˆåœ¨ AWS èµ„æºç»„çš„è‡ªåŠ¨æ‰©ç¼©æ“ä½œä¸­ç¦æ­¢åˆ é™¤èµ„æºçš„éœ€æ±‚<sup>[15]</sup>ã€‚</p><p>ç›¸æ¯”äºå…¶ä»–ç­–ç•¥å¼•æ“æˆ–å·¥å…·ï¼ŒKCL æ”¯æŒä¸€é”®ä» Terraform Provider Schema è½¬æ¢ä¸º KCL Schema, å¯ä»¥å¾ˆå¥½åœ°é™ä½ç­–ç•¥ç¼–å†™çš„éš¾åº¦ã€‚</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="iac--gitops">IaC &amp; GitOps<a href="#iac--gitops" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p><img loading="lazy" alt="gitops" src="/zh-CN/assets/images/gitops-ee79b8abe62c26f4ac9c9aa3f40152eb.png" width="2412" height="1134" class="img_ev3q"></p><p>æ— è®ºæ˜¯ Kubernetes æ¨¡å‹è¿˜æ˜¯ Terraform æ¨¡å‹ï¼Œä¸è®ºæ˜¯ä½¿ç”¨ç‹¬ç«‹çš„ KCL è¿˜æ˜¯ KRM KCL é…ç½®å½¢å¼ï¼ŒKCL éƒ½æ”¯æŒä¸å„ç§ä»¥åŠ CI/CD å’Œ GitOps å·¥å…·çš„é›†æˆï¼ŒKCL å…è®¸å¼€å‘äººå‘˜ä»¥å£°æ˜å¼çš„æ–¹å¼å®šä¹‰åº”ç”¨ç¨‹åºæ‰€éœ€çš„èµ„æºï¼Œé€šè¿‡å°† KCL å’Œ GitOps å·¥å…·ç›¸ç»“åˆå¯ä»¥å¸®åŠ©æˆ‘ä»¬æ›´å¥½åœ°å®ç° IaCï¼Œæé«˜éƒ¨ç½²æ•ˆç‡ï¼Œç®€åŒ–åº”ç”¨ç¨‹åºçš„é…ç½®ç®¡ç†<sup>[16]</sup>ã€‚</p><p>ä½¿ç”¨ GitOpsï¼Œå¼€å‘äººå‘˜å’Œè¿ç»´å›¢é˜Ÿå¯ä»¥é€šè¿‡åˆ†åˆ«ä¿®æ”¹åº”ç”¨å’Œé…ç½®ä»£ç æ¥ç®¡ç†åº”ç”¨ç¨‹åºçš„éƒ¨ç½²ï¼ŒGitOps å·¥å…·é“¾å¯ä»¥åŸºäº KCL çš„è‡ªåŠ¨åŒ–èƒ½åŠ›å®ç°å¯¹é…ç½®çš„è‡ªåŠ¨æ›´æ”¹ï¼Œä»è€Œå®ç°æŒç»­éƒ¨ç½²å¹¶ç¡®ä¿ä¸€è‡´æ€§ã€‚å¦‚æœå‡ºç°é—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨ GitOps å·¥å…·é“¾å¿«é€Ÿå›æ»šã€‚</p><p><img loading="lazy" alt="app-delivery" src="/zh-CN/assets/images/app-delivery-fc4b2836750c1bd0bd550df0e30ff4ea.png" width="2186" height="1184" class="img_ev3q"></p><p>KCL ä¹Ÿå¯ä»¥è¢«ç”¨äºä¼ä¸šå†…éƒ¨ä¸å„ç§ CI/CD å’Œåº”ç”¨é…ç½®äº¤ä»˜å¼•æ“æ¯”å¦‚ KusionStack ç­‰ç›¸é…åˆï¼Œå®ç°å…³æ³¨ç‚¹åˆ†ç¦»ã€ä»¥åº”ç”¨ä¸ºä¸­å¿ƒçš„å¯ç¼–ç¨‹æ¨¡å‹ç•Œé¢å’Œ GitOps æµç¨‹ï¼Œä»¥ç®€åŒ–å½“ä»Šæ··åˆå¤šäº‘ç¯å¢ƒä¸­è§„æ¨¡åŒ–åº”ç”¨çš„éƒ¨ç½²å’Œè¿ç»´æ“ä½œï¼Œæå‡å‘å¸ƒè¿ç»´æ•ˆç‡å’Œå¼€å‘è€…ä½“éªŒã€‚</p><p><img loading="lazy" alt="k8s-abstraction" src="/zh-CN/assets/images/k8s-abstraction-a6effacf09b1ed666a6fd1bf868d902f.png" width="2238" height="1206" class="img_ev3q"></p><p>æ­¤å¤–ï¼Œä½¿ç”¨ KCL çš„ Schema ç»“æ„å’Œ è‡ªåŠ¨åŒ– APIï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å¤–éƒ¨ç³»ç»Ÿä¸­é›†æˆ KCL å¹¶ä½¿ç”¨ CLI/API/UI å½¢å¼å®ç°å¯¹ KCL é…ç½®çš„è‡ªåŠ¨å¢åˆ æ”¹æŸ¥ï¼Œåœ¨å®ç° GitOps &amp; IaC çš„åŸºç¡€ä¸Šï¼ŒåŒæ—¶ä¸ºç ”å‘äººå‘˜æä¾›ä¸€ä¸ªè‰¯å¥½çš„é…ç½®ç®¡ç†ç•Œé¢ï¼Œæ”¯æŒä»¥ UI è¡¨å•å½¢å¼å®ç°å¯¹ KCL ä»£ç çš„å˜æ›´ï¼Œæå‡é…ç½®ç®¡ç†å’Œåº”ç”¨äº¤ä»˜çš„æ•ˆç‡ï¼Œé¿å…é…ç½®æ¼‚ç§»ç­‰é—®é¢˜ã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å°ç»“">å°ç»“<a href="#å°ç»“" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p><img loading="lazy" alt="summary" src="/zh-CN/assets/images/summary-f75a7f04ce9a0b601413429f510214df.png" width="2292" height="1010" class="img_ev3q"></p><p>æœ¬ç¯‡æ–‡ç« ä¸»è¦å›é¡¾äº† CNCF KCD ç¤¾åŒºä¼šè®® KCL æ¼”è®²å†…å®¹ï¼Œè®²è¿°äº†äº‘åŸç”Ÿé¢†åŸŸç‰¹åˆ«æ˜¯ Kubernetes å’Œ Terraform ç”Ÿæ€ä¸­é‡åˆ°çš„é—®é¢˜ä»¥åŠ KRM KCL è§„èŒƒçš„æ¦‚å¿µã€ç”¨æˆ·ä½“éªŒå’Œå®è·µã€‚</p><p>å½“ç„¶ï¼ŒKCL èƒ½å¤Ÿè§£å†³çš„é—®é¢˜å’Œå®è·µçš„åœºæ™¯è¿œä¸æ­¢å¦‚æ­¤ï¼Œå—é™äºæœ¬æ–‡ç¯‡å¹…ï¼Œæˆ‘ä»¬åç»­ä¼šé™†ç»­åˆ†äº«ç¤¾åŒºä¸­é‡‡ç”¨è€…çš„æœ€ä½³å®è·µï¼Œä¹Ÿæ¬¢è¿å¤§å®¶åŠ å…¥æˆ‘ä»¬çš„ç¤¾åŒºè¿›è¡Œè¿›ä¸€æ­¥äº¤æµå’Œè®¨è®º â¤ï¸ã€‚<a href="https://github.com/kcl-lang/community" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/community</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å…¶ä»–èµ„æº">å…¶ä»–èµ„æº<a href="#å…¶ä»–èµ„æº" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>æ›´å¤šå…¶ä»–èµ„æºè¯·å‚è€ƒ:</p><ul><li><a href="https://kcl-lang.io/" target="_blank" rel="noopener noreferrer">KCL ç½‘ç«™</a></li><li><a href="https://github.com/kcl-lang/" target="_blank" rel="noopener noreferrer">KCL GitHub ä»“åº“</a></li><li><a href="https://kusionstack.io/" target="_blank" rel="noopener noreferrer">KusionStack ç½‘ç«™</a></li><li><a href="https://github.com/KusionStack/" target="_blank" rel="noopener noreferrer">KusionStack GitHub ä»“åº“</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å‚è€ƒ">å‚è€ƒ<a href="#å‚è€ƒ" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><ul><li>[1]<!-- --> Forecast Analysis: Container Management (Software and Services), Worldwide: <a href="https://www.gartner.com/en/documents/3985796" target="_blank" rel="noopener noreferrer">https://www.gartner.com/en/documents/3985796</a></li><li>[2]<!-- --> The top programming languages: <a href="https://octoverse.github.com/2022/top-programming-languages" target="_blank" rel="noopener noreferrer">https://octoverse.github.com/2022/top-programming-languages</a></li><li>[3]<!-- --> Kubernetes ä¸­çš„å£°æ˜å¼åº”ç”¨ç®¡ç†: <a href="https://docs.google.com/document/d/1cLPGweVEYrVqQvBLJg6sxV-TrE5Rm2MNOBA_cxZP2WU/edit#" target="_blank" rel="noopener noreferrer">https://docs.google.com/document/d/1cLPGweVEYrVqQvBLJg6sxV-TrE5Rm2MNOBA_cxZP2WU/edit#</a></li><li>[4]<!-- --> CNCF å¹³å°å·¥ç¨‹ç™½çš®ä¹¦: <a href="https://tag-app-delivery.cncf.io/whitepapers/platforms/" target="_blank" rel="noopener noreferrer">https://tag-app-delivery.cncf.io/whitepapers/platforms/</a></li><li>[5]<!-- --> Google SRE å·¥ä½œæ‰‹å†Œ: <a href="https://sre.google/workbook/configuration-specifics/" target="_blank" rel="noopener noreferrer">https://sre.google/workbook/configuration-specifics/</a></li><li>[6]<!-- --> KCL å®˜æ–¹ç½‘ç«™: <a href="https://kcl-lang.io/" target="_blank" rel="noopener noreferrer">https://kcl-lang.io/</a></li><li>[7]<!-- --> Kubectl: <a href="https://kubernetes.io/docs/reference/kubectl/" target="_blank" rel="noopener noreferrer">https://kubernetes.io/docs/reference/kubectl/</a></li><li>[8]<!-- --> KusionStack: <a href="https://kusionstack.io" target="_blank" rel="noopener noreferrer">https://kusionstack.io</a></li><li>[9]<!-- --> KubeVela: <a href="https://kubevela.net" target="_blank" rel="noopener noreferrer">https://kubevela.net</a></li><li>[10]<!-- --> Helmfile: <a href="https://github.com/helmfile/helmfile" target="_blank" rel="noopener noreferrer">https://github.com/helmfile/helmfile</a></li><li>[11]<!-- --> KRM KCL è§„èŒƒ: <a href="https://github.com/kcl-lang/krm-kcl" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/krm-kcl</a></li><li>[12]<!-- --> KCL IDE æ’ä»¶: <a href="https://kcl-lang.io/docs/tools/Ide/" target="_blank" rel="noopener noreferrer">https://kcl-lang.io/docs/tools/Ide/</a></li><li>[13]<!-- --> ArtifactHub KCL é›†æˆ: <a href="https://artifacthub.io/" target="_blank" rel="noopener noreferrer">https://artifacthub.io/</a></li><li>[14]<!-- --> KCL Operator: <a href="https://github.com/kcl-lang/kcl-operator" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl-operator</a></li><li>[15]<!-- --> Terraform KCL ç­–ç•¥ä»£ç åŒ–: <a href="https://kcl-lang.io/docs/user_docs/guides/%5B%5Dworking-with-terraform/validation" target="_blank" rel="noopener noreferrer">https://kcl-lang.io/docs/user_docs/guides/working-with-terraform/validation</a></li><li>[16]<!-- --> ä½¿ç”¨ KCL è¿›è¡Œ GitOps: <a href="https://kcl-lang.io/docs/user_docs/guides/gitops/gitops-quick-start" target="_blank" rel="noopener noreferrer">https://kcl-lang.io/docs/user_docs/guides/gitops/gitops-quick-start</a></li></ul>]]></content>
        <author>
            <name>KCL Team</name>
        </author>
        <category label="KCL" term="KCL"/>
        <category label="Meeting" term="Meeting"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[2023 CNCF KCD æ­å·ç¤¾åŒºä¼šè®® KCL ä»‹ç»å†…å®¹]]></title>
        <id>https://kcl-lang.github.io/zh-CN/blog/2023-10-21-kcl-kcd-hangzhou-meeting</id>
        <link href="https://kcl-lang.github.io/zh-CN/blog/2023-10-21-kcl-kcd-hangzhou-meeting"/>
        <updated>2023-10-21T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[PDF ä¸‹è½½]]></summary>
        <content type="html"><![CDATA[<p><a href="https://kcl-lang.io/talks/kcl-cncf-kcd-hangzhou2023.pdf" target="_blank" rel="noopener noreferrer">PDF ä¸‹è½½</a></p><p><img loading="lazy" alt="Talk Cover" src="/zh-CN/assets/images/talk-cover-589ff826defc21c1d2f6fec1ae565c72.png" width="2654" height="1490" class="img_ev3q"></p>]]></content>
        <author>
            <name>KCL Team</name>
        </author>
        <category label="KCL" term="KCL"/>
        <category label="Meeting" term="Meeting"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[KCL ç¤¾åŒºå¼€æºåŒå‘¨æŠ¥ (2023 09.07 - 10.11) | v0.6.0 ç‰ˆæœ¬å‘å¸ƒ â€”â€” æ›´å¤š IDE æ’ä»¶ã€åŒ…ç®¡ç†æ”¯æŒ!]]></title>
        <id>https://kcl-lang.github.io/zh-CN/blog/2023-10-11-biweekly-newsletter</id>
        <link href="https://kcl-lang.github.io/zh-CN/blog/2023-10-11-biweekly-newsletter"/>
        <updated>2023-10-11T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[KCL æ˜¯ä¸€ä¸ªå¼€æºçš„åŸºäºçº¦æŸçš„è®°å½•åŠå‡½æ•°è¯­è¨€å¹¶é€šè¿‡æˆç†Ÿçš„ç¼–ç¨‹è¯­è¨€æŠ€æœ¯å’Œå®è·µæ¥æ”¹è¿›å¯¹å¤§é‡ç¹æ‚é…ç½®æ¯”å¦‚äº‘åŸç”Ÿ Kubernetes é…ç½®åœºæ™¯çš„ç¼–å†™ï¼Œè‡´åŠ›äºæ„å»ºå›´ç»•é…ç½®çš„æ›´å¥½çš„æ¨¡å—åŒ–ã€æ‰©å±•æ€§å’Œç¨³å®šæ€§ï¼Œæ›´ç®€å•çš„é€»è¾‘ç¼–å†™ï¼Œä»¥åŠæ›´ç®€å•çš„è‡ªåŠ¨åŒ–å’Œç”Ÿæ€å·¥å…·é›†æˆã€‚]]></summary>
        <content type="html"><![CDATA[<p><img loading="lazy" src="/zh-CN/assets/images/biweekly-newsletter-zh-bd4cf8c2bcc913a580e7b0e5d6691a08.png" width="1127" height="435" class="img_ev3q"></p><p><a href="https://github.com/kcl-lang" target="_blank" rel="noopener noreferrer">KCL</a> æ˜¯ä¸€ä¸ªå¼€æºçš„åŸºäºçº¦æŸçš„è®°å½•åŠå‡½æ•°è¯­è¨€å¹¶é€šè¿‡æˆç†Ÿçš„ç¼–ç¨‹è¯­è¨€æŠ€æœ¯å’Œå®è·µæ¥æ”¹è¿›å¯¹å¤§é‡ç¹æ‚é…ç½®æ¯”å¦‚äº‘åŸç”Ÿ Kubernetes é…ç½®åœºæ™¯çš„ç¼–å†™ï¼Œè‡´åŠ›äºæ„å»ºå›´ç»•é…ç½®çš„æ›´å¥½çš„æ¨¡å—åŒ–ã€æ‰©å±•æ€§å’Œç¨³å®šæ€§ï¼Œæ›´ç®€å•çš„é€»è¾‘ç¼–å†™ï¼Œä»¥åŠæ›´ç®€å•çš„è‡ªåŠ¨åŒ–å’Œç”Ÿæ€å·¥å…·é›†æˆã€‚</p><p>æœ¬æ ç›®å°†ä¼šåŒå‘¨æ›´æ–° KCL è¯­è¨€ç¤¾åŒºæœ€æ–°åŠ¨æ€ï¼ŒåŒ…æ‹¬åŠŸèƒ½ã€å®˜ç½‘æ›´æ–°å’Œæœ€æ–°çš„ç¤¾åŒºåŠ¨æ€ç­‰ï¼Œå¸®åŠ©å¤§å®¶æ›´å¥½åœ°äº†è§£ KCL ç¤¾åŒºï¼</p><p><strong><em>KCL å®˜ç½‘ï¼š<a href="https://kcl-lang.io" target="_blank" rel="noopener noreferrer">https://kcl-lang.io</a></em></strong></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å†…å®¹æ¦‚è¿°">å†…å®¹æ¦‚è¿°<a href="#å†…å®¹æ¦‚è¿°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>æ„Ÿè°¢æ‰€æœ‰è´¡çŒ®è€…è¿‡å»ä¸¤å‘¨ (2023 09.07 - 10.11) çš„æ°å‡ºå·¥ä½œï¼Œä»¥ä¸‹æ˜¯é‡ç‚¹åˆå¹¶å†…å®¹æ¦‚è¿°</p><p><strong>ğŸ”§ è¯­è¨€åŠå·¥å…·é“¾æ›´æ–°</strong></p><ul><li>KCL v0.6.0 äº 9.15 å‘å¸ƒï¼Œæ›´æ–°å†…å®¹åŒ…æ‹¬è¯­è¨€ã€å·¥å…·é“¾ã€ç¤¾åŒºé›†æˆï¼Œè¯¦ç»†å†…å®¹è¯·æŸ¥çœ‹ <a href="https://mp.weixin.qq.com/s/f6RCZqxS2iliRGIz0036yA" target="_blank" rel="noopener noreferrer">https://mp.weixin.qq.com/s/f6RCZqxS2iliRGIz0036yA</a></li><li>KCL IDE æ›´æ–° - æ”¯æŒå¯¹æ ‡å‡†åº“å’Œå†…ç½®å‡½æ•°çš„æ‚¬åœæç¤ºï¼Œæ”¯æŒå¯¹ KCL ä»£ç é”™è¯¯çš„å¿«é€Ÿä¿®å¤ï¼›å‘å¸ƒé€‚é… Intellij IDEA 2023.2 çš„æ’ä»¶ç‰ˆæœ¬</li><li>KCL åŒ…ç®¡ç†å·¥å…· KPM æ›´æ–° - kpm run æ”¯æŒç¼–è¯‘ KCL æ–‡ä»¶ï¼Œå¹¶é›†æˆäº†å¯¼å…¥å·¥å…·</li><li>KCL æ–‡æ¡£å·¥å…·æ›´æ–° - æ”¯æŒå°† docstring Examples ç« èŠ‚è¾“å‡ºåˆ°æ–‡æ¡£</li><li>KCL è¯­è¨€æ›´æ–° - ä¼˜åŒ–äº†ä¸€äº›é”™è¯¯ä¿¡æ¯çš„è¾“å‡ºï¼Œéƒ¨åˆ†çš„é”™è¯¯ä¿¡æ¯ä¸­å¢åŠ äº†ä¿®å¤å»ºè®®</li></ul><p><strong>ğŸ“° å®˜ç½‘å’Œç”¨ä¾‹æ›´æ–°</strong></p><ul><li>KCL å®˜ç½‘æ–°å¢ v0.6.0 æ–‡æ¡£ç‰ˆæœ¬</li><li>KCL æ¨¡å‹æ–°å¢å®¹å™¨ã€æœåŠ¡å’Œ Pod Security Policy (PSP) ç›¸å…³çš„é…ç½®ç¼–è¾‘ã€æ ¡éªŒ 20 ä¸ª <a href="https://github.com/kcl-lang/krm-kcl/tree/main/examples" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/krm-kcl/tree/main/examples</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ç‰¹åˆ«é¸£è°¢">ç‰¹åˆ«é¸£è°¢<a href="#ç‰¹åˆ«é¸£è°¢" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>ä»¥ä¸‹æ’åä¸åˆ†å…ˆå</p><ul><li>æ„Ÿè°¢ @jakezhu9 å¯¹ KCL Import å·¥å…· Terraform Schema åˆ° KCL Schema è½¬æ¢çš„è´¡çŒ® ğŸ™Œ <em><a href="https://github.com/kcl-lang/kcl-go/pull/152" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl-go/pull/152</a></em></li><li>æ„Ÿè°¢ @jakezhu9 å¯¹ kpm é›†æˆ Import å·¥å…·çš„è´¡çŒ® ğŸ™Œ <em><a href="https://github.com/kcl-lang/kpm/pull/194" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kpm/pull/194</a></em></li><li>æ„Ÿè°¢ @zwpaper å¯¹ KCL æ–‡æ¡£å’Œ Tree Sitter Grammar åšå‡ºçš„è´¡çŒ® ğŸ™Œ <em><a href="https://github.com/kcl-lang/tree-sitter-kcl/pull/1" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/tree-sitter-kcl/pull/1</a></em> ç­‰</li><li>æ„Ÿè°¢ @mrgleeco, @ghpu, @steeling, @prahaladramji, @zwpaper ç­‰åœ¨ä½¿ç”¨ KCL åŠå·¥å…·é“¾è¿‡ç¨‹ä¸­æå‡ºçš„å®è´µåé¦ˆå’Œè®¨è®º ğŸ™Œ</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ç²¾é€‰æ›´æ–°">ç²¾é€‰æ›´æ–°<a href="#ç²¾é€‰æ›´æ–°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="kcl-ide-æ’ä»¶æ›´æ–°">KCL IDE æ’ä»¶æ›´æ–°<a href="#kcl-ide-æ’ä»¶æ›´æ–°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>åœ¨æœ€è¿‘çš„ 0.6.0 å‘å¸ƒä¸­ï¼ŒKCL IDE æ’ä»¶å¢åŠ äº†æ ‡å‡†åº“å’Œ builtin å‡½æ•°çš„æ‚¬åœæç¤ºï¼Œæ–°å¢æ”¯æŒå¯¹ KCL ä»£ç é”™è¯¯çš„å¿«é€Ÿä¿®å¤ã€‚æ­¤å¤–ï¼Œè¿˜å¢åŠ äº† language Server ä¾§çš„ e2e æµ‹è¯•åŠ konfig ä»“åº“çš„é›†æˆæµ‹è¯•ï¼Œä»¥ä¿éšœ IDE æ’ä»¶çš„ç¨³å®šè¿­ä»£ã€‚åœ¨å°šæœªå‘å¸ƒçš„ç‰ˆæœ¬ä¸­ï¼Œè¿˜æ–°å¢äº† <code>kcl-language-server version</code> å­å‘½ä»¤ä»¥è¾“å‡ºç‰ˆæœ¬ä¿¡æ¯ã€‚æ¬¢è¿å‡çº§ã€ä½¿ç”¨ â€”â€” KCL åœ¨å„ä¸ª IDE å¹³å°çš„æ’ä»¶å®‰è£…æ–¹å¼è¯·æŸ¥çœ‹<a href="https://kcl-lang.io/docs/user_docs/getting-started/install/#2-install-kcl-ide-extension" target="_blank" rel="noopener noreferrer">https://kcl-lang.io/docs/user_docs/getting-started/install/#2-install-kcl-ide-extension</a></p><p><img loading="lazy" src="/zh-CN/assets/images/hover-built-in-2e3135c5f212382ac87f2d177198d716.png" width="2044" height="1200" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="intellij-æ’ä»¶">IntelliJ æ’ä»¶<a href="#intellij-æ’ä»¶" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><ul><li>IntelliJ æ’ä»¶ç°å·²é€‚é… 2023.2+ ç‰ˆæœ¬ï¼Œæ‚¨å¯ä»¥åœ¨ä¸‹é¢çš„é“¾æ¥ä¸­ä¸‹è½½å®‰è£…ï¼š</li></ul><p><a href="https://github.com/kcl-lang/intellij-kcl/releases" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/intellij-kcl/releases</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="kcl-åŒ…ç®¡ç†å·¥å…·">KCL åŒ…ç®¡ç†å·¥å…·<a href="#kcl-åŒ…ç®¡ç†å·¥å…·" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>kpm run æ”¯æŒç¼–è¯‘ KCL æ–‡ä»¶ï¼Œå¹¶é›†æˆäº†å¯¼å…¥å·¥å…·ï¼ŒåŒæ—¶å¢åŠ äº† â€”quiet æ¥å±è”½è¾“å‡ºæ—¥å¿—ã€‚</p><p><img loading="lazy" src="/zh-CN/assets/images/kpm-run-file-9c35e6124d10306f128268dd7e7e74aa.png" width="1136" height="816" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="kcl-è¯­è¨€æ›´æ–°">KCL è¯­è¨€æ›´æ–°<a href="#kcl-è¯­è¨€æ›´æ–°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>åœ¨å°šæœªå‘å¸ƒçš„ç‰ˆæœ¬ä¸­ï¼ŒKCL çš„ç¼–è¯‘å‘½ä»¤ä¼˜åŒ–äº†ä¸€äº›é”™è¯¯ä¿¡æ¯çš„è¾“å‡ºï¼Œéƒ¨åˆ†çš„é”™è¯¯ä¿¡æ¯ä¸­å¢åŠ äº†ä¿®å¤å»ºè®®ï¼š
<img loading="lazy" src="/zh-CN/assets/images/error-suggestion-79b2d1a49679a41080b465ae6dfdf5a2.png" width="1642" height="190" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="kcl-æ¨¡å‹æ›´æ–°">KCL æ¨¡å‹æ›´æ–°<a href="#kcl-æ¨¡å‹æ›´æ–°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>è¿‘å‡ å‘¨å†…ï¼Œæˆ‘ä»¬æä¾›äº†æ›´å¤šé’ˆå¯¹å®¹å™¨ã€æœåŠ¡å’Œ Pod Security Policy (PSP) é…ç½®ç¼–è¾‘åŠæ ¡éªŒçš„ä½¿ç”¨æ¡ˆä¾‹ã€‚æ‚¨å¯å‚ç…§å¯¹åº”çš„ç¤ºä¾‹å¼•å…¥ä»¥ä¸Šé…ç½®å’Œæ ¡éªŒï¼š <a href="https://github.com/kcl-lang/krm-kcl/tree/main/examples" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/krm-kcl/tree/main/examples</a></p><p>ä¸‹é¢æˆ‘ä»¬ä»¥ Kubectl KCL æ’ä»¶å’Œ disallow-svc-lb æ¨¡å‹è¿›è¡Œè¯´æ˜ï¼Œdisallow-svc-lb çš„ä½œç”¨æ˜¯å¯¹ Service èµ„æºè¿›è¡Œæ ¡éªŒï¼Œä¸å…è®¸ Service èµ„æºçš„ç±»å‹è®¾ç½®ä¸º <code>LoadBalancer</code>ï¼Œç¼–å†™å¦‚ä¸‹ YAML æ–‡ä»¶ (manifests.yaml)ï¼š</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> krm.kcl.dev/v1alpha1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> KCLRun</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> disallow</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">svc</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">lb</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">annotations</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">krm.kcl.dev/version</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 0.0.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">krm.kcl.dev/type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> validation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">documentation</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      A validation that prevents the creation of Service resources of type `LoadBalancer`</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">source</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> oci</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">//ghcr.io/kcl</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">lang/disallow</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">svc</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">lb</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">selector</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app.kubernetes.io/name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> MyApp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> http</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">protocol</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> TCP</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">80</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> LoadBalancer </span><span class="token comment" style="color:#999988;font-style:italic"># é”™è¯¯åœ°è®¾ç½®äº† LoadBalancer</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>é€šè¿‡ Kubectl KCL å·¥å…·åœ¨å®¢æˆ·ç«¯è¿›è¡Œèµ„æºéªŒè¯ï¼š</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl kcl apply -f manifests.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æˆ‘ä»¬ä¼šå¾—åˆ°å¦‚ä¸‹ç»“æœï¼š</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">A validation that prevents the creation of Service resources of </span><span class="token builtin class-name">type</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">`</span><span class="token variable" style="color:#36acaa">LoadBalancer</span><span class="token variable" style="color:#36acaa">`</span><span class="token plain">, </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> Service: my-service</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ç¤¾åŒºåŠ¨æ€">ç¤¾åŒºåŠ¨æ€<a href="#ç¤¾åŒºåŠ¨æ€" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>é›†æˆäº† KCL 0.6 çš„ KusionStack å‘å¸ƒ 0.9 ç‰ˆæœ¬ï¼Œè¯¦ç»†æ›´æ–°å†…å®¹è¯·æŸ¥çœ‹ï¼š<a href="https://mp.weixin.qq.com/s/nZOHdmgcfOMRf0XUXfSJ-g" target="_blank" rel="noopener noreferrer">https://mp.weixin.qq.com/s/nZOHdmgcfOMRf0XUXfSJ-g</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å…¶ä»–èµ„æº">å…¶ä»–èµ„æº<a href="#å…¶ä»–èµ„æº" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>â¤ï¸ æ„Ÿè°¢æ‰€æœ‰ KCL ç”¨æˆ·å’Œç¤¾åŒºå°ä¼™ä¼´åœ¨ç¤¾åŒºä¸­æå‡ºçš„å®è´µåé¦ˆä¸å»ºè®®ã€‚é¢„è®¡ 11 æœˆåº•æˆ‘ä»¬ä¼šæ­£å¼å‘å¸ƒ KCL v0.7 æ–°ç‰ˆæœ¬ï¼Œæ•¬è¯·æœŸå¾…!</p><p>æ›´å¤šå…¶ä»–èµ„æºè¯·å‚è€ƒï¼š</p><ul><li><p><a href="https://kcl-lang.io/" target="_blank" rel="noopener noreferrer">KCL ç½‘ç«™</a></p></li><li><p><a href="https://kusionstack.io/" target="_blank" rel="noopener noreferrer">KusionStack ç½‘ç«™</a></p></li><li><p><a href="https://kcl-lang.io/docs/community/release-policy/roadmap" target="_blank" rel="noopener noreferrer">KCL 2023 è·¯çº¿è§„åˆ’</a></p></li><li><p><a href="https://github.com/kcl-lang/kcl/milestone/7" target="_blank" rel="noopener noreferrer">KCL v0.7.0 Milestone</a></p></li><li><p><a href="https://github.com/kcl-lang/kcl/issues" target="_blank" rel="noopener noreferrer">KCL Github Issues</a></p></li><li><p><a href="https://github.com/orgs/kcl-lang/discussions" target="_blank" rel="noopener noreferrer">KCL Github Discussion</a></p></li><li><p><a href="https://github.com/kcl-lang/community" target="_blank" rel="noopener noreferrer">KCL Community</a></p></li></ul>]]></content>
        <author>
            <name>KCL å›¢é˜Ÿ</name>
        </author>
        <category label="KCL" term="KCL"/>
        <category label="Biweekly-Newsletter" term="Biweekly-Newsletter"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[å–œæŠ¥ï¼KCL æ­£å¼æˆä¸º CNCF æ²™ç›’é¡¹ç›® ğŸ‰]]></title>
        <id>https://kcl-lang.github.io/zh-CN/blog/2023-09-19-kcl-joining-cncf-sandbox</id>
        <link href="https://kcl-lang.github.io/zh-CN/blog/2023-09-19-kcl-joining-cncf-sandbox"/>
        <updated>2023-09-19T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[kcl-joining-cncf-sandbox]]></summary>
        <content type="html"><![CDATA[<p><img loading="lazy" alt="kcl-joining-cncf-sandbox" src="/zh-CN/assets/images/kcl-joining-cncf-sandbox-7424c249f0977d35af0ffe501be6f303.png" width="424" height="238" class="img_ev3q"></p><p><strong>2023 å¹´ 9 æœˆ 20 æ—¥ï¼ŒKCL é¡¹ç›®é€šè¿‡äº†å…¨çƒé¡¶çº§å¼€æºåŸºé‡‘ä¼šäº‘åŸç”Ÿè®¡ç®—åŸºé‡‘ä¼šï¼ˆCNCFï¼‰æŠ€æœ¯ç›‘ç£å§”å‘˜ä¼šè¯„å®šï¼Œæ­£å¼æˆä¸º CNCF æ²™ç®±é¡¹ç›®ã€‚</strong></p><p>è¿™æ„å‘³ç€ KCL å¾—åˆ°äº†äº‘åŸç”Ÿå¼€æºç¤¾åŒºçš„è®¤å¯ï¼Œä¿éšœäº†é¡¹ç›®çš„ä¸­ç«‹æ€§ï¼Œæœ‰åˆ©äºå¼€å‘è€…ã€åˆä½œä¼™ä¼´ç­‰å…±åŒå‚ä¸é¡¹ç›®å»ºè®¾ï¼Œåä½œå…±èµ¢ï¼Œå¹¶ä¸ºäº‘åŸç”Ÿåº”ç”¨äº¤ä»˜å¸¦æ¥åŠ¨æ€é…ç½®ç®¡ç†å’Œè‡ªåŠ¨åŒ–èƒ½åŠ›è¿ˆå‡ºäº†é‡è¦ä¸€æ­¥ï¼</p><ul><li><em>é¡¹ç›®åœ°å€ï¼š<a href="https://github.com/kcl-lang/kcl" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl</a></em></li><li><em>é¡¹ç›®å®˜ç½‘ï¼š<a href="https://kcl-lang.io" target="_blank" rel="noopener noreferrer">https://kcl-lang.io</a></em></li></ul><p>é€šè¿‡è¿›å…¥ CNCF æ²™ç®±ï¼ŒKCL ç¤¾åŒºå°†æ›´å¤šå¸å¼•æ›´å¤šå¼€å‘è€…å’Œç”¨æˆ·å‚ä¸å…±å»ºï¼Œè¿›ä¸€æ­¥æ¨åŠ¨é¡¹ç›®åœ¨äº‘åŸç”Ÿä¸šåŠ¡åœºæ™¯çš„æˆç†Ÿåº”ç”¨ï¼Œæ­¤å¤–åŠ å…¥ CNCF å°†ä¸º KCL æä¾›ä¸€ä¸ªå¢å¼ºçš„åä½œå’Œåˆ›æ–°å¹³å°ã€‚å®ƒæä¾›äº†ä¸å¤„äºäº‘åŸç”ŸæŠ€æœ¯å‰æ²¿çš„å¤šå…ƒåŒ–å¼€å‘è€…ã€ç»„ç»‡å’Œè¡Œä¸šä¸“å®¶ç¤¾åŒºè¿›è¡Œäº¤æµçš„æœºä¼šã€‚æˆ‘ä»¬æœŸå¾…ä¸å…¶ä»– CNCF é¡¹ç›®è¿›è¡Œæ›´å¤šåˆä½œï¼Œè´¡çŒ®æˆ‘ä»¬çš„æŠ€æœ¯ä¸“ä¸šçŸ¥è¯†ï¼Œå¹¶æ¢ç´¢æ›´å¤š CNCF é¡¹ç›®é›†æˆçš„å¯èƒ½æ€§ã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ä»€ä¹ˆæ˜¯-cncf">ä»€ä¹ˆæ˜¯ CNCFï¼Ÿ<a href="#ä»€ä¹ˆæ˜¯-cncf" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>CNCFï¼Œå…¨ç§° Cloud Native Computing Foundationï¼ˆäº‘åŸç”Ÿè®¡ç®—åŸºé‡‘ä¼šï¼‰ï¼Œæ˜¯ Linux åŸºé‡‘ä¼šæ——ä¸‹çš„å­åŸºé‡‘ä¼šã€‚CNCF è‡´åŠ›äºä¸ºäº‘åŸç”Ÿè½¯ä»¶æ„å»ºå¯æŒç»­ç”Ÿæ€ç³»ç»Ÿï¼Œæ¶‰åŠé¢†åŸŸåŒ…æ‹¬å­˜å‚¨ã€è®¡ç®—ã€ç¼–æ’ã€è°ƒåº¦ã€CI/CDã€DevOpsã€æœåŠ¡æ²»ç†ã€æœåŠ¡ç½‘å…³ç­‰ã€‚</p><p><em>Kubernetes ä¾¿æ˜¯ CNCF æœ€å…·ä»£è¡¨æ€§çš„é¡¹ç›®ä¹‹ä¸€</em>ã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ä»€ä¹ˆæ˜¯-cncf-sandbox-æ²™ç›’é¡¹ç›®">ä»€ä¹ˆæ˜¯ CNCF Sandbox æ²™ç›’é¡¹ç›®ï¼Ÿ<a href="#ä»€ä¹ˆæ˜¯-cncf-sandbox-æ²™ç›’é¡¹ç›®" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p><img loading="lazy" alt="cncf-sandbox-logo" src="/zh-CN/assets/images/cncf-sandbox-logo-b55f5b60a0d3ea098438ca67bd77a415.png" width="1080" height="243" class="img_ev3q"></p><p>CNCF ç¤¾åŒºå°†é¡¹ç›®åˆ†ä¸ºæ²™ç®±é¡¹ç›®ï¼ˆSandboxï¼‰ã€å­µåŒ–é¡¹ç›®ï¼ˆIncubatingï¼‰ã€æ¯•ä¸šé¡¹ç›®ï¼ˆGraduatedï¼‰ã€‚è‘—åçš„æ¯•ä¸šé¡¹ç›®æœ‰ï¼šKubernetesã€Prometheusã€Istioã€ETCDã€Containerdã€ArgoCD å’Œ Helm ç­‰ã€‚å®Œæ•´çš„æ¯•ä¸šå’Œå­µåŒ–é¡¹ç›®åˆ—è¡¨æŸ¥çœ‹åœ°å€ï¼š</p><p><a href="https://www.cncf.io/projects/" target="_blank" rel="noopener noreferrer">https://www.cncf.io/projects/</a></p><p>Sandbox æ˜¯ CNCF åˆ›å»ºçš„ï¼Œæ—¨åœ¨ä¸ºå¼€æºé¡¹ç›®æä¾›ä¸€ä¸ªæœ‰ç›Šçš„ã€ä¸­ç«‹çš„å®¶å›­ï¼Œä»¥ä¿ƒè¿›å¼€æºé¡¹ç›®çš„åˆä½œä¸å¼€å‘ã€‚å…¥é€‰æ²™ç®±çš„é¡¹ç›®ï¼Œæ˜¯è¢« CNCF TOC è®¤å¯çš„ï¼Œå¹¶å€¼å¾—è¿›è¡Œå®éªŒå’Œå¼€å‘çš„æ½œåŠ›é¡¹ç›®ã€‚</p><p>Sandbox å¯¹åº”çš„æ˜¯ CNCF ç¤¾åŒºæ—©æœŸé¡¹ç›®ï¼Œåˆ—è¡¨ä¸ºï¼š<a href="https://www.cncf.io/sandbox-projects/" target="_blank" rel="noopener noreferrer">https://www.cncf.io/sandbox-projects/</a>ã€‚è¿›å…¥ Sandbox éœ€è¦ 66% ä»¥ä¸Šçš„ TOCï¼ˆæŠ€æœ¯å§”å‘˜ä¼šï¼‰æˆå‘˜èµæˆï¼Œå³å…¨éƒ¨ 11 äºº <a href="https://github.com/cncf/toc#members" target="_blank" rel="noopener noreferrer">https://github.com/cncf/toc#members</a> ä¸­çš„ 8 äººæŠ•èµæˆç¥¨ã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ä»€ä¹ˆæ˜¯-kcl">ä»€ä¹ˆæ˜¯ KCL<a href="#ä»€ä¹ˆæ˜¯-kcl" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>KCL æ˜¯ä¸€ä¸ªå¼€æºçš„åŸºäºçº¦æŸçš„è®°å½•åŠå‡½æ•°è¯­è¨€ï¼ŒæœŸæœ›é€šè¿‡æˆç†Ÿçš„ç¼–ç¨‹è¯­è¨€æŠ€æœ¯å’Œå®è·µæ¥æ”¹è¿›å¯¹å¤§é‡ç¹æ‚é…ç½®æ¯”å¦‚äº‘åŸç”Ÿ Kubernetes é…ç½®åœºæ™¯çš„ç¼–å†™ï¼Œè‡´åŠ›äºå›´ç»•é…ç½®çš„æ¨¡å—åŒ–ã€æ‰©å±•æ€§å’Œç¨³å®šæ€§ï¼Œæ‰“é€ æ›´ç®€å•çš„é€»è¾‘ç¼–å†™ä½“éªŒï¼Œæ„å»ºæ›´ç®€å•çš„è‡ªåŠ¨åŒ–å’Œç”Ÿæ€é›†æˆè·¯å¾„ã€‚</p><p>é¡¹ç›®ä¸»è¦é‡Œç¨‹ç¢‘å¦‚ä¸‹ï¼š</p><ul><li>2022 å¹´ 5 æœˆï¼ŒKCL ç”±èš‚èšé›†å›¢å‘èµ·ï¼Œæ­£å¼å¼€æº</li><li>2023 å¹´ 6 æœˆï¼ŒKCL æ­£å¼æˆä¸º CNCF Landscape é¡¹ç›®</li><li>2023 å¹´ 9 æœˆï¼ŒKCL ç”± CNCF åº”ç”¨äº¤ä»˜ TAG è¿›è¡Œå®¡æ ¸å¹¶é€šè¿‡ TOC æŠ•ç¥¨ï¼Œé¡ºåˆ©æˆä¸º CNCF Sandbox é¡¹ç›® - <a href="https://github.com/cncf/sandbox/issues/48" target="_blank" rel="noopener noreferrer">https://github.com/cncf/sandbox/issues/48</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ä¸ºä»€ä¹ˆéœ€è¦-kcl">ä¸ºä»€ä¹ˆéœ€è¦ KCL<a href="#ä¸ºä»€ä¹ˆéœ€è¦-kcl" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>æ­£å¦‚è®°å½•éŸ³ä¹æœ‰äº”çº¿è°±ï¼Œå­˜å‚¨æ—¶é—´åºåˆ—æ•°æ®æœ‰æ—¶åºæ•°æ®åº“ä¸€æ ·ï¼Œåœ¨äº‘åŸç”Ÿé…ç½®å’Œè‡ªåŠ¨åŒ–çš„ç‰¹å®šé—®é¢˜åŸŸå†…ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸“ç”¨é…ç½®å’Œç­–ç•¥è¯­è¨€ç”¨äºç¼–å†™å’Œç®¡ç†è§„æ¨¡åŒ–å¤æ‚é…ç½®åŠç­–ç•¥ã€‚ä¸åŒäºæ··åˆç¼–å†™èŒƒå¼ã€æ··åˆå·¥ç¨‹èƒ½åŠ›çš„é«˜çº§é€šç”¨è¯­è¨€ï¼Œä¸“ç”¨è¯­è¨€çš„æ ¸å¿ƒé€»è¾‘æ˜¯ä»¥æ”¶æ•›çš„æœ‰é™çš„è¯­æ³•ã€è¯­ä¹‰é›†åˆè§£å†³é¢†åŸŸé—®é¢˜è¿‘ä¹æ— é™çš„å˜åŒ–å’Œå¤æ‚æ€§ï¼Œå°†å¤æ‚é…ç½®å’Œç­–ç•¥ç¼–å†™æ€è·¯å’Œæ–¹å¼æ²‰æ·€åˆ°è¯­è¨€ç‰¹æ€§ä¸­ã€‚</p><p>æ­¤å¤–ï¼ŒKCL æœŸæœ›é€šè¿‡æ›´ç°ä»£åŒ–çš„å£°æ˜å¼é…ç½®è¯­è¨€å’Œå·¥å…·ï¼Œåœ¨è½»é‡çº§å®¢æˆ·ç«¯äº‘åŸç”ŸåŠ¨æ€é…ç½®é¢†åŸŸå¡«è¡¥é…ç½®è¯­è¨€åŠå·¥å…·çš„ç©ºç™½å¹¶è§£å†³å¦‚ä¸‹é—®é¢˜ï¼š</p><ul><li><strong>ç»´åº¦çˆ†ç‚¸</strong>: å¤§å¤šæ•°é™æ€é…ç½®å¦‚äº‘åŸç”Ÿé¢†åŸŸçš„ Kubernetes YAML é…ç½®éœ€è¦ä¸ºæ¯ä¸ªç¯å¢ƒå•ç‹¬è¿›è¡Œé…ç½®ï¼›åœ¨æœ€ç³Ÿç³•çš„æƒ…å†µä¸‹ï¼Œå®ƒå¯èƒ½å¼•å…¥æ¶‰åŠç¯å¢ƒäº¤å‰é“¾æ¥çš„éš¾ä»¥è°ƒè¯•çš„é”™è¯¯ï¼Œç¨³å®šæ€§å’Œæ‰©å±•æ€§éƒ½è¾ƒå·®ã€‚</li><li><strong>é…ç½®æ¼‚ç§»</strong>: å¯¹äºä¸åŒç¯å¢ƒçš„é™æ€ç®¡ç†åº”ç”¨ç¨‹åºå’ŒåŸºç¡€è®¾æ–½é…ç½®çš„æ–¹å¼ï¼Œå¾€å¾€æ²¡æœ‰æ ‡å‡†çš„æ–¹å¼å»ç®¡ç†è¿™äº›åŠ¨æ€çš„ä¸åŒç¯å¢ƒçš„é…ç½®ï¼Œé‡‡ç”¨éæ ‡å‡†åŒ–çš„æ–¹æ³•æ¯”å¦‚è„šæœ¬å’Œèƒ¶æ°´ä»£ç çš„æ‹¼ç›˜ï¼Œä¼šå¯¼è‡´å¤æ‚åº¦å‘ˆæŒ‡æ•°å¢é•¿ï¼Œå¹¶å¯¼è‡´é…ç½®æ¼‚ç§»ã€‚</li><li><strong>è®¤çŸ¥è´Ÿæ‹…</strong>: Kubernetes ç­‰ä½œä¸ºæ„å»ºå¹³å°çš„å¹³å°æŠ€æœ¯æ‰‹æ®µåœ¨åº•å±‚ç»Ÿä¸€åŸºç¡€æ¶æ„ç»†èŠ‚æ–¹é¢å‡ºè‰²ï¼Œä½†æ˜¯ç¼ºä¹æ›´ä¸Šå±‚çš„åº”ç”¨è½¯ä»¶äº¤ä»˜æŠ½è±¡ï¼Œå¯¹äºæ™®é€šå¼€å‘è€…è®¤çŸ¥è´Ÿæ‹…è¾ƒé«˜ï¼Œå½±å“äº†æ›´ä¸Šå±‚åº”ç”¨å¼€å‘è€…çš„è½¯ä»¶äº¤ä»˜ä½“éªŒã€‚</li></ul><p>é’ˆå¯¹å¦‚ä¸Šé—®é¢˜ï¼ŒKCL æœŸæœ›æä¾›å¦‚ä¸‹èƒ½åŠ›:</p><ul><li>é€šè¿‡<strong>ä»£ç æŠ½è±¡</strong>ç­‰æ‰‹æ®µå±è”½åŸºç¡€è®¾æ–½å’Œå¹³å°çš„ç»†èŠ‚å’Œå¤æ‚æ€§ï¼Œé™ä½ç ”å‘è€…<strong>è®¤çŸ¥è´Ÿæ‹…</strong></li><li><strong>ç¼–è¾‘</strong>å’Œ<strong>æ ¡éªŒ</strong>å·²æœ‰çš„å­˜é‡é…ç½®æˆ–æ¨¡ç‰ˆï¼Œç›´æ¥è§£å†³äº‘åŸç”Ÿå°é…ç½®åœºæ™¯é—®é¢˜å¦‚ Helm Chart é…ç½®ç¡¬ç¼–ç é—®é¢˜ï¼Œä½†è¿œä¸æ­¢å¦‚æ­¤</li><li>é€šè¿‡é…ç½®è¯­è¨€æ— å‰¯ä½œç”¨åœ°<strong>ç®¡ç†è·¨å›¢é˜Ÿçš„å¤§è§„æ¨¡é…ç½®æ•°æ®</strong>ï¼Œæå‡å›¢é˜Ÿåä½œæ•ˆç‡</li></ul><p>å…·ä½“æ¥è¯´ï¼ŒKCL å¯ä»¥</p><ul><li>åœ¨ä»£ç å±‚é¢æå‡<strong>é…ç½®è¯­ä¹‰éªŒè¯</strong>çš„èƒ½åŠ›ï¼Œæ¯”å¦‚ Schema å®šä¹‰ã€å­—æ®µå¯é€‰/å¿…é€‰ã€ç±»å‹ã€èŒƒå›´ç­‰é…ç½®æ£€æŸ¥æ ¡éªŒèƒ½åŠ›</li><li>æä¾›<strong>é…ç½®åˆ†å—ç¼–å†™ã€ç»„åˆå’ŒæŠ½è±¡</strong>çš„èƒ½åŠ›ï¼Œæ¯”å¦‚ç»“æ„å®šä¹‰ã€ç»“æ„ç»§æ‰¿ã€çº¦æŸå®šä¹‰å’Œé…ç½®ç­–ç•¥åˆå¹¶ç­‰èƒ½åŠ›</li><li>ç”¨<strong>ç°ä»£ç¼–ç¨‹è¯­è¨€</strong>çš„æ–¹å¼ä»¥<strong>ç¼–å†™ä»£ç </strong>çš„æ–¹å¼æå‡é…ç½®çš„çµæ´»åº¦ï¼Œæ¯”å¦‚æ¡ä»¶è¯­å¥ã€å¾ªç¯ã€å‡½æ•°ã€åŒ…ç®¡ç†ç­‰ç‰¹æ€§æå‡é…ç½®é‡ç”¨çš„èƒ½åŠ›</li><li>æä¾›<strong>å®Œå¤‡çš„å·¥å…·é“¾æ”¯æŒ</strong>ï¼Œä¸°å¯Œçš„ IDE æ’ä»¶ã€è¯­è¨€å’Œç”Ÿæ€å·¥å…·é“¾æ”¯æŒç”¨ä»¥é™ä½ä¸Šæ‰‹é—¨æ§›ï¼Œæå‡ä½¿ç”¨ä½“éªŒ</li><li>é€šè¿‡<strong>åŒ…ç®¡ç†å·¥å…·</strong> å’Œ <strong>OCI æ³¨å†Œè¡¨</strong>ä½¿å¾—é…ç½®ä»¥æ›´ç®€å•çš„æ–¹å¼åœ¨ä¸åŒå›¢é˜Ÿ/è§’è‰²ä¹‹é—´åˆ†äº«ï¼Œä¼ æ’­å’Œäº¤ä»˜</li><li>æä¾›<strong>é«˜æ€§èƒ½</strong>çš„ç¼–è¯‘å™¨æ»¡è¶³è§„æ¨¡åŒ–é…ç½®åœºæ™¯è¯‰æ±‚ï¼Œæ¯”å¦‚æ»¡è¶³ç”±ä¸€ä»½åŸºçº¿é…ç½®æ ¹æ®éƒ¨ç½²ä¸Šä¸‹æ–‡ç”Ÿæˆä¸åŒç¯å¢ƒä¸åŒæ‹“æ‰‘çš„é…ç½®çš„æ¸²æŸ“æ€§èƒ½ä»¥åŠé…ç½®è‡ªåŠ¨åŒ–ä¿®æ”¹æ€§èƒ½è¯‰æ±‚</li><li>é€šè¿‡<strong>å¤šè¯­è¨€ SDKï¼ŒKCL è¯­è¨€æ’ä»¶</strong>ç­‰æ‰‹æ®µæå‡å…¶è‡ªåŠ¨åŒ–é›†æˆèƒ½åŠ›ï¼Œåœ¨å‘æŒ¥é…ç½®åŠç­–ç•¥ç¼–å†™ä»·å€¼çš„åŒæ—¶æ˜¾è‘—é™ä½ KCL çš„å­¦ä¹ æˆæœ¬</li></ul><p><img loading="lazy" src="/zh-CN/assets/images/kcl-overview-02a0d4a0f70d7adc22ab051eb794f3b8.png" width="702" height="419" class="img_ev3q"></p><p>é™¤äº†è¯­è¨€è‡ªèº«ï¼ŒKCL è¿˜æä¾›äº†è®¸å¤šé¢å¤–çš„å·¥å…·å¦‚æ ¼å¼åŒ–ï¼Œæµ‹è¯•ã€æ–‡æ¡£ç­‰å·¥å…·å¸®åŠ©æ‚¨ä½¿ç”¨ã€ç†è§£å’Œæ£€æŸ¥ç¼–å†™çš„é…ç½®æˆ–ç­–ç•¥ï¼›é€šè¿‡ VS Code ç­‰ IDE æ’ä»¶ï¼ŒåŒ…ç®¡ç†å·¥å…·å’Œ Playground é™ä½é…ç½®ç¼–å†™å’Œåˆ†äº«çš„æˆæœ¬ï¼›é€šè¿‡ Rust, Go, å’Œ Python å¤šè¯­è¨€ SDK è‡ªåŠ¨åŒ–åœ°ç®¡ç†å’Œæ‰§è¡Œé…ç½®ã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="kcl-èƒ½åšä»€ä¹ˆ">KCL èƒ½åšä»€ä¹ˆ<a href="#kcl-èƒ½åšä»€ä¹ˆ" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="åŠ¨æ€é…ç½®ç®¡ç†">åŠ¨æ€é…ç½®ç®¡ç†<a href="#åŠ¨æ€é…ç½®ç®¡ç†" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p><img loading="lazy" alt="standalone-kcl-form" src="/zh-CN/assets/images/standalone-kcl-form-3fe553990c62b689edd434a623cfcba2.png" width="2252" height="1194" class="img_ev3q"></p><p>ä½œä¸ºä¸€ç§é…ç½®è¯­è¨€ï¼ŒKCL ä¸ºåº”ç”¨ç¨‹åºå’Œå¹³å°å¼€å‘äººå‘˜/SRE æä¾›çš„æœ€é‡è¦çš„åŠŸèƒ½æ˜¯åŠ¨æ€é…ç½®ç®¡ç†ã€‚é€šè¿‡ä»£ç æŠ½è±¡ï¼Œæˆ‘ä»¬å¯ä»¥æ„å»ºä»¥åº”ç”¨ä¸ºä¸­å¿ƒçš„æ¨¡å‹å±è”½å¤æ‚çš„åŸºç¡€è®¾æ–½å’Œå¹³å°æ¦‚å¿µï¼Œä¸ºå¼€å‘äººå‘˜æä¾›ä¸€ä¸ªä»¥åº”ç”¨ç¨‹åºä¸ºä¸­å¿ƒä¸”æ˜“äºç†è§£çš„ç•Œé¢ã€‚æ­¤å¤–ï¼ŒKCL è¿˜å…è®¸å¹³å°äººå‘˜å¿«é€Ÿæ‰©å±•å’Œå®šä¹‰è‡ªå·±çš„æ¨¡å‹ï¼Œå¹¶ä¸”è¿™äº›æ¨¡å‹å¯ä»¥é€šè¿‡ OCI æ³¨å†Œè¡¨è¿›è¡Œåˆ†äº«å’Œå¤ç”¨ã€‚</p><p><img loading="lazy" alt="krm-kcl-form" src="/zh-CN/assets/images/krm-kcl-form-93ee5711170a1227cdb9cb2ad68654d5.png" width="2166" height="1076" class="img_ev3q"></p><p>æ­¤å¤–ï¼ŒKCL è¿˜æ”¯æŒä¸ Kubernetes Resource Model (KRM) è§„èŒƒç›´æ¥é›†æˆï¼ŒKRM KCL æ˜¯ä¸€ä¸ªé€šç”¨çš„é…ç½®æ¨¡å‹è§„èŒƒï¼Œç”¨äºæè¿°å’Œç®¡ç†å„ç§äº‘åŸç”Ÿèµ„æºï¼Œå¦‚å®¹å™¨ã€Podã€æœåŠ¡çš„é…ç½®æ“ä½œå’ŒæŠ½è±¡ç­‰ã€‚KRM KCL è§„èŒƒæä¾›äº†ä¸€ç§ç»Ÿä¸€çš„æ–¹å¼æ¥å®šä¹‰å’Œç®¡ç†è¿™äº›èµ„æºï¼Œä½¿å¾—å®ƒä»¬å¯ä»¥åœ¨ä¸åŒçš„ç¯å¢ƒä¸­è¿›è¡Œç§»æ¤å’Œå¤ç”¨ã€‚å®ƒå»ºç«‹åœ¨ä¸€ä¸ªå®Œå…¨å¼€æ”¾çš„ Kubernetes ä¸–ç•Œå½“ä¸­ï¼Œå‡ ä¹ä¸ä¸ä»»ä½•ç¼–æ’/å¼•æ“å·¥å…·æˆ–è€… Kubernetes æ§åˆ¶å™¨ç»‘å®šï¼Œå®ƒåœ¨å…³æ³¨ç‚¹åˆ†ç¦»çš„åŸºç¡€ä¸Šå…è®¸å¹³å°äººå‘˜æ‰©å±•è‡ªå·±çš„æŠ½è±¡ï¼Œé…ç½®ç¼–è¾‘å’ŒéªŒè¯é€»è¾‘ï¼Œå¹¶æä¾›ä¸€ä¸ªå¼€å‘è€…å‹å¥½çš„é…ç½®ç®¡ç†ç•Œé¢ã€‚</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="gitops-é›†æˆ">GitOps é›†æˆ<a href="#gitops-é›†æˆ" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p><img loading="lazy" alt="gitops" src="/zh-CN/assets/images/gitops-c677786c3b120ccbe4e8007313291a53.png" width="2182" height="1018" class="img_ev3q"></p><p>æ— è®ºæ˜¯ä½¿ç”¨ç‹¬ç«‹çš„ KCL è¿˜æ˜¯ KRM KCL é…ç½®å½¢å¼ï¼Œæˆ‘ä»¬éƒ½æ”¯æŒ KCL ä¸å„ç§ä»¥åŠ CI/CD å’Œ GitOps å·¥å…·çš„é›†æˆï¼ŒKCL å…è®¸å¼€å‘äººå‘˜ä»¥å£°æ˜å¼çš„æ–¹å¼å®šä¹‰åº”ç”¨ç¨‹åºæ‰€éœ€çš„èµ„æºï¼Œé€šè¿‡å°† KCL å’Œ GitOps å·¥å…·ç›¸ç»“åˆå¯ä»¥å¸®åŠ©æˆ‘ä»¬æ›´å¥½åœ°å®ç°åŸºç¡€è®¾æ–½å³ä»£ç ï¼ˆIaCï¼‰ï¼Œæé«˜éƒ¨ç½²æ•ˆç‡ï¼Œç®€åŒ–åº”ç”¨ç¨‹åºçš„é…ç½®ç®¡ç†ã€‚</p><p>ä½¿ç”¨ GitOpsï¼Œå¼€å‘äººå‘˜å’Œè¿ç»´å›¢é˜Ÿå¯ä»¥é€šè¿‡åˆ†åˆ«ä¿®æ”¹åº”ç”¨å’Œé…ç½®ä»£ç æ¥ç®¡ç†åº”ç”¨ç¨‹åºçš„éƒ¨ç½²ï¼ŒGitOps å·¥å…·é“¾å¯ä»¥åŸºäº KCL çš„è‡ªåŠ¨åŒ–èƒ½åŠ›å®ç°å¯¹é…ç½®çš„è‡ªåŠ¨æ›´æ”¹ï¼Œä»è€Œå®ç°æŒç»­éƒ¨ç½²å¹¶ç¡®ä¿ä¸€è‡´æ€§ã€‚å¦‚æœå‡ºç°é—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨ GitOps å·¥å…·é“¾å¿«é€Ÿå›æ»šã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ç”Ÿæ€é›†æˆ">ç”Ÿæ€é›†æˆ<a href="#ç”Ÿæ€é›†æˆ" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p><img loading="lazy" alt="integration" src="/zh-CN/assets/images/integration-60f0e309485ebab3d8478a40017a8828.png" width="2192" height="1048" class="img_ev3q"></p><p>é™¤äº†ä¸ ArgoCD ç­‰ GitOps è‡ªåŠ¨åŒ–å·¥å…·è¿›è¡Œé›†æˆï¼Œä½œä¸º CNCF çš„é¡¹ç›®ï¼ŒKCL è¿˜ä¸ CNCF å…¶ä»–ä¼—å¤šç”Ÿæ€é¡¹ç›®è¿›è¡Œäº†é›†æˆï¼Œæ¯”å¦‚ä¸ºç°æœ‰çš„ CNCF ç”Ÿæ€é…ç½®ç®¡ç†å·¥å…·é¡¹ç›®å¦‚ Helmã€Kustomizeã€kpt ç­‰æä¾› KCL æ’ä»¶ï¼Œåœ¨è¿è¡Œæ—¶æä¾› KCL Kubernetes Operatorï¼Œä»¥æ»¡è¶³ä¸åŒåœºæ™¯çš„é…ç½®ç®¡ç†éœ€æ±‚ç­‰ã€‚æ­¤å¤–æˆ‘ä»¬è¿˜æä¾›å¦‚ä¸‹é›†æˆæ”¯æŒï¼š</p><ul><li><strong>å¤šè¯­è¨€æ”¯æŒ</strong>ï¼šæˆ‘ä»¬æä¾›äº†å¤šè¯­è¨€ SDKï¼Œå¸®åŠ©ç”¨æˆ·ä»¥ä¸åŒçš„è¯­è¨€æ“ä½œ KCLï¼Œå¹¶å°†å…¶é›†æˆåˆ°è‡ªå·±çš„åº”ç”¨ç¨‹åºä¸­ã€‚</li><li><strong>åŒ…ç®¡ç†æ”¯æŒ</strong>ï¼šæˆ‘ä»¬æä¾›äº† KPM åŒ…ç®¡ç†å·¥å…·å¯ä»¥å°† KCL é…ç½®é€šè¿‡ docker hub, GitHub å®¹å™¨æ³¨å†Œè¡¨è¿›è¡Œåˆ†å‘å’Œå¤ç”¨ã€‚</li><li><strong>Schema è¿ç§»æ”¯æŒ</strong>ï¼šæˆ‘ä»¬æ”¯æŒå…¶ä»–ç”Ÿæ€ç³»ç»Ÿçš„ Schema ä¸€é”®è¿ç§»åˆ° KCL Schemaï¼Œå¦‚ Go/Rust ç»“æ„å®šä¹‰ã€JsonSchemaã€Protobufã€OpenAPIã€Terraform Provider Schema ç­‰ã€‚</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="è½åœ°å®è·µ">è½åœ°å®è·µ<a href="#è½åœ°å®è·µ" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p><img loading="lazy" alt="practice-krm-kcl" src="/zh-CN/assets/images/practice-krm-kcl-e18153d2f7b57b6706db1ad767d11bdb.png" width="3538" height="1040" class="img_ev3q"></p><p>é¦–å…ˆï¼ŒKCL ä½œä¸ºäº‘åŸç”Ÿé¢†åŸŸå†…çš„ä¸€ä¸ªå°è¯­è¨€ï¼Œå®ƒå¯ä»¥ç›´æ¥è¢«ç”¨äºè§£å†³åœºæ™¯ä¸­ç®€å•çš„å°é—®é¢˜ï¼Œå¦‚é€šè¿‡ KCL æ¨¡å‹ç›´æ¥ä¸º Kubernetes èµ„æºæ³¨å…¥ç¯å¢ƒå˜é‡ç­‰é…ç½®è€Œä¸æ˜¯ç¼–å†™è„šæœ¬ï¼Œé€šè¿‡ KCL æ¨¡å‹å’Œ Helm KCL æ’ä»¶æ— ä¾µå…¥å¤„ç† Helm Chart çš„ç¡¬ç¼–ç é…ç½®è€Œä¸æ˜¯ Fork Helm Chart ç›´æ¥ä¿®æ”¹ç­‰ã€‚</p><p><img loading="lazy" alt="practice-konfig-gitops" src="/zh-CN/assets/images/practice-konfig-gitops-a1a7d2f8eaa9af8509612dd53d8f6250.png" width="1812" height="892" class="img_ev3q"></p><p>å…¶æ¬¡ï¼ŒKCL ä¹Ÿå¯ä»¥è¢«ç”¨äºä¼ä¸šå†…éƒ¨ä¸å„ç§ CI/CD å’Œåº”ç”¨é…ç½®äº¤ä»˜å¼•æ“æ¯”å¦‚ <a href="https://kusionstack.io" target="_blank" rel="noopener noreferrer">KusionStack</a> ç­‰ç›¸é…åˆï¼Œå®ç°å…³æ³¨ç‚¹åˆ†ç¦»ã€ä»¥åº”ç”¨ä¸ºä¸­å¿ƒçš„å¯ç¼–ç¨‹æ¨¡å‹ç•Œé¢å’Œ GitOps æµç¨‹ï¼Œä»¥ç®€åŒ–å½“ä»Šæ··åˆå¤šäº‘ç¯å¢ƒä¸­è§„æ¨¡åŒ–åº”ç”¨çš„éƒ¨ç½²å’Œè¿ç»´æ“ä½œï¼Œæå‡å‘å¸ƒè¿ç»´æ•ˆç‡å’Œå¼€å‘è€…ä½“éªŒã€‚</p><p>å½“ç„¶ï¼ŒKCL èƒ½å¤Ÿè§£å†³çš„é—®é¢˜å’Œå®è·µçš„åœºæ™¯è¿œä¸æ­¢å¦‚æ­¤ï¼Œæˆ‘ä»¬ä¼šé™†ç»­åˆ†äº«ç¤¾åŒºä¸­é‡‡ç”¨è€…çš„æœ€ä½³å®è·µï¼Œä¹Ÿæ¬¢è¿å¤§å®¶åŠ å…¥æˆ‘ä»¬çš„ç¤¾åŒºè¿›è¡Œè¿›ä¸€æ­¥äº¤æµå’Œè®¨è®º â¤ï¸ã€‚<a href="https://github.com/kcl-lang/community" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/community</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ç¤¾åŒºåŠ¨æ€">ç¤¾åŒºåŠ¨æ€<a href="#ç¤¾åŒºåŠ¨æ€" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p><img loading="lazy" alt="community" src="/zh-CN/assets/images/community-4be9cb803ff35e3209a7575e911c1cb0.png" width="2166" height="1092" class="img_ev3q"></p><p>åœ¨ KCL å¼€æºçŸ­çŸ­çš„è¿™ä¸€å¹´é‡Œï¼Œæˆ‘ä»¬å‘å¸ƒäº†è®¸å¤šç‰ˆæœ¬ï¼Œå¹¶ä¸å…¨ä¸–ç•Œè®¸å¤šè´¡çŒ®è€…å’Œç»´æŠ¤è€…åˆä½œæ„å»ºäº† KCL ç¤¾åŒºï¼Œå¹¶å¾—åˆ°äº†ä¸€äº›é‡‡ç”¨è€…æ¯”å¦‚æœ‰èµå’Œåä¸ºç­‰å…¬å¸çš„è®¤å¯ï¼Œé€šè¿‡åŠ å…¥ CNCFï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯æé«˜é¡¹ç›®çš„çŸ¥ååº¦å¹¶ä¿ƒè¿›ç¤¾åŒºé‡‡ç”¨å’Œå‚ä¸ï¼Œå› ä¸ºå¼ºå¤§ä¸”çŸ¥åçš„åŸºé‡‘ä¼šç»„ç»‡å¯¹äºæ¨åŠ¨è¯­è¨€ç”Ÿæ€ç³»ç»Ÿçš„å‘å±•è‡³å…³é‡è¦ã€‚</p><p>æ­¤å¤–ï¼Œæˆ‘ä»¬åœ¨å¼€æºç¤¾åŒºæ”¶è·äº†æ¥è‡ªå…¨ä¸–ç•ŒåŒ…æ‹¬ä¸­å›½ã€åŒ—ç¾ã€æ¬§æ´²å’Œæ¾³å¤§åˆ©äºšå„åœ°å°ä¼™ä¼´çš„è®¤å¯ï¼Œæ„Ÿè°¢ä¸€è·¯é™ªä¼´ KCL èµ°æ¥çš„å„ä½ç”¨æˆ·å’Œç¤¾åŒºç ”å‘è€…ï¼ŒåŒæ—¶ä¹Ÿæ¬¢è¿æ›´å¤šçš„å°ä¼™ä¼´åŠ å…¥åˆ°æˆ‘ä»¬çš„ç¤¾åŒºä¸€èµ·å…±å»º â¤ï¸</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ç»“è¯­">ç»“è¯­<a href="#ç»“è¯­" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>å¯¹ KCL æ¥è¯´ï¼ŒåŠ å…¥ CNCF å¹¶ä¸ä»£è¡¨æˆåŠŸï¼Œå®ƒæ„å‘³ç€ä¸€ä¸ªæ–°çš„å¼€å§‹ï¼Œæˆ‘ä»¬å°†å’Œç¤¾åŒºçš„å°ä¼™ä¼´ä»¬ä¸€èµ·åŠªåŠ›æ‰“é€ æ›´å¥½çš„ KCL è¯­è¨€ã€å·¥å…·é“¾å’Œ IDE ä½“éªŒï¼æœ€åï¼Œä¹Ÿæ¬¢è¿å¤§å®¶åŠ å…¥æˆ‘ä»¬çš„ç¤¾åŒºè¿›è¡Œäº¤æµå’Œè´¡çŒ® ğŸ‘ğŸ‘ğŸ‘</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å…¶ä»–èµ„æº">å…¶ä»–èµ„æº<a href="#å…¶ä»–èµ„æº" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><ul><li><p>KCL ç½‘ç«™: <a href="https://kcl-lang.io/" target="_blank" rel="noopener noreferrer">https://kcl-lang.io/</a></p></li><li><p>KusionStack ç½‘ç«™: <a href="https://kusionstack.io/" target="_blank" rel="noopener noreferrer">https://kusionstack.io/</a></p></li><li><p>KCL ç¤¾åŒº: <a href="https://github.com/kcl-lang/community" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/community</a></p></li><li><p>KCL 2023 è·¯çº¿è§„åˆ’: <a href="https://kcl-lang.io/docs/community/release-policy/roadmap" target="_blank" rel="noopener noreferrer">https://kcl-lang.io/docs/community/release-policy/roadmap</a></p></li><li><p>KCL GitHub Issues: <a href="https://github.com/kcl-lang/kcl/issues" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl/issues</a></p></li><li><p>KCL GitHub Discussion: <a href="https://github.com/orgs/kcl-lang/discussions" target="_blank" rel="noopener noreferrer">https://github.com/orgs/kcl-lang/discussions</a></p></li></ul>]]></content>
        <author>
            <name>KCL Team</name>
        </author>
        <category label="KCL" term="KCL"/>
        <category label="Biweekly-Newsletter" term="Biweekly-Newsletter"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[KCL v0.6.0 é‡ç£…å‘å¸ƒ - é¢å‘äº‘åŸç”Ÿåœºæ™¯æ›´æ˜“ç”¨çš„è¯­è¨€ã€å·¥å…·é“¾ï¼Œç¤¾åŒºé›†æˆå’Œæ‰©å±•æ”¯æŒ]]></title>
        <id>https://kcl-lang.github.io/zh-CN/blog/2023-09-15-kcl-0.6.0-release</id>
        <link href="https://kcl-lang.github.io/zh-CN/blog/2023-09-15-kcl-0.6.0-release"/>
        <updated>2023-09-15T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[ç®€ä»‹]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ç®€ä»‹">ç®€ä»‹<a href="#ç®€ä»‹" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>KCL å›¢é˜Ÿå¾ˆé«˜å…´åœ°å®£å¸ƒ <strong>KCL v0.6.0 æ–°ç‰ˆæœ¬ç°åœ¨å·²ç»å¯ç”¨</strong>ï¼æœ¬æ¬¡å‘å¸ƒä¸ºå¤§å®¶å¸¦æ¥äº†ä¸‰æ–¹é¢çš„é‡ç‚¹æ›´æ–°ï¼š<strong>è¯­è¨€</strong>ã€<strong>å·¥å…·é“¾</strong>ã€<strong>ç¤¾åŒºé›†æˆ &amp; æ‰©å±•æ”¯æŒ</strong>ã€‚</p><ul><li><em>ä½¿ç”¨åŠŸèƒ½æ›´å®Œå–„é”™è¯¯æ›´å°‘çš„ KCL è¯­è¨€ã€å·¥å…·é“¾å’Œ IDE æå‡ä»£ç ç¼–å†™ä½“éªŒå’Œæ•ˆç‡</em></li><li><em>ä½¿ç”¨åŒ…ç®¡ç† KPM å’Œ OCI Registry ç­‰å·¥å…·ç›´æ¥ä½¿ç”¨å’Œå…±äº«æ‚¨çš„äº‘åŸç”Ÿé¢†åŸŸæ¨¡å‹ï¼Œé™ä½å­¦ä¹ å’Œä¸Šæ‰‹æˆæœ¬</em></li><li><em>ä½¿ç”¨ Helmfile KCL æ’ä»¶å’Œ KCL Operator ç­‰äº‘åŸç”Ÿé›†æˆæ‰©å±•åŒæ—¶æ”¯æŒåœ¨å®¢æˆ·ç«¯å’Œè¿è¡Œæ—¶å¯¹ Kubernetes èµ„æºè¿›è¡ŒåŸåœ°ä¿®æ”¹å’ŒéªŒè¯ï¼Œé¿å…é…ç½®ç¡¬ç¼–ç </em></li></ul><p>è¿›ä¸€æ­¥æ‚¨å¯ä»¥åœ¨ <a href="https://github.com/kcl-lang/kcl/releases/tag/v0.6.0" target="_blank" rel="noopener noreferrer">KCL v0.6.0 å‘å¸ƒé¡µé¢</a> æˆ–è€… <a href="https://kcl-lang.io" target="_blank" rel="noopener noreferrer">KCL å®˜æ–¹ç½‘ç«™</a> è·å¾—ä¸‹è½½å®‰è£…æŒ‡å—å’Œè¯¦ç»†å‘å¸ƒä¿¡æ¯ã€‚</p><p><a href="https://github.com/kcl-lang/kcl" target="_blank" rel="noopener noreferrer">KCL</a> æ˜¯ä¸€ä¸ªé¢å‘äº‘åŸç”Ÿé¢†åŸŸå¼€æºçš„åŸºäºçº¦æŸçš„è®°å½•åŠå‡½æ•°ç¼–ç¨‹è¯­è¨€ï¼ŒæœŸæœ›é€šè¿‡æˆç†Ÿçš„ç¼–ç¨‹è¯­è¨€æŠ€æœ¯å’Œå®è·µæ¥æ”¹è¿›å¯¹å¤§é‡ç¹æ‚é…ç½®æ¯”å¦‚äº‘åŸç”Ÿ Kubernetes é…ç½®åœºæ™¯çš„ç¼–å†™ï¼Œè‡´åŠ›äºå›´ç»•é…ç½®çš„æ¨¡å—åŒ–ã€æ‰©å±•æ€§å’Œç¨³å®šæ€§ï¼Œæ‰“é€ æ›´ç®€å•çš„é€»è¾‘ç¼–å†™ä½“éªŒï¼Œæ„å»ºæ›´ç®€å•çš„è‡ªåŠ¨åŒ–å’Œç”Ÿæ€é›†æˆè·¯å¾„ã€‚</p><p>æœ¬æ–‡é‡ç‚¹ä»‹ç» KCL v0.6.0 ç‰ˆæœ¬çš„æ›´æ–°å†…å®¹ä»¥åŠ KCL ç¤¾åŒºçš„è¿‘æœŸåŠ¨æ€ã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="è¯­è¨€æ›´æ–°">è¯­è¨€æ›´æ–°<a href="#è¯­è¨€æ›´æ–°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="-ç±»å‹ç³»ç»Ÿå¢å¼º">ğŸ”§ ç±»å‹ç³»ç»Ÿå¢å¼º<a href="#-ç±»å‹ç³»ç»Ÿå¢å¼º" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>æ”¯æŒ KCL é…ç½®å—å±æ€§ç±»å‹è‡ªåŠ¨æ¨å¯¼ï¼Œåœ¨ KCL v0.6.0 ç‰ˆæœ¬ä¹‹å‰ï¼Œä¸‹è¿°ä»£ç ä¸­çš„ <code>key1</code> å’Œ <code>key2</code> å±æ€§ä¼šè¢«ç±»å‹ç³»ç»Ÿæ¨å¯¼ä¸º <code>str | int</code> ç±»å‹ï¼Œç‰ˆæœ¬æ›´æ–°ä¹‹åï¼Œæˆ‘ä»¬è¿›ä¸€æ­¥å¢å¼ºäº†é…ç½®å±æ€§çš„ç±»å‹ç²¾ç¡®æ¨å¯¼ï¼Œ<code>key1</code> å’Œ <code>key2</code> å±æ€§ä¼šè·å¾—èŒƒå›´æ›´å°æ›´ç²¾ç¡®çš„å¯¹åº”ç±»å‹</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">config </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    key1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"value1"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    key2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">key1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> config</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">key1  </span><span class="token comment" style="color:#999988;font-style:italic"># key1 çš„ç±»å‹ä¸º str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">key2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> config</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">key2  </span><span class="token comment" style="color:#999988;font-style:italic"># key2 çš„ç±»å‹ä¸º int</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æ­¤å¤–ï¼Œæˆ‘ä»¬ä¼˜åŒ–äº† Schema è¯­ä¹‰æ£€æŸ¥å’Œè”åˆç±»å‹æ£€æŸ¥ç­‰é”™è¯¯ä¿¡æ¯ä»¥åŠç³»ç»Ÿåº“å‡½æ•°çš„ç±»å‹æ£€æŸ¥é”™è¯¯ä¿¡æ¯ã€‚</p><p>æ›´å¤šä¿¡æ¯<a href="https://github.com/kcl-lang/kcl/pull/678" target="_blank" rel="noopener noreferrer">è¯¦è§</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="-api-æ›´æ–°">ğŸ„ API æ›´æ–°<a href="#-api-æ›´æ–°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><ul><li>KCL Schema æ¨¡å‹è§£æ&nbsp;GetSchemaType API è·å– KCL åŒ…ç›¸å…³ä¿¡æ¯å’Œ Schema å±æ€§é»˜è®¤å€¼</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="-é”™è¯¯ä¿®å¤">ğŸ é”™è¯¯ä¿®å¤<a href="#-é”™è¯¯ä¿®å¤" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="kcl-å¿…é€‰å±æ€§æ£€æŸ¥é”™è¯¯ä¿®å¤">KCL å¿…é€‰å±æ€§æ£€æŸ¥é”™è¯¯ä¿®å¤<a href="#kcl-å¿…é€‰å±æ€§æ£€æŸ¥é”™è¯¯ä¿®å¤" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><p>åœ¨ä¹‹å‰çš„ KCL ç‰ˆæœ¬ä¸­ï¼ŒKCL å¿…é€‰å±æ€§æ£€æŸ¥ä¼šé—æ¼åµŒå¥—çš„ Schema å±æ€§æ£€æŸ¥ï¼Œåœ¨ KCL v0.6.0 ç‰ˆæœ¬ä¸­ï¼Œæˆ‘ä»¬ä¿®å¤äº†æ­¤ç±»ç±»ä¼¼çš„é—®é¢˜</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">schema S</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    a</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    b</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">schema L</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># åœ¨ä¹‹å‰çš„ç‰ˆæœ¬ä¸­ï¼Œä¼šé—æ¼ [S] å’Œ {str:S} ä¸­çš„ S çš„ a, b å±æ€§å¿…é€‰æ£€æŸ¥</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># åœ¨ KCL v0.6.0 ç‰ˆæœ¬ä¹‹åï¼Œæˆ‘ä»¬ä¿®å¤äº†æ­¤ç±»é—®é¢˜</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ss?</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">S</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    sss?</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">S</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">l </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> L </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ss </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">S </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">b </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"b"</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æ›´å¤šä¿¡æ¯<a href="https://github.com/kcl-lang/kcl/pull/672" target="_blank" rel="noopener noreferrer">è¯¦è§</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ide--å·¥å…·é“¾æ›´æ–°">IDE &amp; å·¥å…·é“¾æ›´æ–°<a href="#ide--å·¥å…·é“¾æ›´æ–°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ide-æ›´æ–°">IDE æ›´æ–°<a href="#ide-æ›´æ–°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="åŠŸèƒ½æ›´æ–°">åŠŸèƒ½æ›´æ–°<a href="#åŠŸèƒ½æ›´æ–°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><ul><li>è·³è½¬æ€§èƒ½å¤§å¹…åº¦æå‡ï¼Œæ”¯æŒæ¯«ç§’çº§è·³è½¬</li><li>æ”¯æŒ KCL åŒ…ä¸­çš„å˜é‡ä»¥åŠ Schema å±æ€§è¡¥å…¨</li><li>æ”¯æŒ KCL Schema å±æ€§æ–‡æ¡£å±æ€§æ‚¬åœæç¤º</li><li>æ”¯æŒæ— ç”¨ Import è¯­å¥å¿«é€Ÿä¿®å¤</li></ul><p><img loading="lazy" alt="ide-quick-fix" src="/zh-CN/assets/images/ide-quick-fix-387d039df6f3117e1997c98c26bbfd33.png" width="854" height="546" class="img_ev3q"></p><ul><li>æ”¯æŒå³é”®æ ¼å¼åŒ–æ–‡ä»¶å’Œä»£ç ç‰‡æ®µ</li></ul><p><img loading="lazy" alt="ide-format" src="/zh-CN/assets/images/ide-format-f987fa4c4ff7cffd5325cb5257f4aff8.png" width="744" height="428" class="img_ev3q"></p><ul><li>æ”¯æŒå†…ç½®å‡½æ•°å’Œç³»ç»Ÿåº“ä¸­å‡½æ•°ä¿¡æ¯çš„æ‚¬åœæç¤º</li></ul><p><img loading="lazy" alt="ide-func-hover" src="/zh-CN/assets/images/ide-func-hover-becc736d3b72be494da324901a48cafb.png" width="1726" height="306" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="æ›´å¤š-ide-æ”¯æŒ">æ›´å¤š IDE æ”¯æŒ<a href="#æ›´å¤š-ide-æ”¯æŒ" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><p>æˆ‘ä»¬å°† KCL è¯­è¨€æœåŠ¡å™¨ LSP é›†æˆåˆ°äº† NeoVim å’Œ Idea ä¸­ï¼Œä½¿å¾—å¯ä»¥åœ¨ NeoVim å’Œ IntelliJ IDEA ä¸­ä½“éªŒåˆ°å’Œ VS Code IDE æ”¯æŒçš„è¡¥å…¨ã€è·³è½¬å’Œæ‚¬åœç­‰åŠŸèƒ½</p><ul><li>NeoVim KCL æ’ä»¶</li></ul><p><img loading="lazy" alt="kcl.nvim" src="/zh-CN/assets/images/overview-0667184faaf2ee0abe93374de277929b.png" width="1246" height="1121" class="img_ev3q"></p><ul><li>IntelliJ æ’ä»¶</li></ul><p><img loading="lazy" alt="intellij" src="/zh-CN/assets/images/overview-1dbf1cc2cd1bbf6b03b06702335a10ce.png" width="1041" height="650" class="img_ev3q"></p><p>æ›´å¤š IDE æ’ä»¶ä¸‹è½½å®‰è£…æ–¹å¼å’ŒåŠŸèƒ½è¯´æ˜å¯å‚è€ƒï¼š</p><ul><li><a href="https://kcl-lang.io/docs/user_docs/getting-started/install#neovim" target="_blank" rel="noopener noreferrer">https://kcl-lang.io/docs/user_docs/getting-started/install#neovim</a></li><li><a href="https://kcl-lang.io/docs/user_docs/getting-started/install#intellij-idea" target="_blank" rel="noopener noreferrer">https://kcl-lang.io/docs/user_docs/getting-started/install#intellij-idea</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="kcl-æ ¼å¼åŒ–å·¥å…·æ›´æ–°">KCL æ ¼å¼åŒ–å·¥å…·æ›´æ–°<a href="#kcl-æ ¼å¼åŒ–å·¥å…·æ›´æ–°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>æ”¯æŒå¯¹ç¼©è¿›ä¸æ­£ç¡®çš„é…ç½®å—è¿›è¡Œæ ¼å¼åŒ–</p><ul><li>æ ¼å¼åŒ–å‰</li></ul><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">config </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">a </span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">x </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> y </span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">b </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> x </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> y </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>æ ¼å¼åŒ–å</li></ul><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">config </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    a </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        x </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        y </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    b </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        x </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        y </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="kcl-æ–‡æ¡£å·¥å…·æ›´æ–°">KCL æ–‡æ¡£å·¥å…·æ›´æ–°<a href="#kcl-æ–‡æ¡£å·¥å…·æ›´æ–°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><ul><li>æ–°å¢ Markdown æ–‡æ¡£å¯¼å‡ºæ”¯æŒ</li><li>æ”¯æŒå¯¼å‡ºæ–‡æ¡£ç´¢å¼•é¡µ</li><li>æ”¯æŒå¯¼å‡ºæ–‡æ¡£è‡ªå®šä¹‰æ ·å¼æ¨¡ç‰ˆ</li><li>æ”¯æŒå¯¼å‡ºæ–‡æ¡£ HTML è½¬ä¹‰</li><li>æ–‡æ¡£ç”Ÿæˆå¢å¼ºï¼Œæ”¯æŒå¯¹æ–‡æ¡£æ³¨é‡Šä¸­ç¤ºä¾‹ä»£ç ç‰‡æ®µçš„è§£æå’Œæ¸²æŸ“</li><li>é€šè¿‡åœ¨ Github workflow ä¸­è·Ÿè¸ªæ¨¡å‹çš„æ›´æ–°ï¼Œå¹¶é‡æ–°ç”Ÿæˆæ–‡æ¡£ï¼Œå³å¯å®ç°æ–‡æ¡£çš„è‡ªåŠ¨åŒæ­¥ã€‚å…·ä½“å‚è€ƒ: <a href="https://github.com/KusionStack/catalog/pull/31/files" target="_blank" rel="noopener noreferrer">https://github.com/KusionStack/catalog/pull/31/files</a></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="ä»-kpm-åŒ…ç”Ÿæˆæ¨¡å‹æ–‡æ¡£">ä» kpm åŒ…ç”Ÿæˆæ¨¡å‹æ–‡æ¡£<a href="#ä»-kpm-åŒ…ç”Ÿæˆæ¨¡å‹æ–‡æ¡£" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><ol><li>åˆ›å»º kpm åŒ…ï¼Œä¸ºå…¶ä¸­çš„ Service æ¨¡å‹æ·»åŠ æ–‡æ¡£æ³¨é‡Šï¼ˆä½¿ç”¨ docstring è¡¨ç¤ºï¼‰ã€‚åœ¨æ–‡æ¡£ä¸­å¯ä»¥åŒ…å«å¯¹æ¨¡å‹å’Œå±æ€§çš„è¯´æ˜ã€ç¤ºä¾‹ä»£ç å’Œç”¨æ³•ç­‰ï¼Œä»¥å¸®åŠ©å…¶ä»–å¼€å‘äººå‘˜å¿«é€Ÿä¸Šæ‰‹å¹¶æ­£ç¡®åœ°ä½¿ç”¨ã€‚</li></ol><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">âœ kpm init demo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">âœ cat &gt; demo/server.k &lt;&lt; EOF</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">schema Service:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    """</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Service is a kind of workload profile that describes how to run your application code. This</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    is typically used for long-running web applications that should "never" go down, and handle</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    short-lived latency-sensitive web requests, or events.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Attributes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ----------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    workloadType : str = "Deployment" | "StatefulSet", default is Deployment, required.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        workloadType represents the type of workload used by this Service. Currently, it supports several</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        types, including Deployment and StatefulSet.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    image : str, default is Undefined, required.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Image refers to the Docker image name to run for this container.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        More info: https://kubernetes.io/docs/concepts/containers/images</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    replicas : int, default is 2, required.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Number of container replicas based on this configuration that should be ran.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Examples</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    # Instantiate a long-running service and its image is "nginx:v1"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    svc = Service {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        workloadType: "Deployment"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        image: "nginx:v1"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        replica: 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    """</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    workloadType: "Deployment" | "StatefulSet"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    image: str</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    replica: int</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">EOF</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="2"><li>ç”Ÿæˆ Markdown æ ¼å¼çš„åŒ…æ–‡æ¡£ï¼š
ä»¥ä¸‹å‘½ä»¤å°† demo åŒ…æ–‡æ¡£è¾“å‡ºåˆ°å½“å‰å·¥ä½œç›®å½•ä¸‹çš„ doc/ ç›®å½•ï¼š</li></ol><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kcl-go doc generate --file-path demo</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="docgen" src="/zh-CN/assets/images/docgen-5d4a8e13d9126ed8e7c4c7834bb73060.png" width="1846" height="1510" class="img_ev3q"></p><blockquote><p>æ›´å¤šä½¿ç”¨æ–¹å¼è¯·é€šè¿‡ <code>kcl-go doc generate -h</code> æŸ¥çœ‹</p></blockquote><ol><li>é€šè¿‡æµæ°´çº¿å®ç°æ–‡æ¡£çš„è‡ªåŠ¨åŒæ­¥</li></ol><p>é€šè¿‡åœ¨ Github workflow ä¸­è·Ÿè¸ªæ¨¡å‹çš„æ›´æ–°ï¼Œå¹¶é‡æ–°ç”Ÿæˆæ–‡æ¡£ï¼Œå³å¯å®ç°æ–‡æ¡£çš„è‡ªåŠ¨åŒæ­¥ã€‚å¯å‚ç…§ <a href="https://github.com/KusionStack/catalog/pull/31/files" target="_blank" rel="noopener noreferrer">Kusionstack/catalog</a> ä¸­çš„åšæ³•ï¼Œç”Ÿæˆæ–‡æ¡£å¹¶è‡ªåŠ¨å‘æ–‡æ¡£ä»“åº“æäº¤å˜æ›´ PRã€‚</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="kcl-å¯¼å…¥å·¥å…·æ›´æ–°">KCL å¯¼å…¥å·¥å…·æ›´æ–°<a href="#kcl-å¯¼å…¥å·¥å…·æ›´æ–°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>åœ¨ KCL v0.6.0 ç‰ˆæœ¬ï¼ŒKCL å¯¼å‡º Import å·¥å…·æ–°å¢æ”¯æŒäº† JsonSchema, Terraform Provider Schema, Go ç»“æ„ä½“ è½¬æ¢ä¸º KCLï¼Œä»¥åŠä¸€é”®æ”¯æŒ JSON/YAML é…ç½®æ•°æ®è½¬æ¢ä¸º KCL é…ç½®ä»£ç ï¼Œæ¯”å¦‚å¯¹äºå¦‚ä¸‹çš„ Terraform Provider Json (é€šè¿‡ <code>terraform providers schema -json &gt; provider.json</code> å‘½ä»¤è·å¾—ï¼Œè¯¦æƒ…è¯·å‚è€ƒ <a href="https://developer.hashicorp.com/terraform/cli/commands/providers/schema" target="_blank" rel="noopener noreferrer">https://developer.hashicorp.com/terraform/cli/commands/providers/schema</a>)</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"format_version"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"0.2"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"provider_schemas"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"registry.terraform.io/aliyun/alicloud"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"provider"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">"version"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">"block"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">"attributes"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">"block_types"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">"description_kind"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"plain"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"resource_schemas"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">"alicloud_db_instance"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">"version"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">"block"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">"attributes"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token property" style="color:#36acaa">"db_instance_type"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token property" style="color:#36acaa">"type"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"string"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token property" style="color:#36acaa">"description_kind"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"plain"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token property" style="color:#36acaa">"computed"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token property" style="color:#36acaa">"engine"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token property" style="color:#36acaa">"type"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"string"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token property" style="color:#36acaa">"description_kind"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"plain"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token property" style="color:#36acaa">"required"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token property" style="color:#36acaa">"security_group_ids"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token property" style="color:#36acaa">"type"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"set"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"string"</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token property" style="color:#36acaa">"description_kind"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"plain"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token property" style="color:#36acaa">"optional"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token property" style="color:#36acaa">"computed"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token property" style="color:#36acaa">"security_ips"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token property" style="color:#36acaa">"type"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"set"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"string"</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token property" style="color:#36acaa">"description_kind"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"plain"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token property" style="color:#36acaa">"optional"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token property" style="color:#36acaa">"computed"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token property" style="color:#36acaa">"tags"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token property" style="color:#36acaa">"type"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"map"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"string"</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token property" style="color:#36acaa">"description_kind"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"plain"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token property" style="color:#36acaa">"optional"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">"block_types"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">"description_kind"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"plain"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">"alicloud_config_rule"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">"version"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">"block"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">"attributes"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token property" style="color:#36acaa">"compliance"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token property" style="color:#36acaa">"type"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  </span><span class="token string" style="color:#e3116c">"list"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token string" style="color:#e3116c">"object"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                      </span><span class="token property" style="color:#36acaa">"compliance_type"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"string"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                      </span><span class="token property" style="color:#36acaa">"count"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"number"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token property" style="color:#36acaa">"description_kind"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"plain"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token property" style="color:#36acaa">"computed"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token property" style="color:#36acaa">"resource_types_scope"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token property" style="color:#36acaa">"type"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"list"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"string"</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token property" style="color:#36acaa">"description_kind"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"plain"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token property" style="color:#36acaa">"optional"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token property" style="color:#36acaa">"computed"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"data_source_schemas"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ç»è¿‡ KCL Import å·¥å…·å¯ä»¥è¾“å‡ºä¸ºå¦‚ä¸‹ KCL ä»£ç </p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">"""</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">This file was generated by the KCL auto-gen tool. DO NOT EDIT.</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">Editing this file might prove futile when you re-run the KCL auto-gen generate command.</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">"""</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">schema AlicloudConfigRule</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:#e3116c">"""</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    AlicloudConfigRule</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="display:inline-block;color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    Attributes</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    ----------</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    compliance: [ComplianceObject], optional</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    resource_types_scope: [str], optional</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    """</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    compliance?</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">ComplianceObject</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    resource_types_scope?</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">schema ComplianceObject</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:#e3116c">"""</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    ComplianceObject</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="display:inline-block;color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    Attributes</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    ----------</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    compliance_type: str, optional</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    count: int, optional</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    """</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    compliance_type?</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    count?</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">schema AlicloudDbInstance</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:#e3116c">"""</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    AlicloudDbInstance</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="display:inline-block;color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    Attributes</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    ----------</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    db_instance_type: str, optional</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    engine: str, required</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    security_group_ids: [str], optional</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    security_ips: [str], optional</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    tags: {str:str}, optional</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    """</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    db_instance_type?</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    engine</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    security_group_ids?</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    security_ips?</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    tags?</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">:</span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    check</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        isunique</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">security_group_ids</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        isunique</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">security_ips</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="åŒ…ç®¡ç†å·¥å…·-kpm-æ›´æ–°">åŒ…ç®¡ç†å·¥å…· KPM æ›´æ–°<a href="#åŒ…ç®¡ç†å·¥å…·-kpm-æ›´æ–°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="kpm-pull-æ”¯æŒé€šè¿‡åŒ…åæ‹‰å–-kcl-package">kpm pull æ”¯æŒé€šè¿‡åŒ…åæ‹‰å– kcl package<a href="#kpm-pull-æ”¯æŒé€šè¿‡åŒ…åæ‹‰å–-kcl-package" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><p>kpm æ”¯æŒé€šè¿‡ kpm pull &lt;package_name&gt;:&lt;package_version&gt; çš„æ–¹å¼æ‹‰å–å¯¹åº”çš„åŒ…ã€‚
ä»¥ <code>k8s</code>åŒ…ä¸ºä¾‹ï¼Œä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤ç›´æ¥ä¸‹è½½å¯¹åº”çš„åŒ…åˆ°æœ¬åœ°ã€‚</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kpm pull k8s</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æˆ–è€…</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kpm pull k8s:1.27</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>kpm pull ä¸‹è½½çš„åŒ…ï¼Œå°†ä¼šä¸ºæ‚¨ä¿å­˜åœ¨ <code>æ‰§è¡Œå‘½ä»¤çš„ç›®å½•/&lt;oci registry&gt;/&lt;package_name&gt;</code>ç›®å½•ä¸‹, ä»¥ kpm é»˜è®¤çš„ registry ä¸ºä¾‹ï¼Œåœ¨ä½¿ç”¨ <code>kpm pull k8s</code>å‘½ä»¤åï¼Œæ‚¨èƒ½åœ¨<code>æ‰§è¡Œå‘½ä»¤çš„ç›®å½•/ghcr.io/kcl-lang/k8s</code>ç›®å½•ä¸‹æ‰¾åˆ°æ‚¨ä¸‹è½½çš„å†…å®¹ã€‚</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ tree ghcr.io/kcl-lang/k8s -L 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ghcr.io/kcl-lang/k8s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€ api</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€ apiextensions_apiserver</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€ apimachinery</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€ kcl.mod</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€ kcl.mod.lock</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€ kube_aggregator</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â””â”€â”€ vendor</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">6 directories, 2 files</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="kpm-æ”¯æŒæ·»åŠ æœ¬åœ°è·¯å¾„ä½œä¸ºä¾èµ–">kpm æ”¯æŒæ·»åŠ æœ¬åœ°è·¯å¾„ä½œä¸ºä¾èµ–<a href="#kpm-æ”¯æŒæ·»åŠ æœ¬åœ°è·¯å¾„ä½œä¸ºä¾èµ–" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><p>"ä¸åŒçš„é¡¹ç›®å¯¹åº”çš„ KCL åŒ…ä¸ä¸€æ ·ï¼Œä»–ä»¬ä¹‹é—´å­˜åœ¨ä¾èµ–å…³ç³»ï¼Œä½†æ˜¯ä»–ä»¬ä¿å­˜åœ¨ä¸åŒçš„ç›®å½•ä¸‹ï¼Œæˆ‘å¸Œæœ›è¿™äº›ä¿å­˜åœ¨ä¸åŒç›®å½•ä¸‹çš„åŒ…èƒ½å¤Ÿè¢«ç»Ÿä¸€ç®¡ç†èµ·æ¥ï¼Œè€Œä¸æ˜¯åªæœ‰æŠŠä»–ä»¬æ”¾åœ¨ä¸€èµ·ä»–ä»¬æ‰èƒ½é€šè¿‡ç¼–è¯‘ã€‚" å¦‚æœæ‚¨ä¹Ÿæœ‰è¿™æ ·çš„éœ€æ±‚ï¼Œæ‚¨å¯ä»¥æ¥è¯•è¯•è¿™ä¸ªåŠŸèƒ½ã€‚kpm add ç›®å‰æ”¯æŒå°†æœ¬åœ°è·¯å¾„ä½œä¸ºä¾èµ–æ·»åŠ åˆ° kcl åŒ…ä¸­ï¼Œæ‚¨åªéœ€è¦<code>kpm add &lt;local_package_path&gt;</code>è¿™æ ·çš„å‘½ä»¤ï¼Œä¾¿å¯ä»¥å°†æ‚¨æœ¬åœ°çš„åŒ…ä½œä¸ºä¸‰æ–¹åº“æ·»åŠ åˆ°å½“å‰åŒ…çš„ä¾èµ–ä¸­ã€‚</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kpm pull k8s</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>å®Œæˆåæ‚¨å¯ä»¥åœ¨ â€œæ‰§è¡Œå‘½ä»¤çš„ç›®å½•/ghcr.io/kcl-lang/k8sâ€ æ‰¾åˆ°ä¸‹è½½çš„ k8s åŒ…ã€‚
ä½¿ç”¨ kpm init mynginx å‘½ä»¤ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„ kcl åŒ…ã€‚</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kpm init mynginx</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ç„¶åï¼Œè¿›å…¥è¿™ä¸ªåŒ…å†…</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">cd</span><span class="token plain"> mynginx</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>åœ¨è¿™ä¸ªåŒ…å†…ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ kpm add å‘½ä»¤å°†æ‚¨åˆšæ‰ä¸‹è½½åˆ°æœ¬åœ°çš„ k8s åŒ…ä½œä¸ºä¸‰æ–¹åº“æ·»åŠ åˆ° mynginx çš„ä¾èµ–ä¸­ã€‚</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kpm </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">/ghcr.io/kcl-lang/k8s/</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æ¥ä¸‹æ¥ä¸º main.k æ·»åŠ å¦‚ä¸‹å†…å®¹</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">import</span><span class="token plain"> k8s.api.core.v1 as k8core</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">k8core.Pod </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    metadata.name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"web-app"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    spec.containers </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"main-container"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        image </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"nginx"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ports </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">containerPort: </span><span class="token number" style="color:#36acaa">80</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>é€šè¿‡ kpm run å¯ä»¥è¿›è¡Œæ­£å¸¸çš„ç¼–è¯‘</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kpm run</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="kpm-å¢åŠ å¯¹å·²ç»å­˜åœ¨çš„åŒ…-tag-è¿›è¡Œæ£€æŸ¥">kpm å¢åŠ å¯¹å·²ç»å­˜åœ¨çš„åŒ… tag è¿›è¡Œæ£€æŸ¥<a href="#kpm-å¢åŠ å¯¹å·²ç»å­˜åœ¨çš„åŒ…-tag-è¿›è¡Œæ£€æŸ¥" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><p>kpm push ä¸­å¢åŠ äº†å¯¹ tag é‡å¤çš„æ£€æŸ¥ï¼Œä¸ºäº†é¿å…å‡ºç°ç›¸åŒ tag çš„åŒ…å­˜åœ¨ä¸åŒçš„å†…å®¹çš„æƒ…å†µï¼Œæˆ‘ä»¬åœ¨ kpm ä¸­å¢åŠ äº†å¯¹ push åŠŸèƒ½çš„é™åˆ¶ï¼Œå¦‚æœæ‚¨ push çš„ kcl åŒ…çš„ç‰ˆæœ¬å·²ç»å­˜åœ¨ï¼Œé‚£ä¹ˆï¼Œæ‚¨å°†æ— æ³• push å½“å‰çš„ kcl åŒ…ã€‚æ‚¨å°†ä¼šå¾—åˆ°å¦‚ä¸‹ä¿¡æ¯ï¼š</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kpm: package </span><span class="token string" style="color:#e3116c">'my_package'</span><span class="token plain"> will be pushed.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kpm: package version </span><span class="token string" style="color:#e3116c">'0.1.0'</span><span class="token plain"> already exists</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>å¯¹ä¸€ä¸ªå·²ç» push åˆ° Registry ä¸­çš„ kcl åŒ…ï¼Œåœ¨ä¸æ”¹å˜ tag çš„æƒ…å†µä¸‹æ”¹åŠ¨åŒ…çš„å†…å®¹ï¼Œä¼šäº§ç”Ÿå¾ˆå¤§çš„é£é™©ï¼Œå› ä¸ºè¿™ä¸ªåŒ…æœ‰å¯èƒ½å·²ç»è¢«å…¶ä»–äººä½¿ç”¨äº†ï¼Œå› æ­¤ï¼Œå¦‚æœæ‚¨éœ€è¦ push æ‚¨çš„åŒ…ï¼Œæˆ‘ä»¬å»ºè®®</p><ul><li>å˜æ›´æ‚¨çš„ tag, å¹¶ä¸”å»ºè®®æ‚¨éµå®ˆè¯­ä¹‰åŒ–ç‰ˆæœ¬çš„è§„èŒƒã€‚</li><li>å¦‚æœè¿«ä¸å¾—å·²éœ€è¦åœ¨ tag ä¸èƒ½å˜æ›´çš„æƒ…å†µä¸‹æ”¹å˜åŒ…çš„å†…å®¹ï¼Œæ‚¨åªèƒ½åˆ° Registry ä¸Šåˆ é™¤å·²æœ‰çš„ tagã€‚</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ç¤¾åŒºé›†æˆ--æ‰©å±•æ›´æ–°">ç¤¾åŒºé›†æˆ &amp; æ‰©å±•æ›´æ–°<a href="#ç¤¾åŒºé›†æˆ--æ‰©å±•æ›´æ–°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="helmfile-kcl-æ’ä»¶">Helmfile KCL æ’ä»¶<a href="#helmfile-kcl-æ’ä»¶" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>Helmfile æ˜¯ç”¨äºéƒ¨ç½² Helm Chart çš„å£°æ˜æ€§è§„èŒƒå’Œå·¥å…·ï¼Œé€šè¿‡ Helmfile KCL æ’ä»¶æ‚¨å¯ä»¥</p><ul><li>é€šè¿‡æ— ä¾µå…¥çš„ Hook æ–¹å¼ç¼–è¾‘æˆ–è€…éªŒè¯ Helm Chart é…ç½®ï¼Œå°† Kubernetes é…ç½®ç®¡ç†çš„æ•°æ®éƒ¨åˆ†å’Œé€»è¾‘éƒ¨åˆ†åˆ†ç¦»<ul><li>ä¿®æ”¹èµ„æºæ ‡ç­¾/æ³¨è§£, æ³¨å…¥ Sidecar å®¹å™¨é…ç½®</li><li>ä½¿ç”¨ KCL Schema æ ¡éªŒèµ„æºï¼Œå®šä¹‰è‡ªå·±çš„æŠ½è±¡æ¨¡å‹å¹¶åˆ†äº«å¤ç”¨</li></ul></li><li>ä¼˜é›…åœ°ç»´æŠ¤å¤šç¯å¢ƒã€å¤šç§Ÿæˆ·åœºæ™¯é…ç½®ï¼Œè€Œä¸æ˜¯ç®€å•åœ°å¤åˆ¶ç²˜è´´</li></ul><p>ä¸‹é¢ä»¥ä¸€ä¸ªç®€å•ç¤ºä¾‹è¿›è¡Œè¯¦ç»†è¯´æ˜ï¼Œä½¿ç”¨ Helmfile KCL æ’ä»¶æ— éœ€æ‚¨å®‰è£…ä¸ KCL ä»»ä½•ç›¸å…³çš„ç»„ä»¶ï¼Œåªéœ€æœ¬æœºå…·å¤‡ Helmfile å·¥å…·çš„æœ€æ–°ç‰ˆæœ¬å³å¯ã€‚</p><p>æˆ‘ä»¬å¯ä»¥ç¼–å†™ä¸€ä¸ªå¦‚ä¸‹æ‰€ç¤º&nbsp;<code>helmfile.yaml</code>&nbsp;æ–‡ä»¶</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">repositories</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">&nbsp;name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">&nbsp;prometheus</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">community</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;url</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">&nbsp;https</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">//prometheus</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">community.github.io/helm</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">charts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">releases</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">&nbsp;name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">&nbsp;prom</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">norbac</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">ubuntu</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;namespace</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">&nbsp;prometheus</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;chart</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">&nbsp;prometheus</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">community/prometheus</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;set</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">&nbsp;name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">&nbsp;rbac.create</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;&nbsp;&nbsp;value</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">&nbsp;</span><span class="token boolean important" style="color:#36acaa">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;transformers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;</span><span class="token comment" style="color:#999988;font-style:italic">#&nbsp;Use&nbsp;KCL&nbsp;Plugin&nbsp;to&nbsp;mutate&nbsp;or&nbsp;validate&nbsp;Kubernetes&nbsp;manifests.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">&nbsp;apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">&nbsp;krm.kcl.dev/v1alpha1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;&nbsp;&nbsp;kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">&nbsp;KCLRun</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;&nbsp;&nbsp;metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">&nbsp;</span><span class="token string" style="color:#e3116c">"set-annotation"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;annotations</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;config.kubernetes.io/function</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">&nbsp;</span><span class="token punctuation" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;container</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">&nbsp;docker.io/kcllang/kustomize</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">kcl</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">v0.2.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;&nbsp;&nbsp;spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">&nbsp;</span><span class="token punctuation" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">resource&nbsp;</span><span class="token punctuation" style="color:#393A34">|</span><span class="token plain">&nbsp;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">if&nbsp;resource.kind&nbsp;==&nbsp;"Deployment"</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">&nbsp;metadata.annotations</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">&nbsp;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">"managed</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">by"&nbsp;=&nbsp;"helmfile</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">kcl"</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">&nbsp;for&nbsp;resource&nbsp;in&nbsp;option("resource_list").items</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>åœ¨ä¸Šè¿°é…ç½®ä¸­ï¼Œæˆ‘ä»¬å¼•ç”¨äº† Prometheus Helm Chart, å¹¶é€šè¿‡ä¸€è¡Œ KCL ä»£ç å°±å¯ä»¥å®Œæˆ Prometheus çš„æ‰€æœ‰çš„ Deployment èµ„æºæ³¨å…¥æ ‡ç­¾&nbsp;<code>managed-by="helmfile-kcl"</code>ï¼Œé€šè¿‡å¦‚ä¸‹å‘½ä»¤æˆ‘ä»¬å¯ä»¥å°†ä¸Šè¿°é…ç½®ä¸‹å‘åˆ°é›†ç¾¤</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">helmfile&nbsp;apply</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æ›´å¤šç”¨ä¾‹å¯ä»¥å‚è€ƒ<a href="https://github.com/kcl-lang/krm-kcl" target="_blank" rel="noopener noreferrer">è¿™é‡Œ</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="kcl-operator">KCL Operator<a href="#kcl-operator" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>KCL Operator æä¾›äº† Kubernetes é›†ç¾¤é›†æˆï¼Œå…è®¸æ‚¨åœ¨å°†èµ„æºåº”ç”¨åˆ°é›†ç¾¤æ—¶ä½¿ç”¨ Access Webhook æ ¹æ® KCL é…ç½®ç”Ÿæˆã€å˜å¼‚æˆ–éªŒè¯èµ„æºã€‚Webhook å°†æ•è·åˆ›å»ºã€åº”ç”¨å’Œç¼–è¾‘æ“ä½œï¼Œå¹¶ <code>KCLRun</code> åœ¨ä¸æ¯ä¸ªæ“ä½œå…³è”çš„é…ç½®ä¸Šæ‰§è¡Œèµ„æºï¼Œæ¯”å¦‚å¯ä»¥ä½¿ç”¨ KCL è¯­è¨€å®Œæˆå¦‚ä¸‹åŠŸèƒ½</p><ul><li>ä½¿ç”¨ KCL å¯¹èµ„æºè¿›è¡Œä¿®æ”¹ï¼Œå¦‚æ ¹æ®æŸä¸ªæ¡ä»¶æ·»åŠ /ä¿®æ”¹ label æ ‡ç­¾æˆ– annotation æ³¨é‡Šæˆ–åœ¨åŒ…å« PodTemplate çš„æ‰€æœ‰ Kubernetes Resource Model (KRM) èµ„æºä¸­æ³¨å…¥ Sidecar å®¹å™¨é…ç½®ç­‰ã€‚</li><li>ä½¿ç”¨ KCL Schema éªŒè¯æ‰€æœ‰ KRM èµ„æºï¼Œå¦‚çº¦æŸåªèƒ½ä»¥ Root æ–¹å¼å¯åŠ¨å®¹å™¨ç­‰ã€‚</li><li>ä½¿ç”¨æŠ½è±¡æ¨¡å‹ç”Ÿæˆ KRM èµ„æºæˆ–è€…å¯¹ä¸åŒçš„ KRM API è¿›è¡Œç»„åˆå¹¶ä½¿ç”¨ã€‚</li></ul><p>ä¸‹é¢ä»¥ä¸€ä¸ªç®€å•çš„èµ„æº annotation æ³¨è§£ä¿®æ”¹ç¤ºä¾‹ä»‹ç» KCL Operator çš„ä½¿ç”¨æ–¹å¼</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="0å‰ç½®æ¡ä»¶">0.å‰ç½®æ¡ä»¶<a href="#0å‰ç½®æ¡ä»¶" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><p>é€šè¿‡ k3d ç­‰å·¥å…·å‡†å¤‡ä¸€ä¸ª Kubernetes é›†ç¾¤ä»¥åŠ kubectl å·¥å…·</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="1-å®‰è£…-kcl-operator">1. å®‰è£… KCL Operator<a href="#1-å®‰è£…-kcl-operator" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f https://raw.githubusercontent.com/kcl-lang/kcl-operator/main/config/all.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è§‚å¯Ÿå¹¶ç­‰å¾… pod çŠ¶æ€ä¸º Runningã€‚</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get po</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="2-éƒ¨ç½²æ³¨è§£ä¿®æ”¹æ¨¡å‹">2. éƒ¨ç½²æ³¨è§£ä¿®æ”¹æ¨¡å‹<a href="#2-éƒ¨ç½²æ³¨è§£ä¿®æ”¹æ¨¡å‹" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f- </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">EOF</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">apiVersion: krm.kcl.dev/v1alpha1</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">kind: KCLRun</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">metadata:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  name: set-annotation</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">spec:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  # è®¾ç½®æ³¨è§£ä¿®æ”¹æ¨¡å‹æ‰€éœ€çš„åŠ¨æ€å‚æ•°ï¼Œåœ¨æ­¤å¤„æˆ‘ä»¬å¯ä»¥æ·»åŠ æˆ‘ä»¬æƒ³è¦ä¿®æ”¹/æ·»åŠ çš„æ ‡ç­¾</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  params:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    annotations:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      managed-by: kcl-operator</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  # å¼•ç”¨ OCI ä¸Šæ³¨è§£ä¿®æ”¹æ¨¡å‹</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  source: oci://ghcr.io/kcl-lang/set-annotation</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">EOF</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="3-éƒ¨ç½²ä¸€ä¸ª-pod-èµ„æºéªŒè¯æ¨¡å‹ç»“æœ">3. éƒ¨ç½²ä¸€ä¸ª Pod èµ„æºéªŒè¯æ¨¡å‹ç»“æœ<a href="#3-éƒ¨ç½²ä¸€ä¸ª-pod-èµ„æºéªŒè¯æ¨¡å‹ç»“æœ" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><p>æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤éƒ¨ç½²ä¸€ä¸ª Pod èµ„æº</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f- </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">EOF</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">apiVersion: v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">kind: Pod</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">metadata:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  name: nginx</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  annotations:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    app: nginx</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">spec:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  containers:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  - name: nginx</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    image: nginx:1.14.2</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    ports:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    - containerPort: 80</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">EOF</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get po nginx -o yaml </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">grep</span><span class="token plain"> kcl-operator</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å¦‚ä¸‹è¾“å‡º</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    managed-by: kcl-operator</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æˆ‘ä»¬å¯ä»¥å‘ç° Nginx Pod ä¸Šè‡ªåŠ¨æ·»åŠ äº† <code>managed-by=kcl-operator</code> æ³¨è§£</p><p><img loading="lazy" alt="registry" src="/zh-CN/assets/images/registry-b5cd8f6cff3682c13bd30d3ce0eeaa18.png" width="1972" height="1000" class="img_ev3q"></p><p>æ­¤å¤–ï¼Œæˆ‘ä»¬å·²ç»åœ¨ KCL å®˜æ–¹ Registry ä¸­å¼€ç®±æä¾›äº†å¤šè¾¾ 30 ä¸ªå†…ç½®æ¨¡å‹å¯ä»¥å…è®¸æ‚¨åœ¨è½»æ˜“å®Œæˆå¯¹å·²æœ‰ Kubernetes èµ„æºçš„ç¼–è¾‘ã€æ ¡éªŒå’ŒæŠ½è±¡ã€‚</p><p>æ¯”å¦‚ä½¿ç”¨ web-service æ¨¡å‹ç›´æ¥å®ä¾‹åŒ–å‡ºä¸€ä¸ª web åº”ç”¨æ‰€éœ€çš„ Kubernetes èµ„æºï¼›ä½¿ç”¨ set-annotation æ¨¡å‹å¯¹å·²æœ‰çš„ k8s èµ„æºæ·»åŠ  annotationï¼›ä½¿ç”¨ https-only æ¨¡å‹æ ¡éªŒæ‚¨çš„ Ingress é…ç½®åªèƒ½è®¾ç½®ä¸º https, å¦åˆ™æŠ¥é”™ã€‚</p><p><a href="https://github.com/kcl-lang/krm-kcl/tree/main/examples" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/krm-kcl/tree/main/examples</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="vault-é›†æˆ">Vault é›†æˆ<a href="#vault-é›†æˆ" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>ä»…éœ€ä¸‰æ­¥ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ Vault æ¥å­˜å‚¨å¹¶ç®¡ç†æ•æ„Ÿä¿¡æ¯å¹¶åœ¨ KCL ä¸­ä½¿ç”¨ã€‚</p><p>é¦–å…ˆæˆ‘ä»¬å®‰è£…å¹¶ä½¿ç”¨ Vault å­˜å‚¨ <code>foo</code> å’Œ <code>bar</code> ä¿¡æ¯</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">vault kv put secret/foo </span><span class="token assign-left variable" style="color:#36acaa">foo</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">foo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vault kv put secret/bar </span><span class="token assign-left variable" style="color:#36acaa">bar</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">bar</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ç„¶åç¼–å†™å¦‚ä¸‹ KCL ä»£ç  (main.k)</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">apiVersion </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"apps/v1"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kind </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Deployment"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">metadata </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"nginx"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    labels</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">app </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"nginx"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    annotations</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">"secret-store"</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"vault"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Valid format:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">#  "ref+vault://PATH/TO/KV_BACKEND#/KEY"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">"foo"</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"ref+vault://secret/foo#/foo"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">"bar"</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"ref+vault://secret/bar#/bar"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spec </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    replicas </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    selector</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">matchLabels </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> metadata</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">labels</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    template</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">metadata</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">labels </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> metadata</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">labels</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    template</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">spec</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">containers </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> metadata</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            image </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"${metadata.name}:1.14.2"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ports </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> containerPort </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">80</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æœ€åå¯ä»¥é€šè¿‡ Vals å‘½ä»¤è¡Œå·¥å…·è·å¾—è§£å¯†åçš„é…ç½®</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kcl main.k </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> vals </span><span class="token builtin class-name">eval</span><span class="token plain"> -f -</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æ›´å¤šè¯¦æƒ…å’Œç”¨ä¾‹å¯ä»¥å‚è€ƒ <a href="https://kcl-lang.io/docs/user_docs/guides/secret-management/vault" target="_blank" rel="noopener noreferrer">https://kcl-lang.io/docs/user_docs/guides/secret-management/vault</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="gitlab-ci-é›†æˆ">GitLab CI é›†æˆ<a href="#gitlab-ci-é›†æˆ" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>åœ¨ä¹‹å‰çš„æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬æåˆ°äº†ä½¿ç”¨ Github Action ä½œä¸º CI é€šè¿‡ GitOps æ–¹å¼è¿›è¡Œåº”ç”¨å‘å¸ƒï¼Œæ­¤æ¬¡ç‰ˆæœ¬ä¸­æˆ‘ä»¬è¿›ä¸€æ­¥æä¾›äº† GitLab CI é›†æˆï¼Œç”¨ä¾‹è¯¦æƒ…å¯å‚è€ƒï¼š<em><a href="https://kcl-lang.io/docs/user_docs/guides/ci-integration/gitlab-ci" target="_blank" rel="noopener noreferrer">https://kcl-lang.io/docs/user_docs/guides/ci-integration/gitlab-ci</a></em></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å…¶ä»–æ›´æ–°ä¸é”™è¯¯ä¿®å¤">å…¶ä»–æ›´æ–°ä¸é”™è¯¯ä¿®å¤<a href="#å…¶ä»–æ›´æ–°ä¸é”™è¯¯ä¿®å¤" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>å®Œæ•´æ›´æ–°å’Œé”™è¯¯ä¿®å¤åˆ—è¡¨<a href="https://github.com/kcl-lang/kcl/compare/v0.5.0...v0.6.0" target="_blank" rel="noopener noreferrer">è¯¦è§</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="æ–‡æ¡£æ›´æ–°">æ–‡æ¡£æ›´æ–°<a href="#æ–‡æ¡£æ›´æ–°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p><a href="https://kcl-lang.io/" target="_blank" rel="noopener noreferrer">KCL ç½‘ç«™</a> æ–°å¢ KCL v0.6.0 æ–‡æ¡£å†…å®¹å¹¶æ”¯æŒç‰ˆæœ¬åŒ–è¯­ä¹‰é€‰é¡¹ï¼Œç›®å‰æ”¯æŒ v0.4.x, v0.5.x å’Œ v0.6.0 ç‰ˆæœ¬é€‰æ‹©ï¼ŒåŒæ—¶æ¬¢è¿ç¤¾åŒºåŒå­¦è¿›è¡Œæ–‡æ¡£å…±å»ºã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ç¤¾åŒºåŠ¨æ€">ç¤¾åŒºåŠ¨æ€<a href="#ç¤¾åŒºåŠ¨æ€" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><ul><li>æ„Ÿè°¢ @jakezhu9 å¯¹ KCL Import å·¥å…·åŒ…æ‹¬ Terraform Provider Schema, JsonSchema, Json, YAML ç­‰é…ç½®æ ¼å¼/æ•°æ®åˆ° KCL Schema/é…ç½®çš„è½¬æ¢ ğŸ™Œ</li><li>æ„Ÿè°¢ @xxmao123 å¯¹ KCL LSP è¯­è¨€æœåŠ¡å™¨æ¥å…¥åˆ° Idea IDE æ’ä»¶çš„è´¡çŒ® ğŸ™Œ</li><li>æ„Ÿè°¢ @starkers å¯¹ KCL NeoVim æ’ä»¶çš„è´¡çŒ® ğŸ™Œ</li><li>æ„Ÿè°¢ @starkers å¯¹ mason.nvim registry å¢åŠ  KCL çš„å®‰è£…æ”¯æŒ ğŸ™Œ</li><li>æ„Ÿè°¢ @Ekko å¯¹ KCL äº‘åŸç”Ÿå·¥å…·é›†æˆä»¥åŠ KCL Operator çš„è´¡çŒ® ğŸ™Œ</li><li>æ„Ÿè°¢ @prahaladramji å¯¹ KCL Homebrew å®‰è£…è„šæœ¬çš„å‡çº§æ›´æ–°ä¸è´¡çŒ® ğŸ™Œ</li><li>æ„Ÿè°¢ @yyxhero åœ¨ Helmfile KCL æ’ä»¶æ”¯æŒä¸­æä¾›çš„å¸®åŠ©ä¸æ”¯æŒ ğŸ™Œ</li><li>æ„Ÿè°¢ @nkabir, @mihaigalos, @prahaladramji, @yamin-oanda, @dhhopen,@magick93, @MirKml, @kolloch, @steeling ç­‰åœ¨è¿‡å»ä¸¤ä¸ªæœˆä½¿ç”¨ KCL è¿‡ç¨‹ä¸­æå‡ºçš„å®è´µåé¦ˆå’Œè®¨è®º&nbsp;ğŸ™Œ</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å¸¸è§é—®é¢˜åŠè§£ç­”">å¸¸è§é—®é¢˜åŠè§£ç­”<a href="#å¸¸è§é—®é¢˜åŠè§£ç­”" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>è¯¦è§ <a href="https://kcl-lang.io/docs/user_docs/support/faq-kcl" target="_blank" rel="noopener noreferrer">KCL å¸¸è§é—®é¢˜</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å…¶ä»–èµ„æº">å…¶ä»–èµ„æº<a href="#å…¶ä»–èµ„æº" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>æ„Ÿè°¢æ‰€æœ‰ KCL ç”¨æˆ·å’Œç¤¾åŒºå°ä¼™ä¼´åœ¨æ­¤æ¬¡ç‰ˆæœ¬æ›´æ–°è¿‡ç¨‹ä¸­æå‡ºçš„å®è´µåé¦ˆä¸å»ºè®®ã€‚</p><p>æ›´å¤šå…¶ä»–èµ„æºè¯·å‚è€ƒï¼š</p><ul><li><a href="https://kcl-lang.io/" target="_blank" rel="noopener noreferrer">KCL ç½‘ç«™</a></li><li><a href="https://kusionstack.io/" target="_blank" rel="noopener noreferrer">Kusion ç½‘ç«™</a></li><li><a href="https://github.com/kcl-lang/kcl" target="_blank" rel="noopener noreferrer">KCL GitHub ä»“åº“</a></li><li><a href="https://github.com/KusionStack/kusion" target="_blank" rel="noopener noreferrer">Kusion GitHub ä»“åº“</a></li></ul><p>æ¬¢è¿åŠ å…¥æˆ‘ä»¬çš„ç¤¾åŒºè¿›è¡Œäº¤æµ ğŸ‘ğŸ‘ğŸ‘ï¼š<a href="https://github.com/kcl-lang/community" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/community</a></p>]]></content>
        <author>
            <name>KCL Team</name>
        </author>
        <category label="Release Blog" term="Release Blog"/>
        <category label="KCL" term="KCL"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[åŠ¨æ€é…ç½®ç®¡ç†æ–°èŒƒå¼: KRM KCL è§„èŒƒ]]></title>
        <id>https://kcl-lang.github.io/zh-CN/blog/2023-09-06-dcm-using-kcl</id>
        <link href="https://kcl-lang.github.io/zh-CN/blog/2023-09-06-dcm-using-kcl"/>
        <updated>2023-09-08T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[å‰è¨€]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="å‰è¨€">å‰è¨€<a href="#å‰è¨€" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><blockquote><p>éšç€äº‘åŸç”ŸæŠ€æœ¯çš„å‘å±•ï¼Œæˆ‘ä»¬æ›´å¤šåœ°è½¬å‘äº‘åŸºç¡€è®¾æ–½ï¼ŒKubernetes å’Œ Terraform ç­‰ IaC å·¥å…·å·²æˆä¸ºè¶Šæ¥è¶Šæµè¡Œçš„ç®¡ç†å’Œéƒ¨ç½²åŸºäºäº‘ API çš„åº”ç”¨ç¨‹åºçš„å·¥å…·ã€‚ä½†æ˜¯éšä¹‹è€Œæ¥è¡ç”Ÿå‡ºçš„å¤æ‚æ€§é—®é¢˜å’Œè®¤çŸ¥è´Ÿæ‹…é—®é¢˜åœ¨è¿‘å‡ å¹´è¾¾åˆ°äº†é«˜å³°ã€‚</p></blockquote><p><img loading="lazy" alt="cognitive-loading" src="/zh-CN/assets/images/cognitive-loading-cd34fd0e961c6bca77ebf85ae4a7c97d.png" width="1492" height="742" class="img_ev3q"></p><p>Kubernetes å’Œäº‘ API è¶Šæ¥è¶Šå¤æ‚çš„åŸå› ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç‚¹ï¼š</p><ul><li><strong>ä¸æ–­å¢åŠ çš„åŠŸèƒ½å’Œèƒ½åŠ›</strong>ï¼šKubernetes å’Œäº‘ API éƒ½æ˜¯ä¸ºäº†åº”å¯¹ä¸æ–­å¢é•¿çš„åº”ç”¨éœ€æ±‚å’Œäº‘è®¡ç®—çš„å‘å±•è€Œä¸æ–­æ¼”è¿›ã€‚ä¸ºäº†æ»¡è¶³ç”¨æˆ·çš„éœ€æ±‚ï¼Œå®ƒä»¬ä¸æ–­å¼•å…¥æ–°çš„åŠŸèƒ½å’Œèƒ½åŠ›ï¼Œå¦‚è‡ªåŠ¨æ‰©å±•ã€æœåŠ¡å‘ç°ã€è´Ÿè½½å‡è¡¡ã€æƒé™ç®¡ç†ç­‰ã€‚è¿™äº›æ–°åŠŸèƒ½çš„å¼•å…¥å¢åŠ äº†ç³»ç»Ÿçš„å¤æ‚æ€§ã€‚è™½ç„¶æˆ‘ä»¬å·²ç»æœ‰äº†å„å¼å„æ ·çš„è‡ªåŠ¨åŒ–æ‰‹æ®µï¼Œéšç€æ—¶é—´çš„æ¨ç§»ï¼Œå› ä¸ºä¸åŒèµ„æºç±»å‹çš„æ•°é‡ã€è¿™äº›èµ„æºç±»å‹çš„æ½œåœ¨è®¾ç½®æ•°é‡ä»¥åŠè¿™äº›èµ„æºç±»å‹ä¹‹é—´çš„å¤æ‚å…³ç³»å‘ˆæŒ‡æ•°çº§å¢é•¿</li><li><strong>å¤æ‚çš„é…ç½®å’Œç®¡ç†éœ€æ±‚</strong>ï¼šéšç€åº”ç”¨è§„æ¨¡çš„å¢é•¿ï¼Œé…ç½®å’Œç®¡ç† Kubernetes å’Œäº‘ API å˜å¾—è¶Šæ¥è¶Šå¤æ‚ã€‚ä¾‹å¦‚ï¼Œéœ€è¦ç®¡ç†å¤§é‡çš„å®¹å™¨å®ä¾‹å’Œèµ„æºã€é…ç½®å¤æ‚çš„ç½‘ç»œå’Œå­˜å‚¨ã€å®ç°é«˜å¯ç”¨æ€§å’Œè´Ÿè½½å‡è¡¡ï¼Œéœ€è¦é’ˆå¯¹ä¸åŒçš„ç¯å¢ƒå’Œæ‹“æ‰‘é‡å¤çš„è¿›è¡Œé…ç½®ç­‰ã€‚è¿™äº›å¤æ‚çš„é…ç½®å’Œç®¡ç†éœ€æ±‚å¢åŠ äº† Kubernetes å’Œäº‘ API çš„å¤æ‚æ€§ï¼Œå¼€ç©ç¬‘çš„è¯´ç”šè‡³åœ¨ Kubernetes é¢†åŸŸå¸¸å¸¸ä¼´éšå‚¬ç”Ÿäº†ä¸€æ‰¹ YAML å·¥ç¨‹å¸ˆã€‚</li></ul><p>å°½ç®¡ Kubernetes å’Œäº‘ API çš„å¤æ‚æ€§æ„ˆå‘å¢åŠ ï¼Œä½†å®ƒä»¬æä¾›äº†å¼ºå¤§çš„åŠŸèƒ½å’Œçµæ´»æ€§ï¼Œå¯ä»¥å¸®åŠ©ç»„ç»‡æ›´å¥½åœ°ç®¡ç†å’Œæ‰©å±•å…¶åº”ç”¨ç¨‹åºã€‚é€šè¿‡ä½¿ç”¨é€‚å½“çš„å·¥å…·ã€å·¥ç¨‹å®è·µå’Œæ–¹æ³•ï¼Œå¯ä»¥å‡è½»è¿™ç§å¤æ‚æ€§ï¼Œå¹¶æ›´æœ‰æ•ˆåœ°åˆ©ç”¨è¿™äº›æŠ€æœ¯æ¥æ»¡è¶³ä¸šåŠ¡éœ€æ±‚ã€‚åŠ¨æ€é…ç½®ç®¡ç†æŠ€æœ¯ä¾¿æ˜¯å…¶ä¸­ä¹‹ä¸€å¯ä»¥ä¸€å®šç¨‹åº¦å¸®åŠ©è§£å†³ Kubernetes å’Œäº‘ API çš„å¤æ‚æ€§ã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ä»€ä¹ˆæ˜¯åŠ¨æ€é…ç½®ç®¡ç†">ä»€ä¹ˆæ˜¯åŠ¨æ€é…ç½®ç®¡ç†<a href="#ä»€ä¹ˆæ˜¯åŠ¨æ€é…ç½®ç®¡ç†" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>æˆ‘ä»¬éµå¾ªåŠ¨æ€é…ç½®ç®¡ç†çš„åˆ›å»ºè€… Chris Stephenson çš„<a href="https://humanitec.com/blog/what-is-dynamic-configuration-management" target="_blank" rel="noopener noreferrer">åŸå§‹å®šä¹‰</a>å¹¶è¿›è¡Œä¸€å®šç¨‹åº¦çš„å»¶ä¼¸</p><blockquote><p>åŠ¨æ€é…ç½®ç®¡ç†ï¼ˆDCMï¼‰æ˜¯ä¸€ç§ç”¨äºæ„å»ºè®¡ç®—å·¥ä½œè´Ÿè½½é…ç½®çš„æ–¹æ³•ã€‚å¼€å‘äººå‘˜åˆ›å»ºå·¥ä½œè´Ÿè½½è§„èŒƒï¼Œæè¿°æˆåŠŸè¿è¡Œå·¥ä½œè´Ÿè½½æ‰€éœ€çš„ä¸€åˆ‡ã€‚è¯¥è§„èŒƒç”¨äºåŠ¨æ€åˆ›å»ºé…ç½®ï¼Œä»¥ä¾¿åœ¨ç‰¹å®šç¯å¢ƒä¸­éƒ¨ç½²å·¥ä½œè´Ÿè½½ã€‚ä½¿ç”¨ DCMï¼Œå¼€å‘äººå‘˜ä¸éœ€è¦ä¸ºå…¶å·¥ä½œè´Ÿè½½å®šä¹‰æˆ–ç»´æŠ¤ä»»ä½•ç‰¹å®šäºç¯å¢ƒçš„é…ç½®ã€‚</p></blockquote><p>åŠ¨æ€é…ç½®ç®¡ç†æ„å‘³ç€å¼€å‘äººå‘˜ä»¥<strong>æŠ½è±¡çš„</strong>ã€<strong>ä¸ç¯å¢ƒæ— å…³</strong>çš„æ–¹å¼æè¿°ä»–ä»¬çš„å·¥ä½œè´Ÿè½½ä¸èµ„æºçš„å…³ç³»ã€‚ä»–ä»¬æè¿°è¿™ç§å…³ç³»çš„æ ¼å¼ç§°ä¸º<strong>å·¥ä½œè´Ÿè½½è§„èŒƒ</strong>æˆ–è€…<strong>ä»¥åº”ç”¨ä¸ºä¸­å¿ƒçš„è§„èŒƒ</strong>ã€‚è¯¥è§„èŒƒæ˜¯é€šç”¨çš„å¹¶ä¸”è·¨ç¯å¢ƒå·¥ä½œï¼Œè¿™æ„å‘³ç€å®ƒæ²¡æœ‰æä¾›è¶³å¤Ÿçš„ä¿¡æ¯æ¥é…ç½®å·¥ä½œè´Ÿè½½å’Œèµ„æºæœ¬èº«ã€‚ä¸ºäº†è·å¾—å¯ä»¥æ‰§è¡Œçš„é…ç½®ï¼Œæˆ‘ä»¬éœ€è¦å°†è§„èŒƒåº”ç”¨äºé…ç½®åŸºçº¿ï¼ˆå¯¹äºåº”ç”¨ç¨‹åºå’ŒåŸºç¡€è®¾æ–½é…ç½®ï¼‰ï¼Œå¹¶æ ¹æ®éƒ¨ç½²çš„ä¸Šä¸‹æ–‡ç”Ÿæˆå®ƒä»¬ã€‚å¯¹äºå¼€å‘äººå‘˜æ¥è¯´ï¼ŒåŠ¨æ€é…ç½®ç®¡ç†éœ€è¦æä¾›å¼€å‘è€…å¯ä»¥ç†è§£çš„ä»¥åº”ç”¨ä¸ºä¸­å¿ƒçš„é…ç½®ç•Œé¢ï¼›å¯¹äºå¹³å°å·¥ç¨‹å¸ˆæ¥è¯´ï¼ŒåŠ¨æ€é…ç½®ç®¡ç†å¯ä»¥å¸®åŠ©å®šä¹‰å¦‚ä½•å¤„ç†é…ç½®èµ„æºå’Œå·¥ä½œè´Ÿè½½è§„èŒƒï¼›è¿™æœ‰åŠ©äºæé«˜ç»„ç»‡çš„ä¸€è‡´æ€§å’Œåˆè§„æ€§ã€‚å®ƒè¿˜ä½¿å¾—æä¾›è‡ªåŠ©å¼å†…éƒ¨å¼€å‘è€…å¹³å° (IDP) å˜å¾—æ›´åŠ å®¹æ˜“ã€‚</p><p>ä¸åŠ¨æ€é…ç½®ç®¡ç†ç›¸å¯¹åº”çš„æ–¹å¼æ˜¯é™æ€é…ç½®ç®¡ç†ï¼Œé™æ€é…ç½®ä¼šå¸¦æ¥ä¸€ç³»åˆ—é—®é¢˜</p><ul><li><strong>ç»´åº¦çˆ†ç‚¸</strong>: å¤§å¤šæ•°é™æ€é…ç½®éœ€è¦ä¸ºæ¯ä¸ªç¯å¢ƒå•ç‹¬è¿›è¡Œé…ç½®ï¼›åœ¨æœ€ç³Ÿç³•çš„æƒ…å†µä¸‹ï¼Œå®ƒå¯èƒ½å¼•å…¥æ¶‰åŠç¯å¢ƒäº¤å‰é“¾æ¥çš„éš¾ä»¥è°ƒè¯•çš„é”™è¯¯ï¼Œç¨³å®šæ€§å’Œæ‰©å±•æ€§éƒ½è¾ƒå·®ã€‚</li><li><strong>é…ç½®æ¼‚ç§»</strong>: å¯¹äºä¸åŒç¯å¢ƒçš„é™æ€ç®¡ç†åº”ç”¨ç¨‹åºå’ŒåŸºç¡€è®¾æ–½é…ç½®çš„æ–¹å¼ï¼Œå¾€å¾€æ²¡æœ‰æ ‡å‡†çš„æ–¹å¼å»ç®¡ç†è¿™äº›åŠ¨æ€çš„ä¸åŒç¯å¢ƒçš„é…ç½®ï¼Œé‡‡ç”¨éæ ‡å‡†åŒ–çš„æ–¹æ³•ä¼šå¯¼è‡´å¤æ‚åº¦å‘ˆæŒ‡æ•°å¢é•¿ï¼Œå¹¶å¯¼è‡´é…ç½®æ¼‚ç§»ã€‚</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ä¸ºä»€ä¹ˆéœ€è¦ä¸€ç§æ–°èŒƒå¼">ä¸ºä»€ä¹ˆéœ€è¦ä¸€ç§æ–°èŒƒå¼<a href="#ä¸ºä»€ä¹ˆéœ€è¦ä¸€ç§æ–°èŒƒå¼" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>æ­£å¦‚è®°å½•éŸ³ä¹æœ‰äº”çº¿è°±ï¼Œå­˜å‚¨æ—¶é—´åºåˆ—æ•°æ®æœ‰æ—¶åºæ•°æ®åº“ä¸€æ ·ï¼Œåœ¨å¹³å°å·¥ç¨‹çš„ç‰¹å®šé—®é¢˜åŸŸå†…ï¼Œä¸€æ‰¹é…ç½®å’Œç­–ç•¥è¯­è¨€ç”¨äºç¼–å†™å’Œç®¡ç†è§„æ¨¡åŒ–å¤æ‚é…ç½®åŠç­–ç•¥ã€‚ä¸åŒäºæ··åˆç¼–å†™èŒƒå¼ã€æ··åˆå·¥ç¨‹èƒ½åŠ›çš„é«˜çº§é€šç”¨è¯­è¨€ï¼Œè¿™ç±»ä¸“ç”¨è¯­è¨€çš„æ ¸å¿ƒé€»è¾‘æ˜¯ä»¥æ”¶æ•›çš„æœ‰é™çš„è¯­æ³•ã€è¯­ä¹‰é›†åˆè§£å†³é¢†åŸŸé—®é¢˜è¿‘ä¹æ— é™çš„å˜åŒ–å’Œå¤æ‚æ€§ï¼Œå°†å¤æ‚é…ç½®å’Œç­–ç•¥ç¼–å†™æ€è·¯å’Œæ–¹å¼æ²‰æ·€åˆ°è¯­è¨€ç‰¹æ€§ä¸­ã€‚</p><p>å¯¹äºäº‘ API, æˆ‘ä»¬å€ŸåŠ© Terraform ç­‰ IaC å·¥å…·å¯ä»¥è·å¾—å¤§é‡çš„å·²ç»ç¼–å†™å¥½çš„ Module é…ç½®ï¼Œä½†æ˜¯å¯¹äº Kubernetes ä»ç„¶ç¼ºä¹å®¢æˆ·ç«¯çš„è½»é‡çº§çš„é…ç½®ç»„åˆå’ŒæŠ½è±¡è§£å†³æ–¹æ¡ˆï¼Œç°æœ‰çš„æ–¹æ¡ˆæˆ–è€…è§„èŒƒéš¾ä»¥åœ¨æŠ½è±¡èƒ½åŠ›å’Œæ‰©å±•æ€§è·å¾—å¹³è¡¡ï¼Œç”šè‡³å¯¹äºä¸€äº›æç«¯åœºæ™¯ï¼Œå¼€å‘è€…å¾€å¾€ç¼–å†™è®¸å¤šèƒ¶æ°´ä»£ç å’Œè„šæœ¬å¯¹é…ç½®è¿›è¡Œå¤„ç†é€»è¾‘ï¼Œç¨³å®šæ€§å’Œæ•ˆç‡éƒ½å—åˆ°ä¸€å®šæ¡æ¢ã€‚æ¯”å¦‚ Helm Chart ç­‰å·¥å…·è™½ç„¶æä¾›äº†æ¨¡ç‰ˆç¼–ç¨‹æ–¹å¼ï¼Œä½†ç¼–ç¨‹ä½“éªŒå’Œæ•ˆç‡å‡ä¸ä½³ï¼Œæ­¤å¤–å½“ç”¨æˆ·éœ€è¦åŠ¨æ€è°ƒæ•´ Helm Chart çš„ <code>values.yaml</code> å‚æ•°ä¾èµ–æˆ–è€…é‡åˆ°éœ€è¦è®¾ç½®çš„å‚æ•°ä¸Šæ¸¸çš„ Helm Chart ä¸æ”¯æŒæ—¶ï¼Œå¾€å¾€éœ€è¦ä»¥ä¾µå…¥çš„æ–¹å¼ Fork ç»´æŠ¤ä¸Šæ¸¸ Helm Chart æˆ–è€…è¾…ä»¥ Kustomize ç­‰å·¥å…·ï¼Œè¿™å¸¦æ¥çš„é¢å¤–çš„ç»´æŠ¤æˆæœ¬å’Œå¤æ‚æ€§ã€‚</p><p>äºæ˜¯æˆ‘ä»¬æ€è€ƒéœ€è¦æœ‰ä¸€ä¸ªç»Ÿä¸€è§„èŒƒæè¿°æ¥åŒæ—¶æ‰¿è½½é…ç½®è¯­è¨€èƒ½åŠ›ï¼Œå¹¶ä¸”å¯ä»¥å°½å¯èƒ½æ— å‰¯ä½œç”¨åœ°åŒæ—¶æ»¡è¶³è§„æ¨¡åŒ–é…ç½®åœºæ™¯ä¸‹çš„ç¨³å®šæ€§ã€æ‰©å±•æ€§ã€æ•ˆç‡ç­‰ç‰¹æ€§ï¼Œå¹¶ä¸”è§£å†³é™æ€é…ç½®ç®¡ç†çš„é—®é¢˜</p><ul><li><strong>æŠ½è±¡å’Œç»„åˆèƒ½åŠ›</strong>ï¼šé€šè¿‡å¯ç¼–ç¨‹ Schema çš„æ–¹å¼æä¾›ç»™å¹³å°äººå‘˜å±è”½åº•å±‚åº•å±‚åŸºç¡€è®¾æ–½ç»†èŠ‚å’Œå¹³å°ï¼Œå¹¶æä¾›ç»™å¼€å‘äººå‘˜ä¸€ä¸ªæ›´å¥½æ›´ç¨³å®šçš„ API æŠ½è±¡ã€‚</li><li><strong>ç¨³å®šæ€§</strong>ï¼šé€šè¿‡è¯­è¨€å†…ç½®å¼€ç®±æä¾›çš„ç¨³å®šç‰¹æ€§å¦‚è§„åˆ™ç¼–å†™ï¼Œé™æ€ç±»å‹ç­‰ç‰¹æ€§ï¼Œä½¿å¾—é£é™©å°½å¯èƒ½å·¦ç§»ï¼Œåœ¨ VCS ä¸­ç¼–å†™å®æ—¶å‘ç°é”™è¯¯ï¼Œå¯å®¡è®¡å¯è¿½æº¯å¯å›æ»šï¼Œæ˜“äºè‡ªåŠ¨åŒ–ã€‚</li><li><strong>å¯å¤ç”¨æ‰©å±•æ€§</strong>ï¼šå°±åƒåº”ç”¨è½¯ä»¶ä¾›åº”é“¾é‚£æ ·ï¼Œåº”å½“å°†åŸºç¡€è®¾æ–½é…ç½®ä¹Ÿè§†ä¸ºè½¯ä»¶ä¾›åº”é“¾ä¸­çš„ä¸€ç¯ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡æ ‡å‡†çš„æ–¹å¼åˆ†å‘å¤ç”¨é…ç½®ï¼Œå¯¹äºå¸¸ç”¨çš„é…ç½®ç”¨æˆ·å¯ä»¥åœ¨å¼€æºä¸–ç•Œä¸­è½»æ˜“è·å¾—å®ƒï¼Œå¯¹äºå†…éƒ¨å¹³å°ï¼Œæˆ‘ä»¬å¯ä»¥è½»æ˜“ç¼–å†™å’Œæ‰©å±•é…ç½®ä»£ç ã€‚</li><li><strong>é«˜æ€§èƒ½</strong>ï¼šç”±äºåŠ¨æ€é…ç½®ç®¡ç†æå€¡ç”±ä¸€ä»½åŸºçº¿é…ç½®æ ¹æ®éƒ¨ç½²ä¸Šä¸‹æ–‡ç”Ÿæˆä¸åŒç¯å¢ƒä¸åŒæ‹“æ‰‘çš„é…ç½®ï¼Œå¯¹äºé…ç½®ä»£ç æœ¬èº«çš„æ‰§è¡Œæ¸²æŸ“æ€§èƒ½æœ‰è¾ƒé«˜çš„è¦æ±‚ï¼Œå¼€å‘è€…é€šå¸¸ä¸å¸Œæœ›èŠ±è´¹æ•°ååˆ†é’Ÿæ‰çœ‹åˆ°çœŸå®é…ç½®è¾“å‡ºè€Œå½±å“è½¯ä»¶è¿­ä»£å‡çº§çš„æ•ˆç‡</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="krm-kcl-è§„èŒƒ">KRM KCL è§„èŒƒ<a href="#krm-kcl-è§„èŒƒ" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p><a href="https://github.com/kcl-lang/krm-kcl" target="_blank" rel="noopener noreferrer">KRM KCL è§„èŒƒ</a>æ˜¯åŸºäº Kubernetes Resource Modelï¼ˆKRMï¼‰çš„ä¸€ç§é…ç½®è§„èŒƒã€‚KRM æ˜¯ä¸€ä¸ªé€šç”¨çš„é…ç½®æ¨¡å‹ï¼Œç”¨äºæè¿°å’Œç®¡ç†å„ç§äº‘åŸç”Ÿèµ„æºï¼Œå¦‚å®¹å™¨ã€Podã€æœåŠ¡ç­‰ã€‚KRM æä¾›äº†ä¸€ç§ç»Ÿä¸€çš„æ–¹å¼æ¥å®šä¹‰å’Œç®¡ç†è¿™äº›èµ„æºï¼Œä½¿å¾—å®ƒä»¬å¯ä»¥åœ¨ä¸åŒçš„ç¯å¢ƒä¸­è¿›è¡Œç§»æ¤å’Œå¤ç”¨ã€‚å®ƒå»ºç«‹åœ¨ä¸€ä¸ªå®Œå…¨å¼€æ”¾çš„ Kubernetes ä¸–ç•Œå½“ä¸­ï¼Œå‡ ä¹ä¸ä¸ä»»ä½•ç¼–æ’/å¼•æ“å·¥å…·æˆ–è€… Kubernetes æ§åˆ¶å™¨ç»‘å®šï¼Œå®ƒåœ¨å…³æ³¨ç‚¹åˆ†ç¦»çš„åŸºç¡€ä¸Šå…è®¸å¹³å°äººå‘˜æ‰©å±•è‡ªå·±çš„æŠ½è±¡ï¼Œé…ç½®ç¼–è¾‘å’ŒéªŒè¯é€»è¾‘ï¼Œå¹¶ä¸”å¯¹äºç¤¾åŒºä¸­å·²æœ‰çš„æ¨¡å‹æŠ½è±¡å¦‚ Open Application Model (OAM) ç­‰ï¼Œå¯ä»¥ç›´æ¥è¿›è¡Œå¤ç”¨ï¼Œå› ä¸º OAM é…ç½®æœ¬èº«ä¹Ÿæ»¡è¶³ KRM è§„èŒƒã€‚</p><p><a href="https://github.com/kcl-lang" target="_blank" rel="noopener noreferrer">KCL é…ç½®è¯­è¨€</a>æ˜¯ KRM KCL è§„èŒƒ çš„æ ¸å¿ƒç»„æˆéƒ¨åˆ†ã€‚KCL æ˜¯ä¸€ç§å£°æ˜æ€§çš„é…ç½®è¯­è¨€ï¼Œå®ƒå…è®¸ç”¨æˆ·æè¿°åº”ç”¨ç¨‹åºçš„é…ç½®éœ€æ±‚ï¼Œå¹¶å°†å…¶ä¸åº•å±‚åŸºç¡€è®¾æ–½è¿›è¡Œå…³è”ã€‚KCL å…·æœ‰ä¸°å¯Œçš„è¯­æ³•å’Œè¯­ä¹‰ï¼Œå¯ä»¥çµæ´»åœ°æè¿°å„ç§é…ç½®éœ€æ±‚ï¼Œå¦‚ç¯å¢ƒå˜é‡ã€èµ„æºé™åˆ¶ã€ä¾èµ–å…³ç³»ç­‰ã€‚KCL æ—¨åœ¨é€šè¿‡å®šä¹‰ API æŠ½è±¡æ¥éšè—åŸºç¡€è®¾æ–½å’Œå¹³å°çš„è¯¦ç»†ä¿¡æ¯ï¼Œä»¥å‡è½»è´Ÿæ‹…ï¼Œå¹¶é€šè¿‡é…ç½®è¯­è¨€æ— å‰¯ä½œç”¨åœ°ç®¡ç†è·¨å›¢é˜Ÿçš„å¤§è§„æ¨¡é…ç½®ï¼Œå¹¶æä¾›ç¼–å†™ã€ç»„åˆå’ŒæŠ½è±¡é…ç½®å—çš„èƒ½åŠ›ï¼Œå¦‚ç»“æ„å®šä¹‰ã€çº¦æŸå’Œé€»è¾‘ç­‰ã€‚åœ¨å¹³å°å·¥ç¨‹å®è·µä¸­ KCL ä¸æ˜¯ä¸€ç§ä»…ç”¨äºç¼–å†™ K-V å¯¹çš„è¯­è¨€ï¼Œè€Œæ˜¯ä¸€ç§é¢å‘å¹³å°å·¥ç¨‹é¢†åŸŸçš„ä¸“ç”¨è¯­è¨€</p><p>KRM KCL è§„èŒƒçš„å¦ä¸€ä¸ªé‡è¦ç‰¹æ€§æ˜¯å…¶å¯¹åŠ¨æ€é…ç½®ç®¡ç†çš„æ”¯æŒã€‚ä¼ ç»Ÿçš„é…ç½®ç®¡ç†å·¥å…·å¾€å¾€ä¾èµ–äºé™æ€é…ç½®æ–‡ä»¶ï¼Œéœ€è¦æ‰‹åŠ¨ä¿®æ”¹å’Œéƒ¨ç½²ã€‚è€Œ KRM KCL è§„èŒƒå¤©ç„¶æä¾›äº†é…ç½®è‡ªåŠ¨ä¿®æ”¹çš„æ–¹å¼ï¼Œå¯ä»¥å•ç‹¬åœ¨å®¢æˆ·ç«¯ä½¿ç”¨ä¹Ÿå¯ä»¥é€šè¿‡ <a href="https://github.com/kcl-lang/kcl-operator" target="_blank" rel="noopener noreferrer">KCL Operator</a> ä¸ Kubernetes é›†æˆï¼Œåœ¨è¿è¡Œæ—¶å®ç°é…ç½®è‡ªåŠ¨ä¿®æ”¹ï¼Œæ— éœ€é‡å¤å¼€å‘ Kubernetes Webhook ç¼–å†™å¤§é‡çš„é…ç½®å¤„ç†é€»è¾‘ã€‚</p><p>é™¤äº†åŠ¨æ€é…ç½®ç®¡ç†ï¼ŒKRM KCL è§„èŒƒ è¿˜å…·æœ‰ä¸€äº›å…¶ä»–çš„ä¼˜åŠ¿ã€‚é¦–å…ˆï¼Œå®ƒåŸºäº Kubernetesï¼Œå¯ä»¥ä¸ç°æœ‰çš„ Kubernetes ç”Ÿæ€ç³»ç»Ÿè¿›è¡Œæ— ç¼é›†æˆã€‚å…¶æ¬¡ï¼ŒKRM KCL è§„èŒƒæä¾›äº†ä¸°å¯Œçš„å·¥å…·å’Œåº“ï¼Œä½¿å¾—å¼€å‘äººå‘˜å¯ä»¥è½»æ¾åœ°åˆ›å»ºã€æµ‹è¯•å’Œç»´æŠ¤é…ç½®ã€‚æœ€åï¼ŒKRM KCL è§„èŒƒé‡‡ç”¨äº†å¼€æ”¾çš„æ ‡å‡†ï¼Œå¯ä»¥ä¸å…¶ä»–çš„é…ç½®ç®¡ç†å·¥å…·å¦‚ Kubectl, Helm, Kustomize ç­‰è¿›è¡Œäº’æ“ä½œï¼Œå¹¶ä¸”å…·å¤‡å¦‚ä¸‹ç‰¹ç‚¹</p><ul><li><strong>å£°æ˜å¼</strong>ï¼šé…ç½®æè¿°ä»¥ä»£ç æ–¹å¼æŠ½è±¡å’Œç»„ç»‡ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡ç¼–è¾‘å™¨æˆ– IDE æŸ¥çœ‹ã€ç¼–è¾‘ï¼Œä»£ç ä¸­æ¸…æ™°æè¿°äº†èµ„æºã€æœåŠ¡ã€ç½‘ç»œç­‰å¤šæ–¹é¢çš„é…ç½®ã€‚</li><li><strong>é¢å‘ç»ˆæ€</strong>ï¼šé¢å‘ç»ˆæ€ä¸”å®ç°æ— å…³ï¼Œé€šè¿‡é«˜åº¦æŠ½è±¡å¹¶å†…ç½®ç‰¹å®šé¢†åŸŸçš„åŸºç¡€èƒ½åŠ›ï¼Œå…·è±¡çš„ä¸šåŠ¡ç”±ä½¿ç”¨è€…ç¼–å†™å£°æ˜ã€‚ä½¿ç”¨è€…é€šè¿‡ç»Ÿä¸€çš„æè¿°ä»£ç å’Œ GitOps æµç¨‹é¿å…äººå·¥æ“ä½œåŠç§æœ‰è„šæœ¬çš„éç»Ÿä¸€æ¨¡å¼å’Œå¼•å…¥çš„å®‰å…¨é—®é¢˜ã€‚</li><li><strong>ç¨³å®šæ€§</strong>ï¼šä»»ä½•é…ç½®ä»£ç çš„ä¿®æ”¹éƒ½å¯èƒ½é€ æˆéé¢„æœŸçš„ç»“æœï¼Œç”šè‡³å¼‚å¸¸æˆ–æ•…éšœå‘ç”Ÿã€‚ç»“åˆç‰ˆæœ¬æ§åˆ¶å’Œè¯­è¨€æœ¬èº«çš„ç¨³å®šæ€§ç‰¹æ€§ã€‚ä¸åŒç‰ˆæœ¬çš„é…ç½®ä»£ç å¯ä»¥é€šè¿‡ Git æŒ‰éœ€åˆ‡æ¢ï¼Œå¯å®¡è®¡æ€§ï¼Œä»¥æ»¡è¶³ç ”å‘ã€æµ‹è¯•ã€ç”Ÿäº§é˜¶æ®µçš„éœ€æ±‚ï¼Œå¦‚å¼‚å¸¸åå›æ»šåˆ°æŸä¸ªéªŒè¯å¯ç”¨çš„ç‰ˆæœ¬ã€‚ç»“åˆç‰ˆæœ¬æ§åˆ¶çš„ä»£ç åŒ–å¯ä»¥æœ‰æ•ˆé¿å…é…ç½®æ¼‚ç§»ã€‚</li><li><strong>å¯å¤ç”¨æ‰©å±•</strong>ï¼šé…ç½®ä»£ç å¾€å¾€æœ‰ â€œä¸€æ¬¡ç¼–å†™ï¼Œå¤šæ¬¡ä½¿ç”¨â€ çš„ç‰¹ç‚¹ï¼Œç»“åˆåŠ¨æ€å‚æ•°åŒ–çš„é…ç½®ä»£ç å¾€å¾€ä½¿å·®å¼‚ç¯å¢ƒã€å·®å¼‚ç”¨æˆ·ç­‰å¤šç»´åº¦çš„é…ç½®å¤ç”¨éœ€æ±‚å˜å¾—ç®€å•ã€‚é€šè¿‡ä¸ OCI ç­‰æ ‡å‡†è½¯ä»¶ä¾›åº”é“¾çš„æ–¹å¼é›†æˆï¼Œå°†é…ç½®ä»£ç ä¸ä¸šåŠ¡ä»£ç åŒç­‰å¯¹å¾…ï¼Œæ›´å¥½åœ°å®ç°åŸºç¡€è®¾æ–½å³ä»£ç  (IaC)</li></ul><p>æ€»è€Œè¨€ä¹‹ï¼ŒKRM KCL è§„èŒƒæ˜¯ä¸€ç§å…¨æ–°çš„åŠ¨æ€é…ç½®ç®¡ç†èŒƒå¼ï¼Œå®ƒä»¥ KRM å’Œ KCL ä¸ºåŸºç¡€ï¼Œä¸ºç°ä»£è½¯ä»¶å¼€å‘æä¾›äº†æ›´é«˜æ•ˆã€æ›´å¯é çš„é…ç½®è§£å†³æ–¹æ¡ˆã€‚å®ƒçš„åŠ¨æ€é…ç½®ç®¡ç†èƒ½åŠ›ã€çµæ´»çš„è¯­æ³•å’Œè¯­ä¹‰ä»¥åŠä¸ Kubernetes çš„é›†æˆï¼Œæ— è®ºæ˜¯åœ¨äº‘åŸç”Ÿåº”ç”¨å¼€å‘è¿˜æ˜¯åœ¨å¾®æœåŠ¡æ¶æ„ä¸­ï¼ŒKRM KCL è§„èŒƒéƒ½å°†ä¸ºå¼€å‘äººå‘˜å¸¦æ¥æ›´å¥½çš„é…ç½®ç®¡ç†ä½“éªŒã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å¦‚ä½•ä½¿ç”¨-krm-kcl-è§„èŒƒ">å¦‚ä½•ä½¿ç”¨ KRM KCL è§„èŒƒ<a href="#å¦‚ä½•ä½¿ç”¨-krm-kcl-è§„èŒƒ" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p><img loading="lazy" alt="krm-kcl-form" src="/zh-CN/assets/images/krm-kcl-form-45fbde927c717df577661f7453bf5b54.png" width="2250" height="1208" class="img_ev3q"></p><p>åœ¨ KRM KCL è§„èŒƒï¼Œæˆ‘ä»¬å°† KCL é…ç½®æ¨¡å‹çš„è¡Œä¸ºä¸»è¦åˆ†æˆä¸‰ç±»</p><ul><li><strong>Mutation</strong>: è¾“å…¥ KCL å‚æ•° <code>params</code> å’Œ KRM åˆ—è¡¨å¹¶è¾“å‡ºä¿®æ”¹å KRM åˆ—è¡¨ã€‚</li><li><strong>Validation</strong>: è¾“å…¥ KCL å‚æ•° <code>params</code> å’Œ KRM åˆ—è¡¨å¹¶è¾“å‡º KRM åˆ—è¡¨å’Œèµ„æºéªŒè¯ç»“æœã€‚</li><li><strong>Abstraction</strong>: è¾“å…¥ KCL å‚æ•° <code>params</code> å¹¶è¾“å‡º KRM åˆ—è¡¨</li></ul><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ KCL ä»¥å¯ç¼–ç¨‹çš„æ–¹å¼å®ç°å¦‚ä¸‹èƒ½åŠ›:</p><ul><li>ä½¿ç”¨ KCL å¯¹èµ„æºè¿›è¡Œä¿®æ”¹ï¼Œå¦‚æ ¹æ®æŸä¸ªæ¡ä»¶æ·»åŠ /ä¿®æ”¹ label æ ‡ç­¾æˆ– annotation æ³¨é‡Šæˆ–åœ¨åŒ…å« PodTemplate çš„æ‰€æœ‰ Kubernetes Resource Model (KRM) èµ„æºä¸­æ³¨å…¥ Sidecar å®¹å™¨é…ç½®ç­‰ã€‚</li><li>ä½¿ç”¨ KCL Schema éªŒè¯æ‰€æœ‰ KRM èµ„æºï¼Œå¦‚çº¦æŸåªèƒ½ä»¥ Root æ–¹å¼å¯åŠ¨å®¹å™¨ç­‰ã€‚</li><li>ä½¿ç”¨æŠ½è±¡æ¨¡å‹ç”Ÿæˆ KRM èµ„æºæˆ–è€…å¯¹ä¸åŒçš„ KRM API è¿›è¡Œç»„åˆå¹¶ä½¿ç”¨ã€‚</li></ul><p>æ­¤å¤–é…ç½®æ¨¡å‹ <code>source</code> å¯ä»¥å¼•ç”¨è‡ª OCIï¼ŒGit, Filesystem, å’ŒåŸå§‹ KCL ä»£ç ï¼Œæˆ‘ä»¬å¯ä»¥å€ŸåŠ© KCL IDE å’Œ KPM åŒ…ç®¡ç†å·¥å…·ç¼–å†™æ¨¡å‹å¹¶ä¸Šä¼ åˆ° OCI Registry ä»¥å®ç°æ¨¡å‹å¤ç”¨ï¼Œå¹¶ä¸”è¿™äº›æ¨¡å‹å¯ä»¥æ ¹æ®åœºæ™¯éœ€æ±‚åˆ†åˆ«ç”¨åœ¨å®¢æˆ·ç«¯æˆ–è€…è¿è¡Œæ—¶ã€‚</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="å®¢æˆ·ç«¯">å®¢æˆ·ç«¯<a href="#å®¢æˆ·ç«¯" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>æˆ‘ä»¬ä»¥ä¸€ä¸ªç»å…¸çš„å·¥ä½œè´Ÿè½½ Web æœåŠ¡ä½œä¸ºä¾‹å­æ¼”ç¤º KRM KCL è§„èŒƒåœ¨å®¢æˆ·ç«¯ä½¿ç”¨çš„ä¾‹å­ã€‚</p><p>æ­¤å¤–ï¼Œæˆ‘ä»¬ä»¥ç»Ÿä¸€çš„ç¼–ç¨‹ç•Œé¢æ–¹å¼ä¸º Kubernetes ç¤¾åŒºçš„ Kubectl, Helm, Kustomize, KPT ç­‰é…ç½®ç®¡ç†å·¥å…·æä¾›äº†æ’ä»¶æ”¯æŒï¼Œç¼–å†™å‡ è¡Œé…ç½®ä»£ç å³å¯æ— ä¾µå…¥åœ°å®Œæˆå¯¹å­˜é‡ Kustomize YAMLï¼ŒHelm Charts çš„ç¼–è¾‘å’Œæ ¡éªŒä»¥åŠå®šä¹‰è‡ªå·±çš„æŠ½è±¡æ¨¡å‹å¹¶åˆ†äº«å¤ç”¨ã€‚</p><p>ä¸‹é¢ä»¥ Kubectl å·¥å…·å¯¹ KCL çš„é›†æˆä¸ºä¾‹è¿›è¡Œè¯¦ç»†è¯´æ˜ã€‚æ‚¨å¯ä»¥åœ¨<a href="https://github.com/kcl-lang/kubectl-kcl" target="_blank" rel="noopener noreferrer">è¿™é‡Œ</a>è·å– Kubectl KCL æ’ä»¶çš„å®‰è£…æ–¹å¼</p><p>é¦–å…ˆæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤è·å–ä¸€ä¸ªé…ç½®ç¤ºä¾‹</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">git</span><span class="token plain"> clone https://github.com/kcl-lang/kubectl-kcl.git </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token builtin class-name">cd</span><span class="token plain"> ./kubectl-kcl/examples/</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ç„¶åæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤æ˜¾ç¤ºé…ç½®</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">cat</span><span class="token plain"> krm-kcl-abstraction.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">apiVersion: krm.kcl.dev/v1alpha1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kind: KCLRun</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">metadata:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  name: web-service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spec:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  params:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name: app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    containers:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      nginx:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        image: nginx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ports:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - containerPort: </span><span class="token number" style="color:#36acaa">80</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    service:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ports:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      - port: </span><span class="token number" style="color:#36acaa">80</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  source: oci://ghcr.io/kcl-lang/web-service</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>åœ¨ä¸Šè¿°é…ç½®ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†åœ¨ OCI ä¸Šå·²ç»é¢„å®šå¥½çš„ä¸€ä¸ª Kubernetes Web æœåŠ¡åº”ç”¨æŠ½è±¡æ¨¡å‹ <code>oci://ghcr.io/kcl-lang/web-service</code>, å¹¶é€šè¿‡ <code>params</code> å­—æ®µé…ç½®äº†è¯¥æ¨¡å‹æ‰€éœ€çš„é…ç½®å­—æ®µã€‚é€šè¿‡æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å¯ä»¥è·å¾—åŸå§‹çš„ Kubernetes YAML è¾“å‡ºå¹¶ä¸‹å‘åˆ°é›†ç¾¤:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ kubectl kcl apply -f krm-kcl-abstraction.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">deployment.apps/app created</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">service/app created</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>é™¤äº†ä½¿ç”¨ YAML ä½œä¸ºç”¨æˆ·çš„è¾“å…¥ç•Œé¢ï¼ŒKCL ä½œä¸ºä¸€ä¸ªç¼–å†™é…ç½®å’Œç­–ç•¥çš„ DSLï¼Œå®ƒè¿˜å…è®¸å¼€å‘è€…å’Œå¹³å°äººå‘˜åœ¨å®¢æˆ·ç«¯ä»¥ç»Ÿä¸€çš„ KCL ç¼–å†™æ–¹å¼ç¼–å†™å’Œç»´æŠ¤å¤§è§„æ¨¡é…ç½®</p><p><img loading="lazy" alt="standalone-kcl-form" src="/zh-CN/assets/images/standalone-kcl-form-fe25553cd2ae8413a3c33071b7bace3d.png" width="2232" height="1274" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="è¿è¡Œæ—¶">è¿è¡Œæ—¶<a href="#è¿è¡Œæ—¶" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>åœ¨è¿è¡Œæ—¶ï¼Œæˆ‘ä»¬é€šè¿‡ KCL Operator æä¾›äº† Kubernetes é›†ç¾¤é›†æˆï¼Œå…è®¸æ‚¨åœ¨å°†èµ„æºåº”ç”¨åˆ°é›†ç¾¤æ—¶ä½¿ç”¨ Access Webhook æ ¹æ® KCL é…ç½®ç”Ÿæˆã€å˜å¼‚æˆ–éªŒè¯èµ„æºã€‚Webhook å°†æ•è·åˆ›å»ºã€åº”ç”¨å’Œç¼–è¾‘æ“ä½œï¼Œå¹¶é€šè¿‡ <code>KCLRun</code> åœ¨ä¸æ¯ä¸ªæ“ä½œå…³è”çš„é…ç½®ä¸Šæ‰§è¡Œèµ„æºã€‚ä½¿ç”¨ KCL Operator, é€šè¿‡å‡ ä¸ªæ­¥éª¤æ‚¨å°±å¯ä»¥åœ¨ Kubernetes é›†ç¾¤å†…éƒ¨ä»¥å¾ˆè½»é‡çš„æ–¹å¼åœ°é€šè¿‡ KCL ä»£ç è‡ªåŠ¨åŒ–åœ°å®Œæˆèµ„æºé…ç½®çš„ç®¡ç†å’Œå®‰å…¨éªŒè¯ï¼Œæ— éœ€é‡å¤å¼€å‘ Webhook Server åœ¨è¿è¡Œæ—¶åŠ¨æ€ä¿®æ”¹å’ŒéªŒè¯é…ç½®ã€‚</p><p>æ­¤å¤–å€ŸåŠ© KCL è‰¯å¥½çš„å»ºæ¨¡å’ŒæŠ½è±¡èƒ½åŠ›ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºä¸åŒçš„èµ„æº API å®šä¹‰è¿›è¡ŒåŠŸèƒ½æŠ½è±¡/ç»„åˆå¹¶ä»¥ KCL Schema çš„å½¢å¼å¯¹å¤–é€å‡ºï¼Œå¹¶ä¸”å¯ä»¥ç”± KCL Schema è¿›ä¸€æ­¥è‡ªåŠ¨ç”Ÿæˆ OpenAPI Schema å®šä¹‰ä¾›é›†ç¾¤å…¶ä»–å®¢æˆ·ç«¯è°ƒç”¨ï¼Œè€Œæ— éœ€ä¸º API æŠ½è±¡/ç»„åˆæ‰‹åŠ¨ç»´æŠ¤å¤æ‚çš„ OpenAPI Schema å®šä¹‰ã€‚</p><p>ä¸‹é¢ä»¥ä¸€ä¸ªç®€å•çš„èµ„æº annotation æ³¨è§£ä¿®æ”¹ç¤ºä¾‹ä»‹ç» KCL Operator çš„ä½¿ç”¨æ–¹å¼</p><p>å®‰è£… KCL Operator</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f https://raw.githubusercontent.com/kcl-lang/kcl-operator/main/config/all.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è§‚å¯Ÿå¹¶ç­‰å¾… pod çŠ¶æ€ä¸º <code>Running</code>ã€‚</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get po</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>éƒ¨ç½²æ³¨è§£ä¿®æ”¹æ¨¡å‹</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f- </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">EOF</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">apiVersion: krm.kcl.dev/v1alpha1</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">kind: KCLRun</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">metadata:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  name: set-annotation</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">spec:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  params:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    annotations:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      managed-by: kcl-operator</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  source: oci://ghcr.io/kcl-lang/set-annotation</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">EOF</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>éƒ¨ç½²ä¸€ä¸ª Pod èµ„æºéªŒè¯æ¨¡å‹ç»“æœ</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f- </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">EOF</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">apiVersion: v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">kind: Pod</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">metadata:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  name: nginx</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  annotations:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    app: nginx</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">spec:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  containers:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  - name: nginx</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    image: nginx:1.14.2</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    ports:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    - containerPort: 80</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">EOF</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get po nginx -o yaml </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">grep</span><span class="token plain"> kcl-operator</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å¦‚ä¸‹è¾“å‡º</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    managed-by: kcl-operator</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>å¯ä»¥å‘ç° Nginx Pod ä¸Šè‡ªåŠ¨æ·»åŠ äº† managed-by=kcl-operator æ³¨è§£</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å°ç»“">å°ç»“<a href="#å°ç»“" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>é€šè¿‡åŠ¨æ€é…ç½®ç®¡ç†çš„æ–¹å¼å¯ä»¥é™ä½ç°ä»£äº‘åŸç”Ÿé…ç½®çš„å¤æ‚æ€§ï¼Œé€šè¿‡ KRM KCL è§„èŒƒä»¥åŠæ ‡å‡†çš„ OCI æ¨¡å‹ï¼Œæˆ‘ä»¬å¯ä»¥å®ç°åŠ¨æ€é…ç½®ç®¡ç†ï¼Œå¹¶ä½¿å¹³å°äººå‘˜å’Œåº”ç”¨å¼€å‘äººå‘˜éƒ½å¯ä»¥è½»æ¾åœ°ä½¿ç”¨è¿™äº›è®¾ç½®ï¼Œé™ä½è®¤çŸ¥è´Ÿæ‹…ã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="æ›´å¤šèµ„æº">æ›´å¤šèµ„æº<a href="#æ›´å¤šèµ„æº" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><ul><li><a href="https://kcl-lang.io/" target="_blank" rel="noopener noreferrer">KCL ç½‘ç«™</a></li><li><a href="https://kusionstack.io/" target="_blank" rel="noopener noreferrer">KusionStack ç½‘ç«™</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å‚è€ƒ">å‚è€ƒ<a href="#å‚è€ƒ" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><ul><li>Declarative Application Management in Kubernetes: <a href="https://docs.google.com/document/d/1cLPGweVEYrVqQvBLJg6sxV-TrE5Rm2MNOBA_cxZP2WU/edit#" target="_blank" rel="noopener noreferrer">https://docs.google.com/document/d/1cLPGweVEYrVqQvBLJg6sxV-TrE5Rm2MNOBA_cxZP2WU/edit#</a></li><li>CNCF Platforms White Paper: <a href="https://tag-app-delivery.cncf.io/whitepapers/platforms/" target="_blank" rel="noopener noreferrer">https://tag-app-delivery.cncf.io/whitepapers/platforms/</a></li><li>Google SRE Workbook: <a href="https://sre.google/workbook/configuration-specifics/" target="_blank" rel="noopener noreferrer">https://sre.google/workbook/configuration-specifics/</a></li><li>What is Dynamic Configuration Management: <a href="https://humanitec.com/blog/what-is-dynamic-configuration-management" target="_blank" rel="noopener noreferrer">https://humanitec.com/blog/what-is-dynamic-configuration-management</a></li><li>Implementing Dynamic Configuration Management with Score and Humanitec: <a href="https://humanitec.com/blog/implementing-dynamic-configuration-management-with-score-and-humanitec" target="_blank" rel="noopener noreferrer">https://humanitec.com/blog/implementing-dynamic-configuration-management-with-score-and-humanitec</a></li><li>What is Platform Engineering: <a href="https://platformengineering.org/blog/what-is-platform-engineering" target="_blank" rel="noopener noreferrer">https://platformengineering.org/blog/what-is-platform-engineering</a></li><li>What is Internal Developer Platform: <a href="https://internaldeveloperplatform.org/what-is-an-internal-developer-platform/" target="_blank" rel="noopener noreferrer">https://internaldeveloperplatform.org/what-is-an-internal-developer-platform/</a></li><li>What Team Structure is Right for DevOps to Flourish: <a href="https://web.devopstopologies.com/#anti-types" target="_blank" rel="noopener noreferrer">https://web.devopstopologies.com/#anti-types</a></li></ul>]]></content>
        <author>
            <name>KCL Team</name>
        </author>
        <category label="KCL" term="KCL"/>
        <category label="Kubernetes Resource Model" term="Kubernetes Resource Model"/>
        <category label="Dynamic Configuration Management" term="Dynamic Configuration Management"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[KCL ç¤¾åŒºå¼€æºåŒå‘¨æŠ¥ (2023 08.24 - 09.06) | Kubernetes Operatorï¼ŒIDE æ’ä»¶å’Œ v0.5.6 ç‰ˆæœ¬æ­£å¼å‘å¸ƒ!]]></title>
        <id>https://kcl-lang.github.io/zh-CN/blog/2023-09-06-biweekly-newsletter</id>
        <link href="https://kcl-lang.github.io/zh-CN/blog/2023-09-06-biweekly-newsletter"/>
        <updated>2023-09-06T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[KCL æ˜¯ä¸€ä¸ªå¼€æºçš„åŸºäºçº¦æŸçš„è®°å½•åŠå‡½æ•°è¯­è¨€å¹¶é€šè¿‡æˆç†Ÿçš„ç¼–ç¨‹è¯­è¨€æŠ€æœ¯å’Œå®è·µæ¥æ”¹è¿›å¯¹å¤§é‡ç¹æ‚é…ç½®æ¯”å¦‚äº‘åŸç”Ÿ Kubernetes é…ç½®åœºæ™¯çš„ç¼–å†™ï¼Œè‡´åŠ›äºæ„å»ºå›´ç»•é…ç½®çš„æ›´å¥½çš„æ¨¡å—åŒ–ã€æ‰©å±•æ€§å’Œç¨³å®šæ€§ï¼Œæ›´ç®€å•çš„é€»è¾‘ç¼–å†™ï¼Œä»¥åŠæ›´ç®€å•çš„è‡ªåŠ¨åŒ–å’Œç”Ÿæ€å·¥å…·é›†æˆã€‚]]></summary>
        <content type="html"><![CDATA[<p><img loading="lazy" src="/zh-CN/assets/images/biweekly-newsletter-zh-bd4cf8c2bcc913a580e7b0e5d6691a08.png" width="1127" height="435" class="img_ev3q"></p><p><a href="https://github.com/kcl-lang" target="_blank" rel="noopener noreferrer">KCL</a> æ˜¯ä¸€ä¸ªå¼€æºçš„åŸºäºçº¦æŸçš„è®°å½•åŠå‡½æ•°è¯­è¨€å¹¶é€šè¿‡æˆç†Ÿçš„ç¼–ç¨‹è¯­è¨€æŠ€æœ¯å’Œå®è·µæ¥æ”¹è¿›å¯¹å¤§é‡ç¹æ‚é…ç½®æ¯”å¦‚äº‘åŸç”Ÿ Kubernetes é…ç½®åœºæ™¯çš„ç¼–å†™ï¼Œè‡´åŠ›äºæ„å»ºå›´ç»•é…ç½®çš„æ›´å¥½çš„æ¨¡å—åŒ–ã€æ‰©å±•æ€§å’Œç¨³å®šæ€§ï¼Œæ›´ç®€å•çš„é€»è¾‘ç¼–å†™ï¼Œä»¥åŠæ›´ç®€å•çš„è‡ªåŠ¨åŒ–å’Œç”Ÿæ€å·¥å…·é›†æˆã€‚</p><p>æœ¬æ ç›®å°†ä¼šåŒå‘¨æ›´æ–° KCL è¯­è¨€ç¤¾åŒºæœ€æ–°åŠ¨æ€ï¼ŒåŒ…æ‹¬åŠŸèƒ½ã€å®˜ç½‘æ›´æ–°å’Œæœ€æ–°çš„ç¤¾åŒºåŠ¨æ€ç­‰ï¼Œå¸®åŠ©å¤§å®¶æ›´å¥½åœ°äº†è§£ KCL ç¤¾åŒºï¼</p><p><strong><em>KCL å®˜ç½‘ï¼š<a href="https://kcl-lang.io" target="_blank" rel="noopener noreferrer">https://kcl-lang.io</a></em></strong></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å†…å®¹æ¦‚è¿°">å†…å®¹æ¦‚è¿°<a href="#å†…å®¹æ¦‚è¿°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>æ„Ÿè°¢æ‰€æœ‰è´¡çŒ®è€…è¿‡å»ä¸¤å‘¨ (2023 08.24 - 09.06) çš„æ°å‡ºå·¥ä½œï¼Œä»¥ä¸‹æ˜¯é‡ç‚¹åˆå¹¶å†…å®¹æ¦‚è¿°</p><p><strong>ğŸ”§ è¯­è¨€åŠå·¥å…·é“¾æ›´æ–°</strong></p><ul><li>KCL&nbsp;å¯¼å…¥å·¥å…·æ›´æ–° - æ”¯æŒç”± JSON/YAML æ•°æ®å¯¼å‡ºä¸º KCL é…ç½®</li><li>KCL IDE æ›´æ–° - æ”¯æŒå³é”®ä¸€é”®æ ¼å¼åŒ–èƒ½åŠ›ï¼Œæ”¯æŒç›´æ¥æ ¼å¼åŒ–å•ä¸ªæ–‡ä»¶æˆ–éƒ¨åˆ† KCL ä»£ç </li><li>KCL æ–‡æ¡£å·¥å…·æ›´æ–° - å¯¼å‡ºæ–‡æ¡£æ”¯æŒ HTML è½¬ä¹‰</li><li>KCL åŒ…ç®¡ç†å·¥å…· KPM æ›´æ–° - kpm run è¿è¡Œå‘½ä»¤ä»¥åŠé”™è¯¯ä¿¡æ¯ä¼˜åŒ–ï¼Œæ”¯æŒç›´æ¥è¿è¡Œä½äºæœ¬åœ°è·¯å¾„çš„ KCL åŒ…</li><li>KCL è¯­è¨€æ›´æ–° - ä¼˜åŒ–ç³»ç»Ÿåº“ç±»å‹æ£€æŸ¥ç­‰é”™è¯¯ä¿¡æ¯åŠé”™è¯¯ä¿¡æ¯ä»£ç ç»Ÿä¸€</li></ul><p><strong>ğŸ“° å®˜ç½‘å’Œç”¨ä¾‹æ›´æ–°</strong></p><ul><li>KCL å®˜ç½‘æ–°å¢ v0.5.6 æ–‡æ¡£ç‰ˆæœ¬</li><li>æ–°å¢é€šè¿‡ Github Action å‘å¸ƒ KCL ä»£ç åŒ…ç›´æ¥å‘å¸ƒåˆ° docker.io å’Œ ghcr.io ç­‰ Registry ç”¨ä¾‹: <em><a href="https://github.com/kcl-lang/kpm/blob/main/docs/push_by_github_action.md" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kpm/blob/main/docs/push_by_github_action.md</a></em></li><li>æ–°å¢ KCL Operator é›†æˆç”¨ä¾‹: <em><a href="https://kcl-lang.io/docs/user_docs/guides/working-with-k8s/mutate-manifests/kcl-operator" target="_blank" rel="noopener noreferrer">https://kcl-lang.io/docs/user_docs/guides/working-with-k8s/mutate-manifests/kcl-operator</a></em></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ç‰¹åˆ«é¸£è°¢">ç‰¹åˆ«é¸£è°¢<a href="#ç‰¹åˆ«é¸£è°¢" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>ä»¥ä¸‹æ’åä¸åˆ†å…ˆå</p><ul><li>æ„Ÿè°¢ @jakezhu9 å¯¹ KCL Import å·¥å…· JSON å’Œ YAML é…ç½®æ•°æ®åˆ° KCL é…ç½®å—è½¬æ¢çš„è´¡çŒ® ğŸ™Œ <em><a href="https://github.com/kcl-lang/kcl-go/pull/141" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl-go/pull/141</a></em></li><li>æ„Ÿè°¢ @xxmao123 å’Œ @starkers å¯¹ KCL NeoVim ä»¥åŠ Idea IDE æ’ä»¶çš„è´¡çŒ® ğŸ™Œ <em><a href="https://github.com/kcl-lang/intellij-kcl/pull/12" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/intellij-kcl/pull/12</a></em></li><li>æ­¤å¤–æ„Ÿè°¢ @kolloch, @prahaladramji ç­‰åœ¨è¿‡å»ä¸¤å‘¨ä½¿ç”¨ KCL è¿‡ç¨‹ä¸­æå‡ºçš„å®è´µåé¦ˆå’Œè®¨è®º&nbsp;ğŸ™Œ</li></ul><p><strong>ç¥è´º @jakezhu9 ç¥è´º jakezhu9 æˆä¸º KCL ç¤¾åŒº Maintainer</strong> ğŸ‰</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ç²¾é€‰æ›´æ–°">ç²¾é€‰æ›´æ–°<a href="#ç²¾é€‰æ›´æ–°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="kcl-operator">KCL Operator<a href="#kcl-operator" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>KCL Operator æä¾›äº† Kubernetes é›†ç¾¤é›†æˆï¼Œå…è®¸æ‚¨åœ¨å°†èµ„æºåº”ç”¨åˆ°é›†ç¾¤æ—¶ä½¿ç”¨ Access Webhook æ ¹æ® KCL é…ç½®ç”Ÿæˆã€å˜å¼‚æˆ–éªŒè¯èµ„æºã€‚Webhook å°†æ•è·åˆ›å»ºã€åº”ç”¨å’Œç¼–è¾‘æ“ä½œï¼Œå¹¶ <code>KCLRun</code> åœ¨ä¸æ¯ä¸ªæ“ä½œå…³è”çš„é…ç½®ä¸Šæ‰§è¡Œèµ„æºï¼Œæ¯”å¦‚å¯ä»¥ä½¿ç”¨ KCL è¯­è¨€å®Œæˆå¦‚ä¸‹åŠŸèƒ½</p><ul><li>ä½¿ç”¨ KCL å¯¹èµ„æºè¿›è¡Œä¿®æ”¹ï¼Œå¦‚æ ¹æ®æŸä¸ªæ¡ä»¶æ·»åŠ /ä¿®æ”¹ label æ ‡ç­¾æˆ– annotation æ³¨é‡Šæˆ–åœ¨åŒ…å« PodTemplate çš„æ‰€æœ‰ Kubernetes Resource Model (KRM) èµ„æºä¸­æ³¨å…¥ Sidecar å®¹å™¨é…ç½®ç­‰ã€‚</li><li>ä½¿ç”¨ KCL Schema éªŒè¯æ‰€æœ‰ KRM èµ„æºï¼Œå¦‚çº¦æŸåªèƒ½ä»¥ Root æ–¹å¼å¯åŠ¨å®¹å™¨ç­‰ã€‚</li><li>ä½¿ç”¨æŠ½è±¡æ¨¡å‹ç”Ÿæˆ KRM èµ„æºæˆ–è€…å¯¹ä¸åŒçš„ KRM API è¿›è¡Œç»„åˆå¹¶ä½¿ç”¨ã€‚</li></ul><p>ä½¿ç”¨ KCL Operator, é€šè¿‡å‡ ä¸ªæ­¥éª¤æ‚¨å°±å¯ä»¥åœ¨ Kubernetes é›†ç¾¤å†…éƒ¨ä»¥å¾ˆè½»é‡çš„æ–¹å¼åœ°é€šè¿‡ KCL ä»£ç è‡ªåŠ¨åŒ–åœ°å®Œæˆèµ„æºé…ç½®çš„ç®¡ç†å’Œå®‰å…¨éªŒè¯ï¼Œæ— éœ€é‡å¤å¼€å‘ Webhook Server åœ¨è¿è¡Œæ—¶åŠ¨æ€ä¿®æ”¹å’ŒéªŒè¯é…ç½®ã€‚</p><p>æ­¤å¤–å€ŸåŠ© KCL è‰¯å¥½çš„å»ºæ¨¡å’ŒæŠ½è±¡èƒ½åŠ›ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºä¸åŒçš„èµ„æº API å®šä¹‰è¿›è¡ŒåŠŸèƒ½æŠ½è±¡/ç»„åˆå¹¶ä»¥ KCL Schema çš„å½¢å¼å¯¹å¤–é€å‡ºï¼Œå¹¶ä¸”å¯ä»¥ç”± KCL Schema è¿›ä¸€æ­¥è‡ªåŠ¨ç”Ÿæˆ OpenAPI Schema å®šä¹‰ä¾›é›†ç¾¤å…¶ä»–å®¢æˆ·ç«¯è°ƒç”¨ï¼Œè€Œæ— éœ€ä¸º API æŠ½è±¡/ç»„åˆæ‰‹åŠ¨ç»´æŠ¤å¤æ‚çš„ OpenAPI Schema å®šä¹‰ã€‚</p><p>ä¸‹é¢ä»¥ä¸€ä¸ªç®€å•çš„èµ„æº annotation æ³¨è§£ä¿®æ”¹ç¤ºä¾‹ä»‹ç» KCL Operator çš„ä½¿ç”¨æ–¹å¼</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="0å‰ç½®æ¡ä»¶">0.å‰ç½®æ¡ä»¶<a href="#0å‰ç½®æ¡ä»¶" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><p>é€šè¿‡ k3d ç­‰å·¥å…·å‡†å¤‡ä¸€ä¸ª Kubernetes é›†ç¾¤ä»¥åŠ kubectl å·¥å…·</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="1-å®‰è£…-kcl-operator">1. å®‰è£… KCL Operator<a href="#1-å®‰è£…-kcl-operator" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f https://raw.githubusercontent.com/kcl-lang/kcl-operator/main/config/all.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è§‚å¯Ÿå¹¶ç­‰å¾… pod çŠ¶æ€ä¸º Runningã€‚</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get po</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="2-éƒ¨ç½²æ³¨è§£ä¿®æ”¹æ¨¡å‹">2. éƒ¨ç½²æ³¨è§£ä¿®æ”¹æ¨¡å‹<a href="#2-éƒ¨ç½²æ³¨è§£ä¿®æ”¹æ¨¡å‹" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f- </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">EOF</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">apiVersion: krm.kcl.dev/v1alpha1</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">kind: KCLRun</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">metadata:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  name: set-annotation</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">spec:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  # è®¾ç½®æ³¨è§£ä¿®æ”¹æ¨¡å‹æ‰€éœ€çš„åŠ¨æ€å‚æ•°ï¼Œåœ¨æ­¤å¤„æˆ‘ä»¬å¯ä»¥æ·»åŠ æˆ‘ä»¬æƒ³è¦ä¿®æ”¹/æ·»åŠ çš„æ ‡ç­¾</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  params:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    annotations:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      managed-by: kcl-operator</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  # å¼•ç”¨ OCI ä¸Šæ³¨è§£ä¿®æ”¹æ¨¡å‹</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  source: oci://ghcr.io/kcl-lang/set-annotation</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">EOF</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="3-éƒ¨ç½²ä¸€ä¸ª-pod-èµ„æºéªŒè¯æ¨¡å‹ç»“æœ">3. éƒ¨ç½²ä¸€ä¸ª Pod èµ„æºéªŒè¯æ¨¡å‹ç»“æœ<a href="#3-éƒ¨ç½²ä¸€ä¸ª-pod-èµ„æºéªŒè¯æ¨¡å‹ç»“æœ" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><p>æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤éƒ¨ç½²ä¸€ä¸ª Pod èµ„æº</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f- </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">EOF</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">apiVersion: v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">kind: Pod</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">metadata:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  name: nginx</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  annotations:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    app: nginx</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">spec:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  containers:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  - name: nginx</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    image: nginx:1.14.2</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    ports:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    - containerPort: 80</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">EOF</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get po nginx -o yaml </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">grep</span><span class="token plain"> kcl-operator</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å¦‚ä¸‹è¾“å‡º</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    managed-by: kcl-operator</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æˆ‘ä»¬å¯ä»¥å‘ç° Nginx Pod ä¸Šè‡ªåŠ¨æ·»åŠ äº† <code>managed-by=kcl-operator</code> æ³¨è§£</p><p>æ­¤å¤–ï¼Œé™¤äº†ä¸º <code>KCLRun</code> èµ„æº <code>source</code> å­—æ®µå¼•ç”¨å·²æœ‰çš„æ¨¡å‹ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä¸º <code>source</code> å­—æ®µè®¾ç½® KCL ä»£ç ä¹Ÿå¯ä»¥è¾¾åˆ°åŒæ ·çš„æ•ˆæœï¼Œæ¯”å¦‚</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> krm.kcl.dev/v1alpha1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> KCLRun</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> set</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">annotation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">params</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">annotations</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">managed-by</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> kcl</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">operator</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># ä»…é€šè¿‡ä¸€è¡Œ KCL ä»£ç å°±å¯å®Œæˆèµ„æºçš„ä¿®æ”¹</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">source</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">|</span><span class="token scalar string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">    items = [item | {metadata.annotations: option("params").annotations} for item in option("items")]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æˆ‘ä»¬å·²ç»å¼€ç®±æä¾›äº†å¤šè¾¾ 30+ çš„å†…ç½®æ¨¡å‹ï¼Œæ‚¨å¯ä»¥åœ¨ä¸‹é¢çš„é“¾æ¥ä¸­è·å¾—æ›´å¤šä»£ç ç¤ºä¾‹</p><p><a href="https://github.com/kcl-lang/krm-kcl/tree/main/examples" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/krm-kcl/tree/main/examples</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="kcl-ide-æ’ä»¶æ›´æ–°">KCL IDE æ’ä»¶æ›´æ–°<a href="#kcl-ide-æ’ä»¶æ›´æ–°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>è¿‡å»ä¸¤å‘¨ï¼Œæˆ‘ä»¬å°† KCL è¯­è¨€æœåŠ¡å™¨ LSP é›†æˆåˆ°äº† NeoVim å’Œ Idea ä¸­ï¼Œä½¿å¾—å¯ä»¥åœ¨ NeoVim å’Œ IntelliJ IDEA ä¸­ä½“éªŒåˆ°å’Œ VS Code IDE æ”¯æŒçš„è¡¥å…¨ã€è·³è½¬å’Œæ‚¬åœç­‰åŠŸèƒ½</p><ul><li>NeoVim KCL æ’ä»¶</li></ul><p><img loading="lazy" alt="kcl.nvim" src="/zh-CN/assets/images/overview-0667184faaf2ee0abe93374de277929b.png" width="1246" height="1121" class="img_ev3q"></p><ul><li>IntelliJ æ’ä»¶</li></ul><p><img loading="lazy" alt="intellij" src="/zh-CN/assets/images/overview-1dbf1cc2cd1bbf6b03b06702335a10ce.png" width="1041" height="650" class="img_ev3q"></p><p>æ›´å¤š IDE æ’ä»¶ä¸‹è½½å®‰è£…æ–¹å¼å’ŒåŠŸèƒ½è¯´æ˜å¯å‚è€ƒï¼š</p><ul><li><a href="https://kcl-lang.io/docs/user_docs/getting-started/install#neovim" target="_blank" rel="noopener noreferrer">https://kcl-lang.io/docs/user_docs/getting-started/install#neovim</a></li><li><a href="https://kcl-lang.io/docs/user_docs/getting-started/install#intellij-idea" target="_blank" rel="noopener noreferrer">https://kcl-lang.io/docs/user_docs/getting-started/install#intellij-idea</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å…¶ä»–èµ„æº">å…¶ä»–èµ„æº<a href="#å…¶ä»–èµ„æº" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>â¤ï¸ æ„Ÿè°¢æ‰€æœ‰ KCL ç”¨æˆ·å’Œç¤¾åŒºå°ä¼™ä¼´åœ¨ç¤¾åŒºä¸­æå‡ºçš„å®è´µåé¦ˆä¸å»ºè®®ã€‚é¢„è®¡ 9 æœˆä¸­æ—¬æˆ‘ä»¬ä¼šæ­£å¼å‘å¸ƒ KCL v0.6 æ–°ç‰ˆæœ¬ï¼Œæ•¬è¯·æœŸå¾…!</p><p>æ›´å¤šå…¶ä»–èµ„æºè¯·å‚è€ƒï¼š</p><ul><li><p><a href="https://kcl-lang.io/" target="_blank" rel="noopener noreferrer">KCL ç½‘ç«™</a></p></li><li><p><a href="https://kusionstack.io/" target="_blank" rel="noopener noreferrer">KusionStack ç½‘ç«™</a></p></li><li><p><a href="https://kcl-lang.io/docs/community/release-policy/roadmap" target="_blank" rel="noopener noreferrer">KCL 2023 è·¯çº¿è§„åˆ’</a></p></li><li><p><a href="https://github.com/kcl-lang/kcl/milestone/6" target="_blank" rel="noopener noreferrer">KCL v0.6.0 Milestone</a></p></li><li><p><a href="https://github.com/kcl-lang/kcl/issues" target="_blank" rel="noopener noreferrer">KCL Github Issues</a></p></li><li><p><a href="https://github.com/orgs/kcl-lang/discussions" target="_blank" rel="noopener noreferrer">KCL Github Discussion</a></p></li><li><p><a href="https://github.com/kcl-lang/community" target="_blank" rel="noopener noreferrer">KCL Community</a></p></li></ul>]]></content>
        <author>
            <name>KCL å›¢é˜Ÿ</name>
        </author>
        <category label="KCL" term="KCL"/>
        <category label="Biweekly-Newsletter" term="Biweekly-Newsletter"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[å¿«è®¯ï¼ç¥è´º jakezhu9 æˆä¸º KCL ç¤¾åŒº Maintainerï¼KCL Import å·¥å…·å†è¿å¢å¼ºåŠŸèƒ½ï¼]]></title>
        <id>https://kcl-lang.github.io/zh-CN/blog/2023-09-04-maintainer-jakezhu9-blog</id>
        <link href="https://kcl-lang.github.io/zh-CN/blog/2023-09-04-maintainer-jakezhu9-blog"/>
        <updated>2023-09-04T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[å¿«è®¯]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="å¿«è®¯">å¿«è®¯<a href="#å¿«è®¯" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p><img loading="lazy" alt="jakezhu9" src="/zh-CN/assets/images/jakezhu9-e86a88e78b79e456fe198fd44d6ec5a1.png" width="460" height="460" class="img_ev3q"></p><p>ğŸ‰ è¿‘æ—¥ï¼ŒKCL ç¤¾åŒºè¿æ¥äº†ä¸€ä½æ–°çš„ Maintainer æˆå‘˜ï¼Œ<strong>æ­å–œ jakezhu9 æˆåŠŸæ™‹å‡ä¸ºç¤¾åŒºç»´æŠ¤è€…</strong>ã€‚</p><p>æ„Ÿè°¢ä»–åœ¨ KCL Go SDK ä¸­åšå‡ºä¸€ç³»åˆ—è´¡çŒ®ä»¥åŠä¸º KCL Import å·¥å…·å¸¦æ¥çš„ä¸€ç³»åˆ—å¢å¼ºåŠŸèƒ½çš„å‡çº§ï¼Œä¸ºç”¨æˆ·æä¾›æ›´åŠ ä¾¿æ·é«˜æ•ˆçš„æ•°æ®å’Œ Schema å¯¼å…¥ä½“éªŒã€‚ä»¥ä¸‹æ˜¯ä»–è¿‘æœŸçš„<strong>é‡è¦è´¡çŒ®åˆ—è¡¨</strong></p><ul><li>ğŸ”§ <strong>æ”¯æŒä» JSON/YAML æ•°æ®è½¬æ¢ä¸º KCL é…ç½®</strong>: <a href="https://github.com/kcl-lang/kcl-go/pull/145" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl-go/pull/145</a></li><li>ğŸ”§ <strong>æ”¯æŒä» Terraform Provider Schema è½¬æ¢ä¸º KCL Schema</strong>: <a href="https://github.com/kcl-lang/kcl-go/pull/141" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl-go/pull/141</a></li><li>ğŸ”§ <strong>æ”¯æŒä» JsonSchema è½¬æ¢ä¸º KCL Schema</strong>: <a href="https://github.com/kcl-lang/kcl-go/pull/127" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl-go/pull/127</a></li></ul><p>æ–°æ™‹ Maintainer çš„åŠ å…¥ï¼Œä¸ä»…æ ‡å¿—ç€ jakezhu9 åœ¨æŠ€æœ¯ä¸Šçš„å“è¶Šè¡¨ç°ï¼Œä¹Ÿä½“ç°äº†ç¤¾åŒºå¯¹ä»–çš„é«˜åº¦è®¤å¯å’Œä¿¡ä»»ã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å¿ƒå¾—ä½“ä¼š">å¿ƒå¾—ä½“ä¼š<a href="#å¿ƒå¾—ä½“ä¼š" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p><em>ä»¥ä¸‹æ˜¯ jakezhu9 åŒå­¦å‚ä¸ KCL ç¤¾åŒºçš„å¿ƒå¾—ä½“ä¼š</em></p><p>æˆ‘éå¸¸å¹¸è¿èƒ½å¤ŸåŠ å…¥ KCL è¿™æ ·ä¸€ä¸ªä¼˜ç§€çš„ç¤¾åŒºæ¥ï¼Œå¹¶å‚ä¸é¡¹ç›®çš„å¼€å‘å’Œç¤¾åŒºçš„å»ºè®¾ã€‚ä»ä¸€å¼€å§‹äº†è§£äº‘åŸç”Ÿé¢†åŸŸ KusionStack å’Œ KCL è¿™æ ·å¼ºå¤§çš„å·¥å…·å’Œè¯­è¨€ï¼Œåˆ°ä¸ºé¡¹ç›®ä¿®å¤ä¸€ä¸ªç®€å•çš„ Bugï¼Œå†åˆ°é€æ­¥è®¾è®¡å’Œå¼€å‘ KCL è½¬æ¢å’Œç”Ÿæˆçš„éƒ¨åˆ†ï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä¸ä»…è·å¾—äº†æŠ€æœ¯æ°´å¹³ä¸Šçš„æå‡ï¼Œè¿˜ç§¯ç´¯äº†è®¸å¤šçš„å¼€æºè´¡çŒ®çš„ç»éªŒï¼Œæ„Ÿå—åˆ°äº†ä¸æ–­è¿›æ­¥çš„å¿«ä¹å’Œæˆå°±æ„Ÿã€‚æ¯å½“çœ‹åˆ°è‡ªå·±æäº¤çš„ PR è¢«åˆå¹¶æ—¶ï¼Œæˆ‘éƒ½ä¼šæ„Ÿåˆ°ç‰¹åˆ«çš„æ»¡è¶³ã€‚æ„Ÿè°¢ KCL ç¤¾åŒºï¼Œä¹Ÿæ„Ÿè°¢ç¤¾åŒºçš„å‰è¾ˆå’Œä¸€è·¯ä¸Šé‡åˆ°çš„æ‰€æœ‰å°ä¼™ä¼´ï¼Œä»–ä»¬åœ¨æˆ‘å¼€å‘è¿‡ç¨‹ä¸­ç»™äº†æˆ‘å¾ˆå¤šçš„æƒ³æ³•å’Œå»ºè®®ï¼ŒçœŸçš„éå¸¸æœ‰å¸®åŠ©ã€‚</p><p>KCL ç¤¾åŒºæ˜¯ä¸€ä¸ªå¼€æ”¾è‡ªç”±ã€å……æ»¡æ´»åŠ›ä¸æœºé‡çš„å¼€æºç¤¾åŒºï¼Œæ¥è‡ªä¸åŒå…¬å¸ã€å­¦æ ¡ï¼Œæ‹¥æœ‰ä¸åŒæŠ€æœ¯èƒŒæ™¯çš„å¼€å‘è€…ï¼Œå…±åŒåœ¨ Githubã€ç¤¾åŒºå‘¨ä¼šä¸Šç›¸äº’äº¤æµç¢°æ’ï¼Œæ¢ç´¢å‰æ²¿çš„æŠ€æœ¯è§£å†³æ–¹æ¡ˆï¼Œå¹¶ä¸ºç¤¾åŒºæŒç»­è´¡çŒ®é«˜æ•ˆç®€æ´çš„ä»£ç ã€‚æ— è®ºæ˜¯å¼€æºæ–°æ‰‹è¿˜æ˜¯æŠ€æœ¯å¤§ä½¬ï¼Œéƒ½å¯ä»¥å¿«é€Ÿèå…¥ç¤¾åŒºå¹¶å‚ä¸å…¶ä¸­ã€‚ç¤¾åŒºé‡Œå’Œè°å‹å¥½ã€å…±åŒè¿›æ­¥çš„æ°›å›´ï¼Œä¹Ÿè®©æˆ‘æ„Ÿåˆ°éå¸¸çš„æ¸©æš–ã€‚æœªæ¥ï¼Œæˆ‘å°†ç»§ç»­ä¸º KCL ç¤¾åŒºè´¡çŒ®æ›´å¤šçš„åŠ›é‡ï¼Œä¹Ÿçƒ­çƒˆæ¬¢è¿æ„Ÿå…´è¶£çš„åŒå­¦åŠ å…¥æˆ‘ä»¬ï¼Œå…±åŒå‚ä¸åˆ°ç¤¾åŒºçš„å»ºè®¾å’Œå‘å±•ä¸­æ¥ï¼</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å…¶ä»–èµ„æº">å…¶ä»–èµ„æº<a href="#å…¶ä»–èµ„æº" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>â¤ï¸ æ„Ÿè°¢æ‰€æœ‰ KCL ç”¨æˆ·å’Œç¤¾åŒºå°ä¼™ä¼´åœ¨ç¤¾åŒºä¸­æå‡ºçš„å®è´µåé¦ˆä¸å»ºè®®ã€‚æ›´å¤šå…¶ä»–èµ„æºè¯·å‚è€ƒï¼š</p><ul><li><a href="https://kcl-lang.io/" target="_blank" rel="noopener noreferrer">KCL ç½‘ç«™</a></li><li><a href="https://kusionstack.io/" target="_blank" rel="noopener noreferrer">KusionStack ç½‘ç«™</a></li><li><a href="https://kcl-lang.io/docs/community/release-policy/roadmap" target="_blank" rel="noopener noreferrer">KCL 2023 è·¯çº¿è§„åˆ’</a></li><li><a href="https://github.com/kcl-lang/kcl/milestone/6" target="_blank" rel="noopener noreferrer">KCL v0.6.0 Milestone</a></li><li><a href="https://github.com/kcl-lang/kcl/issues" target="_blank" rel="noopener noreferrer">KCL Github Issues</a></li><li><a href="https://github.com/orgs/kcl-lang/discussions" target="_blank" rel="noopener noreferrer">KCL Github Discussion</a></li><li><a href="https://github.com/kcl-lang/community" target="_blank" rel="noopener noreferrer">KCL Community</a></li></ul>]]></content>
        <author>
            <name>KCL å›¢é˜Ÿ</name>
        </author>
        <category label="KCL" term="KCL"/>
        <category label="Maintainer" term="Maintainer"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[2023 å¹³å°å·¥ç¨‹ä¼šè®® KCL ä»‹ç»å†…å®¹]]></title>
        <id>https://kcl-lang.github.io/zh-CN/blog/2023-platform-engineering-tech-summit</id>
        <link href="https://kcl-lang.github.io/zh-CN/blog/2023-platform-engineering-tech-summit"/>
        <updated>2023-09-01T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[PDF ä¸‹è½½]]></summary>
        <content type="html"><![CDATA[<p><a href="https://kcl-lang.github.io/talks/kcl-platform-engineering-tech-summit2023.pdf" target="_blank" rel="noopener noreferrer">PDF ä¸‹è½½</a></p><p><img loading="lazy" alt="KCL Talk Cover" src="/zh-CN/assets/images/talk-cover-72827f4a8955d903dc92815cf3ebacb4.jpg" width="2484" height="1392" class="img_ev3q"></p>]]></content>
        <author>
            <name>KCL å›¢é˜Ÿ</name>
        </author>
        <category label="KCL" term="KCL"/>
        <category label="Meeting" term="Meeting"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[5 åˆ†é’Ÿç©è½¬ Helmfile KCL æ’ä»¶ï¼Œè½»æ¾ç®¡ç† Kubernetes Helm Charts]]></title>
        <id>https://kcl-lang.github.io/zh-CN/blog/2023-08-31-helmfile-kcl-plugin</id>
        <link href="https://kcl-lang.github.io/zh-CN/blog/2023-08-31-helmfile-kcl-plugin"/>
        <updated>2023-08-31T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[ä»€ä¹ˆæ˜¯ KCL]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ä»€ä¹ˆæ˜¯-kcl">ä»€ä¹ˆæ˜¯ KCL<a href="#ä»€ä¹ˆæ˜¯-kcl" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p><a href="https://github.com/kcl-lang" target="_blank" rel="noopener noreferrer">KCL</a> æ˜¯ä¸€ä¸ªå¼€æºçš„åŸºäºçº¦æŸçš„è®°å½•åŠå‡½æ•°è¯­è¨€å¹¶é€šè¿‡æˆç†Ÿçš„ç¼–ç¨‹è¯­è¨€æŠ€æœ¯å’Œå®è·µæ¥æ”¹è¿›å¯¹å¤§é‡ç¹æ‚é…ç½®æ¯”å¦‚äº‘åŸç”Ÿ Kubernetes é…ç½®åœºæ™¯çš„ç¼–å†™ï¼Œè‡´åŠ›äºæ„å»ºå›´ç»•é…ç½®çš„æ›´å¥½çš„æ¨¡å—åŒ–ã€æ‰©å±•æ€§å’Œç¨³å®šæ€§ï¼Œæ›´ç®€å•çš„é€»è¾‘ç¼–å†™ï¼Œä»¥åŠæ›´ç®€å•çš„è‡ªåŠ¨åŒ–å’Œç”Ÿæ€å·¥å…·é›†æˆã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ä»€ä¹ˆæ˜¯-helmfile">ä»€ä¹ˆæ˜¯ Helmfile<a href="#ä»€ä¹ˆæ˜¯-helmfile" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>Helmfile æ˜¯ä¸€ä¸ªæ˜¯ç”¨äºç®€åŒ–å’Œç®¡ç† Helm Charts çš„å£°æ˜æ€§è§„èŒƒå’Œå·¥å…·ï¼ŒHelmfile KCL æ’ä»¶ä¸º Helmfile å·¥å…·æä¾›äº†é¢å¤–çš„åŠŸèƒ½ï¼Œä½¿å¾—åœ¨ä½¿ç”¨ Helmfile æ—¶æ›´åŠ ä¾¿æ·å’Œé«˜æ•ˆï¼Œé€šè¿‡ Helmfile KCL æ’ä»¶æ‚¨å¯ä»¥</p><ul><li>é€šè¿‡æ— ä¾µå…¥çš„ Hook æ–¹å¼åœ¨å®¢æˆ·ç«¯ç›´æ¥ç¼–è¾‘æˆ–è€…éªŒè¯ Helm Chart é…ç½®ï¼Œå°† Kubernetes é…ç½®ç®¡ç†çš„æ•°æ®éƒ¨åˆ†å’Œé€»è¾‘éƒ¨åˆ†åˆ†ç¦»ï¼Œæ— éœ€ Fork ä¸Šæ¸¸ Chart ä¿®æ”¹å†…éƒ¨é€»è¾‘ï¼Œæ¯”å¦‚<ul><li>ä¿®æ”¹èµ„æºæ ‡ç­¾/æ³¨è§£, æ³¨å…¥ Sidecar å®¹å™¨é…ç½®</li><li>ä½¿ç”¨ KCL Schema æ ¡éªŒ Kubernetes èµ„æºï¼Œå®šä¹‰è‡ªå·±çš„æŠ½è±¡æ¨¡å‹å¹¶åˆ†äº«å¤ç”¨</li></ul></li><li>ä¼˜é›…åœ°ç»´æŠ¤å¤šç¯å¢ƒã€å¤šç§Ÿæˆ·åœºæ™¯é…ç½®ï¼Œè€Œä¸æ˜¯ç®€å•åœ°å¤åˆ¶ç²˜è´´</li></ul><p>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†å¸¦æ‚¨å¿«é€Ÿäº†è§£å’Œå…¥é—¨ Helmfile KCL æ’ä»¶ï¼Œè®©æ‚¨è½»æ¾ç®¡ç†æ‚¨çš„ Kubernetes Helm Chartsã€‚</p><p>ä¸‹é¢ä»¥ä¸€ä¸ªç®€å•ç¤ºä¾‹è¿›è¡Œè¯¦ç»†è¯´æ˜ï¼Œä½¿ç”¨ Helmfile KCL æ’ä»¶æ— éœ€æ‚¨å®‰è£…ä¸ KCL ä»»ä½•ç›¸å…³çš„ç»„ä»¶ï¼Œåªéœ€æœ¬æœºå…·å¤‡ Helmfile å·¥å…·çš„æœ€æ–°ç‰ˆæœ¬ï¼ˆv0.156.0+ï¼‰å³å¯ã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ä½¿ç”¨-helmfile-kcl-æ’ä»¶">ä½¿ç”¨ Helmfile KCL æ’ä»¶<a href="#ä½¿ç”¨-helmfile-kcl-æ’ä»¶" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-å·¥å…·å®‰è£…">1. å·¥å…·å®‰è£…<a href="#1-å·¥å…·å®‰è£…" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>é¦–å…ˆï¼Œç¡®ä¿æ‚¨å·²ç»å®‰è£…äº† Helmfile å®¢æˆ·ç«¯å·¥å…·ï¼Œå¯ä»¥æ ¹æ®ä¸‹é¢é“¾æ¥ä¸­çš„æ–‡æ¡£æç¤ºè¿›è¡Œå®‰è£…ã€‚</p><p><a href="https://github.com/helmfile/helmfile" target="_blank" rel="noopener noreferrer">https://github.com/helmfile/helmfile</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-åˆ›å»º-helmfile-é…ç½®æ–‡ä»¶">2. åˆ›å»º Helmfile é…ç½®æ–‡ä»¶<a href="#2-åˆ›å»º-helmfile-é…ç½®æ–‡ä»¶" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>åœ¨æ‚¨çš„é¡¹ç›®æ ¹ç›®å½•ä¸­åˆ›å»ºä¸€ä¸ªåä¸º helmfile.yaml çš„æ–‡ä»¶ï¼Œå¹¶æŒ‰ç…§ Helmfile çš„è¯­æ³•ç¼–å†™é…ç½®ã€‚åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­ï¼Œæ‚¨å¯ä»¥æŒ‡å®šè¦ä½¿ç”¨çš„ Helm Chartsã€é…ç½®å€¼å’Œä»»ä½•å…¶ä»– Helmfile æ”¯æŒçš„åŠŸèƒ½ã€‚æ­¤å¤–ï¼Œæ‚¨è¿˜å¯ä»¥åœ¨ helmfile.yaml ä¸­ä½¿ç”¨ KCL æ’ä»¶çš„åŠŸèƒ½æ¥åŠ è½½å¯¹ Helm Chart è¿›è¡ŒåŸåœ°é…ç½®ä¿®æ”¹å’ŒéªŒè¯</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">repositories</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> prometheus</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">community</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">url</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> https</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">//prometheus</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">community.github.io/helm</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">charts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">releases</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> prom</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">norbac</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">ubuntu</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">namespace</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> prometheus</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">chart</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> prometheus</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">community/prometheus</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">set</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> rbac.create</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">value</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">transformers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic"># Use KCL Plugin to mutate or validate Kubernetes manifests.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> krm.kcl.dev/v1alpha1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> KCLRun</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"set-annotation"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">annotations</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">config.kubernetes.io/function</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">|</span><span class="token scalar string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">              container:</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">                image: docker.io/kcllang/kustomize-kcl:v0.2.0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">source</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">|</span><span class="token scalar string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">            # ä»…é€šè¿‡ä¸€è¡Œ KCL ä»£ç ï¼Œå°±å¯å®ç°å¯¹ workload é…ç½®åŸåœ°ä¿®æ”¹</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">            items = [resource | {if resource.kind == "Deployment": metadata.annotations: {"managed-by" = "helmfile-kcl"}} for resource in option("resource_list").items]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>åœ¨ä¸Šè¿°é…ç½®ä¸­ï¼Œæˆ‘ä»¬å¼•ç”¨äº† Prometheus Helm Chart, å¹¶é€šè¿‡ä¸€è¡Œ KCL ä»£ç å°±å¯ä»¥å®Œæˆ Prometheus çš„æ‰€æœ‰çš„ Deployment èµ„æºæ³¨å…¥æ ‡ç­¾ managed-by="helmfile-kcl"ã€‚</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-è¿è¡Œ-helmfile-å·¥å…·">3. è¿è¡Œ Helmfile å·¥å…·<a href="#3-è¿è¡Œ-helmfile-å·¥å…·" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>ä¸€åˆ‡å‡†å¤‡å°±ç»ªåï¼Œæ‚¨å¯ä»¥è¿è¡Œ Helmfile å‘½ä»¤æ¥éƒ¨ç½²ã€ç®¡ç†å’Œç»´æŠ¤æ‚¨çš„ Helm Chartsï¼Œé€šè¿‡å¦‚ä¸‹å‘½ä»¤æˆ‘ä»¬å¯ä»¥å°†ä¸Šè¿°é…ç½®ä¸‹å‘åˆ°é›†ç¾¤ã€‚</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">helmfile apply</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æ­£å¸¸æƒ…å†µæˆ‘ä»¬ä¼šçœ‹åˆ°å¦‚ä¸‹é¢æ‰€ç¤ºçš„è¾“å‡º</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Adding repo prometheus-community https://prometheus-community.github.io/helm-charts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token string" style="color:#e3116c">"prometheus-community"</span><span class="token plain"> has been added to your repositories</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="æƒ³è¦æ›´å¤š">æƒ³è¦æ›´å¤š?<a href="#æƒ³è¦æ›´å¤š" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>å¯¹äºä¸Šè¿° helmfile é…ç½®ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶å°è£…ä¸ºå¸¸ç”¨çš„é…ç½®ä¿®æ”¹é€»è¾‘å¹¶ä½¿ç”¨ï¼Œæ— éœ€ä¸æ–­é‡å¤ç¼–å†™ KCL ä»£ç å¹¶åˆ°å¤„å¤åˆ¶ç²˜è´´ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬åœ¨ KCL å®˜æ–¹ Registry å·²ç»å°è£…å¥½äº†è®¸å¤šå¸¸ç”¨çš„ Kubernetes é…ç½®ç¼–è¾‘å’Œæ ¡éªŒä»£ç ç‰‡æ®µ <a href="https://github.com/orgs/kcl-lang/packages" target="_blank" rel="noopener noreferrer">https://github.com/orgs/kcl-lang/packages</a></p><p><img loading="lazy" alt="registry" src="/zh-CN/assets/images/registry-f8060f021f94e6c708d5af3f88e2e8f4.png" width="1080" height="1064" class="img_ev3q"></p><p>é™¤äº†æ”¯æŒåœ¨é…ç½®æ–‡ä»¶ä¸­ä¹¦å†™ KCL ä»£ç ï¼Œæˆ‘ä»¬è¿˜æ”¯æŒç›´æ¥å¼•ç”¨ Registry ä¸­çš„ä»£ç ç‰‡æ®µï¼Œå¦‚ä¸‹æ‰€ç¤º</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> krm.kcl.dev/v1alpha1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> KCLRun</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> https</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">only</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">annotations</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">krm.kcl.dev/version</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 0.0.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">krm.kcl.dev/type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> validation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">documentation</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Requires Ingress resources to be HTTPS only.  Ingress resources must</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      include the `kubernetes.io/ingress.allow</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">http` annotation</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> set to `false`.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      By default a valid TLS </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> configuration is required</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> this can be made</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      optional by setting the `tlsOptional` parameter to `true`.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">More info</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> https</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">//kubernetes.io/docs/concepts/services</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">networking/ingress/</span><span class="token comment" style="color:#999988;font-style:italic">#tls</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Use the OCI source</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">source</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> oci</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">//ghcr.io/kcl</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">lang/https</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">only</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>å…·ä½“çš„ç¤ºä¾‹ä»£ç åœ¨<a href="https://github.com/kcl-lang/krm-kcl/tree/main/examples" target="_blank" rel="noopener noreferrer">è¿™é‡Œ</a></p><p>å¦‚æœæ‚¨æƒ³è´¡çŒ®æ›´å¤šçš„ KCL ä»£ç åº“ï¼Œæ¬¢è¿è”ç³»æˆ‘ä»¬å¹¶å‚é˜…æ–‡æ¡£è¿›è¡Œè´¡çŒ® <a href="https://kcl-lang.io/zh-CN/docs/user_docs/guides/package-management/share_your_pkg/" target="_blank" rel="noopener noreferrer">https://kcl-lang.io/zh-CN/docs/user_docs/guides/package-management/share_your_pkg/</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å°ç»“">å°ç»“<a href="#å°ç»“" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>æœ¬æ–‡æä¾›äº†ä¸€ä¸ªå¿«é€Ÿå…¥é—¨æŒ‡å—ï¼Œå¸®åŠ©æ‚¨åœ¨ 5 åˆ†é’Ÿå†…æŒæ¡ Helmfile KCL æ’ä»¶çš„åŸºæœ¬ç”¨æ³•ã€‚ç°åœ¨ï¼Œæ‚¨å¯ä»¥å¼€å§‹ä½¿ç”¨è¿™ä¸ªå¼ºå¤§çš„å·¥å…·æ¥ç®€åŒ–å’Œä¼˜åŒ–æ‚¨çš„ Kubernetes åº”ç”¨éƒ¨ç½²æµç¨‹äº†ï¼</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å…¶ä»–èµ„æº">å…¶ä»–èµ„æº<a href="#å…¶ä»–èµ„æº" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>æ›´å¤šå…¶ä»–èµ„æºè¯·å‚è€ƒï¼š</p><ul><li><p><a href="https://kcl-lang.io/" target="_blank" rel="noopener noreferrer">KCL ç½‘ç«™</a></p></li><li><p><a href="https://kusionstack.io/" target="_blank" rel="noopener noreferrer">KusionStack ç½‘ç«™</a></p></li><li><p><a href="https://kcl-lang.io/docs/community/release-policy/roadmap" target="_blank" rel="noopener noreferrer">KCL 2023 è·¯çº¿è§„åˆ’</a></p></li><li><p><a href="https://github.com/kcl-lang/kcl/milestone/6" target="_blank" rel="noopener noreferrer">KCL v0.6.0 Milestone</a></p></li><li><p><a href="https://github.com/kcl-lang/kcl/issues" target="_blank" rel="noopener noreferrer">KCL Github Issues</a></p></li><li><p><a href="https://github.com/orgs/kcl-lang/discussions" target="_blank" rel="noopener noreferrer">KCL Github Discussion</a></p></li><li><p><a href="https://github.com/kcl-lang/community" target="_blank" rel="noopener noreferrer">KCL Community</a></p></li></ul>]]></content>
        <author>
            <name>KCL å›¢é˜Ÿ</name>
        </author>
        <category label="KCL" term="KCL"/>
        <category label="Biweekly-Newsletter" term="Biweekly-Newsletter"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[KCL ç¤¾åŒºå¼€æºåŒå‘¨æŠ¥ (2023 08.10 - 08.23) | KCL v0.5.3, v0.5.4 å’Œ v0.5.5 ç‰ˆæœ¬å‘å¸ƒ]]></title>
        <id>https://kcl-lang.github.io/zh-CN/blog/2023-08-23-biweekly-newsletter</id>
        <link href="https://kcl-lang.github.io/zh-CN/blog/2023-08-23-biweekly-newsletter"/>
        <updated>2023-08-23T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[KCL æ˜¯ä¸€ä¸ªå¼€æºçš„åŸºäºçº¦æŸçš„è®°å½•åŠå‡½æ•°è¯­è¨€å¹¶é€šè¿‡æˆç†Ÿçš„ç¼–ç¨‹è¯­è¨€æŠ€æœ¯å’Œå®è·µæ¥æ”¹è¿›å¯¹å¤§é‡ç¹æ‚é…ç½®æ¯”å¦‚äº‘åŸç”Ÿ Kubernetes é…ç½®åœºæ™¯çš„ç¼–å†™ï¼Œè‡´åŠ›äºæ„å»ºå›´ç»•é…ç½®çš„æ›´å¥½çš„æ¨¡å—åŒ–ã€æ‰©å±•æ€§å’Œç¨³å®šæ€§ï¼Œæ›´ç®€å•çš„é€»è¾‘ç¼–å†™ï¼Œä»¥åŠæ›´ç®€å•çš„è‡ªåŠ¨åŒ–å’Œç”Ÿæ€å·¥å…·é›†æˆã€‚]]></summary>
        <content type="html"><![CDATA[<p><img loading="lazy" src="/zh-CN/assets/images/biweekly-newsletter-zh-bd4cf8c2bcc913a580e7b0e5d6691a08.png" width="1127" height="435" class="img_ev3q"></p><p><a href="https://github.com/kcl-lang" target="_blank" rel="noopener noreferrer">KCL</a> æ˜¯ä¸€ä¸ªå¼€æºçš„åŸºäºçº¦æŸçš„è®°å½•åŠå‡½æ•°è¯­è¨€å¹¶é€šè¿‡æˆç†Ÿçš„ç¼–ç¨‹è¯­è¨€æŠ€æœ¯å’Œå®è·µæ¥æ”¹è¿›å¯¹å¤§é‡ç¹æ‚é…ç½®æ¯”å¦‚äº‘åŸç”Ÿ Kubernetes é…ç½®åœºæ™¯çš„ç¼–å†™ï¼Œè‡´åŠ›äºæ„å»ºå›´ç»•é…ç½®çš„æ›´å¥½çš„æ¨¡å—åŒ–ã€æ‰©å±•æ€§å’Œç¨³å®šæ€§ï¼Œæ›´ç®€å•çš„é€»è¾‘ç¼–å†™ï¼Œä»¥åŠæ›´ç®€å•çš„è‡ªåŠ¨åŒ–å’Œç”Ÿæ€å·¥å…·é›†æˆã€‚</p><p>æœ¬æ ç›®å°†ä¼šåŒå‘¨æ›´æ–° KCL è¯­è¨€ç¤¾åŒºæœ€æ–°åŠ¨æ€ï¼ŒåŒ…æ‹¬åŠŸèƒ½ã€å®˜ç½‘æ›´æ–°å’Œæœ€æ–°çš„ç¤¾åŒºåŠ¨æ€ç­‰ï¼Œå¸®åŠ©å¤§å®¶æ›´å¥½åœ°äº†è§£ KCL ç¤¾åŒºï¼</p><p><strong><em>KCL å®˜ç½‘ï¼š<a href="https://kcl-lang.io" target="_blank" rel="noopener noreferrer">https://kcl-lang.io</a></em></strong></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å†…å®¹æ¦‚è¿°">å†…å®¹æ¦‚è¿°<a href="#å†…å®¹æ¦‚è¿°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>æ„Ÿè°¢æ‰€æœ‰è´¡çŒ®è€…è¿‡å»ä¸¤å‘¨ (2023 08.10 - 08.23) çš„æ°å‡ºå·¥ä½œï¼Œä»¥ä¸‹æ˜¯é‡ç‚¹åˆå¹¶å†…å®¹æ¦‚è¿°</p><ul><li><strong>ğŸ”§ è¯­è¨€åŠå·¥å…·é“¾æ›´æ–°</strong><ul><li>KCL æ ¼å¼åŒ–å·¥å…·æ›´æ–°<ul><li>æ”¯æŒå¯¹æœ‰è¯­æ³•é”™è¯¯çš„ä»£ç ç‰‡æ®µå’Œéƒ¨åˆ†ä»£ç ç‰‡æ®µè¿›è¡Œæ ¼å¼åŒ–</li><li>æ”¯æŒå¯¹ç¼©è¿›ä¸å¯¹çš„é…ç½®å—è¿›è¡Œè‡ªåŠ¨æ ¡æ­£</li></ul></li><li>KCL æ–‡æ¡£å·¥å…·æ›´æ–°<ul><li>æ”¯æŒå¯¼å‡ºæ–‡æ¡£ç´¢å¼•é¡µ</li></ul></li><li>KCL&nbsp;å¯¼å…¥å·¥å…·æ›´æ–°<ul><li>æ”¯æŒ Terraform Provider Schema è½¬æ¢ä¸º KCL Schema</li></ul></li><li>KCL å¯¼å‡ºå·¥å…·æ›´æ–°<ul><li>æ”¯æŒç”± KCL Schema å¯¼å‡º OpenAPI Specï¼Œæ¥å…¥ OpenAPI ç”Ÿæ€</li></ul></li><li>KCL IDE æ›´æ–°<ul><li>æ”¯æŒç¼–è¯‘ç¼“å­˜ç‰¹æ€§ï¼Œæå‡éƒ¨åˆ† IDE åŠŸèƒ½æ€§èƒ½</li><li>ä¸°å¯Œ IDE é”™è¯¯ä¿¡æ¯ï¼Œå¹¶æä¾› Import è¯­å¥å¿«é€Ÿä¿®å¤èƒ½åŠ›</li></ul></li><li>KCL åŒ…ç®¡ç†å·¥å…· KPM æ›´æ–°<ul><li>kpm push è¾“å‡ºä¿¡æ¯ä½“éªŒä¼˜åŒ–ï¼Œå¢åŠ æ¨é€ KCL ç¨‹åºåŒ…çš„é‡å¤ tag æ£€æŸ¥</li><li>ä¸º kpm push å’Œ kpm pkg å¢åŠ å‚æ•° â€”vendor å†³å®šæ˜¯å¦å°† KCL ç¨‹åºåŒ…çš„ä¸‰æ–¹åº“æ‰“åŒ…åœ¨ä¸€èµ·</li></ul></li><li>KCL è¯­è¨€æ›´æ–°<ul><li>ä¼˜åŒ– Schema è¯­ä¹‰æ£€æŸ¥å’Œè”åˆç±»å‹æ£€æŸ¥ç­‰é”™è¯¯ä¿¡æ¯</li><li>æ”¯æŒå¯¼å‡ºé…ç½®å—çš„ç±»å‹è¾“å‡º</li></ul></li></ul></li><li><strong>ğŸ„ API æ›´æ–°</strong><ul><li>KCL Schema æ¨¡å‹è§£æ&nbsp;GetSchemaType API è·å– KCL åŒ…ç›¸å…³ä¿¡æ¯å’Œ Schema å±æ€§é»˜è®¤å€¼</li></ul></li><li><strong>ğŸ“° å®˜ç½‘å’Œç”¨ä¾‹æ›´æ–°</strong><ul><li>æ–°å¢é€šè¿‡ docker.io å‘å¸ƒ KCL åŒ…ç”¨ä¾‹: <em><a href="https://github.com/kcl-lang/kpm/blob/main/docs/publish_to_docker_reg.md" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kpm/blob/main/docs/publish_to_docker_reg.md</a></em></li><li>æ–°å¢ KCL Gitlab CI é›†æˆç”¨ä¾‹: <em><a href="https://kcl-lang.io/docs/user_docs/guides/ci-integration/gitlab-ci" target="_blank" rel="noopener noreferrer">https://kcl-lang.io/docs/user_docs/guides/ci-integration/gitlab-ci</a></em></li><li>æ–°å¢ KCL å¯†é’¥ç®¡ç† Vault å’Œ Vals é›†æˆç”¨ä¾‹:&nbsp;<em><a href="https://kcl-lang.io/docs/user_docs/guides/secret-management/vault" target="_blank" rel="noopener noreferrer">https://kcl-lang.io/docs/user_docs/guides/secret-management/vault</a></em></li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ç‰¹åˆ«é¸£è°¢">ç‰¹åˆ«é¸£è°¢<a href="#ç‰¹åˆ«é¸£è°¢" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>ä»¥ä¸‹æ’åä¸åˆ†å…ˆå</p><ul><li>æ„Ÿè°¢ @jakezhu9 å¯¹ KCL Import å·¥å…· Terraform Schema åˆ° KCL Schema è½¬æ¢çš„è´¡çŒ® ğŸ™Œ <em><a href="https://github.com/kcl-lang/kcl-go/pull/141" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl-go/pull/141</a></em></li><li>æ„Ÿè°¢ @xxmao123 å’Œ @starkers å¯¹ NeoVim KCL æ’ä»¶çš„è®¨è®ºä¸è´¡çŒ® ğŸ™Œ <em><a href="https://github.com/kcl-lang/vim-kcl/pull/2" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/vim-kcl/pull/2</a></em></li><li>æ„Ÿè°¢ @starkers å¯¹ mason.nvim registry å¢åŠ  KCL çš„å®‰è£…æ”¯æŒ ğŸ™Œ <em><a href="https://github.com/mason-org/mason-registry/pull/2425" target="_blank" rel="noopener noreferrer">https://github.com/mason-org/mason-registry/pull/2425</a></em></li><li>æ„Ÿè°¢ @prahaladramji å¯¹ KCL Homebrew å®‰è£…è„šæœ¬çš„å‡çº§æ›´æ–°ä¸è´¡çŒ® ğŸ™Œ <em><a href="https://github.com/kcl-lang/homebrew-tap/pull/1" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/homebrew-tap/pull/1</a></em></li><li>æ„Ÿè°¢ @yamin-oanda ä¸º Pulumi å®˜æ–¹æä¾› KCL æ”¯æŒçš„è®¨è®º ğŸ™Œ <em><a href="https://github.com/pulumi/pulumi/discussions/13722" target="_blank" rel="noopener noreferrer">https://github.com/pulumi/pulumi/discussions/13722</a></em></li><li>æ­¤å¤–æ„Ÿè°¢ @nkabir, @mihaigalos, @prahaladramji, @yamin-oanda, @magick93, @MirKml ç­‰åœ¨è¿‡å»ä¸¤å‘¨ä½¿ç”¨ KCL è¿‡ç¨‹ä¸­æå‡ºçš„å®è´µåé¦ˆå’Œè®¨è®º&nbsp;ğŸ™Œ</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ç²¾é€‰æ›´æ–°">ç²¾é€‰æ›´æ–°<a href="#ç²¾é€‰æ›´æ–°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="kcl-import-å·¥å…·æ›´æ–°">KCL Import å·¥å…·æ›´æ–°<a href="#kcl-import-å·¥å…·æ›´æ–°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>KCL Import å·¥å…·åœ¨ Protobuf, JsonSchema OpenAPI æ¨¡å‹å’Œ Go ç»“æ„ä½“è½¬æ¢ä¸º KCL Schema çš„åŸºç¡€ä¸Šï¼Œæ–°å¢ Terraform Provider Schema åˆ° KCL Schema çš„è½¬æ¢æ”¯æŒï¼Œæ¯”å¦‚å¯¹äºå¦‚ä¸‹çš„ Terraform Provider Json (é€šè¿‡ <code>terraform providers schema -json &gt; provider.json</code> å‘½ä»¤è·å¾—ï¼Œè¯¦æƒ…è¯·å‚è€ƒ <a href="https://developer.hashicorp.com/terraform/cli/commands/providers/schema" target="_blank" rel="noopener noreferrer">https://developer.hashicorp.com/terraform/cli/commands/providers/schema</a>)</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"format_version"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"0.2"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"provider_schemas"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"registry.terraform.io/aliyun/alicloud"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"provider"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">"version"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">"block"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">"attributes"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">"block_types"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">"description_kind"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"plain"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"resource_schemas"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">"alicloud_db_instance"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">"version"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">"block"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">"attributes"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token property" style="color:#36acaa">"db_instance_type"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token property" style="color:#36acaa">"type"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"string"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token property" style="color:#36acaa">"description_kind"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"plain"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token property" style="color:#36acaa">"computed"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token property" style="color:#36acaa">"engine"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token property" style="color:#36acaa">"type"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"string"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token property" style="color:#36acaa">"description_kind"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"plain"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token property" style="color:#36acaa">"required"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token property" style="color:#36acaa">"security_group_ids"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token property" style="color:#36acaa">"type"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"set"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"string"</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token property" style="color:#36acaa">"description_kind"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"plain"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token property" style="color:#36acaa">"optional"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token property" style="color:#36acaa">"computed"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token property" style="color:#36acaa">"security_ips"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token property" style="color:#36acaa">"type"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"set"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"string"</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token property" style="color:#36acaa">"description_kind"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"plain"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token property" style="color:#36acaa">"optional"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token property" style="color:#36acaa">"computed"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token property" style="color:#36acaa">"tags"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token property" style="color:#36acaa">"type"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"map"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"string"</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token property" style="color:#36acaa">"description_kind"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"plain"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token property" style="color:#36acaa">"optional"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">"block_types"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">"description_kind"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"plain"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">"alicloud_config_rule"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">"version"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">"block"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">"attributes"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token property" style="color:#36acaa">"compliance"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token property" style="color:#36acaa">"type"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  </span><span class="token string" style="color:#e3116c">"list"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token string" style="color:#e3116c">"object"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                      </span><span class="token property" style="color:#36acaa">"compliance_type"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"string"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                      </span><span class="token property" style="color:#36acaa">"count"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"number"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token property" style="color:#36acaa">"description_kind"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"plain"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token property" style="color:#36acaa">"computed"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token property" style="color:#36acaa">"resource_types_scope"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token property" style="color:#36acaa">"type"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"list"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"string"</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token property" style="color:#36acaa">"description_kind"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"plain"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token property" style="color:#36acaa">"optional"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token property" style="color:#36acaa">"computed"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"data_source_schemas"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ç»è¿‡ KCL Import å·¥å…·å¯ä»¥è¾“å‡ºä¸ºå¦‚ä¸‹ KCL ä»£ç </p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">"""</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">This file was generated by the KCL auto-gen tool. DO NOT EDIT.</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">Editing this file might prove futile when you re-run the KCL auto-gen generate command.</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">"""</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">schema AlicloudConfigRule</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:#e3116c">"""</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    AlicloudConfigRule</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="display:inline-block;color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    Attributes</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    ----------</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    compliance: [ComplianceObject], optional</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    resource_types_scope: [str], optional</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    """</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    compliance?</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">ComplianceObject</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    resource_types_scope?</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">schema ComplianceObject</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:#e3116c">"""</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    ComplianceObject</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="display:inline-block;color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    Attributes</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    ----------</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    compliance_type: str, optional</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    count: int, optional</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    """</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    compliance_type?</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    count?</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">schema AlicloudDbInstance</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:#e3116c">"""</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    AlicloudDbInstance</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="display:inline-block;color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    Attributes</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    ----------</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    db_instance_type: str, optional</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    engine: str, required</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    security_group_ids: [str], optional</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    security_ips: [str], optional</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    tags: {str:str}, optional</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    """</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    db_instance_type?</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    engine</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    security_group_ids?</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    security_ips?</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    tags?</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">:</span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    check</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        isunique</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">security_group_ids</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        isunique</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">security_ips</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="kcl-vault-é›†æˆ">KCL Vault é›†æˆ<a href="#kcl-vault-é›†æˆ" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>ä»…éœ€ä¸‰æ­¥ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ Vault æ¥å­˜å‚¨å¹¶ç®¡ç†æ•æ„Ÿä¿¡æ¯å¹¶åœ¨ KCL ä¸­ä½¿ç”¨ã€‚</p><p>é¦–å…ˆæˆ‘ä»¬å®‰è£…å¹¶ä½¿ç”¨ Vault å­˜å‚¨ <code>foo</code> å’Œ <code>bar</code> ä¿¡æ¯</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">vault kv put secret/foo </span><span class="token assign-left variable" style="color:#36acaa">foo</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">foo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vault kv put secret/bar </span><span class="token assign-left variable" style="color:#36acaa">bar</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">bar</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ç„¶åç¼–å†™å¦‚ä¸‹ KCL ä»£ç  (main.k)</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">apiVersion </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"apps/v1"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kind </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Deployment"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">metadata </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"nginx"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    labels</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">app </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"nginx"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    annotations</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">"secret-store"</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"vault"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Valid format:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">#  "ref+vault://PATH/TO/KV_BACKEND#/KEY"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">"foo"</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"ref+vault://secret/foo#/foo"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">"bar"</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"ref+vault://secret/bar#/bar"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spec </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    replicas </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    selector</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">matchLabels </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> metadata</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">labels</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    template</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">metadata</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">labels </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> metadata</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">labels</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    template</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">spec</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">containers </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> metadata</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            image </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"${metadata.name}:1.14.2"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ports </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> containerPort </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">80</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æœ€åå¯ä»¥é€šè¿‡ Vals å‘½ä»¤è¡Œå·¥å…·è·å¾—è§£å¯†åçš„é…ç½®</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kcl main.k </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> vals </span><span class="token builtin class-name">eval</span><span class="token plain"> -f -</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æ›´å¤šè¯¦æƒ…å’Œç”¨ä¾‹å¯ä»¥å‚è€ƒ <a href="https://kcl-lang.io/docs/user_docs/guides/secret-management/vault" target="_blank" rel="noopener noreferrer">https://kcl-lang.io/docs/user_docs/guides/secret-management/vault</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ç¤¾åŒºåŠ¨æ€">ç¤¾åŒºåŠ¨æ€<a href="#ç¤¾åŒºåŠ¨æ€" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><ul><li>ğŸ‰ æ­å–œæ¥è‡ªåä¸­ç§‘æŠ€å¤§å­¦çš„æœ±ä¿Šæ˜ŸåŒå­¦æˆåŠŸé€šè¿‡ Gitlink ç¼–ç¨‹å¤ä»¤è¥ (GLCC) ä¸­æœŸè€ƒæ ¸å¹¶å‡ºè‰²åœ°å®Œæˆäº† KCL Import å·¥å…· Jsonschema å’Œ Terraform Provider Schema ä¸ KCL Schema è½¬æ¢çš„éƒ¨åˆ†ï¼Œåç»­ç¤¾åŒºå°†ä¸ºå…¶æˆäºˆ KCL ç¤¾åŒº Maintainer è§’è‰²</li><li>ğŸ’» KCL å‚åŠ  CNCF äº‘åŸç”Ÿè®¡ç®—åŸºé‡‘ä¼šåº”ç”¨äº¤ä»˜ TAG ç¤¾åŒºä¼šè®®å¹¶ä½œé¡¹ç›®æ±‡æŠ¥</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å…¶ä»–èµ„æº">å…¶ä»–èµ„æº<a href="#å…¶ä»–èµ„æº" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>â¤ï¸ æ„Ÿè°¢æ‰€æœ‰ KCL ç”¨æˆ·å’Œç¤¾åŒºå°ä¼™ä¼´åœ¨ç¤¾åŒºä¸­æå‡ºçš„å®è´µåé¦ˆä¸å»ºè®®ã€‚åç»­æˆ‘ä»¬ä¼šæ’°å†™æ›´å¤š KCL v0.5.x æ–°ç‰ˆæœ¬åŠŸèƒ½è§£è¯»ç³»åˆ—æ–‡ç« ï¼Œæ•¬è¯·æœŸå¾…!</p><p>æ›´å¤šå…¶ä»–èµ„æºè¯·å‚è€ƒï¼š</p><ul><li><p><a href="https://kcl-lang.io/" target="_blank" rel="noopener noreferrer">KCL ç½‘ç«™</a></p></li><li><p><a href="https://kusionstack.io/" target="_blank" rel="noopener noreferrer">KusionStack ç½‘ç«™</a></p></li><li><p><a href="https://kcl-lang.io/docs/community/release-policy/roadmap" target="_blank" rel="noopener noreferrer">KCL 2023 è·¯çº¿è§„åˆ’</a></p></li><li><p><a href="https://github.com/kcl-lang/kcl/milestone/6" target="_blank" rel="noopener noreferrer">KCL v0.6.0 Milestone</a></p></li><li><p><a href="https://github.com/kcl-lang/kcl/issues" target="_blank" rel="noopener noreferrer">KCL Github Issues</a></p></li><li><p><a href="https://github.com/orgs/kcl-lang/discussions" target="_blank" rel="noopener noreferrer">KCL Github Discussion</a></p></li><li><p><a href="https://github.com/kcl-lang/community" target="_blank" rel="noopener noreferrer">KCL Community</a></p></li></ul>]]></content>
        <author>
            <name>KCL å›¢é˜Ÿ</name>
        </author>
        <category label="KCL" term="KCL"/>
        <category label="Biweekly-Newsletter" term="Biweekly-Newsletter"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[KCL ç¤¾åŒºå¼€æºåŒå‘¨æŠ¥ (2023 07.26 - 08.09) | KCL 0.5.1 å’Œ 0.5.2 ç‰ˆæœ¬æ­£å¼å‘å¸ƒ]]></title>
        <id>https://kcl-lang.github.io/zh-CN/blog/2023-08-09-biweekly-newsletter</id>
        <link href="https://kcl-lang.github.io/zh-CN/blog/2023-08-09-biweekly-newsletter"/>
        <updated>2023-08-09T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[KCL æ˜¯ä¸€ä¸ªå¼€æºçš„åŸºäºçº¦æŸçš„è®°å½•åŠå‡½æ•°è¯­è¨€å¹¶é€šè¿‡æˆç†Ÿçš„ç¼–ç¨‹è¯­è¨€æŠ€æœ¯å’Œå®è·µæ¥æ”¹è¿›å¯¹å¤§é‡ç¹æ‚é…ç½®æ¯”å¦‚äº‘åŸç”Ÿ Kubernetes é…ç½®åœºæ™¯çš„ç¼–å†™ï¼Œè‡´åŠ›äºæ„å»ºå›´ç»•é…ç½®çš„æ›´å¥½çš„æ¨¡å—åŒ–ã€æ‰©å±•æ€§å’Œç¨³å®šæ€§ï¼Œæ›´ç®€å•çš„é€»è¾‘ç¼–å†™ï¼Œä»¥åŠæ›´ç®€å•çš„è‡ªåŠ¨åŒ–å’Œç”Ÿæ€å·¥å…·é›†æˆã€‚]]></summary>
        <content type="html"><![CDATA[<p><img loading="lazy" src="/zh-CN/assets/images/biweekly-newsletter-zh-bd4cf8c2bcc913a580e7b0e5d6691a08.png" width="1127" height="435" class="img_ev3q"></p><p><a href="https://github.com/kcl-lang" target="_blank" rel="noopener noreferrer">KCL</a> æ˜¯ä¸€ä¸ªå¼€æºçš„åŸºäºçº¦æŸçš„è®°å½•åŠå‡½æ•°è¯­è¨€å¹¶é€šè¿‡æˆç†Ÿçš„ç¼–ç¨‹è¯­è¨€æŠ€æœ¯å’Œå®è·µæ¥æ”¹è¿›å¯¹å¤§é‡ç¹æ‚é…ç½®æ¯”å¦‚äº‘åŸç”Ÿ Kubernetes é…ç½®åœºæ™¯çš„ç¼–å†™ï¼Œè‡´åŠ›äºæ„å»ºå›´ç»•é…ç½®çš„æ›´å¥½çš„æ¨¡å—åŒ–ã€æ‰©å±•æ€§å’Œç¨³å®šæ€§ï¼Œæ›´ç®€å•çš„é€»è¾‘ç¼–å†™ï¼Œä»¥åŠæ›´ç®€å•çš„è‡ªåŠ¨åŒ–å’Œç”Ÿæ€å·¥å…·é›†æˆã€‚</p><p>æœ¬æ ç›®å°†ä¼šåŒå‘¨æ›´æ–° KCL è¯­è¨€ç¤¾åŒºæœ€æ–°åŠ¨æ€ï¼ŒåŒ…æ‹¬åŠŸèƒ½ã€å®˜ç½‘æ›´æ–°å’Œæœ€æ–°çš„ç¤¾åŒºåŠ¨æ€ç­‰ï¼Œå¸®åŠ©å¤§å®¶æ›´å¥½åœ°äº†è§£ KCL ç¤¾åŒºï¼</p><p><strong><em>KCL å®˜ç½‘ï¼š<a href="https://kcl-lang.io" target="_blank" rel="noopener noreferrer">https://kcl-lang.io</a></em></strong></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å†…å®¹æ¦‚è¿°">å†…å®¹æ¦‚è¿°<a href="#å†…å®¹æ¦‚è¿°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>è¿‡å»ä¸¤å‘¨ (2023 07.26 - 08.09)ï¼ŒKCL æ‰€æœ‰é¡¹ç›®ä¸­æ€»è®¡æœ‰&nbsp;<strong>34</strong>&nbsp;ä¸ª PR è¢«åˆå¹¶ï¼Œæ„Ÿè°¢æ‰€æœ‰è´¡çŒ®è€…çš„æ°å‡ºå·¥ä½œï¼Œä»¥ä¸‹æ˜¯é‡ç‚¹åˆå¹¶å†…å®¹æ¦‚è¿°</p><ul><li><strong>ğŸ”§ è¯­è¨€åŠå·¥å…·é“¾æ›´æ–°</strong><ul><li>KCL Doc æ–‡æ¡£å·¥å…·æ–°å¢ Markdown æ–‡æ¡£å¯¼å‡ºæ”¯æŒ</li><li>KCL&nbsp;Import å¯¼å…¥å·¥å…·æ›´æ–° - æ”¯æŒ JsonSchema è½¬æ¢ä¸º KCL Schema</li><li>KCL åŒ…ç®¡ç†å·¥å…· KPM æ”¯æŒåœ¨ kcl.mod ä¸­è®¾ç½®ç¼–è¯‘å‚æ•°ï¼Œä¼˜åŒ–å‘½ä»¤è¡Œæç¤ºä¿¡æ¯</li><li>KCL IDE æ’ä»¶ä¼˜åŒ–è¡¥å…¨ã€è·³è½¬å’Œæ‚¬åœæ–‡æ¡£æ˜¾ç¤ºç­‰åŠŸèƒ½ï¼Œå¹¶æ”¯æŒ NeoVim ç¼–è¾‘å™¨</li></ul></li><li><strong>ğŸ„ API æ›´æ–°</strong><ul><li>KCL Schema æ¨¡å‹è§£æ&nbsp;GetSchemaType API æ–°å¢è£…é¥°å™¨ä¿¡æ¯å’ŒåŒ…ä¿¡æ¯å­—æ®µ</li></ul></li><li><strong>ğŸ  ç¤¾åŒºæ‰©å±•æ›´æ–°</strong><ul><li>Helmfile KCL æ’ä»¶æ”¯æŒ</li></ul></li><li><strong>ğŸ“° å®˜ç½‘å’Œç”¨ä¾‹æ›´æ–°</strong><ul><li>KCL å®˜ç½‘æ–°å¢&nbsp;v0.5.x&nbsp;æ–‡æ¡£ç‰ˆæœ¬é€‰æ‹©</li><li>æ–°å¢ KCL ç”¨ä¾‹ä»“åº“:&nbsp;<em><a href="https://github.com/kcl-lang/examples" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/examples</a></em></li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ç‰¹åˆ«é¸£è°¢">ç‰¹åˆ«é¸£è°¢<a href="#ç‰¹åˆ«é¸£è°¢" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><ul><li>æ„Ÿè°¢ @jakezhu9 å¯¹ KCL Import å·¥å…· JsonSchema è½¬æ¢çš„è´¡çŒ® ğŸ™Œ</li><li>æ„Ÿè°¢ @xxmao123 å¯¹ Vim å’Œ NeoVim KCL æ’ä»¶çš„è´¡çŒ® ğŸ™Œ</li><li>æ„Ÿè°¢ @yyxhero åœ¨ Helmfile KCL æ’ä»¶æ”¯æŒä¸­æä¾›çš„å¸®åŠ©ä¸æ”¯æŒ ğŸ™Œ</li><li>æ„Ÿè°¢ @nkabir, @mihaigalos, @prahaladramji, @dhhopen ç­‰åœ¨ä½¿ç”¨ KCL è¿‡ç¨‹ä¸­æå‡ºçš„å®è´µå»ºè®®å’Œè®¨è®º&nbsp;ğŸ™Œ</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ç²¾é€‰æ›´æ–°">ç²¾é€‰æ›´æ–°<a href="#ç²¾é€‰æ›´æ–°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="kcl-import-å·¥å…·æ›´æ–°">KCL Import å·¥å…·æ›´æ–°<a href="#kcl-import-å·¥å…·æ›´æ–°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>KCL Import å·¥å…·åœ¨ Protobuf, OpenAPI æ¨¡å‹å’Œ Go ç»“æ„ä½“è½¬æ¢ä¸º KCL Schema çš„åŸºç¡€ä¸Šï¼Œæ–°å¢ JsonSchema åˆ° KCL Schema çš„è½¬æ¢æ”¯æŒï¼Œæ¯”å¦‚å¯¹äºå¦‚ä¸‹çš„ JsonSchema</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"$schema"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"http://json-schema.org/draft-07/schema#"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"$id"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"https://example.com/schemas/customer.json"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"type"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"object"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"$defs"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"address"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"type"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"object"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"properties"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">"city"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">"type"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"string"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">"state"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">"$ref"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"#/$defs/state"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"state"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"type"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"object"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"properties"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">"name"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">"type"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"string"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"properties"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"name"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"type"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"string"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"address"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"$ref"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"#/$defs/address"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ç»è¿‡ KCL Import å·¥å…·å¯ä»¥è¾“å‡ºä¸ºå¦‚ä¸‹ KCL ä»£ç </p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">schema&nbsp;Customer</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="token triple-quoted-string string" style="color:#e3116c">"""</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">&nbsp;&nbsp;&nbsp;&nbsp;Customer</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="display:inline-block;color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">&nbsp;&nbsp;&nbsp;&nbsp;Attributes</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">&nbsp;&nbsp;&nbsp;&nbsp;----------</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">&nbsp;&nbsp;&nbsp;&nbsp;name:&nbsp;str,&nbsp;optional</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">&nbsp;&nbsp;&nbsp;&nbsp;address:&nbsp;Address,&nbsp;optional</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">&nbsp;&nbsp;&nbsp;&nbsp;"""</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;&nbsp;&nbsp;name?</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">&nbsp;</span><span class="token builtin">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;&nbsp;&nbsp;address?</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">&nbsp;Address</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">schema&nbsp;Address</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="token triple-quoted-string string" style="color:#e3116c">"""</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">&nbsp;&nbsp;&nbsp;&nbsp;Address</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="display:inline-block;color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">&nbsp;&nbsp;&nbsp;&nbsp;Attributes</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">&nbsp;&nbsp;&nbsp;&nbsp;----------</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">&nbsp;&nbsp;&nbsp;&nbsp;city:&nbsp;str,&nbsp;optional</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">&nbsp;&nbsp;&nbsp;&nbsp;state:&nbsp;State,&nbsp;optional</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">&nbsp;&nbsp;&nbsp;&nbsp;"""</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;&nbsp;&nbsp;city?</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">&nbsp;</span><span class="token builtin">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;&nbsp;&nbsp;state?</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">&nbsp;State</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">schema&nbsp;State</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="token triple-quoted-string string" style="color:#e3116c">"""</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">&nbsp;&nbsp;&nbsp;&nbsp;State</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="display:inline-block;color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">&nbsp;&nbsp;&nbsp;&nbsp;Attributes</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">&nbsp;&nbsp;&nbsp;&nbsp;----------</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">&nbsp;&nbsp;&nbsp;&nbsp;name:&nbsp;str,&nbsp;optional</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">&nbsp;&nbsp;&nbsp;&nbsp;"""</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;&nbsp;&nbsp;name?</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">&nbsp;</span><span class="token builtin">str</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="helmfile-kcl-æ’ä»¶">Helmfile KCL æ’ä»¶<a href="#helmfile-kcl-æ’ä»¶" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>Helmfile æ˜¯ç”¨äºéƒ¨ç½² Helm Chart çš„å£°æ˜æ€§è§„èŒƒå’Œå·¥å…·ï¼Œé€šè¿‡ Helmfile KCL æ’ä»¶æ‚¨å¯ä»¥</p><ul><li>é€šè¿‡æ— ä¾µå…¥çš„ Hook æ–¹å¼ç¼–è¾‘æˆ–è€…éªŒè¯ Helm Chart é…ç½®ï¼Œå°† Kubernetes é…ç½®ç®¡ç†çš„æ•°æ®éƒ¨åˆ†å’Œé€»è¾‘éƒ¨åˆ†åˆ†ç¦»<ul><li>ä¿®æ”¹èµ„æºæ ‡ç­¾/æ³¨è§£, æ³¨å…¥ Sidecar å®¹å™¨é…ç½®</li><li>ä½¿ç”¨ KCL Schema æ ¡éªŒèµ„æºï¼Œå®šä¹‰è‡ªå·±çš„æŠ½è±¡æ¨¡å‹å¹¶åˆ†äº«å¤ç”¨</li></ul></li><li>ä¼˜é›…åœ°ç»´æŠ¤å¤šç¯å¢ƒã€å¤šç§Ÿæˆ·åœºæ™¯é…ç½®ï¼Œè€Œä¸æ˜¯ç®€å•åœ°å¤åˆ¶ç²˜è´´</li></ul><p>ä¸‹é¢ä»¥ä¸€ä¸ªç®€å•ç¤ºä¾‹è¿›è¡Œè¯¦ç»†è¯´æ˜ï¼Œä½¿ç”¨ Helmfile KCL æ’ä»¶æ— éœ€æ‚¨å®‰è£…ä¸ KCL ä»»ä½•ç›¸å…³çš„ç»„ä»¶ï¼Œåªéœ€æœ¬æœºå…·å¤‡ Helmfile å·¥å…·çš„æœ€æ–°ç‰ˆæœ¬å³å¯ã€‚</p><p>æˆ‘ä»¬å¯ä»¥ç¼–å†™ä¸€ä¸ªå¦‚ä¸‹æ‰€ç¤º&nbsp;<code>helmfile.yaml</code>&nbsp;æ–‡ä»¶</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">repositories</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">&nbsp;name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">&nbsp;prometheus</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">community</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;url</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">&nbsp;https</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">//prometheus</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">community.github.io/helm</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">charts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">releases</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">&nbsp;name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">&nbsp;prom</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">norbac</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">ubuntu</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;namespace</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">&nbsp;prometheus</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;chart</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">&nbsp;prometheus</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">community/prometheus</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;set</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">&nbsp;name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">&nbsp;rbac.create</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;&nbsp;&nbsp;value</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">&nbsp;</span><span class="token boolean important" style="color:#36acaa">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;transformers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;</span><span class="token comment" style="color:#999988;font-style:italic">#&nbsp;Use&nbsp;KCL&nbsp;Plugin&nbsp;to&nbsp;mutate&nbsp;or&nbsp;validate&nbsp;Kubernetes&nbsp;manifests.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">&nbsp;apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">&nbsp;krm.kcl.dev/v1alpha1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;&nbsp;&nbsp;kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">&nbsp;KCLRun</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;&nbsp;&nbsp;metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">&nbsp;</span><span class="token string" style="color:#e3116c">"set-annotation"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;annotations</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;config.kubernetes.io/function</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">&nbsp;</span><span class="token punctuation" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;container</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">&nbsp;docker.io/kcllang/kustomize</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">kcl</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">v0.2.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;&nbsp;&nbsp;spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">&nbsp;</span><span class="token punctuation" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">resource&nbsp;</span><span class="token punctuation" style="color:#393A34">|</span><span class="token plain">&nbsp;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">if&nbsp;resource.kind&nbsp;==&nbsp;"Deployment"</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">&nbsp;metadata.annotations</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">&nbsp;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">"managed</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">by"&nbsp;=&nbsp;"helmfile</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">kcl"</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">&nbsp;for&nbsp;resource&nbsp;in&nbsp;option("resource_list").items</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>åœ¨ä¸Šè¿°é…ç½®ä¸­ï¼Œæˆ‘ä»¬å¼•ç”¨äº† Prometheus Helm Chart, å¹¶é€šè¿‡ä¸€è¡Œ KCL ä»£ç å°±å¯ä»¥å®Œæˆ Prometheus çš„æ‰€æœ‰çš„ Deployment èµ„æºæ³¨å…¥æ ‡ç­¾&nbsp;<code>managed-by="helmfile-kcl"</code>ï¼Œé€šè¿‡å¦‚ä¸‹å‘½ä»¤æˆ‘ä»¬å¯ä»¥å°†ä¸Šè¿°é…ç½®ä¸‹å‘åˆ°é›†ç¾¤</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">helmfile&nbsp;apply</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æ›´å¤šç”¨ä¾‹å¯ä»¥å‚è€ƒ<a href="https://github.com/kcl-lang/krm-kcl" target="_blank" rel="noopener noreferrer">è¿™é‡Œ</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å…¶ä»–èµ„æº">å…¶ä»–èµ„æº<a href="#å…¶ä»–èµ„æº" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>â¤ï¸ æ„Ÿè°¢æ‰€æœ‰ KCL ç”¨æˆ·å’Œç¤¾åŒºå°ä¼™ä¼´åœ¨ç¤¾åŒºä¸­æå‡ºçš„å®è´µåé¦ˆä¸å»ºè®®ã€‚åç»­æˆ‘ä»¬ä¼šæ’°å†™æ›´å¤š KCL v0.5.x æ–°ç‰ˆæœ¬åŠŸèƒ½è§£è¯»ç³»åˆ—æ–‡ç« ï¼Œæ•¬è¯·æœŸå¾…!</p><p>æ›´å¤šå…¶ä»–èµ„æºè¯·å‚è€ƒï¼š</p><ul><li><p><a href="https://kcl-lang.io/" target="_blank" rel="noopener noreferrer">KCL ç½‘ç«™</a></p></li><li><p><a href="https://kusionstack.io/" target="_blank" rel="noopener noreferrer">KusionStack ç½‘ç«™</a></p></li><li><p><a href="https://kcl-lang.io/docs/community/release-policy/roadmap" target="_blank" rel="noopener noreferrer">KCL 2023 è·¯çº¿è§„åˆ’</a></p></li><li><p><a href="https://github.com/kcl-lang/kcl/milestone/6" target="_blank" rel="noopener noreferrer">KCL v0.6.0 Milestone</a></p></li><li><p><a href="https://github.com/kcl-lang/kcl/issues" target="_blank" rel="noopener noreferrer">KCL Github Issues</a></p></li><li><p><a href="https://github.com/orgs/kcl-lang/discussions" target="_blank" rel="noopener noreferrer">KCL Github Discussion</a></p></li><li><p><a href="https://github.com/kcl-lang/community" target="_blank" rel="noopener noreferrer">KCL Community</a></p></li><li><p><a href="https://github.com/kcl-lang/kcl/releases/tag/v0.5.0" target="_blank" rel="noopener noreferrer">KCL v0.5.0 Release</a></p></li><li><p><a href="https://github.com/kcl-lang/kcl/releases/tag/v0.5.1" target="_blank" rel="noopener noreferrer">KCL v0.5.1 Release</a></p></li><li><p><a href="https://github.com/kcl-lang/kcl/releases/tag/v0.5.2" target="_blank" rel="noopener noreferrer">KCL v0.5.2&nbsp;Release</a></p></li></ul>]]></content>
        <author>
            <name>KCL å›¢é˜Ÿ</name>
        </author>
        <category label="KCL" term="KCL"/>
        <category label="Biweekly-Newsletter" term="Biweekly-Newsletter"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[ä½¿ç”¨ Githubã€Argo CD å’Œ KCL å®ç° GitOps ä»¥ç®€åŒ– DevOps]]></title>
        <id>https://kcl-lang.github.io/zh-CN/blog/2023-07-31-kcl-github-argocd-gitops</id>
        <link href="https://kcl-lang.github.io/zh-CN/blog/2023-07-31-kcl-github-argocd-gitops"/>
        <updated>2023-07-31T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[å‰è¨€]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="å‰è¨€">å‰è¨€<a href="#å‰è¨€" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>åœ¨ç°ä»£è½¯ä»¶å¼€å‘ä¸­ï¼ŒGitOps ä½œä¸ºç®¡ç†åŸºç¡€æ¶æ„å’Œåº”ç”¨ç¨‹åºçš„å•ä¸€çœŸç›¸è‡ªåŠ¨åŒ–çš„æ–¹æ³•å¯ä»¥æé«˜æ•ˆç‡å’Œå‡å°‘äººä¸ºé”™è¯¯æ–¹é¢å‘æŒ¥ç€å…³é”®ä½œç”¨ï¼Œç›®å‰å¹¿æ³›æµè¡Œäºäº‘åŸç”Ÿç­‰é¢†åŸŸã€‚ä½†æ˜¯å…³äº GitOps ç›¸å…³çš„å®è·µç¤ºä¾‹å¹¶ä¸å¤šè§ï¼Œæœ¬æ–‡å°†ä»¥ KCLã€Githubã€ArgoCD å’Œ GitOps ä½œä¸ºä¸€ä¸ªä½¿ç”¨ç¤ºä¾‹æ¥è¯¦ç»†ä»‹ç»ï¼Œå¸Œæœ›å¯ä»¥å¸®åŠ©å¤§å®¶å®è·µè‡ªå·±çš„ GitOps è‡ªåŠ¨åŒ–æµç¨‹å¹¶ç®€åŒ– DevOpsã€‚</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ä»€ä¹ˆæ˜¯-gitops">ä»€ä¹ˆæ˜¯ GitOps<a href="#ä»€ä¹ˆæ˜¯-gitops" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>GitOps æ˜¯ä¸€ç§å®ç°æŒç»­äº¤ä»˜çš„ç°ä»£æ–¹å¼ã€‚å®ƒçš„æ ¸å¿ƒæ€æƒ³æ˜¯æ‹¥æœ‰ä¸€ä¸ªåŒ…å«ç¯å¢ƒå’Œåº”ç”¨ç¨‹åºé…ç½®çš„ Git å­˜å‚¨åº“ã€‚é€šè¿‡æ›´æ”¹åº”ç”¨å­˜å‚¨åº“ä¸­çš„æ–‡ä»¶ï¼Œå¯ä»¥è‡ªåŠ¨éƒ¨ç½²åº”ç”¨ç¨‹åºã€‚åº”ç”¨ GitOps çš„å¥½å¤„åŒ…æ‹¬ï¼š</p><ul><li>æé«˜ç”Ÿäº§åŠ›ï¼ŒæŒç»­äº¤ä»˜å¯ä»¥åŠ å¿«éƒ¨ç½²æ—¶é—´ã€‚</li><li>é™ä½å¼€å‘äººå‘˜éƒ¨ç½²çš„éšœç¢ã€‚é€šè¿‡æ¨é€ä»£ç è€Œä¸æ˜¯å®¹å™¨é…ç½®ï¼Œå¼€å‘äººå‘˜å¯ä»¥åœ¨ä¸çŸ¥é“å…¶å†…éƒ¨å®ç°çš„æƒ…å†µä¸‹è½»æ¾éƒ¨ç½² Kubernetes é›†ç¾¤å’Œåº”ç”¨ã€‚</li><li>è¿½è¸ªå˜æ›´è®°å½•ã€‚ä½¿ç”¨ Git ç®¡ç†é…ç½®ä½¿æ¯ä¸€é¡¹æ›´æ”¹éƒ½å…·æœ‰å¯è·Ÿè¸ªæ€§ï¼Œä»è€Œå¢å¼ºå®¡è®¡è·Ÿè¸ªã€‚</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="å°†-kcl-ä¸-gitops-ä¸€èµ·ä½¿ç”¨">å°† KCL ä¸ GitOps ä¸€èµ·ä½¿ç”¨<a href="#å°†-kcl-ä¸-gitops-ä¸€èµ·ä½¿ç”¨" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>å°† KCL ä¸ GitOps å·¥å…·ä¸€èµ·ä½¿ç”¨å…·æœ‰å¦‚ä¸‹å¥½å¤„:</p><ul><li>é€šè¿‡ KCL è¯­è¨€çš„æŠ½è±¡èƒ½åŠ›å’Œå¯ç¼–ç¨‹èƒ½åŠ›å¯ä»¥å¸®åŠ©æˆ‘ä»¬<strong>ç®€åŒ–å¤æ‚çš„ Kubernetes éƒ¨ç½²é…ç½®æ–‡ä»¶</strong>ï¼Œé™ä½æ‰‹åŠ¨ç¼–å†™ YAML æ–‡ä»¶çš„é”™è¯¯ç‡ï¼Œå°†é…ç½®çº¦æŸæ£€æŸ¥æ§åˆ¶åœ¨ç¼–è¯‘æ—¶ï¼Œç¼–å†™å³æ„ŸçŸ¥é”™è¯¯ï¼›åŒæ—¶å¯ä»¥æ¶ˆé™¤å¤šä½™çš„é…ç½®æ¨¡ç‰ˆï¼Œæå‡å¤šç¯å¢ƒå¤šç§Ÿæˆ·çš„é…ç½®æ‰©å±•èƒ½åŠ›ï¼Œæé«˜é…ç½®çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚</li><li>KCL å…è®¸å¼€å‘äººå‘˜ä»¥å£°æ˜å¼çš„æ–¹å¼å®šä¹‰åº”ç”¨ç¨‹åºæ‰€éœ€çš„èµ„æºï¼Œé€šè¿‡å°† KCL å’Œ ArgoCD ç›¸ç»“åˆå¯ä»¥å¸®åŠ©æˆ‘ä»¬æ›´å¥½åœ°å®ç°<strong>åŸºç¡€è®¾æ–½å³ä»£ç ï¼ˆIaCï¼‰</strong>ï¼Œæé«˜éƒ¨ç½²æ•ˆç‡ï¼Œç®€åŒ–åº”ç”¨ç¨‹åºçš„é…ç½®ç®¡ç†ã€‚</li><li>ArgoCD å¯ä»¥<strong>è‡ªåŠ¨åŒ–</strong>åœ°å®ç°åº”ç”¨ç¨‹åºçš„è¿ç»­éƒ¨ç½²ï¼Œå¹¶æä¾›å‹å¥½çš„ KCL é…ç½®<strong>å¯è§†åŒ–ç®¡ç†ç•Œé¢</strong>ã€‚</li></ul><p>ä½¿ç”¨ GitOpsï¼Œå¼€å‘äººå‘˜å’Œè¿ç»´å›¢é˜Ÿå¯ä»¥é€šè¿‡åˆ†åˆ«ä¿®æ”¹åº”ç”¨å’Œé…ç½®ä»£ç æ¥ç®¡ç†åº”ç”¨ç¨‹åºçš„éƒ¨ç½²ï¼ŒGitOps å·¥å…·é“¾å°†è‡ªåŠ¨åŒæ­¥å¯¹é…ç½®çš„æ›´æ”¹ï¼Œä»è€Œå®ç°æŒç»­éƒ¨ç½²å¹¶ç¡®ä¿ä¸€è‡´æ€§ã€‚å¦‚æœå‡ºç°é—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨ GitOps å·¥å…·é“¾å¿«é€Ÿå›æ»šã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å·¥ä½œæµç¨‹">å·¥ä½œæµç¨‹<a href="#å·¥ä½œæµç¨‹" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ª Python Flask åº”ç”¨å’Œ Github Actions ä½œä¸º CI ç¤ºä¾‹ï¼Œä½¿ç”¨ ArgoCD ä½œä¸º CD ç¤ºä¾‹ï¼Œä½¿ç”¨ KCL å®šä¹‰éœ€è¦éƒ¨ç½²çš„ Kubernetes èµ„æº</p><blockquote><p>æ³¨æ„ï¼šä½ å¯ä»¥åœ¨æ­¤æ–¹æ¡ˆä¸­ä½¿ç”¨ä»»ä½•å®¹å™¨åŒ–åº”ç”¨ä»¥åŠä¸åŒçš„ CI å’Œ CD ç³»ç»Ÿå¦‚ Gitlab CIï¼ŒJenkins CIï¼ŒFluxCD ç­‰ï¼Œåç»­æˆ‘ä»¬ä¼šå‡ºæ›´å¤šçš„ç¤ºä¾‹æ–‡ç« æ¥è¿›è¡Œè¯´æ˜</p></blockquote><p>æˆ‘ä»¬å°† Python Flask åº”ç”¨ä»£ç å’Œé…ç½®ä»£ç åˆ†æˆä¸¤ä¸ªä»“åº“ï¼Œ<em>ä»¥å®ç°ä¸åŒè§’è‰²å¦‚å¼€å‘äººå‘˜å’Œè¿ç»´å›¢é˜Ÿçš„å…³æ³¨ç‚¹åˆ†ç¦»</em></p><ul><li>ä¸šåŠ¡ä»£ç ä»“åº“: <a href="https://github.com/kcl-lang/flask-demo" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/flask-demo</a></li><li>é…ç½®æ¸…å•ä»“åº“: <a href="https://github.com/kcl-lang/flask-demo-kcl-manifests" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/flask-demo-kcl-manifests</a></li></ul><p>æ•´ä½“å·¥ä½œæµç¨‹å¦‚ä¸‹ï¼š</p><p><img loading="lazy" alt="workflow" src="/zh-CN/assets/images/workflow-4707133c144cbe28bfea3f5a1563bd4c.jpg" width="1048" height="624" class="img_ev3q"></p><ol><li>ä» Github æ‹‰å–åº”ç”¨ä»£ç </li><li>åº”ç”¨ä»£ç å¼€å‘å¹¶æäº¤åˆ°æäº¤åˆ° GitHub å­˜å‚¨åº“</li><li>è§¦å‘ GitHub Actions å¯¹åº”ç”¨ä»£ç è¿›è¡Œç¼–è¯‘ï¼Œç”Ÿæˆå®¹å™¨é•œåƒï¼Œå¹¶å°†å®¹å™¨é•œåƒæ¨é€åˆ° Docker Hub å®¹å™¨æ³¨å†Œè¡¨</li><li>è§¦å‘ GitHub Actions æ ¹æ® docker.io å®¹å™¨æ³¨å†Œè¡¨ä¸­å®¹å™¨é•œåƒçš„ç‰ˆæœ¬å·å¹¶åŒæ­¥æ›´æ–° KCL å®šä¹‰çš„ Kubernetes æ¸…å•éƒ¨ç½²æ–‡ä»¶</li><li>ArgoCD è·å– KCL å®šä¹‰çš„ Kubernetes æ¸…å•æ›´æ”¹å¹¶æ›´æ–°éƒ¨ç½²è‡³ Kubernetes é›†ç¾¤</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å…·ä½“æ­¥éª¤">å…·ä½“æ­¥éª¤<a href="#å…·ä½“æ­¥éª¤" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="0-å…ˆå†³æ¡ä»¶">0. å…ˆå†³æ¡ä»¶<a href="#0-å…ˆå†³æ¡ä»¶" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><ul><li>ç†Ÿæ‚‰ Unix/Linux çš„åŸºæœ¬å‘½ä»¤</li><li>ç†Ÿæ‚‰ Git ä»¥åŠ Github Action ä½¿ç”¨</li><li>äº†è§£ Kubernetes åŸºæœ¬çŸ¥è¯†</li><li>äº†è§£ ArgoCD ç­‰å·¥å…·</li><li>äº†è§£ KCL åŸºæœ¬çŸ¥è¯†</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-é…ç½®-kubernetes-é›†ç¾¤">1. é…ç½® Kubernetes é›†ç¾¤<a href="#1-é…ç½®-kubernetes-é›†ç¾¤" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><ul><li>å®‰è£… <a href="https://github.com/k3d-io/k3d" target="_blank" rel="noopener noreferrer">K3d</a> å¹¶åˆ›å»ºä¸€ä¸ªé›†ç¾¤</li></ul><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">k3d cluster create mycluster</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>æ³¨æ„ï¼šä½ å¯ä»¥åœ¨æ­¤æ–¹æ¡ˆä¸­ä½¿ç”¨å…¶ä»–æ–¹å¼åˆ›å»ºæ‚¨è‡ªå·±çš„ Kubernetes é›†ç¾¤ï¼Œå¦‚ kind, minikube ç­‰ã€‚</p></blockquote><h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-é…ç½®-argocd">2. é…ç½® ArgoCD<a href="#2-é…ç½®-argocd" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="é…ç½®-argocd-æ§åˆ¶å™¨">é…ç½® ArgoCD æ§åˆ¶å™¨<a href="#é…ç½®-argocd-æ§åˆ¶å™¨" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><blockquote><p>æ³¨æ„ï¼šä½ å¯ä»¥åœ¨æ­¤æ–¹æ¡ˆä¸­ä½¿ç”¨å…¶ä»–æ–¹å¼åˆ›å»ºæ‚¨è‡ªå·±çš„ Kubernetes é›†ç¾¤ï¼Œå¦‚ kind, minikube ç­‰ã€‚</p></blockquote><ul><li>å®‰è£… <a href="https://github.com/argoproj/argo-cd/releases/" target="_blank" rel="noopener noreferrer">ArgoCD</a>.</li></ul><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl create namespace argocd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -n argocd -f https://raw.githubusercontent.com/argoproj/argo-cd/stable/manifests/install.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>å®‰è£… ArgoCD KCL æ’ä»¶</li></ul><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">git</span><span class="token plain"> clone https://github.com/kcl-lang/kcl-lang.io.git/ </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token builtin class-name">cd</span><span class="token plain"> ./kcl-lang.io/examples/gitops</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f ./install/kcl-cmp.yaml </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> kubectl -n argocd patch deploy/argocd-repo-server -p </span><span class="token string" style="color:#e3116c">"</span><span class="token string variable" style="color:#36acaa">$(</span><span class="token string variable function" style="color:#d73a49">cat</span><span class="token string variable" style="color:#36acaa"> ./install/patch-argocd-repo-server.yaml</span><span class="token string variable" style="color:#36acaa">)</span><span class="token string" style="color:#e3116c">"</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>é€šè¿‡ <code>kubectl get</code> å‘½ä»¤æŸ¥çœ‹ argocd æ§åˆ¶å™¨å®¹å™¨æ˜¯å¦åˆå§‹åŒ–å®Œæˆè¿›å…¥è¿è¡Œï¼ˆRunningï¼‰çŠ¶æ€ã€‚</li></ul><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get pod -n argocd -l app.kubernetes.io/name</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">argocd-repo-server</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>é€šè¿‡å¦‚ä¸‹å‘½ä»¤æ‰“å¼€ ArgoCD UI</li></ul><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl port-forward svc/argocd-server -n argocd </span><span class="token number" style="color:#36acaa">8080</span><span class="token plain">:443</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>æ‰“å¼€æµè§ˆå™¨ <code>https://localhost:8080</code> è¾“å…¥ç”¨æˆ·å "admin" å’Œå¯†ç ç™»é™† ArgoCD UIï¼Œå¯†ç å¯ä»¥é€šè¿‡å¦‚ä¸‹å‘½ä»¤å¾—åˆ°:</li></ul><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl -n argocd get secret argocd-initial-admin-secret -o </span><span class="token assign-left variable" style="color:#36acaa">jsonpath</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">"{.data.password}"</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> base64 -d</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="é…ç½®-argocd-å®¢æˆ·ç«¯å·¥å…·">é…ç½® ArgoCD å®¢æˆ·ç«¯å·¥å…·<a href="#é…ç½®-argocd-å®¢æˆ·ç«¯å·¥å…·" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><ul><li><p>å®‰è£… <a href="https://github.com/argoproj/argo-cd/releases" target="_blank" rel="noopener noreferrer">ArgoCD å®¢æˆ·ç«¯å·¥å…·</a></p></li><li><p>ä½¿ç”¨ç”¨æˆ·å "admin" å’Œåˆšæ‰å¾—åˆ°çš„å¯†ç ç™»é™†</p></li></ul><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">argocd login localhost:8080</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>é€šè¿‡å¦‚ä¸‹å‘½ä»¤åˆ›å»ºä¸€ä¸ª ArgoCD KCL åº”ç”¨</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">argocd app create flaskdemo </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--repo https://github.com/kcl-lang/flask-demo-kcl-manifests </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--path </span><span class="token builtin class-name">.</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--dest-namespace default </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--dest-server https://kubernetes.default.svc </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--config-management-plugin kcl-v1.0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>å¦‚æœåˆ›å»ºæˆåŠŸï¼Œæ‚¨å¯ä»¥çœ‹åˆ°å¦‚ä¸‹è¾“å‡º:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">application </span><span class="token string" style="color:#e3116c">'flaskdemo'</span><span class="token plain"> created</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>å¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯ç§æœ‰å­˜å‚¨åº“ï¼Œåˆ™åœ¨æ‰§è¡Œ create å‘½ä»¤ä¹‹å‰ï¼Œéœ€è¦ä½¿ç”¨ç§é’¥å‡­æ®é…ç½®ä¸“ç”¨ç§æœ‰å­˜å‚¨åº“è®¿é—®æƒé™ã€‚è¯·å‚é˜…<a href="https://argo-cd.readthedocs.io/en/stable/user-guide/private-repositories/" target="_blank" rel="noopener noreferrer">è¿™é‡Œ</a>ä»¥è·å–æ›´å¤šè¯¦ç»†ä¿¡æ¯ã€‚</p></blockquote><p>é€šè¿‡ ArgoCD UIï¼Œæ‚¨å¯ä»¥çœ‹åˆ°åˆ›å»ºçš„åº”ç”¨ç¨‹åºå°šæœªåŒæ­¥ï¼Œæ‚¨å¯ä»¥æ‰‹åŠ¨è¿›è¡Œé…ç½®åŒæ­¥æˆ–è®¾ç½®ä¸ºè‡ªåŠ¨åŒæ­¥ã€‚</p><p><img loading="lazy" src="/zh-CN/assets/images/argocd-kcl-app-3eda0ee903240a2371c45cd384c14653.jpg" width="2128" height="1008" class="img_ev3q"></p><p>æœ‰å…³åŒæ­¥ç­–ç•¥çš„æ›´å¤šä¿¡æ¯ï¼Œå¯ä»¥è¯·å‚é˜…<a href="https://argo-cd.readthedocs.io/en/stable/user-guide/sync-options/" target="_blank" rel="noopener noreferrer">è¿™é‡Œ</a></p><p><img loading="lazy" src="/zh-CN/assets/images/argocd-kcl-app-dashboard-82ae80d5dbb9da2eeb3e8f3efe867c01.jpg" width="3328" height="1132" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-è·å¾—ä¸šåŠ¡ä»£ç ">3. è·å¾—ä¸šåŠ¡ä»£ç <a href="#3-è·å¾—ä¸šåŠ¡ä»£ç " class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">git</span><span class="token plain"> clone https://github.com/kcl-lang/flask-demo.git/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">cd</span><span class="token plain"> flask-demo</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>è¿™æ˜¯ä¸€ä¸ªä½¿ç”¨ Python ç¼–å†™çš„ Web åº”ç”¨ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨åº”ç”¨ç›®å½•çš„ <code>Dockerfile</code> æ¥ç”Ÿæˆè¿™ä¸ªåº”ç”¨çš„å®¹å™¨é•œåƒï¼ŒåŒæ—¶å¯ä»¥é€šè¿‡ Github CI è‡ªåŠ¨æ„å»º <code>flask_demo</code> é•œåƒï¼ŒCI é…ç½®å¦‚ä¸‹</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># This is a basic workflow to help you get started with Actions</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> CI</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Controls when the workflow will run</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">on</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Triggers the workflow on push or pull request events but only for the main branch</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">push</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">branches</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">main</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">pull_request</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">branches</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">main</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Allows you to run this workflow manually from the Actions tab</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">workflow_dispatch</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># A workflow run is made up of one or more jobs that can run sequentially or in parallel</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">jobs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># This workflow contains a single job called "build"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">build</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># The type of runner that the job will run on</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">runs-on</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ubuntu</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Steps represent a sequence of tasks that will be executed as part of the job</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">steps</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic"># Checks-out your repository under $GITHUB_WORKSPACE, so your job can access it</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">uses</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> actions/checkout@v2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Docker Login</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">uses</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> docker/login</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">action@v1.10.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">with</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">username</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> secrets.DOCKER_USERNAME </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">password</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> secrets.DOCKER_PASSWORD </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">logout</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic"># Runs a set of commands using the runners shell</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> build image</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">run</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">|</span><span class="token scalar string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">          make image</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">          docker tag flask_demo:latest ${{ secrets.DOCKER_USERNAME }}/flask_demo:${{ github.sha }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">          docker push ${{ secrets.DOCKER_USERNAME }}/flask_demo:${{ github.sha }}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic"># Trigger KCL manifest</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Trigger CI</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">uses</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> InformaticsMatters/trigger</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">ci</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">action@1.0.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">with</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">ci-owner</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> kcl</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">lang</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">ci-repository</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> flask</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">demo</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">kcl</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">manifests</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">ci-ref</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> refs/heads/main</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">ci-user</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> kcl</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">bot</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">ci-user-token</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> secrets.DEPLOY_ACCESS_TOKEN </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">ci-name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> CI</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">ci-inputs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            image=$</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> secrets.DOCKER_USERNAME </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">/flask_demo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            sha</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">tag=$</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> github.sha </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æˆ‘ä»¬éœ€è¦æºç ä»“åº“çš„å·¥ä½œæµè‡ªåŠ¨è§¦å‘éƒ¨ç½²æ¸…å•ä»“åº“ä¸­çš„å·¥ä½œæµï¼Œæ­¤æ—¶éœ€è¦åˆ›å»ºå…·æœ‰ Github CI æ“ä½œæƒé™çš„ <code>secrets.DEPLOY_ACCESS_TOKEN</code> ä»¥åŠ Docker Hub é•œåƒæ¨é€çš„è´¦å·ä¿¡æ¯ <code>secrets.DOCKER_USERNAME</code> å’Œ <code>secrets.DOCKER_PASSWORD</code>, è¿™äº›å¯ä»¥åœ¨ Github ä»“åº“çš„ <code>Secrets and variables</code> è®¾ç½®ä¸­è¿›è¡Œé…ç½®ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º</p><p><img loading="lazy" src="/zh-CN/assets/images/github-secrets-997c2a5201a5ae259e3310d6015d1f9e.png" width="2204" height="632" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-æäº¤åº”ç”¨ä»£ç ">4. æäº¤åº”ç”¨ä»£ç <a href="#4-æäº¤åº”ç”¨ä»£ç " class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>flask-demo ä»“åº“æäº¤ä»£ç åï¼ŒGithub ä¼šè‡ªåŠ¨æ„å»ºå®¹å™¨é•œåƒï¼Œå¹¶å°†åˆ¶å“æ¨é€åˆ° Docker hub ä¸­ï¼Œä¼šå†è§¦å‘ flask-demo-kcl-manifests ä»“åº“çš„ Actionï¼Œ<a href="/zh-CN/docs/user_docs/guides/automation">é€šè¿‡ KCL è‡ªåŠ¨åŒ– API</a> ä¿®æ”¹éƒ¨ç½²æ¸…å•ä»“åº“ä¸­çš„é•œåƒåœ°å€ã€‚ç°åœ¨è®©æˆ‘ä»¬ä¸º flask-demo ä»“åº“åˆ›å»ºä¸€ä¸ªæäº¤ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä»£ç æäº¤åè§¦å‘ä¸šåŠ¡ä»“åº“ Github CI æµç¨‹</p><p><img loading="lazy" src="/zh-CN/assets/images/app-ci-8be610b01c177f72ff2f2f617b7305bd.png" width="2252" height="1038" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="5-é…ç½®è‡ªåŠ¨æ›´æ–°">5. é…ç½®è‡ªåŠ¨æ›´æ–°<a href="#5-é…ç½®è‡ªåŠ¨æ›´æ–°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>å½“ä¸šåŠ¡ä»“åº“ Github CI æµç¨‹æ‰§è¡Œå®Œæˆåï¼Œä¼šè‡ªåŠ¨åœ¨å­˜æ”¾ KCL èµ„æºé…ç½®çš„ä»“åº“è§¦å‘ä¸€ä¸ª CI è‡ªåŠ¨æ›´æ–°é…ç½®å¹¶æäº¤åˆ° flask-demo-kcl-manifests main åˆ†æ”¯ï¼Œcommit ä¿¡æ¯å¦‚ä¸‹</p><p><img loading="lazy" src="/zh-CN/assets/images/image-auto-update-514f27b74172b114a5dc877e98fd88f4.png" width="2240" height="1090" class="img_ev3q"></p><ul><li>æˆ‘ä»¬å¯ä»¥è·å¾—éƒ¨ç½²æ¸…å•æºç è¿›è¡Œç¼–è¯‘éªŒè¯</li></ul><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">git</span><span class="token plain"> clone https://github.com/kcl-lang/flask-demo-kcl-manifests.git/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">cd</span><span class="token plain"> flask-demo-kcl-manifests</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> checkout main </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> pull </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> kcl</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>è¾“å‡º YAML ä¸º</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> apps/v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Deployment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> flask_demo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> flask_demo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">replicas</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">selector</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">matchLabels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> flask_demo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">template</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> flask_demo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">containers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> flask_demo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"kcllang/flask_demo:6428cff4309afc8c1c40ad180bb9cfd82546be3e"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">protocol</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> TCP</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">containerPort</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> flask_demo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> flask_demo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> NodePort</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">selector</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> flask_demo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">protocol</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> TCP</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">targetPort</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5000</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ä»ä¸Šè¿°é…ç½®å¯ä»¥çœ‹å‡ºèµ„æºçš„é•œåƒç¡®å®è‡ªåŠ¨æ›´æ–°ä¸ºäº†æ–°æ„å»ºçš„é•œåƒå†…å®¹ã€‚</p><p>æ­¤å¤–ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ ArgoCD UI ç•Œé¢ä¸­å°†åŒæ­¥ç­–ç•¥è®¾ç½®ä¸ºè‡ªåŠ¨åŒæ­¥ï¼Œè¿™æ ·å°±å¯ä»¥å®ç°ä¸šåŠ¡ä»£ç æäº¤å¹¶éƒ¨ç½² Kubernetes çš„ e2e å®Œæ•´è‡ªåŠ¨åŒ–æµç¨‹ã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ç»“è®º">ç»“è®º<a href="#ç»“è®º" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>é€šè¿‡æœ¬ç¯‡æ–‡ç« ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Github, ArgoCD å’Œ KCL ç­‰åˆ›å»º GitOps è‡ªåŠ¨åŒ–æµæ°´çº¿ï¼Œå¯ä»¥é«˜æ•ˆç¨³å®šåœ°æ„å»ºå®¹å™¨åŒ–åº”ç”¨ï¼ŒåŒæ—¶è‡ªåŠ¨åŒ–æ›´æ–°æœ€æ–°çš„ Docker é•œåƒæ ‡ç­¾ï¼Œå¹¶ä¿æŒ Git é…ç½®ä¸é›†ç¾¤é…ç½®ä¸€è‡´ã€‚æ­¤å¤–ï¼Œé€šè¿‡å°† KCL å’Œ ArgoCD ç›¸ç»“åˆå¯ä»¥å¸®åŠ©æˆ‘ä»¬æ›´å¥½åœ°å®ç°åŸºç¡€è®¾æ–½å³ä»£ç ï¼ˆIaCï¼‰ï¼Œæé«˜éƒ¨ç½²æ•ˆç‡ï¼Œå®ç°ä¸åŒè§’è‰²çš„å…³æ³¨ç‚¹åˆ†ç¦»å¹¶ç®€åŒ–åº”ç”¨ç¨‹åºçš„é…ç½®ç®¡ç†ã€‚</p>]]></content>
        <author>
            <name>KCL Team</name>
        </author>
        <category label="KCL" term="KCL"/>
        <category label="Github" term="Github"/>
        <category label="ArgoCD" term="ArgoCD"/>
        <category label="GitOps" term="GitOps"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[KCL ä»‹ç» PPT]]></title>
        <id>https://kcl-lang.github.io/zh-CN/blog/2023-07-18-kcl-intro-slides</id>
        <link href="https://kcl-lang.github.io/zh-CN/blog/2023-07-18-kcl-intro-slides"/>
        <updated>2023-07-18T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[PDF ä¸‹è½½]]></summary>
        <content type="html"><![CDATA[<p><a href="https://kcl-lang.github.io/talks/kcl-intro.pdf" target="_blank" rel="noopener noreferrer">PDF ä¸‹è½½</a></p>]]></content>
        <author>
            <name>å¾é¹é£</name>
        </author>
        <category label="KCL" term="KCL"/>
        <category label="Configuration" term="Configuration"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[KCL v0.5.0 å‘å¸ƒæ—¥å¿—]]></title>
        <id>https://kcl-lang.github.io/zh-CN/blog/2022-kcl-0.5.0-release-blog</id>
        <link href="https://kcl-lang.github.io/zh-CN/blog/2022-kcl-0.5.0-release-blog"/>
        <updated>2023-07-14T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[ç®€ä»‹]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ç®€ä»‹">ç®€ä»‹<a href="#ç®€ä»‹" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>KCL å›¢é˜Ÿå¾ˆé«˜å…´åœ°å®£å¸ƒ KCL v0.5.0 æ–°ç‰ˆæœ¬ç°åœ¨å·²ç»å¯ç”¨ï¼æœ¬æ¬¡å‘å¸ƒä¸ºå¤§å®¶å¸¦æ¥äº†ä¸‰æ–¹é¢çš„é‡ç‚¹æ›´æ–°ï¼š<strong>è¯­è¨€</strong>ã€<strong>å·¥å…·é“¾</strong>ã€<strong>ç¤¾åŒºé›†æˆ &amp; æ‰©å±•æ”¯æŒ</strong>ã€‚</p><ul><li><em>ä½¿ç”¨åŠŸèƒ½æ›´å®Œå–„é”™è¯¯æ›´å°‘çš„ KCL è¯­è¨€å’Œ IDE æå‡ä»£ç ç¼–å†™ä½“éªŒå’Œæ•ˆç‡</em></li><li><em>ä½¿ç”¨ KPM, KCL OpenAPI å’Œ OCI Registry ç­‰å·¥å…·ç›´æ¥ä½¿ç”¨å’Œå…±äº«æ‚¨çš„äº‘åŸç”Ÿé¢†åŸŸæ¨¡å‹ï¼Œé™ä½å­¦ä¹ å’Œä¸Šæ‰‹æˆæœ¬</em></li><li><em>ä½¿ç”¨ Github Action, ArgoCD å’Œ Kubectl KCL æ’ä»¶ç­‰ç¤¾åŒºå·¥å…·é›†æˆå’Œæ‰©å±•æ”¯æŒæå‡è‡ªåŠ¨åŒ–æ•ˆç‡</em></li></ul><p>è¿›ä¸€æ­¥æ‚¨å¯ä»¥åœ¨ <a href="https://github.com/kcl-lang/kcl/releases/tag/v0.5.0" target="_blank" rel="noopener noreferrer">KCL v0.5.0 å‘å¸ƒé¡µé¢</a> æˆ–è€… <a href="https://kcl-lang.io" target="_blank" rel="noopener noreferrer">KCL å®˜æ–¹ç½‘ç«™</a> è·å¾—ä¸‹è½½å®‰è£…æŒ‡å—å’Œè¯¦ç»†å‘å¸ƒä¿¡æ¯ã€‚</p><p><a href="https://github.com/kcl-lang/kcl" target="_blank" rel="noopener noreferrer">KCL</a> æ˜¯ä¸€ä¸ªå¼€æºçš„åŸºäºçº¦æŸçš„è®°å½•åŠå‡½æ•°è¯­è¨€å¹¶é€šè¿‡æˆç†Ÿçš„ç¼–ç¨‹è¯­è¨€æŠ€æœ¯å’Œå®è·µæ¥æ”¹è¿›å¯¹å¤§é‡ç¹æ‚é…ç½®æ¯”å¦‚äº‘åŸç”Ÿ Kubernetes é…ç½®åœºæ™¯çš„ç¼–å†™ï¼Œè‡´åŠ›äºæ„å»ºå›´ç»•é…ç½®çš„æ›´å¥½çš„æ¨¡å—åŒ–ã€æ‰©å±•æ€§å’Œç¨³å®šæ€§ï¼Œæ›´ç®€å•çš„é€»è¾‘ç¼–å†™ï¼Œä»¥åŠæ›´ç®€å•çš„è‡ªåŠ¨åŒ–å’Œç”Ÿæ€å·¥å…·é›†æˆã€‚</p><p>æœ¬æ–‡é‡ç‚¹ä»‹ç» KCL v0.5.0 ç‰ˆæœ¬çš„æ›´æ–°å†…å®¹ä»¥åŠ KCL ç¤¾åŒºçš„è¿‘æœŸåŠ¨æ€ã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="è¯­è¨€æ›´æ–°">è¯­è¨€æ›´æ–°<a href="#è¯­è¨€æ›´æ–°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="é¡¶çº§å˜é‡è¾“å‡º">é¡¶çº§å˜é‡è¾“å‡º<a href="#é¡¶çº§å˜é‡è¾“å‡º" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>åœ¨ä¹‹å‰çš„ KCL ç‰ˆæœ¬ä¸­ï¼Œè¿è¡Œå¦‚ä¸‹ KCL ä»£ç ä¸ä¼šå¾—åˆ° YAML è¾“å‡ºï¼Œåœ¨ KCL v0.5.0 ç‰ˆæœ¬ä¸­ï¼Œæˆ‘ä»¬å¯¹æ­¤è¿›è¡Œäº†æ”¹è¿›å¹¶æ”¯æŒäº†é¡¶çº§å˜é‡å¯¼å‡ºä¸º YAML é…ç½®ï¼Œç”¨äºå‡å°‘é¢å¤–çš„ KCL ä»£ç ä¹¦å†™å’Œå‘½ä»¤è¡Œå‚æ•°ï¼Œæ¯”å¦‚å¯¹äºå¦‚ä¸‹ KCL ä»£ç  (main.k)</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">schema Nginx</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    http</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Http</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">schema Http</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    server</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Server</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">schema Server</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    listen</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    location?</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Location</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">schema Location</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    root</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    index</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Nginx </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># è¿™é‡Œçš„ Nginx å®ä¾‹ä¼šç›´æ¥è¾“å‡ºä¸º YAML</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    http</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">server </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        listen </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">80</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        location </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            root </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"/var/www/html"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            index </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"index.html"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>åœ¨æ–°ç‰ˆæœ¬ä¸­ï¼Œè¿è¡Œ KCL ä»£ç å¯ä»¥ç›´æ¥è·å¾—å¦‚ä¸‹è¾“å‡º</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ kcl main.k</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">http</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">server</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">listen</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">80</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">location</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">root</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> /var/www/html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">index</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> index.html</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æ›´å¤šä¿¡æ¯<a href="https://github.com/kcl-lang/kcl/pull/556" target="_blank" rel="noopener noreferrer">è¯¦è§</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ç´¢å¼•ç­¾åæ›´æ–°">ç´¢å¼•ç­¾åæ›´æ–°<a href="#ç´¢å¼•ç­¾åæ›´æ–°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>åœ¨ä¹‹å‰çš„ KCL ç‰ˆæœ¬ä¸­ï¼Œå°šæœªæ”¯æŒåœ¨ Schema ç´¢å¼•ç­¾åä¸­ç›´æ¥å¼•ç”¨ï¼Œåœ¨ KCL v0.5.0 ç‰ˆæœ¬ä¸­ï¼Œæˆ‘ä»¬å¯¹æ­¤è¿›è¡Œäº†æ”¹è¿›å¹¶æ”¯æŒäº†é¡¶çº§å˜é‡å¯¼å‡ºä¸º YAML é…ç½®ï¼Œç”¨äºå‡å°‘é¢å¤–çš„ KCL æ ·æ¿é…ç½®ä»£ç ä¹¦å†™ï¼Œæ¯”å¦‚å¯¹äºå¦‚ä¸‹ KCL ä»£ç  (main.k)</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">schema TeamSpec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fullName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">id</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    shortName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">schema TeamMap</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">n</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> TeamSpec </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> TeamSpec </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> n  </span><span class="token comment" style="color:#999988;font-style:italic"># n ä½œä¸º Schema ç´¢å¼•ç­¾ååˆ«åï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">teamMap </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> TeamMap </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    a</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">fullName </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"alpha"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    b</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">fullName </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"bravo"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>åœ¨æ–°ç‰ˆæœ¬ä¸­ï¼Œè¿è¡Œ KCL ä»£ç å¯ä»¥è·å¾—å¦‚ä¸‹è¾“å‡º</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ kcl main.k</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">teamMap</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">b</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">fullName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> bravo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> b</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">shortName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> b</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">a</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">fullName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> alpha</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> a</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">shortName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> a</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æ›´å¤šä¿¡æ¯<a href="https://github.com/kcl-lang/kcl/pull/582" target="_blank" rel="noopener noreferrer">è¯¦è§</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="kcl-æ”¯æŒè¿è¡Œæ—¶é”™è¯¯-backtrace-æ‰“å°">KCL æ”¯æŒè¿è¡Œæ—¶é”™è¯¯ Backtrace æ‰“å°<a href="#kcl-æ”¯æŒè¿è¡Œæ—¶é”™è¯¯-backtrace-æ‰“å°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>åœ¨æ–°ç‰ˆæœ¬ä¸­ï¼Œæˆ‘ä»¬æ”¯æŒå½“ KCL ä»£ç è¿è¡Œå‘ç”ŸæŠ¥é”™æ—¶è¾“å‡º Backtrace çš„ç‰¹æ€§ï¼Œç”¨äºæå‡ KCL ä»£ç é”™è¯¯æ’æŸ¥æ•ˆç‡ï¼Œæ¯”å¦‚å¯¹äºå¦‚ä¸‹ä»£ç  (main.k)</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">schema Fib</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    n1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> n </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    n2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> n1 </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    n</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    value</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> n </span><span class="token operator" style="color:#393A34">&lt;=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        value </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">n</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># è¿™é‡Œæœ‰ç´¢å¼•æº¢å‡ºçš„è¿è¡Œæ—¶é”™è¯¯</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">elif</span><span class="token plain"> n </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        value </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">else</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        value </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Fib </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">n </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> n1</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">value </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> Fib </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">n </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> n2</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fib8 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Fib </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">n </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">value</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æ‰§è¡Œåä¼šè·å¾—å¦‚ä¸‹æŠ¥é”™</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ kcl main.k -d</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">error</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">E3M38</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: EvaluationError</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">EvaluationError</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> --</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> main.k:8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">8</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">         value </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">n</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># è¿™é‡Œæœ‰ç´¢å¼•æº¢å‡ºçš„è¿è¡Œæ—¶é”™è¯¯</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">  list index out of range: </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">note: backtrace:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">: __main__.Fib</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                at main.k:8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token number" style="color:#36acaa">2</span><span class="token plain">: __main__.Fib</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                at main.k:12</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token number" style="color:#36acaa">3</span><span class="token plain">: __main__.Fib</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                at main.k:12</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token number" style="color:#36acaa">4</span><span class="token plain">: main</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                at main.k:14</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æ›´å¤šä¿¡æ¯<a href="https://github.com/kcl-lang/kcl/pull/528" target="_blank" rel="noopener noreferrer">è¯¦è§</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="é”™è¯¯ä¿®å¤">é”™è¯¯ä¿®å¤<a href="#é”™è¯¯ä¿®å¤" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="filter-è¡¨è¾¾å¼è¿”å›å€¼ç±»å‹é”™è¯¯ä¿®å¤">filter è¡¨è¾¾å¼è¿”å›å€¼ç±»å‹é”™è¯¯ä¿®å¤<a href="#filter-è¡¨è¾¾å¼è¿”å›å€¼ç±»å‹é”™è¯¯ä¿®å¤" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><p>åœ¨ä¹‹å‰çš„ KCL ç‰ˆæœ¬ä¸­ï¼Œfilter è¡¨è¾¾å¼ä¼šè¿”å›é”™è¯¯çš„ç±»å‹ï¼ˆåº”è¯¥è¿”å›è¢«è¿­ä»£å¯¹è±¡çš„ç±»å‹ï¼Œè€Œä¸æ˜¯è¿”å›è¿­ä»£å¯¹è±¡çš„ç±»å‹ï¼‰ï¼Œåœ¨ KCL v0.5.0 ç‰ˆæœ¬ä¸­ï¼Œæˆ‘ä»¬ä¿®å¤äº†æ­¤ç±»ç±»ä¼¼çš„é—®é¢˜</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">schema Student</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    grade</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">students</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Student</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Alice"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> grade </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">85</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Bob"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> grade </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">70</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">studentsGrade70</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Student</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">filter</span><span class="token plain"> s </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> students </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    s</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">grade </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">70</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># è¿™é‡Œä¹‹å‰å¾—åˆ°ä¸€ä¸ªç±»å‹é”™è¯¯ï¼Œç‰ˆæœ¬æ›´æ–°åä¿®å¤äº†æ­¤ç±»é—®é¢˜</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æ›´å¤šä¿¡æ¯<a href="https://github.com/kcl-lang/kcl/pull/546" target="_blank" rel="noopener noreferrer">è¯¦è§</a></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="lambda-å‡½æ•°é—­åŒ…æ•è·">lambda å‡½æ•°é—­åŒ…æ•è·<a href="#lambda-å‡½æ•°é—­åŒ…æ•è·" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><p>åœ¨ä¹‹å‰çš„ KCL ç‰ˆæœ¬ä¸­ï¼Œåœ¨ç¼–å†™å¦‚ä¸‹ KCL ä»£ç æ—¶ï¼Œä¼šé”™è¯¯çš„æ•è·é—­åŒ…å˜é‡çš„å€¼ã€‚åœ¨ KCL v0.5.0 ç‰ˆæœ¬ä¸­ï¼Œæˆ‘ä»¬ä¿®å¤äº†æ­¤ç±»ç±»ä¼¼çš„é—®é¢˜</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">z </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">add </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">lambda</span><span class="token plain"> x </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">lambda</span><span class="token plain"> y </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> x </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> y </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> z</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># x æ˜¯å†…å±‚ lambda å‡½æ•°çš„é—­åŒ…å˜é‡</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">res </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> add</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># 3</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æ›´å¤šä¿¡æ¯<a href="https://github.com/kcl-lang/kcl/pull/548" target="_blank" rel="noopener noreferrer">è¯¦è§</a></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="åŒ…å«-utf-8-å­—ç¬¦çš„å­—ç¬¦ä¸²è”åˆç±»å‹æ£€æŸ¥é”™è¯¯ä¿®å¤">åŒ…å« UTF-8 å­—ç¬¦çš„å­—ç¬¦ä¸²è”åˆç±»å‹æ£€æŸ¥é”™è¯¯ä¿®å¤<a href="#åŒ…å«-utf-8-å­—ç¬¦çš„å­—ç¬¦ä¸²è”åˆç±»å‹æ£€æŸ¥é”™è¯¯ä¿®å¤" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><p>åœ¨ä¹‹å‰çš„ KCL ç‰ˆæœ¬ä¸­ï¼Œåœ¨ç¼–å†™å¦‚ä¸‹åŒ…å« UTF-8 å­—ç¬¦çš„å­—ç¬¦ä¸²è”åˆç±»å‹ KCL ä»£ç æ—¶ï¼Œä¼šè·å¾—ä¸€ä¸ªéé¢„æœŸçš„ç±»å‹é”™è¯¯ã€‚åœ¨ KCL v0.5.0 ç‰ˆæœ¬ä¸­ï¼Œæˆ‘ä»¬ä¿®å¤äº†æ­¤ç±»ç±»ä¼¼çš„é—®é¢˜</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">msg</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"æ— éœ€å®¹ç¾"</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"æ ‡å‡†å‹"</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"æµæ°´å‹"</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"æµæ°´å‹"</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æ›´å¤šä¿¡æ¯<a href="https://github.com/kcl-lang/kcl/pull/600" target="_blank" rel="noopener noreferrer">è¯¦è§</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ide--å·¥å…·é“¾æ›´æ–°">IDE &amp; å·¥å…·é“¾æ›´æ–°<a href="#ide--å·¥å…·é“¾æ›´æ–°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="kcl-openapi-å·¥å…·">KCL OpenAPI å·¥å…·<a href="#kcl-openapi-å·¥å…·" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>kcl-openapi å‘½ä»¤è¡Œå·¥å…·æ”¯æŒç”± OpenAPI Spec åˆ° KCL ä»£ç çš„è½¬æ¢ã€‚å¯é€šè¿‡ go install æˆ– curl è·å¾—å®‰è£…ï¼š</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># go install</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">go </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> kcl-lang.io/kcl-openapi@latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># curl install (MacOS &amp; Linux)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> -fsSL https://kcl-lang.io/script/install-kcl-openapi.sh </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> /bin/bash</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="kubernetes-kcl-åŒ…è½¬æ¢ä¼˜åŒ–">Kubernetes KCL åŒ…è½¬æ¢ä¼˜åŒ–<a href="#kubernetes-kcl-åŒ…è½¬æ¢ä¼˜åŒ–" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><p>v0.5.0 ç‰ˆæœ¬ä¼˜åŒ–äº†ä½¿ç”¨ Kubernetes KCL åŒ…çš„ä½“éªŒï¼š</p><ul><li>å…è½¬æ¢è·å¾—ï¼šKCL æä¾›äº†å¼€ç®±å³ç”¨çš„ Kubernetes 1.14-1.27 å„ä¸ªç‰ˆæœ¬çš„ KCL åŒ…ï¼Œé€šè¿‡åŒ…ç®¡ç†å·¥å…· <code>kpm add k8s:&lt;version&gt;</code> å³å¯è·å¾—</li><li>å¦‚éœ€è‡ªè¡Œè½¬æ¢å…¶ä»– Kubernetes ç‰ˆæœ¬çš„ KCL æ¨¡å‹ï¼Œå¯é€šè¿‡å¦‚ä¸‹çš„é¢„å¤„ç†è„šæœ¬ä¸€é”®ä» Kubernetes ä»“åº“ä¸‹è½½çš„ swagger.json æ–‡ä»¶è½¬æ¢ä¸º KCL åŒ…ï¼Œå°†å¦‚ä¸‹å‘½ä»¤çš„ 1.27 æ”¹ä¸ºéœ€è¦çš„ Kubernetes ç‰ˆæœ¬å³å¯</li></ul><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token assign-left variable" style="color:#36acaa">version</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1.27</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">spec_path</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">swagger.json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">script_path</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">main.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">wget</span><span class="token plain"> https://raw.githubusercontent.com/kubernetes/kubernetes/release-</span><span class="token variable" style="color:#36acaa">${version}</span><span class="token plain">/api/openapi-spec/swagger.json -O swagger.json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">wget</span><span class="token plain"> https://raw.githubusercontent.com/kcl-lang/kcl-openapi/main/scripts/preprocess/main.py -O main.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">python3 </span><span class="token variable" style="color:#36acaa">${script_path}</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">${spec_path}</span><span class="token plain"> --omit-status --rename</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">io.k8s</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">k8s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kcl-openapi generate model -f processed-</span><span class="token variable" style="color:#36acaa">${spec_path}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>è„šæœ¬é¢„æœŸçš„æ‰§è¡Œè¾“å‡ºä¸ºå¯¹åº”ç‰ˆæœ¬çš„ KCL Kubernetes æ¨¡å‹ï¼Œç”Ÿæˆçš„è·¯å¾„ä¸º <code>&lt;å·¥ä½œç©ºé—´è·¯å¾„&gt;/models/k8s</code></p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ tree models/k8s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">models/k8s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€ api</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”œâ”€â”€ admissionregistration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”‚   â”œâ”€â”€ v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”‚   â”‚   â”œâ”€â”€ match_condition.k</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”‚   â”‚   â”œâ”€â”€ mutating_webhook.k</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”‚   â”‚   â”œâ”€â”€ mutating_webhook_configuration.k</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”‚   â”‚   â”œâ”€â”€ mutating_webhook_configuration_list.k</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”‚   â”‚   â”œâ”€â”€ rule_with_operations.k</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”‚   â”‚   â”œâ”€â”€ service_reference.k</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”‚   â”‚   â”œâ”€â”€ validating_webhook.k</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="é”™è¯¯ä¿®å¤-1">é”™è¯¯ä¿®å¤<a href="#é”™è¯¯ä¿®å¤-1" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><ul><li>å°†å¸¦æœ‰-ç¬¦å·çš„å±æ€§åç§°è½¬ä¹‰ä¸º<!-- -->_<!-- -->ç¬¦å·ï¼Œä»¥ç¬¦åˆ KCL v0.5.0 è¯­æ³•ï¼Œ<a href="https://github.com/kcl-lang/kcl-openapi/pull/43" target="_blank" rel="noopener noreferrer">è¯¦è§</a></li><li>è‡ªåŠ¨è¯†åˆ«å¹¶è®¾ç½® import as å¼•ç”¨åˆ«åï¼Œé¿å…å¼•ç”¨å†²çªï¼Œ<a href="https://github.com/kcl-lang/kcl-openapi/pull/45" target="_blank" rel="noopener noreferrer">è¯¦è§</a></li><li>ä¿®å¤ docstring ä¸­å±æ€§æè¿°ç¼©è¿›é—®é¢˜ï¼Œå¯¹å±æ€§æè¿°å†…éƒ¨æ¢è¡Œè¿›è¡Œè‡ªåŠ¨ç¼©è¿›ï¼Œ<a href="https://github.com/kcl-lang/kcl-openapi/pull/46" target="_blank" rel="noopener noreferrer">è¯¦è§</a></li><li>ä¿®å¤ç”Ÿæˆçš„å¼•ç”¨è·¯å¾„ä¸ºåŸºäºåŒ…çš„æ ¹ç›®å½•çš„å…¨å¼•ç”¨è·¯å¾„ï¼Œ<a href="https://github.com/kcl-lang/kcl-openapi/pull/51" target="_blank" rel="noopener noreferrer">è¯¦è§</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="åŒ…ç®¡ç†å·¥å…·">åŒ…ç®¡ç†å·¥å…·<a href="#åŒ…ç®¡ç†å·¥å…·" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>åœ¨ KCL v0.5.0 æ–°ç‰ˆæœ¬ä¸­ï¼Œæˆ‘ä»¬æä¾›äº†å…¨æ–°çš„ KCL åŒ…ç®¡ç†å·¥å…·ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡å‡ ä¸ªå‘½ä»¤å³å¯è·å¾—ç¤¾åŒºä¸­å·²ç»ç¼–å†™å¥½çš„ KCL æ¨¡å‹ã€‚</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="é€šè¿‡-kpm-å‘½ä»¤è¡Œç®¡ç†-kcl-ç¨‹åº">é€šè¿‡ kpm å‘½ä»¤è¡Œç®¡ç† KCL ç¨‹åº<a href="#é€šè¿‡-kpm-å‘½ä»¤è¡Œç®¡ç†-kcl-ç¨‹åº" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><p>åœ¨ä½¿ç”¨ kpm ä¹‹å‰ï¼Œéœ€è¦ç¡®ä¿æ‚¨å½“å‰åœ¨ä¸€ä¸ª KCL åŒ…ä¸­å·¥ä½œï¼Œæ‚¨å¯ä»¥ä½¿ç”¨å‘½ä»¤ kpm init åˆ›å»ºä¸€ä¸ªæ ‡å‡†çš„ KCL ç¨‹åºåŒ…ã€‚</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kpm init kubernetes_demo </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token builtin class-name">cd</span><span class="token plain"> kubernetes_demo </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> kpm </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> k8s</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ç„¶åï¼Œä½¿ç”¨ k8s åŒ…ä¸­çš„å†…å®¹ç¼–å†™æ‚¨çš„ KCL ä»£ç ï¼ˆmain.kï¼‰ã€‚</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># å¯¼å…¥ k8s åŒ…ä¸­çš„å†…å®¹</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> k8s</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">api</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">apps</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">v1 </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> apps</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">apps</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Deployment </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    metadata</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"nginx-deployment"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    spec </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        replicas </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        selector</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">matchLabels</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">app </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"nginx"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        template</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">metadata</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">labels </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> selector</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">matchLabels</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        template</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">spec</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">containers </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> selector</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">matchLabels</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                image </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"nginx:1.14.2"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                ports </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">containerPort </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">80</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>é€šè¿‡ <code>kpm run</code> å’Œ <code>kubectl</code> å‘½ä»¤è¡Œç»“åˆä½¿ç”¨ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥å°†èµ„æºé…ç½®ä¸‹å‘åˆ°é›†ç¾¤</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ kpm run </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> kubectl apply -f -</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">deployment.apps/nginx-deployment configured</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="oci-registry-æ”¯æŒ">OCI Registry æ”¯æŒ<a href="#oci-registry-æ”¯æŒ" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><p>kpm æ”¯æŒé€šè¿‡ OCI Registry ä¿å­˜ KCL çš„ç¨‹åºåŒ…ï¼Œkpm ç›®å‰æä¾›çš„é»˜è®¤çš„ OCI Registry ä¸ºï¼š<a href="https://github.com/orgs/KusionStack/packages" target="_blank" rel="noopener noreferrer">https://github.com/orgs/KusionStack/packages</a></p><p>æ‚¨å¯ä»¥åœ¨è¿™é‡Œæµè§ˆæ‚¨éœ€è¦çš„ KCL åŒ…ï¼Œæˆ‘ä»¬ç›®å‰æä¾›äº† k8s çš„ KCL ç¨‹åºåŒ…ï¼Œæ”¯æŒ k8s 1.14 åˆ° 1.27 çš„å…¨éƒ¨ç‰ˆæœ¬ã€‚æ¬¢è¿æ <a href="https://github.com/kcl-lang/kpm/issues" target="_blank" rel="noopener noreferrer">Issues</a> å…±å»º KCL æ¨¡å‹</p><p>æ›´å¤šå…³äº kpm åŒ…ç®¡ç†å·¥å…·çš„å†…å®¹<a href="https://kcl-lang.io/docs/user_docs/guides/package-management/quick-start" target="_blank" rel="noopener noreferrer">è¯¦è§</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ç¤¾åŒºé›†æˆ--æ‰©å±•æ›´æ–°">ç¤¾åŒºé›†æˆ &amp; æ‰©å±•æ›´æ–°<a href="#ç¤¾åŒºé›†æˆ--æ‰©å±•æ›´æ–°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ci-é›†æˆ">CI é›†æˆ<a href="#ci-é›†æˆ" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>åœ¨æ­¤æ¬¡æ›´æ–°ä¸­æˆ‘ä»¬æä¾›äº† <strong>Github Actions ä½œä¸º CI é›†æˆ</strong>çš„ç¤ºä¾‹æ–¹æ¡ˆï¼Œå¸Œæœ›é€šè¿‡ä½¿ç”¨å®¹å™¨ã€ç”¨äºç”Ÿæˆé…ç½®çš„æŒç»­é›†æˆ (CI) å’Œç”¨äºæŒç»­éƒ¨ç½² (CD) çš„ GitOps æ¥å®ç°ç«¯åˆ°ç«¯åº”ç”¨ç¨‹åºå¼€å‘æµç¨‹ã€‚æ•´ä½“å·¥ä½œæµç¨‹å¦‚ä¸‹ï¼š</p><ul><li>åº”ç”¨ä»£ç å¼€å‘å¹¶æäº¤åˆ°æäº¤åˆ° GitHub å­˜å‚¨åº“è§¦å‘ CI (è¿™é‡Œä½¿ç”¨ Python Flask Web åº”ç”¨ä½œä¸ºç¤ºä¾‹)</li></ul><p><img loading="lazy" alt="app" src="/zh-CN/assets/images/app-9b58ce8fdae4fc93fb73e51f1507a42c.png" width="1080" height="492" class="img_ev3q"></p><ul><li>GitHub Actions ä»åº”ç”¨ä»£ç ç”Ÿæˆå®¹å™¨é•œåƒï¼Œå¹¶å°†å®¹å™¨é•œåƒæ¨é€åˆ° docker.io å®¹å™¨æ³¨å†Œè¡¨</li></ul><p><img loading="lazy" alt="app-ci" src="/zh-CN/assets/images/app-ci-94594b17db9b52918933ac683a5baa24.png" width="1080" height="498" class="img_ev3q"></p><ul><li>GitHub Actions æ ¹æ® docker.io å®¹å™¨æ³¨å†Œè¡¨ä¸­å®¹å™¨é•œåƒçš„ç‰ˆæœ¬å·å¹¶è‡ªåŠ¨åŒæ­¥æ›´æ–° KCL æ¸…å•éƒ¨ç½²æ–‡ä»¶</li></ul><p><img loading="lazy" alt="auto-update" src="/zh-CN/assets/images/auto-update-bf4b3f79c897171c238e83441fa8fa86.png" width="1080" height="526" class="img_ev3q"></p><p>æˆ‘ä»¬å¯ä»¥è·å¾—éƒ¨ç½²æ¸…å•æºç è¿›è¡Œç¼–è¯‘éªŒè¯ä¼šå¾—åˆ°å¦‚ä¸‹ YAML è¾“å‡º</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> apps/v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Deployment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> flask_demo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> flask_demo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">replicas</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">selector</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">matchLabels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> flask_demo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">template</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> flask_demo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">containers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> flask_demo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"kcllang/flask_demo:6428cff4309afc8c1c40ad180bb9cfd82546be3e"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">protocol</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> TCP</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">containerPort</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> flask_demo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> flask_demo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> NodePort</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">selector</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> flask_demo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">protocol</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> TCP</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">targetPort</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5000</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ä»ä¸Šè¿°é…ç½®å¯ä»¥çœ‹å‡ºèµ„æºçš„é•œåƒç¡®å®è‡ªåŠ¨æ›´æ–°ä¸ºäº†æ–°æ„å»ºçš„é•œåƒå†…å®¹ ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨ Argo CD KCL æ’ä»¶è‡ªåŠ¨ä» Git å­˜å‚¨åº“åŒæ­¥æˆ–ä»ä¸­æ‹‰å–æ•°æ®å¹¶å°†åº”ç”¨éƒ¨ç½²åˆ° Kubernetes é›†ç¾¤</p><p>æ›´å¤šè¯¦æƒ…è¯·å‚è€ƒ<a href="https://kcl-lang.io/docs/user_docs/guides/ci-integration/github-actions" target="_blank" rel="noopener noreferrer">è¿™é‡Œ</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="cd-é›†æˆ">CD é›†æˆ<a href="#cd-é›†æˆ" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>æ­¤å¤–æˆ‘ä»¬è¿˜æä¾›äº† <strong>ArgoCD ä½œä¸º CD é›†æˆ</strong>çš„ç¤ºä¾‹æ–¹æ¡ˆï¼Œé€šè¿‡ Github Action CI é›†æˆå’Œ ArgoCD KCL æ’ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥å®Œæˆç«¯åˆ°ç«¯çš„ GitOps å·¥ä½œæµï¼Œæå‡åº”ç”¨é…ç½®è‡ªåŠ¨å˜æ›´å’Œéƒ¨ç½²æ•ˆç‡ã€‚å¦‚ä¸‹ç¤ºå‡ºäº†ä½¿ç”¨ ArgoCD åº”ç”¨ Kubernetes é…ç½®çš„æ¦‚è§ˆå’ŒåŒæ­¥æƒ…å†µï¼Œé€šè¿‡ä½¿ç”¨ ArgoCD çš„èƒ½åŠ›ï¼Œå½“ä¸šåŠ¡ä»£ç å‘ç”Ÿå˜åŒ–æ—¶ï¼Œè‡ªåŠ¨åŒæ­¥æ›´æ–°å¹¶éƒ¨ç½²ã€‚</p><ul><li><strong>åº”ç”¨æ¦‚è§ˆ</strong></li></ul><p><img loading="lazy" alt="argocd-app" src="/zh-CN/assets/images/argocd-app-e33be631832e8adb5aac927f4e407324.png" width="1080" height="512" class="img_ev3q"></p><ul><li><strong>é…ç½®åŒæ­¥</strong></li></ul><p><img loading="lazy" alt="argocd-sync" src="/zh-CN/assets/images/argocd-sync-7e3a1c0e61a74d6ded86e27558a594c5.png" width="1080" height="367" class="img_ev3q"></p><p>æ›´å¤šæ’ä»¶å®‰è£…å’Œä½¿ç”¨æ–¹å¼è¯·å‚è€ƒ<a href="https://kcl-lang.io/docs/user_docs/guides/gitops/gitops-quick-start" target="_blank" rel="noopener noreferrer">è¿™é‡Œ</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="kubernetes-é…ç½®ç®¡ç†å·¥å…·æ‰©å±•æ”¯æŒ">Kubernetes é…ç½®ç®¡ç†å·¥å…·æ‰©å±•æ”¯æŒ<a href="#kubernetes-é…ç½®ç®¡ç†å·¥å…·æ‰©å±•æ”¯æŒ" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>åœ¨ KCL v0.5.0 ä¸­ï¼Œæˆ‘ä»¬ä»¥ç»Ÿä¸€çš„ç¼–ç¨‹ç•Œé¢æ–¹å¼ä¸º Kubernetes ç¤¾åŒºçš„ Kubectl, Helm, Kustomize, KPT ç­‰é…ç½®ç®¡ç†å·¥å…·æä¾›äº†æ’ä»¶æ”¯æŒï¼Œç¼–å†™å‡ è¡Œé…ç½®ä»£ç å³å¯æ— ä¾µå…¥åœ°å®Œæˆå¯¹å­˜é‡ Kustomize YAMLï¼ŒHelm Charts çš„ç¼–è¾‘å’Œæ ¡éªŒï¼Œæ¯”å¦‚ä¿®æ”¹èµ„æºæ ‡ç­¾/æ³¨è§£, æ³¨å…¥ Sidecar å®¹å™¨é…ç½®ï¼Œä½¿ç”¨ KCL schema æ ¡éªŒèµ„æºï¼Œå®šä¹‰è‡ªå·±çš„æŠ½è±¡æ¨¡å‹å¹¶åˆ†äº«å¤ç”¨ç­‰ã€‚</p><p>ä¸‹é¢ä»¥ Kubectl å·¥å…·å¯¹ KCL çš„é›†æˆä¸ºä¾‹è¿›è¡Œè¯¦ç»†è¯´æ˜ã€‚æ‚¨å¯ä»¥åœ¨<a href="https://github.com/kcl-lang/kubectl-kcl" target="_blank" rel="noopener noreferrer">è¿™é‡Œ</a>è·å– Kubectl KCL æ’ä»¶çš„å®‰è£…æ–¹å¼</p><p>é¦–å…ˆæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤è·å–ä¸€ä¸ªé…ç½®ç¤ºä¾‹</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">git</span><span class="token plain"> clone https://github.com/kcl-lang/kubectl-kcl.git </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token builtin class-name">cd</span><span class="token plain"> ./kubectl-kcl/examples/</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ç„¶åæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤æ˜¾ç¤ºé…ç½®</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">cat</span><span class="token plain"> krm-kcl-abstration.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">apiVersion: krm.kcl.dev/v1alpha1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kind: KCLRun</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">metadata:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  name: web-service-abtraction</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spec:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  params:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name: app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    containers:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      nginx:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        image: nginx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ports:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - containerPort: </span><span class="token number" style="color:#36acaa">80</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    service:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ports:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      - port: </span><span class="token number" style="color:#36acaa">80</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    labels:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      name: app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  source: oci://ghcr.io/kcl-lang/web-service</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>åœ¨ä¸Šè¿°é…ç½®ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†åœ¨ OCI ä¸Šå·²ç»é¢„å®šå¥½çš„ä¸€ä¸ª Kubernetes Web æœåŠ¡åº”ç”¨æŠ½è±¡æ¨¡å‹ <code>oci://ghcr.io/kcl-lang/web-service</code>, å¹¶é€šè¿‡ <code>params</code> å­—æ®µé…ç½®äº†è¯¥æ¨¡å‹æ‰€éœ€çš„é…ç½®å­—æ®µã€‚é€šè¿‡æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å¯ä»¥è·å¾—åŸå§‹çš„ Kubernetes YAML è¾“å‡ºå¹¶ä¸‹å‘åˆ°é›†ç¾¤:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ kubectl kcl apply -f krm-kcl-abstration.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">deployment.apps/app created</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">service/app created</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æ›´å¤š Kubernetes é…ç½®ç®¡ç†å·¥å…·è¯¦ç»†ä»‹ç»å†…å®¹ä»¥åŠç”¨ä¾‹<a href="https://github.com/kcl-lang/krm-kcl/tree/main/examples" target="_blank" rel="noopener noreferrer">è¯¦è§</a></p><p>ç›®å‰ KCL æ”¯æŒçš„ Kubernetes é…ç½®ç®¡ç†å·¥å…·é›†æˆä»å¤„äºæ—©æœŸï¼Œå¦‚æœæ‚¨æœ‰æ›´å¤šçš„æƒ³æ³•å’Œéœ€æ±‚ï¼Œæ¬¢è¿å‘èµ· Issues è®¨è®ºå…±å»º</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å…¶ä»–æ›´æ–°ä¸é”™è¯¯ä¿®å¤">å…¶ä»–æ›´æ–°ä¸é”™è¯¯ä¿®å¤<a href="#å…¶ä»–æ›´æ–°ä¸é”™è¯¯ä¿®å¤" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>å®Œæ•´æ›´æ–°å’Œé”™è¯¯ä¿®å¤åˆ—è¡¨<a href="https://github.com/kcl-lang/kcl/compare/v0.4.6...v0.5.0" target="_blank" rel="noopener noreferrer">è¯¦è§</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="æ–‡æ¡£æ›´æ–°">æ–‡æ¡£æ›´æ–°<a href="#æ–‡æ¡£æ›´æ–°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p><a href="https://kcl-lang.io/" target="_blank" rel="noopener noreferrer">KCL ç½‘ç«™</a> æ–°å¢ KCL v0.5.0 æ–‡æ¡£å†…å®¹å¹¶æ”¯æŒç‰ˆæœ¬åŒ–è¯­ä¹‰é€‰é¡¹ï¼Œç›®å‰æ”¯æŒ v0.4.3, v0.4.4, v0.4.5, v0.4.6 å’Œ v0.5.0 ç‰ˆæœ¬é€‰æ‹©ã€‚åŒæ—¶æ¬¢è¿ç¤¾åŒºåŒå­¦è¿›è¡Œæ–‡æ¡£å…±å»ºã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ç¤¾åŒºåŠ¨æ€">ç¤¾åŒºåŠ¨æ€<a href="#ç¤¾åŒºåŠ¨æ€" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><ul><li>æ„Ÿè°¢ @harri2012 å¯¹ KCL IDE æ’ä»¶çš„é¦–æ¬¡è´¡çŒ® ğŸ™Œ</li><li>æ„Ÿè°¢ @niconical å¯¹ KCL å‘½ä»¤è¡ŒåŸºç¡€ä»£ç å’Œ CI/CD è„šæœ¬çš„è´¡çŒ® ğŸ™Œ</li><li>æ„Ÿè°¢ @Ekko å¯¹ KCL äº‘åŸç”Ÿå·¥å…·é›†æˆçš„è´¡çŒ® ğŸ™Œ</li><li>æ­å–œæ¥è‡ªåä¸­ç§‘æŠ€å¤§å­¦æœ±ä¿Šæ˜ŸåŒå­¦æˆåŠŸå…¥é€‰ GitLinkç¼–ç¨‹å¤ä»¤è¥ï¼ˆGLCCï¼‰"Terraform/JsonSchema è½¬ KCL Schema" è¯¾é¢˜ ğŸ‰</li><li>æ­å–œæ¥è‡ªä¸œå—å¤§å­¦çš„ä»»ä¸€é¸£åŒå­¦æˆåŠŸå…¥é€‰ å¼€æºä¹‹å¤ "IDE æ’ä»¶å¢å¼ºå’Œ Language Server é›†æˆ" è¯¾é¢˜ ğŸ‰</li><li>ä¸ºä¾¿äº KCL åŠå…¶å­é¡¹ç›®çš„ä»“åº“æ£€ç´¢å’Œç®¡ç†ï¼Œæˆ‘ä»¬å°† KCL 30+ ä»“åº“æ•´ä½“æ¬è¿åˆ°äº†æ–°çš„ Github <strong>kcl-lang</strong> ç»„ç»‡ï¼Œç‰¢è®°é¡¹ç›®åœ°å€ï¼Œé˜²æ­¢è¿·è·¯ <a href="https://github.com/kcl-lang" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang</a> â¤ï¸</li><li>KCL åŠ å…¥ CNCF Landscapeï¼Œç®—æ˜¯äº‘åŸç”Ÿç¤¾åŒºå¯¹æˆ‘ä»¬å°å°çš„é¼“åŠ±å’Œè®¤å¯ï¼Œä¸‹ä¸€æ­¥è®¡åˆ’æ˜¯åŠªåŠ›åŠ å…¥ CNCF Sandboxï¼Œä¸ºäº‘åŸç”Ÿç¤¾åŒºä½œå‡ºæ›´å¤šçš„è´¡çŒ® ğŸ’ª</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ä¸‹ä¸€æ­¥è®¡åˆ’">ä¸‹ä¸€æ­¥è®¡åˆ’<a href="#ä¸‹ä¸€æ­¥è®¡åˆ’" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>é¢„è®¡ 2023 å¹´ 9 æœˆï¼Œæˆ‘ä»¬å°†å‘å¸ƒ <strong>KCL v0.6.0 ç‰ˆæœ¬</strong>ï¼Œé¢„æœŸé‡ç‚¹æ¼”è¿›åŒ…æ‹¬ï¼š</p><ul><li>æ›´å¤šé’ˆå¯¹åœºæ™¯é—®é¢˜çš„ KCL è¯­è¨€ç¼–å†™ä¾¿åˆ©æ€§æ”¹è¿›ï¼Œç”¨æˆ·ç•Œé¢æŒç»­ä¼˜åŒ–ä¸ä½“éªŒæå‡ï¼Œç”¨æˆ·æ”¯æŒå’Œç—›ç‚¹è§£å†³</li><li>æ›´å¤š IDE æ’ä»¶ã€è¯­è¨€å·¥å…·é“¾ã€åŒ…ç®¡ç†å·¥å…·ã€Registry åŠŸèƒ½æ”¯æŒå’Œç”¨æˆ·ä½“éªŒæå‡</li><li>é’ˆå¯¹äº‘åŸç”Ÿåœºæ™¯æä¾›æ›´å¤šå¼€ç®±å³ç”¨çš„ KCL æ¨¡å‹æ”¯æŒï¼Œä¸»è¦åŒ…å«å®¹å™¨ã€æœåŠ¡ã€è®¡ç®—ã€å­˜å‚¨å’Œç½‘ç»œç­‰</li><li>æ›´å¤šçš„ CI/CD å·¥å…·é›†æˆï¼šå¦‚ Jenkins, Gitlab CI, FluxCD ç­‰ã€‚</li><li>æ”¯æŒ Helmfile KCL æ’ä»¶ï¼Œé€šè¿‡ KCL ä»£ç ç›´æ¥ç”Ÿæˆã€ç¼–è¾‘å’Œæ ¡éªŒ Kubernetes åŸç”Ÿèµ„æº</li><li>æ”¯æŒåœ¨ Kubernetes è¿è¡Œæ—¶é€šè¿‡ KCL Operator è¿è¡Œä»£ç å¯¹ YAML è¿›è¡Œç¼–è¾‘å’Œæ ¡éªŒ</li></ul><p>æ›´å¤šè¯¦æƒ…è¯·å‚è€ƒ <a href="https://kcl-lang.io/docs/community/release-policy/roadmap" target="_blank" rel="noopener noreferrer">KCL 2023 è·¯çº¿è§„åˆ’</a> å’Œ <a href="https://github.com/kcl-lang/kcl/milestone/6" target="_blank" rel="noopener noreferrer">KCL v0.6.0 Milestone</a></p><p>å¦‚æœæ‚¨æœ‰æ›´å¤šçš„æƒ³æ³•å’Œéœ€æ±‚ï¼Œæ¬¢è¿åœ¨ KCL Github ä»“åº“å‘èµ· <a href="https://github.com/kcl-lang/kcl/issues" target="_blank" rel="noopener noreferrer">Issues</a>ï¼Œä¹Ÿæ¬¢è¿åŠ å…¥æˆ‘ä»¬çš„ç¤¾åŒºè¿›è¡Œäº¤æµ ğŸ™Œ ğŸ™Œ ğŸ™Œ</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å¸¸è§é—®é¢˜åŠè§£ç­”">å¸¸è§é—®é¢˜åŠè§£ç­”<a href="#å¸¸è§é—®é¢˜åŠè§£ç­”" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>è¯¦è§ <a href="https://kcl-lang.io/docs/user_docs/support/faq-kcl" target="_blank" rel="noopener noreferrer">KCL å¸¸è§é—®é¢˜</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å…¶ä»–èµ„æº">å…¶ä»–èµ„æº<a href="#å…¶ä»–èµ„æº" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>æ„Ÿè°¢æ‰€æœ‰ KCL ç”¨æˆ·å’Œç¤¾åŒºå°ä¼™ä¼´åœ¨æ­¤æ¬¡ç‰ˆæœ¬æ›´æ–°è¿‡ç¨‹ä¸­æå‡ºçš„å®è´µåé¦ˆä¸å»ºè®®ã€‚</p><p>æ›´å¤šå…¶ä»–èµ„æºè¯·å‚è€ƒï¼š</p><ul><li><a href="https://kcl-lang.io/" target="_blank" rel="noopener noreferrer">KCL ç½‘ç«™</a></li><li><a href="https://kusionstack.io/" target="_blank" rel="noopener noreferrer">Kusion ç½‘ç«™</a></li><li><a href="https://github.com/kcl-lang/kcl" target="_blank" rel="noopener noreferrer">KCL Github ä»“åº“</a></li><li><a href="https://github.com/KusionStack/kusion" target="_blank" rel="noopener noreferrer">Kusion Github ä»“åº“</a></li><li><a href="https://github.com/KusionStack/konfig" target="_blank" rel="noopener noreferrer">Konfig Github ä»“åº“</a></li></ul><p>æ¬¢è¿åŠ å…¥æˆ‘ä»¬çš„ç¤¾åŒºè¿›è¡Œäº¤æµ ğŸ‘ğŸ‘ğŸ‘ï¼š<a href="https://github.com/kcl-lang/community" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/community</a></p>]]></content>
        <author>
            <name>KCL Team</name>
        </author>
        <category label="Release Blog" term="Release Blog"/>
        <category label="KCL" term="KCL"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[ç”¨ Rust é‡å†™çš„ KCL LSP]]></title>
        <id>https://kcl-lang.github.io/zh-CN/blog/2023/07/10/kcl-LSP</id>
        <link href="https://kcl-lang.github.io/zh-CN/blog/2023/07/10/kcl-LSP"/>
        <updated>2023-07-10T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[KCL çš„ v0.4.6 ç‰ˆæœ¬åœ¨è¯­è¨€ã€å·¥å…·é“¾ã€ç¤¾åŒºé›†æˆ&æ‰©å±•æ”¯æŒç­‰æ–¹é¢è¿›è¡Œäº†é‡ç‚¹æ›´æ–°ã€‚æœ¬æ–‡å°†ä¸ºæ‚¨è¯¦ç»†ä»‹ç»IDEçš„æ–°åŠŸèƒ½ã€LSPçš„ä»‹ç»ã€KCL LSP Serverç«¯çš„è®¾è®¡å’Œå®ç°ä»¥åŠæœªæ¥çš„è§„åˆ’å’ŒæœŸæœ›ã€‚]]></summary>
        <content type="html"><![CDATA[<p>KCL çš„ v0.4.6 ç‰ˆæœ¬åœ¨è¯­è¨€ã€å·¥å…·é“¾ã€ç¤¾åŒºé›†æˆ&amp;æ‰©å±•æ”¯æŒç­‰æ–¹é¢è¿›è¡Œäº†é‡ç‚¹æ›´æ–°ã€‚æœ¬æ–‡å°†ä¸ºæ‚¨è¯¦ç»†ä»‹ç»IDEçš„æ–°åŠŸèƒ½ã€LSPçš„ä»‹ç»ã€KCL LSP Serverç«¯çš„è®¾è®¡å’Œå®ç°ä»¥åŠæœªæ¥çš„è§„åˆ’å’ŒæœŸæœ›ã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ideçš„æ–°ç‰¹æ€§">IDEçš„æ–°ç‰¹æ€§<a href="#ideçš„æ–°ç‰¹æ€§" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>åœ¨è¿™æ¬¡æ›´æ–°ä¸­ï¼Œæˆ‘ä»¬å‘å¸ƒäº†å…¨æ–° KCL VSCode æ’ä»¶ï¼Œå¹¶ä¸”ç”¨ Rust é‡å†™äº† LSP çš„ Server ç«¯ã€‚æˆ‘ä»¬æä¾›äº† IDE ä¸­å¸¸ç”¨çš„ä»£ç è¾…åŠ©åŠŸèƒ½ï¼Œå¦‚é«˜äº®ã€è·³è½¬ã€è¡¥å…¨ã€Outlineã€æ‚¬åœã€é”™è¯¯æç¤ºç­‰ã€‚</p><ul><li><strong>é«˜äº®:</strong><img loading="lazy" alt="Highlight" src="/zh-CN/assets/images/Highlight-ddacdde9f18d504f7a103583c2f76b86.png" width="1312" height="782" class="img_ev3q"></li><li><strong>è·³è½¬:</strong><img loading="lazy" alt="Goto Definition" src="/zh-CN/assets/images/GotoDef-0875243eacd6b76e49b7a5b95cb9ce55.gif" width="1312" height="780" class="img_ev3q"></li><li><strong>è¡¥å…¨:</strong><img loading="lazy" alt="Completion" src="/zh-CN/assets/images/Completion-584771cd4bed237e74d3da3decaa9757.gif" width="1312" height="780" class="img_ev3q"></li><li><strong>Outline:</strong><img loading="lazy" alt="Outline" src="/zh-CN/assets/images/Outline-c443b2ee1e35746795e7b09c11f3f4da.gif" width="1312" height="780" class="img_ev3q"></li><li><strong>Hover:</strong><img loading="lazy" alt="Hover" src="/zh-CN/assets/images/Hover-339697d17ca0d4f167b1b1a904c9f1aa.gif" width="1312" height="780" class="img_ev3q"></li><li><strong>Diagnostics:</strong><img loading="lazy" alt="Diagnostics" src="/zh-CN/assets/images/Diagnostics-716fc3b938a94e4db2cbafaad4f4174d.gif" width="1312" height="780" class="img_ev3q"></li></ul><p>æ¬¢è¿åˆ° <a href="https://kcl-lang.io/docs/tools/Ide/vs-code/" target="_blank" rel="noopener noreferrer">KCL VSCode æ’ä»¶</a> äº†è§£æ›´å¤šğŸ‘ğŸ»ğŸ‘ğŸ»ğŸ‘ğŸ»</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ä»€ä¹ˆæ˜¯-lsp">ä»€ä¹ˆæ˜¯ LSPï¼Ÿ<a href="#ä»€ä¹ˆæ˜¯-lsp" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>åœ¨è¿™æ¬¡æ›´æ–°ä¸­ï¼Œæˆ‘ä»¬åŸºäº LSP å®ç°äº†ä»¥ä¸Šèƒ½åŠ›ã€‚LSP æŒ‡çš„æ˜¯ Language Server Protocolï¼Œå®ƒæ˜¯ç”±å¾®è½¯åœ¨ 2016 å¹´æ¨å‡ºçš„ä¸€ç§ç”¨äºç¼–ç¨‹è¯­è¨€å·¥å…·çš„åè®®ã€‚å€Ÿç”¨ä¸€å¼ å›¾ï¼Œå¾ˆå®¹æ˜“å°±å¯ä»¥ç†è§£ LSPã€‚</p><p><img loading="lazy" alt="LSP" src="/zh-CN/assets/images/lsp-c853f0881ecd058c34768312009038da.png" width="1162" height="538" class="img_ev3q"></p><p>é€šè¿‡ LSP ï¼Œç¼–è¾‘å™¨å’Œ IDE å¯ä»¥é€šè¿‡ JSON-RPC é€šä¿¡åè®®ä¸åç«¯è¿è¡Œçš„è¯­è¨€æœåŠ¡å™¨(Server ç«¯)è¿›è¡Œé€šä¿¡ã€‚è¯­è¨€æœåŠ¡å™¨å¯ä»¥æä¾›ä»£ç åˆ†æã€è‡ªåŠ¨è¡¥å…¨ã€è¯­æ³•é«˜äº®ã€å®šä¹‰è·³è½¬ç­‰åŠŸèƒ½ã€‚åŸºäº LSPï¼Œå¼€å‘è€…å¯ä»¥åœ¨ä¸åŒçš„ç¼–è¾‘å™¨å’Œ IDE ä¹‹é—´è¿ç§»ï¼Œä½¿å¾—è¯­è¨€å·¥å…·çš„å¼€å‘ä» M(è¯­è¨€æ•°é‡) <!-- -->*<!-- --> N(ç¼–è¾‘å™¨/IDEæ•°é‡) é™ä½ä¸º M + Nã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ä¸ºä»€ä¹ˆç”¨-rust-é‡å†™">ä¸ºä»€ä¹ˆç”¨ Rust é‡å†™<a href="#ä¸ºä»€ä¹ˆç”¨-rust-é‡å†™" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>KCL ç¼–è¯‘å™¨å’Œå…¶ä»–å·¥å…·æœ€åˆç”± Python å®ç°ï¼Œå› ä¸ºæ€§èƒ½åŸå› ï¼Œæˆ‘ä»¬ç”¨ Rust è¯­è¨€é‡å†™äº†ç¼–è¯‘å™¨ã€‚åœ¨æ­¤ä¹‹åï¼Œæˆ‘ä»¬ä½¿ç”¨ Rust é€æ­¥é‡å†™äº† KCL çš„å…¶ä»–å·¥å…·ï¼Œå¦‚æµ‹è¯•å·¥å…·ã€Format å·¥å…·ç­‰ã€‚åœ¨è¿™æ¬¡æ›´æ–°ä¸­ï¼Œæˆ‘ä»¬ç”¨ Rust é‡å†™äº† LSP Server ç«¯ï¼Œå…¶ä¸»è¦è€ƒè™‘å› ç´ ä¹Ÿæ˜¯æ€§èƒ½ã€‚</p><p>è¿‡å»ï¼ŒPython ç‰ˆæœ¬çš„ Server ç«¯åœ¨å¤„ç†ä¸€äº›å¤æ‚çš„åœºæ™¯ï¼ˆç¼–è¯‘æ–‡ä»¶æ•°é‡è¶…è¿‡200ä¸ªï¼‰æ—¶ï¼Œå¤„ç†ä¸€ä¸ªè·³è½¬çš„è¯·æ±‚ï¼ŒServer ç«¯ä»æ¥æ”¶åˆ°è¯·æ±‚åˆ°è®¡ç®—ç»“æœå¹¶å“åº”ï¼Œæ—¶é—´é•¿è¾¾ 6 ç§’ä»¥ä¸Šï¼Œå‡ ä¹æ˜¯ä¸å¯ç”¨çŠ¶æ€ã€‚ç”±äº Server ç«¯çš„å®ç°ä¸»è¦åŸºäºè¯­è¨€ç¼–è¯‘å™¨å‰ä¸­ç«¯çš„è¯æ³•è§£æå’Œè¯­ä¹‰åˆ†æï¼Œåœ¨æˆ‘ä»¬ä½¿ç”¨ Rust é‡å†™ä»¥åï¼Œè¿™éƒ¨åˆ†æ€§èƒ½åˆ†åˆ«æå‡äº† 20 å’Œ 40 å€ï¼Œ å¸¦æ¥çš„æ˜¾è‘—ç»“æœå°±æ˜¯ Server ç«¯çš„å“åº”æ—¶é—´å¾—åˆ°äº†å·¨å¤§æå‡ï¼Œå¯¹äºåŒæ ·çš„åœºæ™¯ï¼Œå“åº”æ—¶é—´ç¼©çŸ­è‡³ 100 æ¯«ç§’å·¦å³ã€‚è€Œå¯¹äºä¸€äº›ç®€å•çš„åœºæ™¯ï¼Œå“åº”æ—¶é—´åªæœ‰å‡ æ¯«ç§’ï¼Œåšåˆ°äº†ç”¨æˆ·æ— æ„Ÿã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="kcl-lsp-serverçš„è®¾è®¡ä¸å®ç°">KCL LSP Serverçš„è®¾è®¡ä¸å®ç°<a href="#kcl-lsp-serverçš„è®¾è®¡ä¸å®ç°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>KCL LSP Server çš„è®¾è®¡å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img loading="lazy" alt="KCL-LSP" src="/zh-CN/assets/images/kcl-LSP-789ffa07d0239265e5851188a8ca5327.png" width="627" height="421" class="img_ev3q"></p><p>ä¸»è¦æµç¨‹å¯ä»¥åˆ†ä¸ºå‡ ä¸ªé˜¶æ®µï¼š</p><ol><li>å»ºç«‹è¿æ¥ï¼Œåˆå§‹åŒ– LSP èƒ½åŠ›ã€‚åœ¨ IDE çš„ Client ç«¯ï¼Œæ‰“å¼€ç‰¹å®šæ–‡ä»¶ï¼ˆKCLçš„ <!-- -->*<!-- -->.kï¼‰æ—¶ï¼ŒIDE ä¼šå¯åŠ¨æœ¬åœ°çš„ kcl_language_server äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå¯åŠ¨ Server ç«¯ã€‚è¿™ä¸ªæ–‡ä»¶ä¸ KCL ä¸€èµ·å‘å¸ƒï¼Œå¹¶å®‰è£…åœ¨ KCL çš„ bin ç›®å½•ä¸‹ã€‚Server å¯åŠ¨åä¼šå»ºç«‹ standard IO çš„ Connectionï¼Œå¹¶ç­‰å¾… Client å‘é€çš„åˆå§‹åŒ–è¯·æ±‚ã€‚Server ç«¯æ¥æ”¶åˆå§‹åŒ–è¯·æ±‚åä¼šå®šä¹‰ Server ç«¯ä¿¡æ¯å’Œèƒ½åŠ›ï¼Œå¹¶è¿”å›ç»™ Clientï¼Œä»¥æ­¤å®Œæˆ LSP çš„åˆå§‹åŒ–è¿æ¥ã€‚</li><li>å»ºç«‹è¿æ¥åï¼ŒServer ç«¯ä¼šå¯åŠ¨ä¸€ä¸ªè½®è¯¢å‡½æ•°ï¼Œä¸æ–­æ¥æ”¶æ¥è‡ª Client çš„ LSP Messageï¼Œä¾‹å¦‚ Notificationï¼ˆæ‰“å¼€/å…³é—­/å˜æ›´/åˆ é™¤æ–‡ä»¶ç­‰ï¼‰å’Œ Requestï¼ˆè·³è½¬ã€æ‚¬åœç­‰ï¼‰ï¼Œä»¥åŠæ¥è‡ª Server ç«¯è‡ªèº«çš„ Taskã€‚å¹¶ç»Ÿä¸€å°è£…æˆäº‹ä»¶ï¼ˆEventï¼‰äº¤ç»™ä¸‹ä¸€æ­¥å¤„ç†ã€‚</li><li>å¯¹äºå„ç§äº‹ä»¶ï¼ŒæŒ‰ç…§ä»¥ä¸‹æ­¥éª¤å¤„ç†ï¼š</li></ol><div class="language-Rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-Rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/// Handles an event from one of the many sources that the language server subscribes to.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fn handle_event(&amp;mut self, event: Event) -&gt; anyhow::Result&lt;()&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 1. Process the incoming event</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    match event {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Event::Task(task) =&gt; self.handle_task(task)?,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Event::Lsp(msg) =&gt; match msg {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            lsp_server::Message::Request(req) =&gt; self.on_request(req, start_time)?,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            lsp_server::Message::Notification(not) =&gt; self.on_notification(not)?,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            _ =&gt; {}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 2. Process changes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    let state_changed: bool = self.process_vfs_changes();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 3. Handle Diagnostics</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if state_changed{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        let mut snapshot = self.snapshot();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        let task_sender = self.task_sender.clone();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Spawn the diagnostics in the threadpool</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self.thread_pool.execute(move || {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            handle_diagnostics(snapshot, task_sender)ï¼Ÿ;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Ok(())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>3.1 ä»»åŠ¡åˆ†å‘ï¼šæ ¹æ®ä»»åŠ¡ç±»å‹ï¼Œåšå‡½æ•°åˆ†å‘ã€‚åœ¨å­å‡½æ•°ä¸­ï¼Œä¼šè¿›ä¸€æ­¥åŸºäº Request æˆ– Notification çš„ç±»å‹ç»§ç»­åˆ†å‘åˆ°æœ€ç»ˆçš„å¤„ç†å‡½æ•°ä¸­ï¼Œå¦‚å¤„ç†æ–‡ä»¶å˜æ›´ã€å¤„ç†è·³è½¬è¯·æ±‚ç­‰ã€‚è¿™äº›å‡½æ•°ä¼šæ ¹æ®åŸºäºç¼–è¯‘å™¨ä¸­å‰ç«¯ç¼–è¯‘å‡ºçš„è¯­ä¹‰æ¨¡å‹ï¼ˆASTï¼Œç¬¦å·è¡¨ï¼Œé”™è¯¯ä¿¡æ¯ç­‰ï¼‰åšåˆ†æï¼Œè®¡ç®—ç”Ÿæˆå¯¹åº”çš„ Responseï¼ˆå¦‚è·³è½¬è¯·æ±‚çš„ç›®æ ‡ä½ç½®ï¼‰ã€‚</p><p>3.2 å¤„ç†å˜æ›´ï¼šç”¨æˆ·åœ¨ä¿®æ”¹ä»£ç æˆ–æ›´æ”¹æ–‡ä»¶æ—¶ï¼Œä¼šå‘é€å¯¹åº”çš„ Notificationã€‚åœ¨å‰ä¸€æ­¥çš„å¤„ç†ä¸­ï¼Œä¼šå°†å˜æ›´ä¿å­˜åœ¨è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿï¼ˆVFSï¼‰ä¸­ã€‚Server ç«¯ä¼šæ ¹æ®æ–°çš„æºä»£ç ï¼Œè¿›è¡Œé‡æ–°ç¼–è¯‘ï¼Œä¿å­˜æ–°çš„è¯­ä¹‰æ¨¡å‹ï¼Œä»¥ä¾›ä¸‹ä¸€ä¸ªè¯·æ±‚åšå¤„ç†ã€‚</p><p>3.3 é”™è¯¯å¤„ç†ï¼šè¿™é‡Œçš„é”™è¯¯å¹¶éæŒ‡ Server ç«¯çš„è¿è¡Œé”™è¯¯ï¼Œè€Œæ˜¯ä»£ç ç¼–è¯‘ä¸­çš„è¯­æ³•ã€è¯­ä¹‰é”™è¯¯ï¼Œç¼–è¯‘è­¦å‘Šç­‰ã€‚Client ç«¯å¹¶æ²¡æœ‰å¯¹åº”çš„è¯·æ±‚ç±»å‹æ¥è¯·æ±‚è¿™äº›é”™è¯¯ï¼Œè€Œæ˜¯ç”± Server ç«¯ä¸»åŠ¨å‘é€ Diagnosticsã€‚å› æ­¤ï¼Œåœ¨å‘ç”Ÿå˜æ›´åï¼ŒåŒæ­¥åœ°å°†é”™è¯¯ä¿¡æ¯æ›´æ–°è‡³ Client ç«¯ã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="é‡åˆ°çš„é—®é¢˜">é‡åˆ°çš„é—®é¢˜<a href="#é‡åˆ°çš„é—®é¢˜" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-ä¸ºä»€ä¹ˆéœ€è¦è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿ">1. ä¸ºä»€ä¹ˆéœ€è¦è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿï¼Ÿ<a href="#1-ä¸ºä»€ä¹ˆéœ€è¦è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿ" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>åœ¨æœ€åˆçš„è®¾è®¡ä¸­ï¼Œå¹¶æ²¡æœ‰è€ƒè™‘ä½¿ç”¨è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿã€‚æˆ‘ä»¬æ¯æ¬¡ä»æ–‡ä»¶ç³»ç»Ÿä¸­è·å–æºä»£ç ï¼Œè¿›è¡Œç¼–è¯‘å’Œåˆ†æã€‚å¯¹äºä¸€äº›â€œé™æ€â€çš„ä»»åŠ¡ï¼Œå¦‚è·³è½¬ï¼Œå¯ä»¥åœ¨å˜æ›´ä»£ç åä¿å­˜åˆ°æ–‡ä»¶ç³»ç»Ÿï¼Œç„¶åå†è¿›è¡Œè·³è½¬çš„æ“ä½œã€‚é…åˆåˆ° VS Code çš„è‡ªåŠ¨ä¿å­˜åŠŸèƒ½ï¼Œä½“éªŒä¸Šå¹¶æ²¡æœ‰æ˜æ˜¾çš„å·®è·ã€‚ä½†å¯¹äºä»£ç è¡¥å…¨è¿™ä¸€åŠŸèƒ½ï¼ŒIDE ä¸­è¾“å…¥çš„è¡¥å…¨triggerï¼ˆå¦‚ â€œ.â€ï¼‰ä¼šè§¦å‘æ–‡ä»¶å˜æ›´çš„é€šçŸ¥å’Œä»£ç è¡¥å…¨çš„è¯·æ±‚ï¼Œä½†å¯¹åº”çš„ä»£ç è¿˜æœªä¿å­˜åˆ°æ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œç¼–è¯‘åçš„è¯­ä¹‰æ¨¡å‹æ— æ³•åšå¯¹åº”çš„åˆ†æã€‚å› æ­¤ï¼Œæˆ‘ä»¬å€ŸåŠ© Rust Analyzer å¯¹åº”çš„ vfs çš„createï¼Œåœ¨ Server ç«¯å¼•å…¥äº†è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿï¼Œå°†ç¼–è¯‘çš„å…¥å£ä»æ–‡ä»¶è·¯å¾„å˜ä¸ºäº† source codeã€‚Client ç«¯è¾“å…¥ä»£ç åï¼Œæ–‡ä»¶å˜æ›´çš„é€šçŸ¥ä¼šå…ˆæ›´æ–°è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿï¼Œé‡æ–°ç¼–è¯‘æ–‡ä»¶ï¼Œç”Ÿæˆæ–°çš„è¯­ä¹‰æ¨¡å‹ï¼Œç„¶åå†å¤„ç†è¡¥å…¨è¯·æ±‚ã€‚</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-å¦‚ä½•å¤„ç†ä¸å®Œæ•´çš„ä»£ç ">2. å¦‚ä½•å¤„ç†ä¸å®Œæ•´çš„ä»£ç ï¼Ÿ<a href="#2-å¦‚ä½•å¤„ç†ä¸å®Œæ•´çš„ä»£ç " class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>æˆ‘ä»¬é‡åˆ°çš„å¦ä¸€ä¸ªæ¯”è¾ƒå¤§çš„é—®é¢˜æ˜¯å¦‚ä½•å¤„ç†ä¸å®Œæ•´çš„ä»£ç ã€‚åŒæ ·çš„ï¼Œå¯¹äºè·³è½¬è¿™ç±»â€œé™æ€â€çš„ä»»åŠ¡ï¼Œå¯ä»¥å‡å®šä»£ç æ˜¯å®Œæ•´ã€æ­£ç¡®çš„ã€‚ä½†å¯¹äºè¡¥å…¨æ“ä½œï¼Œå¦‚ä»¥ä¸‹ä»£ç ï¼Œå¸Œæœ›åœ¨è¾“å…¥.åï¼Œè¡¥å…¨å­—ç¬¦ä¸²çš„å‡½æ•°ã€‚å¯¹äºç¼–è¯‘æµç¨‹ï¼Œç¬¬äºŒè¡Œå®é™…ä¸Šæ˜¯ä¸å®Œæ•´çš„ä»£ç ï¼Œæ— æ³•ç¼–è¯‘å‡ºæ­£å¸¸çš„ AST æ ‘ã€‚</p><div class="language-Rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-Rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">s: str = "hello kcl"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">len = s.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ä¸ºæ­¤ï¼Œæˆ‘ä»¬åœ¨ KCL çš„ç¼–è¯‘ä¸­å®ç°äº†è¯­æ³•å’Œè¯­ä¹‰ä¸Šçš„å¤šç§é”™è¯¯æ¢å¤ï¼Œä¿è¯ç¼–è¯‘è¿‡ç¨‹å§‹ç»ˆèƒ½äº§ç”Ÿå®Œæ•´çš„ AST å’Œç¬¦å·è¡¨ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬æ–°å¢äº†ä¸€ä¸ªè¡¨ç¤ºç©ºçš„ AST èŠ‚ç‚¹ä½œä¸ºå ä½ç¬¦ï¼Œä½¿å¾—ç¬¬äºŒè¡Œèƒ½å¤Ÿç”Ÿæˆå®Œæ•´çš„ ASTã€‚åœ¨å¤„ç†è¡¥å…¨çš„è¯·æ±‚æ—¶ï¼Œä¼šæ ¹æ® s çš„ç±»å‹å’Œå…¶ä»–è¯­ä¹‰ä¿¡æ¯ï¼Œè¡¥å…¨å‡½æ•°åã€schema attr æˆ– pkg ä¸­å®šä¹‰çš„ schema åã€‚</p><blockquote><p>Rust Analyzer architecture:</p><p>Architecture Invariant: parsing never fails, the parser produces (T, Vec<!-- -->&lt;<!-- -->Error<!-- -->&gt;<!-- -->) rather than Result<!-- -->&lt;<!-- -->T, Error<!-- -->&gt;<!-- -->.</p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="æ€»ç»“ä¸å±•æœ›">æ€»ç»“ä¸å±•æœ›<a href="#æ€»ç»“ä¸å±•æœ›" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>KCL çš„ IDE æ’ä»¶ç›®å‰å·²ç»å®ç°é«˜äº®ã€è·³è½¬ã€è¡¥å…¨ã€Outlineã€æ‚¬åœã€é”™è¯¯æç¤ºç­‰åŠŸèƒ½ã€‚è¿™äº›åŠŸèƒ½æå‡äº† KCL ç”¨æˆ·çš„å¼€å‘æ•ˆç‡ã€‚ç„¶è€Œï¼Œä½œä¸ºä¸€æ¬¾ IDE æ’ä»¶ï¼Œå®ƒçš„åŠŸèƒ½è¿˜ä¸å¤Ÿå®Œæ•´ã€‚åœ¨æœªæ¥çš„å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ä¼šç»§ç»­å®Œå–„ï¼Œæœªæ¥çš„å·¥ä½œæœ‰ä»¥ä¸‹å‡ ä¸ªæ–¹å‘ï¼š</p><ul><li>æ›´å¤šçš„è¯­è¨€èƒ½åŠ›ï¼šæä¾›æ›´å¤šçš„åŠŸèƒ½ï¼Œå¦‚ä»£ç é‡æ„ï¼Œé”™è¯¯çš„quick fixï¼Œä»£ç  fmtç­‰ï¼Œè¿›ä¸€æ­¥å®Œå–„åŠŸèƒ½ï¼Œæå‡å¼€å‘æ•ˆç‡</li><li>æ›´å¤šçš„ IDE æ¥å…¥ï¼šç›®å‰ï¼ŒKCL è™½ç„¶æä¾›äº† LSPï¼Œåªæ¥å…¥äº† VS Codeï¼Œæœªæ¥ä¼šåŸºäº LSP çš„èƒ½åŠ›ä¸º KCL ç”¨æˆ·æä¾›æ›´å¤šé€‰æ‹©ã€‚</li><li>AI èƒ½åŠ›çš„é›†æˆï¼šç›®å‰ï¼ŒChatGPT é£é¡å…¨ç½‘ï¼Œå„è¡Œå„ä¸šéƒ½åœ¨å…³æ³¨ã€‚æˆ‘ä»¬ä¹Ÿåœ¨æ¢ç´¢ AIÃ—KCL çš„ç»“åˆï¼Œæä¾›æ›´æ™ºèƒ½çš„ç ”å‘ä½“éªŒã€‚æ€»ä¹‹ï¼Œæˆ‘ä»¬ä¼šç»§ç»­å®Œå–„å’Œä¼˜åŒ– KCL çš„ IDE æ’ä»¶ï¼Œè®©å®ƒæ›´åŠ æˆç†Ÿå’Œå®ç”¨ã€‚ä¸ºKCLç”¨æˆ·å¸¦æ¥æ›´åŠ æ–¹ä¾¿å’Œé«˜æ•ˆçš„å¼€å‘ä½“éªŒã€‚
å¦‚æœæ‚¨æœ‰æ›´å¤šçš„æƒ³æ³•å’Œéœ€æ±‚ï¼Œæ¬¢è¿åœ¨ KCL Github ä»“åº“å‘èµ· Issue æˆ–è®¨è®ºï¼Œä¹Ÿæ¬¢è¿åŠ å…¥æˆ‘ä»¬çš„ç¤¾åŒºè¿›è¡Œäº¤æµ ğŸ™Œ ğŸ™Œ ğŸ™Œ</li></ul>]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[WAIC 2023 ä¼šè®® KCL ä»‹ç»å†…å®¹]]></title>
        <id>https://kcl-lang.github.io/zh-CN/blog/2023-03-26-kcl-os2atc-meeting</id>
        <link href="https://kcl-lang.github.io/zh-CN/blog/2023-03-26-kcl-os2atc-meeting"/>
        <updated>2023-07-08T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[KCL Talk Cover]]></summary>
        <content type="html"><![CDATA[<p><img loading="lazy" alt="KCL Talk Cover" src="/zh-CN/assets/images/talk-cover-0faf160fe29f520a93d63588b334b9ee.jpg" width="2554" height="1436" class="img_ev3q"></p><p><a href="https://kcl-lang.github.io/talks/kcl-os2atc2022.pdf" target="_blank" rel="noopener noreferrer">PDF ä¸‹è½½</a></p>]]></content>
        <author>
            <name>å¾é¹é£</name>
        </author>
        <category label="KCL" term="KCL"/>
        <category label="Configuration" term="Configuration"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[èŠèŠ K8S ä¸­çš„ Sidecar è®¾è®¡æ¨¡å¼Â·ç¬¬ 2 ç¯‡]]></title>
        <id>https://kcl-lang.github.io/zh-CN/blog/2023-06-29-k8s-sidecar-2</id>
        <link href="https://kcl-lang.github.io/zh-CN/blog/2023-06-29-k8s-sidecar-2"/>
        <updated>2023-06-29T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[ä»‹ç»]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ä»‹ç»">ä»‹ç»<a href="#ä»‹ç»" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>åœ¨å‰ä¸€ç¯‡æ–‡ç«  <a href="/zh-CN/blog/2023-06-05-k8s-sidecar-1/">èŠèŠ K8S ä¸­çš„Sidecarè®¾è®¡æ¨¡å¼Â·ç¬¬ 1 ç¯‡</a>ä¸­ï¼Œæˆ‘ä»¬ä»‹ç»äº†åœŸè¯è¯´çš„ä¸‰è¹¦å­çš„ Sidecar è®¾è®¡æ¨¡å¼ã€‚æœ¬æ–‡å°è¯•ç”¨ KCL è¿™ç§ç°ä»£åŒ–çš„ç±»å‹å®‰å…¨çš„é…ç½®è¯­è¨€ï¼Œæ¥å±•ç¤º Pod èµ„æºçš„æè¿°ï¼Œåœ¨åç»­çš„æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†ä»¥ KCL æ¥ä»‹ç» Sidecar è¿™ç§æ¨¡å¼çš„å®é™…åº”ç”¨ã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="1-pod-çš„-openapi-å®šä¹‰">1. Pod çš„ OpenAPI å®šä¹‰<a href="#1-pod-çš„-openapi-å®šä¹‰" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>å…ˆå›åˆ°æœ€å¼€å§‹æœ€ç®€å•çš„ Nginx ä¾‹å­ï¼Œå…¶ YAML æ–‡ä»¶å‡ ä¹æ˜¯ç›¸åŒçš„æ¨¡å¼ï¼š</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Pod</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> web</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">containers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nginx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> main</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">container</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">containerPort</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">80</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>è¿™é‡Œçš„ Pod æ•°æ®æ»¡è¶³ Kubernetes è§„èŒƒ ä¸­ <code>io.k8s.api.core.v1.Pod</code> æ¨¡å‹çš„å®šä¹‰ã€‚å®Œæ•´çš„ OpenAPI å®šä¹‰è¯· <a href="https://github.com/kubernetes/kubernetes/tree/master/api/openapi-spec" target="_blank" rel="noopener noreferrer">å‚è€ƒ</a>ã€‚ä»”ç»†åˆ†æå¯ä»¥å‘ç°ï¼ŒapiVersion å’Œ kind ä¿¡æ¯éƒ½æ˜¯æ¯”è¾ƒå¸¸è§çš„é»˜è®¤é…ç½®ï¼Œæˆ‘ä»¬éœ€è¦æ›´ç°ä»£çš„é…ç½®è¯­è¨€æ¥ç®€åŒ–ã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-ä½¿ç”¨-kcl-å®šä¹‰-pod-èµ„æº">2. ä½¿ç”¨ KCL å®šä¹‰ Pod èµ„æº<a href="#2-ä½¿ç”¨-kcl-å®šä¹‰-pod-èµ„æº" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>KCL æ˜¯ä¸€é—¨é¢å‘äº‘åŸç”Ÿé¢†åŸŸé…ç½®ç­–ç•¥è¯­è¨€ï¼Œè¯¦ç»†èµ„æ–™å¯å‚è€ƒ<a href="https://kcl-lang.io" target="_blank" rel="noopener noreferrer">è¯­è¨€å®˜ç½‘</a></p><p>åŸºæœ¬çš„ KCL é…ç½®ç¨‹åºä»ç„¶éµå¾ª <code>K=V</code> çš„å½¢å¼ï¼Œ YAML æ¯”è¾ƒç›¸ä¼¼ã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä¸‹é¢çš„ KCL ä»£ç æ¥é‡å†™ Nginx å®¹å™¨çš„é…ç½®ï¼š</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> k8s</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">api</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">core</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">v1 </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> k8core</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">k8core</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Pod </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    metadata</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"web-app"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    spec</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">containers </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"main-container"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        image </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"nginx"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ports </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">containerPort</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">80</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>å…¶ä¸­ import å¯¼å…¥äº† k8s åŒ…ä¸­çš„ <code>k8s/api/core/v1</code> åŒ…ï¼Œå…¶ä¸­çš„ Pod ç»“æ„å®šä¹‰å¯¹åº” Pod æ¨¡å‹ï¼Œå…¶ä¸­å·²ç»åŒ…å«äº† apiVersion å’Œ kind çš„é»˜è®¤å€¼ï¼Œå› æ­¤åªéœ€è¦æ·»åŠ  <code>metadata.name</code> å’Œ <code>spec.containers</code> å±æ€§ï¼ˆKCL ä¹Ÿé’ˆå¯¹ä¸€äº›å¤šçº§åµŒå¥—çš„å±æ€§æä¾›äº†çš„è¯­æ³•ç³–ï¼‰ã€‚</p><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ <a href="https://kcl-lang.io/docs/user_docs/guides/package-management/installation" target="_blank" rel="noopener noreferrer">kpm åŒ…ç®¡ç†å·¥å…·</a>ï¼Œåˆ›å»ºä¸€ä¸ª KCL ç¨‹åºæ¥å®šä¹‰ä¸€ä¸ª Pod èµ„æºã€‚å¹¶æ‰§è¡Œè¿™ä¸ªç¨‹åºæ¥å¾—åˆ°å¯¹åº”çš„ YAMLã€‚</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># 1. åˆå§‹åŒ–ä¸€ä¸ª kcl ç¨‹åºåŒ… hello.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kpm init hello</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 2. ç¼–è¾‘ hello åŒ…å†…çš„ main.k æ–‡ä»¶ï¼Œ</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># å°†å‰æ–‡ä¸­æåˆ°çš„ KCL é…ç½®ä»£ç æ·»åŠ åˆ° hello/main.k ä¸­</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">cat</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token string" style="color:#e3116c">EOF</span><span class="token string bash punctuation" style="color:#393A34"> </span><span class="token string bash punctuation operator" style="color:#393A34">&gt;</span><span class="token string bash punctuation" style="color:#393A34"> hello/main.k</span><span class="token string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">import k8s.api.core.v1 as k8core</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="display:inline-block;color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">k8core.Pod {</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    metadata.name = "web-app"</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    spec.containers = [{</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        name = "main-container"</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        image = "nginx"</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        ports = [{containerPort: 80}]</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    }]</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">EOF</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 3. è¿›å…¥åˆ° hello åŒ…å†…ï¼Œæ·»åŠ  k8s ä¾èµ–ï¼Œå¹¶ä¸”è¿è¡Œ hello åŒ…ã€‚</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">cd</span><span class="token plain"> hello </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> kpm </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> k8s </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> kpm run</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>å¯ä»¥å¾—åˆ°å¦‚ä¸‹ YAML è¾“å‡º:</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Pod</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> web</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">containers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nginx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> main</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">container</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">containerPort</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">80</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="3-å°ç»“">3. å°ç»“<a href="#3-å°ç»“" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>è¿™ä¸€ç¯‡æ–‡ç« æˆ‘ä»¬ç®€è¦ä»‹ç»äº†å¦‚ä½•é€šè¿‡ KCL æ„å»ºå‡º Pod é…ç½®æ¥è·å¾—æ›´çµæ´»ã€æ›´å¥å£®çš„é…ç½®ã€‚åç»­æ–‡ç« ä¸­æˆ‘ä»¬å°†é€šè¿‡ KCL æ¥æç‚¼å’ŒæŠ½è±¡æœ€ä½³çš„ Sidecar æ¨¡å¼å®è·µï¼ŒåŒ…æ‹¬ä½¿ç”¨ KCL å¯¹ Sidecar æ¨¡å‹è¿›è¡ŒæŠ½è±¡ä»¥åŠä½¿ç”¨ KCL å¯¹å·²å­˜åœ¨çš„ä¸Šæ¸¸ YAML é…ç½®è¿›è¡Œ Sidecar æ³¨å…¥ã€‚</p>]]></content>
        <author>
            <name>KCL Team</name>
        </author>
        <category label="KCL" term="KCL"/>
        <category label="k8s" term="k8s"/>
        <category label="Sidecar" term="Sidecar"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[èŠèŠ K8S ä¸­çš„ Sidecar è®¾è®¡æ¨¡å¼Â·ç¬¬ 1 ç¯‡]]></title>
        <id>https://kcl-lang.github.io/zh-CN/blog/2023-06-05-k8s-sidecar-1</id>
        <link href="https://kcl-lang.github.io/zh-CN/blog/2023-06-05-k8s-sidecar-1"/>
        <updated>2023-06-05T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[ä»‹ç»]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ä»‹ç»">ä»‹ç»<a href="#ä»‹ç»" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p><code>Sidecar</code> åŒ—äº¬åœŸè¯å«ä¸‰è¹¦å­ï¼Œé€šä¿—å«å°±æ˜¯å¸¦æ£šå­çš„ä¸‰è½®æ‘©æ‰˜è½¦ã€‚ä»Šå¤©æˆ‘ä»¬è¦èŠçš„ K8S ä¸­ä¸‰è¹¦å­ä¹Ÿç§°ä¸ºè¾¹ä¸‰è½®è½¦ï¼šè¾¹ä¸‰è½®è½¦æ˜¯åœ¨æ‘©æ‰˜è½¦è¾¹ä¸ŠæŒ‚é ä¸€ä¸ªæ‹–æ–—ï¼Œäº‘åŸç”Ÿä¸­çš„å«æ³•æ˜¯ä¸»å®¹å™¨å’Œè¾¹å®¹å™¨ã€‚æœ¬ç³»åˆ—æ–‡ç« å°†å±•ç¤º <code>Sidecar</code> æ¨¡å¼çš„ç”¨æ³•ï¼Œä»¥åŠå¦‚ä½•é€šè¿‡ <a href="https://kcl-lang.io/" target="_blank" rel="noopener noreferrer">KCL</a> ç­‰é¢å‘é…ç½®çš„ç¼–ç¨‹è¯­è¨€æ¥ç®€åŒ– YAML çš„ç¼–å†™ã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ä¸€ä¸ªæœ€ç®€å•çš„äº‘åŸç”Ÿ-web-æœåŠ¡">ä¸€ä¸ªæœ€ç®€å•çš„äº‘åŸç”Ÿ Web æœåŠ¡<a href="#ä¸€ä¸ªæœ€ç®€å•çš„äº‘åŸç”Ÿ-web-æœåŠ¡" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>é¦–å…ˆä»¥æœ€ç®€æ–¹å¼åœ¨ <code>Kubernetes</code> ç¯å¢ƒå¯åŠ¨ä¸€ä¸ª Web æœåŠ¡ã€‚åœ¨ä¸‹é¢ <code>pod.yaml</code> æ–‡ä»¶ä¸­å®šä¹‰ä¸€ä¸ª <code>Pod</code>ï¼Œå…¶ä¸­åªæœ‰ä¸€ä¸ª <code>Nginx</code> æœåŠ¡ï¼Œåœ¨ 80 ç«¯å£å¯åŠ¨ä¸€ä¸ª <code>web</code> æœåŠ¡ã€‚</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Pod</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> web</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">containers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nginx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> main</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">container</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">containerPort</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">80</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>Pod</code> æ˜¯äº‘åŸç”Ÿä¸­çš„ä¸€ä¸ªåŸºç¡€åŸè¯­ã€‚<code>Pod</code> å°†å¤šä¸ªå®¹å™¨åŒ…è£…ä¸ºä¸€ä¸ªé€»è¾‘å•å…ƒï¼Œ<code>Kubernetes</code> è¿è¡Œæ—¶ç¡®ä¿ <code>Pod</code> ä¸­çš„å®¹å™¨è¿è¡Œåœ¨ä¸€ä¸ªæœºå™¨ä¸Šã€‚å› æ­¤ <code>Pod</code> ä¸­çš„æ‰€æœ‰å®¹å™¨éƒ½å…±äº«ç”Ÿå‘½å‘¨æœŸã€å…±äº«ç£ç›˜å·ã€å…±äº«ç½‘ç»œç¯å¢ƒç­‰ã€‚<code>Sidecar</code> æ¨¡å¼å°±æ˜¯åœ¨ <code>Pod</code> ä¸­å¢åŠ å…¶ä»–å®¹å™¨æ¥æ‰©å±•å’Œå¢å¼ºä¸»å®¹å™¨çš„èƒ½åŠ›ã€‚</p><p>ç„¶åé€šè¿‡ <code>kubectl create</code> å‘½ä»¤è¡Œå·¥å…·åˆ›å»º <code>Pod</code>ï¼Œç„¶åé€šè¿‡ <code>kubectl get po</code> æŸ¥çœ‹ <code>Pod</code> æ‰§è¡ŒçŠ¶æ€ï¼š</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ kubectl create -f pod.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ kubectl get po</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NAME READY STATUS RESTARTS AGE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">web-app </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">/1 Running </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> 45m</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>å¯ä»¥çœ‹åˆ°ä¸€ä¸ªåä¸º <code>web-app</code> çš„ <code>Pod</code> å·²ç»æ­£å¸¸å¯åŠ¨å¹¶è¿è¡Œï¼Œå…¶ä¸­åŒ…å« <code>Nginx</code> æœåŠ¡ã€‚ä¸ºäº†ä¾¿äºå¤–éƒ¨è®¿é—®é…ç½®ç«¯å£è½¬å‘ï¼Œå°†å®¿ä¸»çš„ 3999 ç«¯å£å¯¹åº”åˆ°ä¸»å®¹å™¨çš„ 80 ç«¯å£ï¼š</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ kubectl port-forward web-app </span><span class="token number" style="color:#36acaa">3999</span><span class="token plain">:80</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Forwarding from </span><span class="token number" style="color:#36acaa">127.0</span><span class="token plain">.0.1:3999 -</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token number" style="color:#36acaa">80</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Forwarding from </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">::1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">:3999 -</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">80</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ç«¯å£è½¬å‘æ˜¯ä¸€ä¸ªé˜»å¡ç¨‹åºï¼Œä¿æŒå‘½ä»¤è¡Œçª—å£æ‰“å¼€ã€‚ç„¶ååœ¨æµè§ˆå™¨æ‰“å¼€æµ‹è¯•é¡µé¢ï¼š</p><p><img loading="lazy" src="/zh-CN/assets/images/port-forward-38011472fab79a2041228e14f60660db.png" width="1136" height="614" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="é€šè¿‡-sidecar-å®šæ‰©å±•é¡µé¢å†…å®¹">é€šè¿‡ Sidecar å®šæ‰©å±•é¡µé¢å†…å®¹<a href="#é€šè¿‡-sidecar-å®šæ‰©å±•é¡µé¢å†…å®¹" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>ç°åœ¨æˆ‘ä»¬å°è¯•åœ¨ä¸ä¿®æ”¹åŸå§‹ <code>Nginx</code> å®¹å™¨é•œåƒçš„å‰æä¸‹ï¼Œé€šè¿‡ <code>Sidecar</code> æ¨¡å¼ä¸º <code>Nginx</code> æœåŠ¡å¢åŠ å®šåˆ¶ <code>Web</code> é¡µé¢çš„èƒ½åŠ›ã€‚åœ¨å¼€å§‹å‰å…ˆåˆ é™¤ä¹‹å‰å¯åŠ¨çš„ <code>Pod</code>ï¼š</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ kubectl delete po web-app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pod </span><span class="token string" style="color:#e3116c">"web-app"</span><span class="token plain"> deleted</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ç„¶ååœ¨ <code>Pod</code> ä¸­å¢åŠ ç¬¬äºŒä¸ª <code>Busybox Sidecar</code> å®¹å™¨ï¼Œå®Œæ•´çš„ <code>pod.yaml</code> æ–‡ä»¶å¦‚ä¸‹ï¼š</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Pod</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> web</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">containers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nginx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> main</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">container</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">containerPort</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">80</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># --- ä»¥ä¸‹æ˜¯æ–°æ·»åŠ çš„å†…å®¹ ---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># å’Œ Sidecar é€šè¿‡ ç£ç›˜å·å…±äº«è¦å‘å¸ƒçš„æ–‡ä»¶ç›®å½•</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">volumeMounts</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> var</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">logs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">mountPath</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> /usr/share/nginx/html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Sidecar å®¹å™¨</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> busybox</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">command</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"/bin/sh"</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">args</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"-c"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"while true; do echo $(date -u) 'Hi I am from Sidecar container' &gt; /var/log/index.html; sleep 5;done"</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Sidecar</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">container</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">volumeMounts</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> var</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">logs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">mountPath</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> /var/log</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Pod ä¸­å…¨éƒ¨å®¹å™¨å…±äº«ç£ç›˜å·</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">volumes</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> var</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">logs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">emptyDir</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>Busybox Sidecar</code> å®¹å™¨æ‰§è¡Œçš„å‘½ä»¤å¯¹åº”ä»¥ä¸‹ <code>Shell</code> è„šæœ¬ï¼š</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">while</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">do</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$(</span><span class="token variable function" style="color:#d73a49">date</span><span class="token variable" style="color:#36acaa"> -u</span><span class="token variable" style="color:#36acaa">)</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'Hi I am from Sidecar container'</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> /var/log/index.html</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">sleep</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">done</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>Sidecar</code> å®¹å™¨åªæœ‰ä¸€ä¸ªåŠŸèƒ½ï¼šæ¯éš” 5 ç§’é’Ÿè¦†ç›–ä¸€æ¬¡ <code>/var/log/index.html</code> æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶åˆšå¥½å¯¹åº” <code>Nginx</code> çš„æœåŠ¡çš„é¦–é¡µé¡µé¢æ–‡ä»¶ã€‚</p><p>ç„¶åé‡æ–°å¯åŠ¨ <code>Pod</code>ï¼Œå¹¶é‡æ–°æ˜ å°„æœ¬åœ°å®¿ä¸»æœºç«¯å£åˆ°å®¹å™¨ç«¯å£ï¼š</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ kubectl create -f pod.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pod/web-app created</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ kubectl port-forward web-app </span><span class="token number" style="color:#36acaa">3999</span><span class="token plain">:80</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Forwarding from </span><span class="token number" style="color:#36acaa">127.0</span><span class="token plain">.0.1:3999 -</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">80</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Forwarding from </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">::1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">:3999 -</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">80</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>é‡æ–°æ‰“å¼€æµè§ˆå™¨åå°†çœ‹åˆ°ä»¥ä¸‹é¡µé¢ï¼š</p><p><img loading="lazy" src="/zh-CN/assets/images/port-forward-1-ecbef30818b04505deeb1f461f91a91f.png" width="1038" height="192" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="sidecar-æ¨¡å¼çš„å·¥ä½œåŸç†">Sidecar æ¨¡å¼çš„å·¥ä½œåŸç†<a href="#sidecar-æ¨¡å¼çš„å·¥ä½œåŸç†" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>ç®€å•æ¥è¯´ï¼Œ<code>Busybox</code> æ˜¯ <code>Sidecar</code> å®¹å™¨è§’è‰²ï¼Œè´Ÿè´£ç”Ÿäº§é¦–é¡µæ•°æ®ï¼›è€Œ <code>Nginx</code> æ˜¯ä¸»å®¹å™¨ï¼Œè´Ÿè´£æ¶ˆè´¹ <code>Busybox</code> ç”Ÿäº§çš„ä¸»é¡µæ•°æ®ï¼›ä¸¤ä¸ªå®¹å™¨é€šè¿‡ <code>var-logs</code> ç£ç›˜å·å…±äº«ç©ºé—´ã€‚å¦‚æœä»¥ Go è¯­è¨€çš„æœ¯è¯­ç±»æ¯”ï¼Œ<code>Nginx</code> æ˜¯ä¸» <code>Goroutine</code>ï¼Œ<code>Busybox</code> æ˜¯åå°å¹²è„æ´»çš„ <code>Goroutine</code>ï¼Œè€Œå…±äº«çš„ç£ç›˜å·ç±»ä¼¼ <code>Channel</code> çš„ä½œç”¨ã€‚</p><p><img loading="lazy" src="/zh-CN/assets/images/how-sidecar-work-a13877d06b375a8443f596f4614b7a26.png" width="1066" height="658" class="img_ev3q"></p><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ <code>Nginx</code> ä¾ç„¶æ˜¯ä¸»å®¹å™¨ï¼Œ<code>Sidecar</code> å®¹å™¨æ˜¯ <code>BusyBox</code>ã€‚æˆ‘ä»¬è¿˜å¯ä»¥æŒ‚æ›´å¤š <code>Sidecar</code> å®¹å™¨ï¼Œæ¯”å¦‚ç½‘ç»œã€ç›‘æ§ã€æ—¥å¿—ç­‰ç­‰ã€‚</p><p><img loading="lazy" src="/zh-CN/assets/images/how-sidecar-work-1-d4780f9624a3907986d6e59483329bf5.png" width="1512" height="616" class="img_ev3q"></p><p>è¿™æ ·å°±é€šè¿‡ <code>Sidecar</code> æ¨¡å¼ï¼Œåœ¨ä¸ä¿®æ”¹ <code>Nginx</code> ä¸»å®¹å™¨çš„å‰æä¸‹ï¼Œæ‰©å±•å‡ºäº†ç½‘ç»œã€ç›‘æ§ã€æ—¥å¿—ç­‰èƒ½åŠ›ã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="sidecar-æ¨¡å¼çš„ä¼˜ç‚¹">Sidecar æ¨¡å¼çš„ä¼˜ç‚¹<a href="#sidecar-æ¨¡å¼çš„ä¼˜ç‚¹" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>ç°åœ¨å®¹å™¨å·²ç»æˆä¸ºä¸€ç§æµè¡Œçš„æ‰“åŒ…æŠ€æœ¯ï¼Œå„ç§ä¸åŒè§’è‰²çš„åŒå­¦å¯ä»¥é€šè¿‡å®¹å™¨ä»¥ç»Ÿä¸€çš„æ–¹å¼æ„å»ºã€å‘å¸ƒå’Œè¿è¡Œç¨‹åºï¼Œç”šè‡³ç®¡ç†å„ç§èµ„æºã€‚å› æ­¤å®¹å™¨æ›´åƒä¸€ä¸ªåŠŸèƒ½æ˜ç¡®çš„äº§å“ï¼Œå®ƒæœ‰è‡ªå·±çš„è¿è¡Œæ—¶ã€å‘å¸ƒå‘¨æœŸã€æ–‡æ¡£å’Œ API ç­‰ã€‚å¥½çš„å®¹å™¨/äº§å“åªè´Ÿè´£è§£å†³ä¸€ä¸ªé—®é¢˜ï¼Œä¿æŒäº† KISS åŸåˆ™å¯ä»¥è®©å®¹å™¨æœ¬èº«å…·æœ‰æé«˜çš„é‡ç”¨æ€§å’Œå¯è¢«æ›¿ä»£æ€§ã€‚æ­£æ˜¯å› ä¸ºå¯é‡ç”¨æ‰ä½¿å¾—ç°ä»£åŒ–çš„æ„å»ºç¨‹åºçš„æµç¨‹æ›´åŠ æ•æ·å’Œé«˜æ•ˆã€‚ä½†æ˜¯å¯å¤ç”¨çš„å®¹å™¨ä¸€èˆ¬éƒ½åŠŸèƒ½å•ä¸€ï¼Œæˆ‘ä»¬å¸¸å¸¸éœ€è¦é€šè¿‡å„ç§æ‰‹æ®µæ‰©å±•å®¹å™¨çš„åŠŸèƒ½ï¼Œä»¥åŠéœ€è¦æ›´å¤šçš„å®¹å™¨ä¹‹é—´çš„ååŒã€‚</p><p>ä¸‰è¹¦å­ <code>Sidecar</code> å¯ä»¥åœ¨ä¸æ”¹é€ ä¸»æ‘©æ‰˜è½¦çš„å‰æä¸‹å¢åŠ  N ä¸ªæ‹–è½¦åŠŸèƒ½ï¼Œç›¸åº”åœ°äº‘åŸç”Ÿ <code>Sidecar</code> æ¨¡å¼å¯ä»¥åœ¨æ— éœ€ä¿®æ”¹ä¸»å®¹å™¨çš„å‰æä¸‹æ‰©å±•å¹¶å¢å¼ºå·²æœ‰ä¸»å®¹å™¨åŠŸèƒ½ã€‚å¦‚æœå°†äº‘åŸç”Ÿçš„ç©æ³•å’Œé¢å‘å¯¹è±¡ç¼–ç¨‹è”ç³»èµ·æ¥ï¼Œå®¹å™¨é•œåƒå°±æ˜¯ <code>Java</code> ä¸­çš„ <code>class</code>ï¼Œè€Œæ‰§è¡Œä¸­çš„å®¹å™¨å°±æ˜¯ <code>class</code> çš„å®ä¾‹ã€‚è€Œé¢å‘å¯¹è±¡çš„ <code>class</code> ç»§æ‰¿å°±æ˜¯åŸºäºå·²æœ‰çš„å®¹å™¨é•œåƒåšæ‰©å±•ï¼Œ<code>Sidecar</code> åˆ™æ˜¯é€šè¿‡ç±»ä¼¼ç»„åˆçš„æ¨¡å¼æ‰©å±• <code>class</code> çš„èƒ½åŠ›ã€‚</p><p>é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­æœ‰ä¸€ä¸ªâ€œç»„åˆä¼˜äºç»§æ‰¿ï¼Œå¤šç”¨ç»„åˆå°‘ç”¨ç»§æ‰¿â€çš„è§„åˆ™ï¼Œå› æ­¤ Sidecar ä¹Ÿæ˜¯æ¨èä½¿ç”¨çš„æ¨¡å¼ã€‚æ­£æ˜¯å› ä¸ºä¸‰è¹¦å­æ¨¡å¼çš„ä¼˜ç‚¹ï¼Œæœ€è¿‘åœ¨äº‘åŸç”Ÿåœºæ™¯ä¹Ÿè¢«å¤§é‡ä½¿ç”¨ï¼šæ¯”å¦‚åœ¨è¾¹è½¦ä¸Šæ¶ä¸€äº›ç±»ä¼¼æœºå…³æªçš„ç½‘ç»œæœåŠ¡ã€ç›‘æ§ã€è·Ÿè¸ªç­‰åŠŸèƒ½ã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="æ€»ç»“">æ€»ç»“<a href="#æ€»ç»“" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>è¿™ä¸€ç¯‡æ–‡ç« æˆ‘ä»¬ç®€è¦ä»‹ç»å¹¶åœ¨ <code>Kubernetes</code> ç¯å¢ƒå±•ç¤ºäº† <code>Sidecar</code> æ¨¡å¼ï¼ŒåŒæ—¶ç»“åˆä¼ ç»Ÿçš„é¢å‘å¯¹è±¡ç¼–ç¨‹æ€æƒ³å¯¹æ¯”äº† <code>Sidecar</code> å’Œç»„åˆç¼–ç¨‹æ¨¡å¼çš„å…³ç³»ã€‚<code>Sidecar</code> æ¨¡å¼çš„ä¼˜åŠ¿ä¸ä»…ä»…ä½“ç°åœ¨æ— å®³å¢å¼ºä¸»å®¹å™¨ï¼Œæ›´çµæ´»çš„æ˜¯å¯ä»¥åœ¨ <code>apply</code> æ—¶åŠ¨æ€è°ƒæ•´ <code>Sidecar</code> èƒ½åŠ›ã€‚</p><p>åœ¨åé¢çš„æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†å°è¯•ç»“åˆ <code>KCL</code> ç­‰ç°ä»£åŒ–çš„äº‘åŸç”Ÿé…ç½®è¯­è¨€æ¥ç®€åŒ– <code>Sidecar</code> é…ç½®çš„ç¼–å†™ã€‚é€šè¿‡å°è¯•æ¢ç´¢é€šè¿‡ <code>KCL</code> åŠ¨æ€æ³¨å…¥å’Œä¿®æ”¹ <code>Sidecar</code> æ¥æ‰©å±•åŸºäºå·²æœ‰é…ç½®çš„èƒ½åŠ›ã€‚</p>]]></content>
        <author>
            <name>KCL Team</name>
        </author>
        <category label="KCL" term="KCL"/>
        <category label="k8s" term="k8s"/>
        <category label="Sidecar" term="Sidecar"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[KCL ä¸å…¶ä»– Kubernetes é…ç½®ç®¡ç†å·¥å…·çš„å¼‚åŒ - Helm ç¯‡]]></title>
        <id>https://kcl-lang.github.io/zh-CN/blog/2023-05-30-vs-helm</id>
        <link href="https://kcl-lang.github.io/zh-CN/blog/2023-05-30-vs-helm"/>
        <updated>2023-05-30T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[ç®€ä»‹]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ç®€ä»‹">ç®€ä»‹<a href="#ç®€ä»‹" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p><a href="https://helm.sh/" target="_blank" rel="noopener noreferrer">Helm</a> æ˜¯ä¸€ä¸ªä¸º Kubernetes å¯¹è±¡ç”Ÿæˆå¯éƒ¨ç½²æ¸…å•çš„å·¥å…·ï¼Œå®ƒæ‰¿æ‹…äº†ä»¥ä¸¤ç§ä¸åŒå½¢å¼ç”Ÿæˆæœ€ç»ˆæ¸…å•çš„ä»»åŠ¡ã€‚Helm æ˜¯ä¸€ä¸ªç®¡ç† Kubernetes åŒ…ï¼ˆç§°ä¸º chartsï¼‰çš„å¿…å¤‡æ¨¡æ¿å·¥å…·ã€‚å›¾è¡¨æ˜¯ YAML æ¸…å•çš„æ¨¡æ¿åŒ–ç‰ˆæœ¬ï¼Œå…¶ä¸­æ··åˆäº† Go template çš„å­é›†ï¼Œå®ƒä¹Ÿæ˜¯ Kubernetes çš„åŒ…ç®¡ç†å™¨ï¼Œå¯ä»¥æ‰“åŒ…ã€é…ç½®å’Œéƒ¨ç½²/åº”ç”¨ Helm å›¾è¡¨åˆ° Kubernetes é›†ç¾¤ã€‚</p><p>åœ¨ KCL ä¸­ï¼Œç”¨æˆ·å¯ä»¥ä½¿ç”¨æ›´å¤šçš„å·¥å…·å’Œ IDE æ’ä»¶æ”¯æŒç›´æ¥ç¼–å†™é…ç½®ä»£ç æ–‡ä»¶ï¼Œè€Œä¸æ˜¯æ¨¡æ¿æ–‡ä»¶ï¼Œè¿™äº›å·¥å…·å’Œæ’ä»¶æ”¯æŒéœ€è¦åœ¨ç›¸åº”ä½ç½®çš„ä»£ç ä¸­è¿›è¡Œä¿®æ”¹ï¼Œä»è€Œæ¶ˆé™¤äº†è¯»å– YAML çš„æˆæœ¬ã€‚åŒæ—¶ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡ä»£ç é‡ç”¨é…ç½®ç‰‡æ®µï¼Œé¿å…äº†YAML é…ç½®çš„å¤§é‡å¤åˆ¶å’Œç²˜è´´ã€‚ä¿¡æ¯å¯†åº¦æ›´é«˜ï¼Œæ›´ä¸å®¹æ˜“å‡ºé”™ã€‚</p><p>ä¸‹é¢ä»¥ä¸€ä¸ªç»å…¸çš„ Helm Chart é…ç½®ç®¡ç†çš„ä¾‹å­è¯¦ç»†è¯´æ˜ Kustomize å’Œ KCL åœ¨ Kubernetes èµ„æºé…ç½®ç®¡ç†ä¸Šçš„åŒºåˆ«ã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="helm">Helm<a href="#helm" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>Helm å…·å¤‡ <code>values.yaml</code> å’Œ <code>template</code> çš„æ¦‚å¿µ, é€šå¸¸ä¸€ä¸ª Helm Chart ç”±ä¸€ä¸ªåŒ…å« <code>Chart.yaml</code> çš„è·¯å¾„ç»„æˆã€‚æˆ‘ä»¬å¯ä»¥æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤è·å¾—ä¸€ä¸ªå…¸å‹çš„ Helm Chart å·¥ç¨‹</p><ul><li>åˆ›å»º <code>workload-helm</code> ç›®å½•æ¥ä¿å­˜ chart å·¥ç¨‹</li></ul><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Create a directory to hold the chart project</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">mkdir</span><span class="token plain"> workload-helm</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Create a workload-helm/Chart.yaml</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">cat</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token string" style="color:#e3116c">EOF</span><span class="token string bash punctuation" style="color:#393A34"> </span><span class="token string bash punctuation operator" style="color:#393A34">&gt;</span><span class="token string bash punctuation" style="color:#393A34"> workload-helm/Chart.yaml</span><span class="token string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">apiVersion: v2</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">appVersion: 0.3.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">description: A helm chart to provision standard workloads.</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">name: workload</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">type: application</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">version: 0.3.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">EOF</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Create a workload-helm/values.yaml</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">cat</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token string" style="color:#e3116c">EOF</span><span class="token string bash punctuation" style="color:#393A34"> </span><span class="token string bash punctuation operator" style="color:#393A34">&gt;</span><span class="token string bash punctuation" style="color:#393A34"> workload-helm/values.yaml</span><span class="token string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">service:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  type: ClusterIP</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  ports:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    - name: www</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      protocol: TCP</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      port: 80</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      targetPort: 80</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="display:inline-block;color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">containers:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  my-container:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    image:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      name: busybox:latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    command: ["/bin/echo"]</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    args:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      - "-c"</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      - "Hello World!"</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    resources:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      limits:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        cpu: 100m</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        memory: 128Mi</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      requests:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        cpu: 100m</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        memory: 128Mi</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">EOF</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>åˆ›å»ºæ¨¡ç‰ˆæ–‡ä»¶å¤¹</li></ul><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Create a directory to hold templates</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">mkdir</span><span class="token plain"> workload-helm/templates</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Create a workload-helm/templates/helpers.tpl</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">cat</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token string" style="color:#e3116c">EOF</span><span class="token string bash punctuation" style="color:#393A34"> </span><span class="token string bash punctuation operator" style="color:#393A34">&gt;</span><span class="token string bash punctuation" style="color:#393A34"> workload-helm/templates/helpers.tpl</span><span class="token string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">{{/*</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">Expand the name of the chart.</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">*/}}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">{{- define "workload.name" -}}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">{{- default .Release.Name .Values.nameOverride | trunc 63 | trimSuffix "-" }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">{{- end }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">{{/*</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">Create a default fully qualified app name.</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">We truncate at 63 chars because some Kubernetes name fields are limited to this (by the DNS naming spec).</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">If release name contains chart name it will be used as a full name.</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">*/}}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">{{- define "workload.fullname" -}}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">{{- \</span><span class="token string variable" style="color:#36acaa">$name</span><span class="token string" style="color:#e3116c"> := default .Chart.Name .Values.nameOverride }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">{{- if contains \</span><span class="token string variable" style="color:#36acaa">$name</span><span class="token string" style="color:#e3116c"> .Release.Name }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">{{- .Release.Name | trunc 63 | trimSuffix "-" }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">{{- else }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">{{- printf "%s-%s" .Release.Name \</span><span class="token string variable" style="color:#36acaa">$name</span><span class="token string" style="color:#e3116c"> | trunc 63 | trimSuffix "-" }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">{{- end }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">{{- end }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">{{/*</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">Create chart name and version as used by the chart label.</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">*/}}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">{{- define "workload.chart" -}}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">{{- printf "%s-%s" .Chart.Name .Chart.Version | replace "+" "_" | trunc 63 | trimSuffix "-" }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">{{- end }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">{{/*</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">Common labels</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">*/}}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">{{- define "workload.labels" -}}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">helm.sh/chart: {{ include "workload.chart" . }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">{{ include "workload.selectorLabels" . }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">{{- if .Chart.AppVersion }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">app.kubernetes.io/version: {{ .Chart.AppVersion | quote }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">{{- end }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">app.kubernetes.io/managed-by: {{ .Release.Service }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">{{- end }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">{{/*</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">Selector labels</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">*/}}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">{{- define "workload.selectorLabels" -}}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">app.kubernetes.io/name: {{ include "workload.name" . }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">app.kubernetes.io/instance: {{ .Release.Name }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">{{- end }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">EOF</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">cat</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token string" style="color:#e3116c">EOF</span><span class="token string bash punctuation" style="color:#393A34"> </span><span class="token string bash punctuation operator" style="color:#393A34">&gt;</span><span class="token string bash punctuation" style="color:#393A34"> workload-helm/templates/deployment.yaml</span><span class="token string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">apiVersion: apps/v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">kind: Deployment</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">metadata:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  name: {{ include "workload.name" . }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  labels:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    {{- include "workload.labels" . | nindent 4 }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">spec:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  selector:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    matchLabels:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      {{- include "workload.selectorLabels" . | nindent 6 }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  template:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    metadata:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      labels:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        {{- include "workload.selectorLabels" . | nindent 8 }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    spec:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      containers:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        {{- range \</span><span class="token string variable" style="color:#36acaa">$name</span><span class="token string" style="color:#e3116c">, \</span><span class="token string variable" style="color:#36acaa">$container</span><span class="token string" style="color:#e3116c"> := .Values.containers }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        - name: {{ \</span><span class="token string variable" style="color:#36acaa">$name</span><span class="token string" style="color:#e3116c"> }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">          image: "{{ </span><span class="token string variable" style="color:#36acaa">$container</span><span class="token string" style="color:#e3116c">.image.name }}"</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">          {{- with \</span><span class="token string variable" style="color:#36acaa">$container</span><span class="token string" style="color:#e3116c">.command }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">          command:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            {{- toYaml \</span><span class="token string variable" style="color:#36acaa">$container</span><span class="token string" style="color:#e3116c">.command | nindent 12 }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">          {{- end }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">          {{- with \</span><span class="token string variable" style="color:#36acaa">$container</span><span class="token string" style="color:#e3116c">.args }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">          args:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            {{- toYaml \</span><span class="token string variable" style="color:#36acaa">$container</span><span class="token string" style="color:#e3116c">.args | nindent 12 }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">          {{- end }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">          {{- with \</span><span class="token string variable" style="color:#36acaa">$container</span><span class="token string" style="color:#e3116c">.env }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">          env:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            {{- toYaml \</span><span class="token string variable" style="color:#36acaa">$container</span><span class="token string" style="color:#e3116c">.env | nindent 12 }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">          {{- end }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">          {{- with \</span><span class="token string variable" style="color:#36acaa">$container</span><span class="token string" style="color:#e3116c">.volumeMounts }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">          volumeMounts:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            {{- toYaml \</span><span class="token string variable" style="color:#36acaa">$container</span><span class="token string" style="color:#e3116c">.volumeMounts | nindent 12 }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">          {{- end }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">          {{- with \</span><span class="token string variable" style="color:#36acaa">$container</span><span class="token string" style="color:#e3116c">.livenessProbe }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">          livenessProbe:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            {{- toYaml \</span><span class="token string variable" style="color:#36acaa">$container</span><span class="token string" style="color:#e3116c">.livenessProbe | nindent 12 }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">          {{- end }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">          {{- with \</span><span class="token string variable" style="color:#36acaa">$container</span><span class="token string" style="color:#e3116c">.readinessProbe }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">          readinessProbe:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            {{- toYaml \</span><span class="token string variable" style="color:#36acaa">$container</span><span class="token string" style="color:#e3116c">.readinessProbe | nindent 12 }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">          {{- end }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">          {{- with \</span><span class="token string variable" style="color:#36acaa">$container</span><span class="token string" style="color:#e3116c">.resources }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">          resources:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            {{- toYaml \</span><span class="token string variable" style="color:#36acaa">$container</span><span class="token string" style="color:#e3116c">.resources | nindent 12 }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">          {{- end }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        {{- end }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">EOF</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">cat</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token string" style="color:#e3116c">EOF</span><span class="token string bash punctuation" style="color:#393A34"> </span><span class="token string bash punctuation operator" style="color:#393A34">&gt;</span><span class="token string bash punctuation" style="color:#393A34"> workload-helm/templates/service.yaml</span><span class="token string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">{{ if .Values.service }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">apiVersion: v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">kind: Service</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">metadata:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  name: {{ include "workload.name" . }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  labels:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    {{- include "workload.labels" . | nindent 4 }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">spec:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  type: {{ .Values.service.type }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  selector:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    {{- include "workload.selectorLabels" . | nindent 4 }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  {{- with .Values.service.ports }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  ports:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    {{- toYaml . | nindent 4 }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  {{- end }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">{{- end }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">EOF</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>å¯ä»¥å¾—åˆ°å¦‚ä¸‹çš„ Helm chart å·¥ç¨‹</p><div class="language-txt codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-txt codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€ Chart.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€ templates</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”œâ”€â”€ _helpers.tpl</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”œâ”€â”€ deployment.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â””â”€â”€ service.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â””â”€â”€ values.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡å¦‚ä¸‹çš„å‘½ä»¤æ¸²æŸ“çœŸå®çš„éƒ¨ç½²é…ç½®</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">helm template workload-helm</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>å¯ä»¥å¾—åˆ°å¦‚ä¸‹ YAML è¾“å‡º</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Source: workload-helm/templates/service.yaml</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> release</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">helm.sh/chart</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> workload</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">0.3.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app.kubernetes.io/name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> release</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app.kubernetes.io/instance</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> release</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app.kubernetes.io/version</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"0.3.0"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app.kubernetes.io/managed-by</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Helm</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ClusterIP</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">selector</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app.kubernetes.io/name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> release</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app.kubernetes.io/instance</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> release</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> www</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">80</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">protocol</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> TCP</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">targetPort</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">80</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Source: workload-helm/templates/deployment.yaml</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> apps/v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Deployment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> release</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">helm.sh/chart</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> workload</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">0.3.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app.kubernetes.io/name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> release</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app.kubernetes.io/instance</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> release</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app.kubernetes.io/version</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"0.3.0"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app.kubernetes.io/managed-by</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Helm</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">selector</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">matchLabels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">app.kubernetes.io/name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> release</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">app.kubernetes.io/instance</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> release</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">template</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">app.kubernetes.io/name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> release</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">app.kubernetes.io/instance</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> release</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">containers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">container</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"busybox:latest"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">command</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> /bin/echo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">args</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">c</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> Hello World</span><span class="token tag" style="color:#00009f">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">resources</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">limits</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">cpu</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 100m</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">memory</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 128Mi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">requests</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">cpu</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 100m</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">memory</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 128Mi</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="kcl">KCL<a href="#kcl" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>åœ¨ KCL ä¸­ï¼Œæˆ‘ä»¬æä¾›äº†ä¸ Helm <code>values.yaml</code> ç›¸ä¼¼çš„åŠ¨æ€é…ç½®å‚æ•° <code>kcl.yaml</code> æ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥æ‰§è¡Œå¦‚ä¸‹çš„å‘½ä»¤è·å¾—ä¸€ä¸ªå…¸å‹çš„ KCL å·¥ç¨‹ã€‚</p><ul><li>åˆ›å»º <code>workload-kcl</code> ç›®å½•æ¥ä¿å­˜ KCL å·¥ç¨‹</li></ul><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Create a directory to hold the KCL project</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">mkdir</span><span class="token plain"> workload-kcl</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Create a workload-kcl/kcl.yaml</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">cat</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token string" style="color:#e3116c">EOF</span><span class="token string bash punctuation" style="color:#393A34"> </span><span class="token string bash punctuation operator" style="color:#393A34">&gt;</span><span class="token string bash punctuation" style="color:#393A34"> workload-kcl/kcl.yaml</span><span class="token string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">kcl_options:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  - key: containers</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    value:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      my-container:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        image:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">          name: busybox:latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        command: ["/bin/echo"]</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        args:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">          - "-c"</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">          - "Hello World!"</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        resources:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">          limits:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            cpu: 100m</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            memory: 128Mi</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">          requests:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            cpu: 100m</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            memory: 128Mi</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="display:inline-block;color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  - key: service</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    value:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      type: ClusterIP</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      ports:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        - name: www</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">          protocol: TCP</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">          port: 80</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">          targetPort: 80</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">EOF</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>åˆ›å»ºå¦‚ä¸‹ KCL æ–‡ä»¶æ¥ä¿å­˜ kubernetes èµ„æº</li></ul><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Create a workload-kcl/deployment.k</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">cat</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token string" style="color:#e3116c">EOF</span><span class="token string bash punctuation" style="color:#393A34"> </span><span class="token string bash punctuation operator" style="color:#393A34">&gt;</span><span class="token string bash punctuation" style="color:#393A34"> workload-kcl/deployment.k</span><span class="token string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">apiVersion = "apps/v1"</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">kind = "Deployment"</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">metadata = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    name = "release-name"</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    labels = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        "app.kubernetes.io/name" = "release-name"</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        "app.kubernetes.io/instance" = "release-name"</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">spec = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    selector.matchLabels = metadata.labels</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    template.metadata.labels = metadata.labels</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    template.spec.containers = [</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            name = n</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            image = container.image.name</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            command = container.command</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            command = container.args</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            env = container.env</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            resources = container.resources</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        } for n, container in option("containers") or {}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">EOF</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">cat</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token string" style="color:#e3116c">EOF</span><span class="token string bash punctuation" style="color:#393A34"> </span><span class="token string bash punctuation operator" style="color:#393A34">&gt;</span><span class="token string bash punctuation" style="color:#393A34"> workload-kcl/service.k</span><span class="token string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">apiVersion = "v1"</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">kind = "Service"</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">metadata = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    name = "release-name"</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    labels = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        "app.kubernetes.io/name" = "release-name"</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        "app.kubernetes.io/instance" = "release-name"</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">spec = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    selector.matchLabels = metadata.labels</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    type = option("service", default={})?.type</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    ports = option("service", default={})?.ports</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">EOF</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ä¸Šè¿° KCL ä»£ç ä¸­æˆ‘ä»¬åˆ†åˆ«å£°æ˜äº†ä¸€ä¸ª Kubernetes <code>Deployment</code> å’Œ <code>Service</code> èµ„æºçš„ <code>apiVersion</code>ã€<code>kind</code>ã€<code>metadata</code> å’Œ <code>spec</code> ç­‰å˜é‡ï¼Œå¹¶åˆ†åˆ«èµ‹å€¼äº†ç›¸åº”çš„å†…å®¹ï¼Œç‰¹åˆ«åœ°ï¼Œæˆ‘ä»¬å°† <code>metadata.labels</code> å­—æ®µåˆ†åˆ«é‡ç”¨åœ¨ <code>spec.selector.matchLabels</code> å’Œ <code>spec.template.metadata.labels</code> å­—æ®µã€‚å¯ä»¥çœ‹å‡ºï¼Œç›¸æ¯”äº Helm æ¨¡ç‰ˆ æˆ–è€… YAMLï¼ŒKCL å®šä¹‰çš„æ•°æ®ç»“æ„æ›´åŠ ç´§å‡‘ï¼Œè€Œä¸”å¯ä»¥é€šè¿‡å®šä¹‰å±€éƒ¨å˜é‡å®ç°é…ç½®é‡ç”¨ã€‚</p><p>åœ¨ KCL ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ¡ä»¶è¯­å¥å’Œ <code>option</code> å†…ç½®å‡½æ•°æ¥æ”¶åŠ¨æ€å‚æ•°ï¼Œå¹¶è®¾ç½®ä¸åŒçš„é…ç½®å€¼ä»¥ç”Ÿæˆèµ„æºã€‚</p><p>å¯ä»¥é€šè¿‡å¦‚ä¸‹çš„å‘½ä»¤å¾—åˆ° <code>Deployment</code> å’Œ <code>Service</code> YAML è¾“å‡º:</p><ul><li><code>Deployment</code></li></ul><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ kcl workload</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">kcl/deployment.k </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">Y workload</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">kcl/kcl.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> apps/v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Deployment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> release</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app.kubernetes.io/name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> release</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app.kubernetes.io/instance</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> release</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">selector</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">matchLabels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">app.kubernetes.io/name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> release</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">app.kubernetes.io/instance</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> release</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">template</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">app.kubernetes.io/name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> release</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">app.kubernetes.io/instance</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> release</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">containers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">container</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> busybox</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">command</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">c</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> Hello World</span><span class="token tag" style="color:#00009f">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">resources</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">limits</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">cpu</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 100m</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">memory</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 128Mi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">requests</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">cpu</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 100m</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">memory</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 128Mi</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><code>Service</code></li></ul><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ kcl workload</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">kcl/service.k </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">Y workload</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">kcl/kcl.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> release</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app.kubernetes.io/name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> release</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app.kubernetes.io/instance</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> release</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">selector</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">matchLabels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">app.kubernetes.io/name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> release</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">app.kubernetes.io/instance</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> release</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ClusterIP</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> www</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">protocol</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> TCP</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">80</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">targetPort</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">80</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æ­¤å¤–æˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>-D</code> æ ‡å¿—è®¾ç½®é¢å¤–çš„å‚æ•°å¹¶è¦†ç›– <code>kcl.yaml</code> æ–‡ä»¶çš„é…ç½®å€¼</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ kcl workload</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">kcl/service.k </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">Y workload</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">kcl/kcl.yaml </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">D service=None</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> release</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app.kubernetes.io/name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> release</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app.kubernetes.io/instance</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> release</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">selector</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">matchLabels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">app.kubernetes.io/name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> release</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">app.kubernetes.io/instance</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> release</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token null important">null</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token null important">null</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å°ç»“">å°ç»“<a href="#å°ç»“" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>å¯ä»¥çœ‹å‡ºï¼Œä¸ Helm ç›¸æ¯”ï¼ŒKCL é€šè¿‡åœ¨é…ç½®é‡ç”¨å’Œè¦†ç›–çš„åŸºç¡€ä¸Šç”Ÿæˆä»£ç ï¼Œå‡å°‘äº†é…ç½®æ–‡ä»¶å’Œä»£ç è¡Œçš„æ•°é‡ã€‚ä¸ Helm ä¸€æ ·ï¼Œå®ƒæ˜¯ä¸€ä¸ªçº¯å®¢æˆ·ç«¯è§£å†³æ–¹æ¡ˆï¼Œå¯ä»¥å°†é…ç½®å’Œç­–ç•¥éªŒè¯å°½å¯èƒ½åœ°å·¦ç§»ï¼Œè€Œä¸ä¼šå¯¹é›†ç¾¤é€ æˆé¢å¤–çš„ä¾èµ–æˆ–è´Ÿæ‹…ï¼Œæˆ–è€…ç”šè‡³æ²¡æœ‰ Kubernetes é›†ç¾¤æ—¶ä¹Ÿå¯ä»¥é€šè¿‡ KCL Schema ç­‰ç‰¹æ€§å¯¹ YAML è¿›è¡Œå……åˆ†éªŒè¯å’Œæµ‹è¯•ã€‚</p><p>Helm å¯ä»¥åœ¨ <code>.tpl</code> æ–‡ä»¶ä¸­å®šä¹‰å¯é‡ç”¨æ¨¡æ¿ï¼Œå¹¶æ”¯æŒå…¶ä»–æ¨¡æ¿å¼•ç”¨å®ƒã€‚ä½†æ˜¯ï¼Œåªæœ‰æ¨¡æ¿å®šä¹‰æ‰èƒ½é‡ç”¨ã€‚åœ¨ä¸€ä¸ªå¤æ‚çš„ Helm å›¾è¡¨é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬éœ€è¦å®šä¹‰è®¸å¤šé™„åŠ çš„åŸºæœ¬æ¨¡æ¿ã€‚ä¸ Helm ç¹ççš„å†™ä½œæ–¹æ³•ç›¸æ¯”ï¼ŒKCL ä¸­çš„æ‰€æœ‰å†…å®¹éƒ½æ˜¯å˜é‡ã€‚æŒ‡å®šæ¨¡æ¿ä¸éœ€è¦å…¶ä»–è¯­æ³•ã€‚ä»»ä½•å˜é‡éƒ½å¯ä»¥ç›¸äº’å¼•ç”¨ã€‚</p><p>æ­¤å¤–ï¼ŒHelm ä¸­è¿˜æœ‰å¤§é‡ä¸å®é™…é€»è¾‘æ— å…³çš„ <code>{{- include }}</code>, <code>nindent</code> å’Œ <code>toYaml</code> æ ‡è®°å­—ç¬¦ï¼Œæˆ‘ä»¬éœ€è¦è®¡ç®—æ¯ä¸ª Helm å¼•ç”¨å¤„çš„ç©ºæ ¼å’Œç¼©è¿›ã€‚åœ¨ KCL ä¸­ï¼Œæ— ç”¨ä»£ç æ›´å°‘ï¼Œå¹¶ä¸”ä¸éœ€è¦å¾ˆå¤šçš„ <code>{{*}}</code> æ¥æ ‡è®°ä»£ç å—ï¼Œä¿¡æ¯å¯†åº¦æ›´é«˜ã€‚</p><p>äº‹å®ä¸Šï¼ŒKCL å’Œ Helm Chart å¹¶ä¸å¯¹ç«‹ã€‚æˆ‘ä»¬ç”šè‡³å¯ä»¥ä½¿ç”¨ KCL ç¼–å†™ Helm æ¨¡æ¿æˆ–è€…ä½¿ç”¨ KCL æ¥ç”Ÿæˆ <code>values.yaml</code>ï¼Œæˆ–è€…ä¸ºç°æœ‰çš„ Helm å›¾è¡¨æä¾›å¯ç¼–ç¨‹æ‰©å±•åŠŸèƒ½ï¼Œæ¯”å¦‚ä¸º Helm å¼€å‘å¯é€‰çš„ KCL Schema æ’ä»¶æ¥éªŒè¯å·²æœ‰çš„ Helm å›¾è¡¨æˆ–è€…ä¸º Helm Chart ç¼–å†™é¢å¤–çš„ Transformer æ¥ Patch å·²æœ‰çš„ Helm Chartã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="æœªæ¥è®¡åˆ’">æœªæ¥è®¡åˆ’<a href="#æœªæ¥è®¡åˆ’" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>æˆ‘ä»¬åç»­è®¡åˆ’ KCL çš„æ¨¡å‹å’Œçº¦æŸå¯ä»¥ä½œä¸ºä¸€ä¸ªåŒ…æ¥ç®¡ç†ï¼ˆè¿™ä¸ªåŒ…åªæœ‰ KCL æ–‡ä»¶ï¼‰ã€‚ä¾‹å¦‚ï¼ŒKubernetes çš„æ¨¡å‹å’Œçº¦æŸå¯ä»¥å¼€ç®±å³ç”¨ã€‚ç”¨æˆ·å¯ä»¥é€šè¿‡å·²æœ‰çš„æ¨¡å‹ç”Ÿæˆé…ç½®æˆ–éªŒè¯ç°æœ‰é…ç½®ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡ KCL ç»§æ‰¿æ‰‹æ®µç®€å•åœ°æ‰©å±•ç”¨æˆ·æƒ³è¦çš„æ¨¡å‹å’Œçº¦æŸã€‚</p><p>åœ¨æ­¤é˜¶æ®µï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ Git æˆ– <a href="https://github.com/oras-project/oras" target="_blank" rel="noopener noreferrer">OCI Registry as Storageï¼ˆORAS)</a> ç­‰å·¥å…·æ¥ç®¡ç† KCL é…ç½®ç‰ˆæœ¬ã€‚</p>]]></content>
        <author>
            <name>KCL Team</name>
        </author>
        <category label="KCL" term="KCL"/>
        <category label="Helm" term="Helm"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[KCL ä¸å…¶ä»– Kubernetes é…ç½®ç®¡ç†å·¥å…·çš„å¼‚åŒ - Kustomize ç¯‡]]></title>
        <id>https://kcl-lang.github.io/zh-CN/blog/2023-05-20-vs-kustomize</id>
        <link href="https://kcl-lang.github.io/zh-CN/blog/2023-05-20-vs-kustomize"/>
        <updated>2023-05-20T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[ç®€ä»‹]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ç®€ä»‹">ç®€ä»‹<a href="#ç®€ä»‹" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p><a href="https://kustomize.io/" target="_blank" rel="noopener noreferrer">Kustomize</a> æä¾›äº†ä¸€ç§æ— éœ€æ¨¡æ¿å’Œå³å¯è‡ªå®šä¹‰ Kubernetes èµ„æºåŸºç¡€é…ç½®å’Œå·®å¼‚åŒ–é…ç½®çš„è§£å†³æ–¹æ¡ˆï¼Œé€šè¿‡æ–‡ä»¶çº§çš„ YAML é…ç½®æ–¹å¼å®Œæˆé…ç½®åˆå¹¶æˆ–è¦†ç›–ã€‚åœ¨ Kustomize ä¸­ç”¨æˆ·éœ€è¦æ›´è¯¦ç»†åœ°äº†è§£å°†è¦å‘ç”Ÿæ›´æ”¹çš„å†…å®¹å’Œä½ç½®ï¼Œå¯¹äºå¤æ‚é€’å½’è¿‡æ·±çš„åŸºç¡€ YAML å¯èƒ½ä¸å¤ªå®¹æ˜“é€šè¿‡é€‰æ‹©å™¨æ¥åŒ¹é… Kustomize æ–‡ä»¶ã€‚</p><p>è€Œåœ¨ KCL ä¸­ï¼Œç”¨æˆ·å¯ä»¥ç›´æ¥æŠŠå¯¹åº”ä»£ç éœ€è¦ä¿®æ”¹çš„é…ç½®ä¹¦å†™åœ¨å¯¹åº”çš„åœ°æ–¹ï¼Œå…å»äº†é˜…è¯»åŸºç¡€ YAML çš„æˆæœ¬ï¼ŒåŒæ—¶èƒ½å¤Ÿé€šè¿‡ä»£ç çš„æ–¹å¼å¤ç”¨é…ç½®ç‰‡æ®µï¼Œé¿å… YAML é…ç½®çš„å¤§é‡å¤åˆ¶ç²˜è´´ï¼Œä¿¡æ¯å¯†åº¦æ›´é«˜ï¼Œä¹Ÿä¸å®¹æ˜“å‡ºé”™ã€‚</p><p>ä¸‹é¢ä»¥ä¸€ä¸ªç»å…¸çš„ Kustomize å¤šç¯å¢ƒé…ç½®ç®¡ç†ä¾‹å­è¯¦ç»†è¯´æ˜ Kustomize å’Œ KCL åœ¨ Kubernetes èµ„æºé…ç½®ç®¡ç†ä¸Šçš„åŒºåˆ«ã€‚</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="kustomize">Kustomize<a href="#kustomize" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>Kustomize æœ‰ base å’Œ overlay çš„æ¦‚å¿µï¼Œbases å’Œ overlays ä¸€èˆ¬æ˜¯ä¸€ä¸ªåŒ…å« <code>kustomization.yaml</code> æ–‡ä»¶çš„ç›®å½•ï¼Œä¸€ä¸ª base å¯ä»¥è¢«å¤šä¸ª overlay ä½¿ç”¨</p><p>æˆ‘ä»¬å¯ä»¥æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤è¡Œè·å¾—ä¸€ä¸ªå…¸å‹çš„ Kustomize å·¥ç¨‹</p><ul><li>åˆ›å»º base ç›®å½•å¹¶æ–°å»ºä¸€ä¸ª deployment èµ„æº</li></ul><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Create a directory to hold the base</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">mkdir</span><span class="token plain"> base</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Create a base/deployment.yaml</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">cat</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token string" style="color:#e3116c">EOF</span><span class="token string bash punctuation" style="color:#393A34"> </span><span class="token string bash punctuation operator" style="color:#393A34">&gt;</span><span class="token string bash punctuation" style="color:#393A34"> base/deployment.yaml</span><span class="token string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">apiVersion: apps/v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">kind: Deployment</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">metadata:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  name: ldap</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  labels:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    app: ldap</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">spec:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  replicas: 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  selector:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    matchLabels:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      app: ldap</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  template:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    metadata:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      labels:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        app: ldap</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    spec:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      containers:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        - name: ldap</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">          image: osixia/openldap:1.1.11</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">          args: ["--copy-service"]</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">          volumeMounts:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            - name: ldap-data</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">              mountPath: /var/lib/ldap</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">          ports:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            - containerPort: 389</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">              name: openldap</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      volumes:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        - name: ldap-data</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">          emptyDir: {}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">EOF</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Create a base/kustomization.yaml</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">cat</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token string" style="color:#e3116c">EOF</span><span class="token string bash punctuation" style="color:#393A34"> </span><span class="token string bash punctuation operator" style="color:#393A34">&gt;</span><span class="token string bash punctuation" style="color:#393A34"> base/kustomization.yaml</span><span class="token string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">resources:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">- deployment.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">EOF</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>åˆ›å»ºä¸€ä¸ª prod ç›®å½•å¹¶æ”¾ç½®ç”Ÿäº§ç¯å¢ƒçš„é…ç½®</li></ul><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Create a directory to hold the prod overlay</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">mkdir</span><span class="token plain"> prod</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Create a prod/deployment.yaml</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">cat</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token string" style="color:#e3116c">EOF</span><span class="token string bash punctuation" style="color:#393A34"> </span><span class="token string bash punctuation operator" style="color:#393A34">&gt;</span><span class="token string bash punctuation" style="color:#393A34"> prod/deployment.yaml</span><span class="token string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">apiVersion: apps/v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">kind: Deployment</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">metadata:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  name: ldap</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">spec:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  replicas: 6</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  template:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    spec:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      volumes:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        - name: ldap-data</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">          emptyDir: null</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">          gcePersistentDisk:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            readOnly: true</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            pdName: ldap-persistent-storage</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">EOF</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">cat</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token string" style="color:#e3116c">EOF</span><span class="token string bash punctuation" style="color:#393A34"> </span><span class="token string bash punctuation operator" style="color:#393A34">&gt;</span><span class="token string bash punctuation" style="color:#393A34"> prod/kustomization.yaml</span><span class="token string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">resources:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  - ../base</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">patchesStrategicMerge:</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  - deployment.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">EOF</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æ­¤æ—¶æˆ‘ä»¬å¯ä»¥å¾—åˆ°ä¸€ä¸ªåŸºæœ¬çš„ Kustomzie ç›®å½•</p><div class="language-txt codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-txt codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€ base</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”œâ”€â”€ deployment.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â””â”€â”€ kustomization.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â””â”€â”€ prod</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    â”œâ”€â”€ deployment.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    â””â”€â”€ kustomization.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>å…¶ä¸­ï¼Œbase ç›®å½•å­˜æ”¾çš„æ˜¯åŸºæœ¬çš„ deployment é…ç½®ï¼Œprod ç¯å¢ƒå­˜æ”¾çš„æ˜¯éœ€è¦è¦†ç›–çš„ deployment é…ç½®ï¼Œåœ¨å…¶ä¸­æŒ‡å®šäº† <code>metadata.name</code> ç­‰å­—æ®µç”¨äºè¡¨ç¤ºå¯¹å“ªä¸ªèµ„æºè¿›è¡Œè¦†ç›–</p><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡å¦‚ä¸‹å‘½ä»¤è¡Œæ˜¾ç¤º prod ç¯å¢ƒçš„çœŸå® deployment é…ç½®</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ kubectl kustomize ./prod</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">apiVersion: apps/v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kind: Deployment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">metadata:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  labels:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    app: ldap</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  name: ldap</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spec:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  replicas: </span><span class="token number" style="color:#36acaa">6</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  selector:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    matchLabels:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      app: ldap</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  template:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    metadata:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      labels:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        app: ldap</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    spec:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      containers:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      - args:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - --copy-service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        image: osixia/openldap:1.1.11</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        name: ldap</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ports:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - containerPort: </span><span class="token number" style="color:#36acaa">389</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          name: openldap</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        volumeMounts:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - mountPath: /var/lib/ldap</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          name: ldap-data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      volumes:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      - gcePersistentDisk:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          pdName: ldap-persistent-storage</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          readOnly: </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        name: ldap-data</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ä¹Ÿå¯ä»¥é€šè¿‡å¦‚ä¸‹å‘½ä»¤è¡Œç›´æ¥å°†é…ç½®ä¸‹å‘åˆ°é›†ç¾¤å½“ä¸­</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ kubectl apply -k ./prod</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">deployment.apps/ldap created</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="kcl">KCL<a href="#kcl" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>æˆ‘ä»¬å¯ä»¥ç¼–å†™å¦‚ä¸‹ KCL ä»£ç å¹¶å‘½åä¸º main.k</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">apiVersion </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"apps/v1"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kind </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Deployment"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">metadata </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"ldap"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    labels</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">app </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"ldap"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spec </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    replicas </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># When env is prod, override the `replicas` attribute with `6`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> option</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"env"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"prod"</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> replicas </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Assign `metadata.labels` to `selector.matchLabels`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    selector</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">matchLabels </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> metadata</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">labels</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    template</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">metadata</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">labels </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> metadata</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">labels</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    template</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">spec</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">containers </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> metadata</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            image </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"osixia/openldap:1.1.11"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            args </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"--copy-service"</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            volumeMounts </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"ldap-data"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> mountPath </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"/var/lib/ldap"</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ports </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> containerPort </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">80</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"openldap"</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    template</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">spec</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">volumes </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"ldap-data"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            emptyDir </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic"># When env is prod</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic"># override the `emptyDir` attribute with `None`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic"># patch a `gcePersistentDisk` attribute with the value `{readOnly = True, pdName = "ldap-persistent-storage"}`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> option</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"env"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"prod"</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                emptyDir </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                gcePersistentDisk </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    readOnly </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">True</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    pdName </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"ldap-persistent-storage"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ä¸Šè¿° KCL ä»£ç ä¸­æˆ‘ä»¬åˆ†åˆ«å£°æ˜äº†ä¸€ä¸ª Kubernetes Deployment èµ„æºçš„ <code>apiVersion</code>ã€<code>kind</code>ã€<code>metadata</code> å’Œ <code>spec</code> ç­‰å˜é‡ï¼Œå¹¶åˆ†åˆ«èµ‹å€¼äº†ç›¸åº”çš„å†…å®¹ï¼Œç‰¹åˆ«åœ°ï¼Œæˆ‘ä»¬å°† <code>metadata.labels</code> å­—æ®µåˆ†åˆ«é‡ç”¨åœ¨ <code>spec.selector.matchLabels</code> å’Œ <code>spec.template.metadata.labels</code> å­—æ®µã€‚å¯ä»¥çœ‹å‡ºï¼Œç›¸æ¯”äº Kustomize æˆ–è€… YAMLï¼ŒKCL å®šä¹‰çš„æ•°æ®ç»“æ„æ›´åŠ ç´§å‡‘ï¼Œè€Œä¸”å¯ä»¥é€šè¿‡å®šä¹‰å±€éƒ¨å˜é‡å®ç°é…ç½®é‡ç”¨ã€‚</p><p>åœ¨ KCL ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ¡ä»¶è¯­å¥å’Œ option å‡½æ•°åŠ¨æ€åœ°æ¥æ”¶å¤–éƒ¨å‚æ•°ï¼Œä¸ºä¸åŒçš„ç¯å¢ƒéœ€è¦è®¾ç½®ä¸åŒçš„é…ç½®å€¼ç”Ÿæˆä¸åŒç¯å¢ƒçš„èµ„æºã€‚æ¯”å¦‚å¯¹äºå¦‚ä¸Šä»£ç ï¼Œæˆ‘ä»¬ç¼–å†™äº†ä¸€ä¸ªæ¡ä»¶è¯­å¥å¹¶è¾“å…¥ä¸€ä¸ªåä¸º <code>env</code> çš„åŠ¨æ€å‚æ•°ï¼Œå½“ <code>env</code> ä¸º <code>prod</code> æ—¶ï¼Œæˆ‘ä»¬å°† <code>replicas</code> å­—æ®µç”± <code>1</code> è¦†ç›–ä¸º <code>6</code>ï¼Œå¹¶ä¸”å¯¹åä¸º <code>ldap-data</code> çš„ volume é…ç½®è¿›è¡Œä¸€äº›è°ƒæ•´ï¼Œå¦‚å°† <code>emptyDir</code> å­—æ®µä¿®æ”¹ä¸º <code>None</code>, å¢åŠ  <code>gcePersistentDisk</code> çš„é…ç½®å€¼ç­‰ã€‚</p><p>å¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤æŸ¥çœ‹ä¸åŒç¯å¢ƒé…ç½®çš„ diff</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">diff</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">kcl main.k</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">kcl main.k -D </span><span class="token assign-left variable" style="color:#36acaa">env</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">prod</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">more</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>è¾“å‡ºå¦‚ä¸‹:</p><div class="language-diff codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-diff codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token coord">8c8</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token deleted-arrow deleted prefix deleted" style="color:#d73a49">&lt;</span><span class="token deleted-arrow deleted line" style="color:#d73a49">   replicas: 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token deleted-arrow deleted line" style="color:#d73a49"></span><span class="token coord">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token inserted-arrow inserted prefix inserted" style="color:#36acaa">&gt;</span><span class="token inserted-arrow inserted line" style="color:#36acaa">   replicas: 6</span><br></span><span class="token-line" style="color:#393A34"><span class="token inserted-arrow inserted line" style="color:#36acaa"></span><span class="token coord">30c30,33</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token deleted-arrow deleted prefix deleted" style="color:#d73a49">&lt;</span><span class="token deleted-arrow deleted line" style="color:#d73a49">         emptyDir: {}</span><br></span><span class="token-line" style="color:#393A34"><span class="token deleted-arrow deleted line" style="color:#d73a49"></span><span class="token coord">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token inserted-arrow inserted prefix inserted" style="color:#36acaa">&gt;</span><span class="token inserted-arrow inserted line" style="color:#36acaa">         emptyDir: null</span><br></span><span class="token-line" style="color:#393A34"><span class="token inserted-arrow inserted line" style="color:#36acaa"></span><span class="token inserted-arrow inserted prefix inserted" style="color:#36acaa">&gt;</span><span class="token inserted-arrow inserted line" style="color:#36acaa">         gcePersistentDisk:</span><br></span><span class="token-line" style="color:#393A34"><span class="token inserted-arrow inserted line" style="color:#36acaa"></span><span class="token inserted-arrow inserted prefix inserted" style="color:#36acaa">&gt;</span><span class="token inserted-arrow inserted line" style="color:#36acaa">           readOnly: true</span><br></span><span class="token-line" style="color:#393A34"><span class="token inserted-arrow inserted line" style="color:#36acaa"></span><span class="token inserted-arrow inserted prefix inserted" style="color:#36acaa">&gt;</span><span class="token inserted-arrow inserted line" style="color:#36acaa">           pdName: ldap-persistent-storage</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>å¯ä»¥çœ‹åˆ°ç”Ÿäº§ç¯å¢ƒçš„é…ç½®å’ŒåŸºæœ¬é…ç½®çš„ diff ä¸»è¦åœ¨äº <code>replicas</code> å’Œ <code>emptyDir</code> ç­‰å­—æ®µï¼Œä¸é¢„æœŸç›¸ç¬¦</p><p>æ­¤å¤–ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ KCL å‘½ä»¤è¡Œå·¥å…·çš„ -o å‚æ•°å°†ç¼–è¯‘äº§ç”Ÿçš„ YAML è¾“å‡ºåˆ°æ–‡ä»¶ä¸­ï¼Œå¹¶æŸ¥çœ‹æ–‡ä»¶ä¹‹é—´çš„ diff</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Generate base deployment</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kcl main.k -o deployment.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Generate prod deployment</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kcl main.k -o prod-deployment.yaml -D </span><span class="token assign-left variable" style="color:#36acaa">env</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">prod</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Diff prod deployment and base deployment</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">diff</span><span class="token plain"> prod-deployment.yaml deployment.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>å½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥å°† KCL å·¥å…·ä¸ kubectl ç­‰å·¥å…·ç»“åˆä½¿ç”¨ï¼Œå°†ç”Ÿäº§ç¯å¢ƒçš„é…ç½®ä¸‹å‘åˆ°é›†ç¾¤å½“ä¸­</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ kcl main.k -D </span><span class="token assign-left variable" style="color:#36acaa">env</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">prod </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> kubectl apply -f -</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">deployment.apps/ldap created</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>å¯ä»¥ä»å‘½ä»¤è¡Œçš„ç»“æœçœ‹å‡ºä¸æˆ‘ä»¬ä½¿ç”¨ç›´æ¥ä½¿ç”¨ Kustomize é…ç½®å’Œ kubectl apply çš„ä¸€ä¸ª Deployment ä½“éªŒå®Œå…¨ä¸€è‡´ï¼Œå¹¶ä¸”æ— æ›´å¤šçš„å‰¯ä½œç”¨</p><p>æœ€åï¼Œé€šè¿‡ kubectl æ£€æŸ¥éƒ¨ç½²çŠ¶æ€</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ kubectl get deploy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NAME   READY   UP-TO-DATE   AVAILABLE   AGE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ldap   </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">/6     </span><span class="token number" style="color:#36acaa">6</span><span class="token plain">            </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">           15s</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å°ç»“">å°ç»“<a href="#å°ç»“" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>æœ¬æœŸå†…å®¹å¤§æ¦‚ç®€å•ä»‹ç»äº†ç”¨ KCL ç¼–å†™å¤æ‚å¤šç¯å¢ƒ Kubernetes é…ç½®çš„å¿«é€Ÿå…¥é—¨å’Œä½¿ç”¨ Kustomize å·¥å…·è¿›è¡Œ Kubernetes å¤šç¯å¢ƒé…ç½®ç®¡ç†çš„å¯¹æ¯”ï¼Œå¯ä»¥çœ‹å‡ºç›¸æ¯”äº Kustomize, KCL åœ¨å®ç°é…ç½®å¤ç”¨å’Œè¦†ç›–çš„åŸºç¡€ä¸Šï¼Œé€šè¿‡ä»£ç åŒ–çš„æ–¹å¼å‡å°‘äº†é…ç½®æ–‡ä»¶çš„ä¸ªæ•°å’Œä»£ç è¡Œæ•°ï¼Œæå‡äº†ä¿¡æ¯å¯†åº¦æ¯”ï¼Œå¹¶ä¸”åŒ Kustomize ä¸€æ ·æ˜¯ä¸€ä¸ªçº¯å®¢æˆ·ç«¯æ–¹æ¡ˆï¼Œå¹¶ä¸ä¼šå¯¹é›†ç¾¤æœ‰é¢å¤–ä¾èµ–æˆ–é€ æˆè´Ÿæ‹…ã€‚</p>]]></content>
        <author>
            <name>KCL Team</name>
        </author>
        <category label="KCL" term="KCL"/>
        <category label="Kustomize" term="Kustomize"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[KCL æ–°ç‰ˆæœ¬åŠŸèƒ½è§£è¯»ç³»åˆ— - Go SDK åŠŸèƒ½é€Ÿè§ˆï¼]]></title>
        <id>https://kcl-lang.github.io/zh-CN/blog/2023-new-version-feature-interpretation-kclvm-go-feature-overview</id>
        <link href="https://kcl-lang.github.io/zh-CN/blog/2023-new-version-feature-interpretation-kclvm-go-feature-overview"/>
        <updated>2023-04-27T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[KCL æ˜¯ä»€ä¹ˆï¼Ÿ]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="kcl-æ˜¯ä»€ä¹ˆ">KCL æ˜¯ä»€ä¹ˆï¼Ÿ<a href="#kcl-æ˜¯ä»€ä¹ˆ" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p><a href="https://github.com/kcl-lang/kcl" target="_blank" rel="noopener noreferrer">KCL</a> æ˜¯ä¸€ä¸ªå¼€æºçš„åŸºäºçº¦æŸçš„è®°å½•åŠå‡½æ•°è¯­è¨€ï¼ŒæœŸæœ›é€šè¿‡æˆç†Ÿçš„ç¼–ç¨‹è¯­è¨€æŠ€æœ¯å’Œå®è·µæ¥æ”¹è¿›å¯¹å¤§é‡ç¹æ‚é…ç½®å’Œç­–ç•¥çš„ç¼–å†™ï¼Œè‡´åŠ›äºæ„å»ºå›´ç»•é…ç½®çš„æ›´å¥½çš„æ¨¡å—åŒ–ã€æ‰©å±•æ€§å’Œç¨³å®šæ€§ï¼Œæ›´ç®€å•çš„é€»è¾‘ç¼–å†™ï¼Œä»¥åŠæ›´å¿«çš„è‡ªåŠ¨åŒ–é›†æˆå’Œè‰¯å¥½çš„ç”Ÿæ€å»¶å±•æ€§ã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="kcl-go-sdk-æ˜¯ä»€ä¹ˆ"><code>KCL Go SDK</code> æ˜¯ä»€ä¹ˆï¼Ÿ<a href="#kcl-go-sdk-æ˜¯ä»€ä¹ˆ" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>kclvm æ˜¯ä¸€ä¸ª KCL è¯­è¨€çš„è¿è¡Œæ—¶åº“ï¼Œå®ƒæä¾›äº†ä¸€ä¸ªä¸ KCL ç¼–è¯‘å™¨äº¤äº’çš„ç¼–ç¨‹æ¥å£ã€‚å®ƒæ˜¯ä¸€ä¸ªå®¢æˆ·ç«¯åº“ï¼Œå¯ç”¨äºå¯¹ KCLæºä»£ç æ‰§è¡Œå„ç§æ“ä½œï¼Œä¾‹å¦‚ æ‰§è¡Œã€æ ¼å¼åŒ–ç­‰ã€‚<code>KCL Go SDK</code>æ˜¯ kclvm çš„ Go è¯­è¨€åŒ…è£…ï¼Œæä¾›äº† Go è¯­è¨€çš„ SDKï¼Œæ–¹ä¾¿äº†åœ¨äº‘åŸç”Ÿç¯å¢ƒä¸‹ KCL è¯­è¨€çš„é›†æˆã€‚</p><p>ç›®å‰ï¼Œ<code>KCL Go SDK</code> å®¢æˆ·ç«¯æ„å»ºåœ¨ kclvm json2 rpc API ä¹‹ä¸Šï¼Œè¿™æ„å‘³ç€å®ƒä½¿ç”¨å’Œå…¶ä»–è¯­è¨€çš„ kclvm å®¢æˆ·ç«¯ä½¿ç”¨çš„ç›¸åŒ API ä¸ KCL æºä»£ç äº¤äº’ï¼Œè¿™ä¸å…¶ä»–è¯­è¨€çš„ KCL SDK å·¥ä½œæ–¹å¼ç±»ä¼¼ï¼Œä½†æä¾›äº†æ›´åŠ å‹å¥½çš„ Go è¯­è¨€é£æ ¼çš„åŒ…è£…ã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="æ–°ç‰ˆæœ¬-kcl-go-sdk-è§£å†³äº†ä»€ä¹ˆé—®é¢˜">æ–°ç‰ˆæœ¬ <code>KCL Go SDK</code> è§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ<a href="#æ–°ç‰ˆæœ¬-kcl-go-sdk-è§£å†³äº†ä»€ä¹ˆé—®é¢˜" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>KCL ä½œä¸ºä¸€é—¨é…ç½®å‹è¯­è¨€ï¼Œå’Œäº‘åŸç”Ÿé¢†åŸŸæœ‰ç€æå…¶ç´§å¯†çš„è”ç³»ï¼Œè€Œå¦ä¸€æ–¹é¢ï¼ŒGo è¯­è¨€å·²ç»æˆä¸ºäº†äº‘åŸç”Ÿé¢†åŸŸé€šç”¨ç¼–ç¨‹è¯­è¨€çš„äº‹å®æ ‡å‡†ã€‚åœ¨è¿™æ ·çš„èƒŒæ™¯ä¸‹ï¼Œå¼€å‘ KCL çš„ Go SDK æ¥å®Œæˆ KCL ç¼–è¯‘å™¨ä¸ Go è¯­è¨€çš„ç›´æ¥äº¤äº’å°±æœ‰äº†å¿…è¦ï¼Œè¿™ä¹Ÿæ˜¯<code>KCL Go SDK</code>è¯ç”Ÿçš„åŸå› ã€‚</p><p>æœ€åˆç‰ˆæœ¬çš„ KCL ç¼–è¯‘å™¨åŠè¿è¡Œæ—¶ä½¿ç”¨ python ç¼–å†™ï¼Œç”±äº python è¯­è¨€æœ¬èº«çš„æ€§èƒ½é—®é¢˜å’Œå…¶åŠ¨æ€è¯­è¨€çš„ç‰¹æ€§ï¼Œåˆç‰ˆ KCL è¯­è¨€çš„è¿è¡Œé€Ÿåº¦å’Œå®‰å…¨æ€§éƒ½æœ‰å¾ˆå¤§æå‡ç©ºé—´ã€‚å‡ºäºå®‰å…¨ä¸æ•ˆç‡é—®é¢˜çš„è€ƒè™‘ï¼Œåç»­ç‰ˆæœ¬ KCL ç¼–è¯‘å™¨åˆä½¿ç”¨äº† rust è¯­è¨€ç¼–å†™ï¼Œå› æ­¤æ–°ç‰ˆæœ¬çš„<code>KCL Go SDK</code>åŸºäº Rust å®ç°çš„ KCL æ ¸å¿ƒè¿›è¡ŒåŒ…è£…ï¼Œå»é™¤äº† python ä¾èµ–ï¼Œç®€åŒ–äº†å®‰è£…ï¼Œä¼˜åŒ–äº†ä½¿ç”¨ä½“éªŒã€‚</p><p>æ–°ç‰ˆæœ¬<code>KCL Go SDK</code>å¯ä»¥è§†ä¸ºä¸€ä¸ªçº¯ Go åŒ…ä½¿ç”¨ï¼Œæ— éœ€ä»»ä½•å¤–ç½®ä¾èµ–ï¼Œå¯ä»¥é€šè¿‡ä¸€é”®<code>go install</code>å³å¯å®Œæˆå®‰è£…ä½¿ç”¨ã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="go-ä»£ç å¦‚ä½•é›†æˆ-kcl">Go ä»£ç å¦‚ä½•é›†æˆ KCL<a href="#go-ä»£ç å¦‚ä½•é›†æˆ-kcl" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>ä»¥ä¸Šä¸€èŠ‚çš„ hello.k ä¸ºä¾‹ï¼Œæ„å»ºä»¥ä¸‹çš„ main.go ä»£ç ï¼š</p><div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">package</span><span class="token plain"> main</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">"fmt"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    kcl </span><span class="token string" style="color:#e3116c">"kcl-lang.io/kcl-go"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">func</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    yaml </span><span class="token operator" style="color:#393A34">:=</span><span class="token plain"> kcl</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">MustRun</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"kubernetes.k"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> kcl</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">WithCode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">code</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">GetRawYamlResult</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fmt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Println</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">yaml</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> code </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">`</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">apiVersion = "apps/v1"</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">kind = "Deployment"</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">metadata = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    name = "nginx"</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    labels.app = "nginx"</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">spec = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    replicas = 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    selector.matchLabels = metadata.labels</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    template.metadata.labels = metadata.labels</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    template.spec.containers = [</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            name = metadata.name</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            image = "${metadata.name}:1.14.2"</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            ports = [{ containerPort = 80 }]</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">`</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><code>kcl.MustRun("kubernetes.k", kcl.WithCode(code)).GetRawYamlResult()</code>è¿è¡Œå¯¹åº”çš„kclæºæ–‡ä»¶</li><li><code>fmt.Println(yaml)</code>æ‰“å°è¿è¡Œç»“æœ</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="æ€»ç»“">æ€»ç»“<a href="#æ€»ç»“" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>é€šè¿‡è¿™ä¸€æ¬¡çš„ <code>KCL Go SDK</code> çš„ç‰ˆæœ¬å˜æ›´ï¼Œæˆ‘ä»¬å»é™¤äº† python ä¾èµ–å¹¶åˆ‡æ¢è‡³æ€§èƒ½æ›´åŠ ä¼˜ç§€çš„ rust è¿è¡Œæ—¶ã€‚æ–‡ç« åˆ†åˆ«ç®€å•å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨ &nbsp;<code>kcl-go</code> å‘½ä»¤è¡Œå·¥å…·æ‰§è¡Œ KCL æºä»£ç , ä»¥åŠå¦‚ä½•å°† KCL é›†æˆè‡³æ‚¨çš„ Go ç¨‹åºä¹‹ä¸­ã€‚</p><p>å½“ç„¶é™¤äº†ç®€å•çš„ç¼–è¯‘å¹¶è¿è¡Œ KCL æºç ä¹‹å¤–ï¼Œ<code>KCL Go SDK</code> è¿˜æä¾›äº†ä¸°å¯Œçš„åŠŸèƒ½ä»¥æ–¹ä¾¿ç”¨æˆ·æ›´å¥½åœ°åœ¨ Go ä¸­é›†æˆ KCL ï¼Œ åŒ…æ‹¬ï¼š</p><ul><li>KCL é™æ€é”™è¯¯åˆ†æï¼ˆlintä¸æ ¼å¼åŒ–ï¼‰</li><li>KCL ä¾èµ–åˆ†æã€</li><li>Go ç»“æ„ä½“å’Œ KCL Schema äº’ç›¸è½¬æ¢ç­‰ç­‰</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å…¶ä»–èµ„æº">å…¶ä»–èµ„æº<a href="#å…¶ä»–èµ„æº" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>æ„Ÿè°¢æ‰€æœ‰ KCL ç”¨æˆ·å’Œç¤¾åŒºå°ä¼™ä¼´åœ¨æ­¤æ¬¡ç‰ˆæœ¬æ›´æ–°è¿‡ç¨‹ä¸­æå‡ºçš„å®è´µåé¦ˆä¸å»ºè®®ã€‚å—é™äºæ–‡ç« ç¯‡å¹…ï¼Œåç»­æˆ‘ä»¬ä¼šæ’°å†™æ›´å¤š KCL v0.4.6 æ–°ç‰ˆæœ¬åŠŸèƒ½è§£è¯»ç³»åˆ—æ–‡ç« ï¼Œæ•¬è¯·æœŸå¾…!</p><p>æ›´å¤šå…¶ä»–èµ„æºè¯·å‚è€ƒï¼š</p><ul><li><a href="https://kcl-lang.io/" target="_blank" rel="noopener noreferrer">KCL ç½‘ç«™</a></li><li><a href="https://kusionstack.io/" target="_blank" rel="noopener noreferrer">Kusion ç½‘ç«™</a></li><li><a href="https://github.com/kcl-lang/kcl" target="_blank" rel="noopener noreferrer">KCL Github ä»“åº“</a></li><li><a href="https://github.com/kcl-lang/kcl-go" target="_blank" rel="noopener noreferrer">kclvm-go Github ä»“åº“</a></li><li><a href="https://github.com/KusionStack/kusion" target="_blank" rel="noopener noreferrer">Kusion Github ä»“åº“</a></li><li><a href="https://github.com/KusionStack/konfig" target="_blank" rel="noopener noreferrer">Konfig Github ä»“åº“</a></li></ul><p>æ¬¢è¿åŠ å…¥æˆ‘ä»¬çš„ç¤¾åŒºè¿›è¡Œäº¤æµ ğŸ‘ğŸ‘ğŸ‘ï¼š<a href="https://github.com/kcl-lang/community" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/community</a> ğŸ‘ğŸ‘ğŸ‘</p>]]></content>
        <author>
            <name>KCL Team</name>
        </author>
        <category label="KCL" term="KCL"/>
        <category label="kcl-go" term="kcl-go"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[KCL v0.4.6 å‘å¸ƒæ—¥å¿—]]></title>
        <id>https://kcl-lang.github.io/zh-CN/blog/2022-kcl-0.4.6-release-blog</id>
        <link href="https://kcl-lang.github.io/zh-CN/blog/2022-kcl-0.4.6-release-blog"/>
        <updated>2023-04-14T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[ç®€ä»‹]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ç®€ä»‹">ç®€ä»‹<a href="#ç®€ä»‹" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>KCL å›¢é˜Ÿå¾ˆé«˜å…´åœ°å®£å¸ƒ KCL v0.4.6 æ–°ç‰ˆæœ¬ç°åœ¨å·²ç»å¯ç”¨ï¼æœ¬æ¬¡å‘å¸ƒä¸ºå¤§å®¶å¸¦æ¥äº†ä¸‰æ–¹é¢çš„é‡ç‚¹æ›´æ–°ï¼š<strong>è¯­è¨€</strong>ã€<strong>å·¥å…·é“¾</strong>ã€<strong>ç¤¾åŒºé›†æˆ &amp; æ‰©å±•æ”¯æŒ</strong>ã€‚</p><ul><li><em>ä½¿ç”¨ IDE æ’ä»¶æå‡ KCL ä»£ç ç¼–å†™ä½“éªŒå’Œæ•ˆç‡</em></li><li><em>Helm/Kustomize/KPT äº‘åŸç”Ÿç¤¾åŒºå·¥å…·é›†æˆ</em></li><li><em>å®Œå–„ KCL å¤šè¯­è¨€ SDKï¼Œæ–¹ä¾¿åº”ç”¨ç¨‹åºé›†æˆ</em></li></ul><p>è¿›ä¸€æ­¥æ‚¨å¯ä»¥åœ¨ <a href="https://github.com/kcl-lang/kcl/releases/tag/v0.4.6" target="_blank" rel="noopener noreferrer">KCL v0.4.6 å‘å¸ƒé¡µé¢</a> æˆ–è€… <a href="https://kcl-lang.io" target="_blank" rel="noopener noreferrer">KCL å®˜æ–¹ç½‘ç«™</a> è·å¾—ä¸‹è½½å®‰è£…æŒ‡å—å’Œè¯¦ç»†å‘å¸ƒä¿¡æ¯ã€‚</p><p><a href="https://github.com/kcl-lang/kcl" target="_blank" rel="noopener noreferrer">KCL</a> æ˜¯ä¸€ä¸ªå¼€æºçš„åŸºäºçº¦æŸçš„è®°å½•åŠå‡½æ•°è¯­è¨€ï¼ŒæœŸæœ›é€šè¿‡æˆç†Ÿçš„ç¼–ç¨‹è¯­è¨€æŠ€æœ¯å’Œå®è·µæ¥æ”¹è¿›å¯¹å¤§é‡ç¹æ‚é…ç½®å’Œç­–ç•¥çš„ç¼–å†™ï¼Œè‡´åŠ›äºæ„å»ºå›´ç»•é…ç½®çš„æ›´å¥½çš„æ¨¡å—åŒ–ã€æ‰©å±•æ€§å’Œç¨³å®šæ€§ï¼Œæ›´ç®€å•çš„é€»è¾‘ç¼–å†™ï¼Œä»¥åŠæ›´å¿«çš„è‡ªåŠ¨åŒ–é›†æˆå’Œè‰¯å¥½çš„ç”Ÿæ€å»¶å±•æ€§ã€‚</p><p>æœ¬æ–‡é‡ç‚¹ä»‹ç» KCL v0.4.6 ç‰ˆæœ¬çš„æ›´æ–°å†…å®¹ä»¥åŠ KCL ç¤¾åŒºçš„è¿‘æœŸåŠ¨æ€ã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="è¯­è¨€æ›´æ–°">è¯­è¨€æ›´æ–°<a href="#è¯­è¨€æ›´æ–°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="å†…ç½®å‡½æ•°æ›´æ–°">å†…ç½®å‡½æ•°æ›´æ–°<a href="#å†…ç½®å‡½æ•°æ›´æ–°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>KCL å­—ç¬¦ä¸²æ–°å¢ <code>removeprefix</code> å’Œ <code>removesuffix</code> æˆå‘˜å‡½æ•°ç”¨äºå»é™¤å­—ç¬¦ä¸²çš„å‰ç¼€å’Œåç¼€å­å­—ç¬¦ä¸²</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">data1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"prefix-string"</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">removeprefix</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"prefix-"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># "string"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">data2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"string-suffix"</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">removesuffix</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"-suffix"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># "string"</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æ›´å¤šä½¿ç”¨æ–¹å¼ <a href="https://kcl-lang.io/docs/reference/model/builtin#string-builtin-member-functions" target="_blank" rel="noopener noreferrer">è¯¦è§</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ç¼–è¯‘å™¨æç¤ºä¿¡æ¯æ”¹è¿›">ç¼–è¯‘å™¨æç¤ºä¿¡æ¯æ”¹è¿›<a href="#ç¼–è¯‘å™¨æç¤ºä¿¡æ¯æ”¹è¿›" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>åœ¨ä¹‹å‰çš„ KCL ç‰ˆæœ¬ä¸­ï¼Œè¿è¡Œä¸€æ¬¡ KCL å‘½ä»¤è¡Œå·¥å…·åªä¼šæ˜¾ç¤ºä¸€ä¸ªé”™è¯¯ä¿¡æ¯ä¸è­¦å‘Šï¼Œåœ¨ KCL v0.4.6 ç‰ˆæœ¬ä¸­ï¼Œæ”¯æŒäº†ä¸€æ¬¡ç¼–è¯‘æ˜¾ç¤ºå¤šä¸ªé”™è¯¯ä¸è­¦å‘Šçš„èƒ½åŠ›å¹¶æ”¹å–„äº†é”™è¯¯æç¤ºä¿¡æ¯ï¼Œç”¨äºæå‡ KCL ä»£ç é”™è¯¯æ’æŸ¥æ•ˆç‡ï¼Œæ¯”å¦‚å¯¹äºå¦‚ä¸‹ KCL ä»£ç  (main.k)</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">metadata </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    labels </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">key </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> "kcl</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æ‰§è¡Œå¦‚ä¸‹ KCL å‘½ä»¤è¡Œï¼Œå¯ä»¥çœ‹åˆ°ä¼šåŒæ—¶æç¤ºå­—ç¬¦ä¸²ç¼–å†™é”™è¯¯å’ŒèŠ±æ‹¬å·æœªæ­£ç¡®åŒ¹é…é”™è¯¯çš„è¯­æ³•é”™è¯¯ä¿¡æ¯</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ kcl main.k</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">error</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">E1001</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">: InvalidSyntax</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> --</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> main.k:2:21</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">     labels </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">key </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"kcl</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  |                     ^ unterminated string</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  |</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="display:inline-block;color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">error[E1001]: InvalidSyntax</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c"> --&gt; main.k:2:24</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  |</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">2 |     labels = {key = "</span><span class="token plain">kcl</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                        ^ expected </span><span class="token string" style="color:#e3116c">"}"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">|</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="é¡¶çº§-schema-è¯­å¥åˆå¹¶è¿ç®—ç¬¦">é¡¶çº§ schema è¯­å¥åˆå¹¶è¿ç®—ç¬¦<a href="#é¡¶çº§-schema-è¯­å¥åˆå¹¶è¿ç®—ç¬¦" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>åœ¨ä¹‹å‰çš„ KCL ç‰ˆæœ¬ä¸­ï¼Œåœ¨ç¼–å†™å¦‚ä¸‹ KCL ä»£ç æ—¶ï¼Œä¼šå°†ä¸¤ä¸ª schema é…ç½®è¿›è¡Œåˆå¹¶åè¾“å‡ºï¼Œåœ¨ KCL v0.4.6 ç‰ˆæœ¬ä¸­ï¼Œè¦æ±‚æ˜¾å¼ä½¿ç”¨å±æ€§åˆå¹¶è¿ç®—ç¬¦è€Œä¸æ˜¯å±æ€§è¦†ç›–è¿ç®—ç¬¦</p><ul><li>æ›´æ–°å‰</li></ul><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">schema Config</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token builtin">id</span><span class="token plain">?</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    value?</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">config </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Config </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token builtin">id</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">config </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Config </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    value </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"value"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>æ›´æ–°å</li></ul><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">schema Config</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token builtin">id</span><span class="token plain">?</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    value?</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Use the union operator `:` instead of the override operator</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">config</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Config </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token builtin">id</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Use the union operator `:` instead of the override operator</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">config</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Config </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    value </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"value"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="è·¯å¾„é€‰æ‹©å™¨å‚æ•°ç®€åŒ–">è·¯å¾„é€‰æ‹©å™¨å‚æ•°ç®€åŒ–<a href="#è·¯å¾„é€‰æ‹©å™¨å‚æ•°ç®€åŒ–" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>æˆ‘ä»¬ä½¿ç”¨ path selector CLI å‚æ•° (-S) ä¸å¿…å†å¡«å…¥åŒ…è·¯å¾„ï¼Œå¹¶ä¸”å¯ä»¥ç›´æ¥ç­›é€‰å†…éƒ¨å˜é‡</p><p>å¯¹äºå¦‚ä¸‹çš„ KCL ä»£ç  (main.k):</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">schema Person</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    age</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">person </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Person </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Alice"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    age </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">18</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æˆ‘ä»¬å¯ä»¥æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ kcl main.k -S person</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">name: Alice</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">age: </span><span class="token number" style="color:#36acaa">18</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="é”™è¯¯ä¿®å¤">é”™è¯¯ä¿®å¤<a href="#é”™è¯¯ä¿®å¤" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="å•è¡Œæ¡ä»¶é…ç½®å—è¯­æ³•è§£æé”™è¯¯">å•è¡Œæ¡ä»¶é…ç½®å—è¯­æ³•è§£æé”™è¯¯<a href="#å•è¡Œæ¡ä»¶é…ç½®å—è¯­æ³•è§£æé”™è¯¯" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><p>åœ¨ä¹‹å‰çš„ KCL ç‰ˆæœ¬ä¸­ï¼Œåœ¨ç¼–å†™å¦‚ä¸‹ KCL ä»£ç æ—¶ä¼šå‡ºç°éé¢„æœŸçš„è¯­æ³•é”™è¯¯ï¼Œåœ¨ KCL v0.4.6 ç‰ˆæœ¬ä¸­ï¼Œæˆ‘ä»¬ä¿®å¤äº†æ­¤ç±»ç±»ä¼¼çš„é—®é¢˜</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">env </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"prod"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">config </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> env </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"prod"</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> labels </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">"kubernetes.io/env"</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> env</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="schema-å¿…é€‰å±æ€§æ£€æŸ¥">Schema å¿…é€‰å±æ€§æ£€æŸ¥<a href="#schema-å¿…é€‰å±æ€§æ£€æŸ¥" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><p>åœ¨ä¹‹å‰çš„ KCL ç‰ˆæœ¬ä¸­ï¼Œåœ¨ç¼–å†™å¦‚ä¸‹ KCL ä»£ç æ—¶ï¼Œæ²¡æœ‰æŒ‰é¢„æœŸæç¤º <code>versions</code> å±æ€§æ²¡æœ‰èµ‹å€¼çš„é”™è¯¯ï¼Œåœ¨ KCL v0.4.6 ç‰ˆæœ¬ä¸­ï¼Œæˆ‘ä»¬ä¿®å¤äº†æ­¤ç±»ç±»ä¼¼çš„é—®é¢˜</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">schema App</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    data?</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    version</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Version</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">schema Version</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    versions</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">app </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> App </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    version </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Version </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å·¥å…·é“¾æ›´æ–°">å·¥å…·é“¾æ›´æ–°<a href="#å·¥å…·é“¾æ›´æ–°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="kcl-vs-code-æ’ä»¶">KCL VS Code æ’ä»¶<a href="#kcl-vs-code-æ’ä»¶" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>åœ¨æ­¤æ¬¡æ›´æ–°ä¸­ï¼Œæˆ‘ä»¬å‘å¸ƒäº†å…¨æ–°çš„ KCL VS Code æ’ä»¶å’Œä½¿ç”¨ Rust è¯­è¨€é‡å†™çš„è¯­è¨€æœåŠ¡æœåŠ¡å™¨ï¼Œç›¸æ¯”äºä¹‹å‰ KCL ç‰ˆæœ¬æ€§èƒ½çº¦æå‡ 20 å€ï¼Œå¹¶æ”¯æŒäº† KCL é”™è¯¯è­¦å‘Šåœ¨ IDE ä¸­å®æ—¶æ˜¾ç¤ºï¼Œä»¥åŠ KCL ä»£ç è¡¥å…¨ç­‰æ–°åŠŸèƒ½ã€‚</p><ul><li><strong>é”™è¯¯ä¸å‘Šè­¦å®æ—¶æ˜¾ç¤º</strong></li></ul><p><img loading="lazy" alt="Diagnostics" src="/zh-CN/assets/images/Diagnostics-716fc3b938a94e4db2cbafaad4f4174d.gif" width="1312" height="780" class="img_ev3q"></p><ul><li><strong>è·³è½¬</strong></li></ul><p><img loading="lazy" alt="Goto Definition" src="/zh-CN/assets/images/GotoDef-0875243eacd6b76e49b7a5b95cb9ce55.gif" width="1312" height="780" class="img_ev3q"></p><ul><li><strong>è¡¥å…¨</strong></li></ul><p><img loading="lazy" alt="Completion" src="/zh-CN/assets/images/Completion-584771cd4bed237e74d3da3decaa9757.gif" width="1312" height="780" class="img_ev3q"></p><ul><li><strong>æ‚¬åœ</strong></li></ul><p><img loading="lazy" alt="Hover" src="/zh-CN/assets/images/Hover-339697d17ca0d4f167b1b1a904c9f1aa.gif" width="1312" height="780" class="img_ev3q"></p><p>æ›´å¤š KCL VS Code æ’ä»¶å®‰è£…æ–¹å¼åŠè¯¦ç»†æ›´æ–°å†…å®¹<a href="https://kcl-lang.io/docs/tools/Ide/vs-code" target="_blank" rel="noopener noreferrer">è¯¦è§</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="åŒ…ç®¡ç†å·¥å…·">åŒ…ç®¡ç†å·¥å…·<a href="#åŒ…ç®¡ç†å·¥å…·" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>åœ¨ KCL v0.4.6 æ–°ç‰ˆæœ¬ä¸­ï¼Œæˆ‘ä»¬æä¾›äº†å…¨æ–°çš„ KCL åŒ…ç®¡ç†å·¥å…· alpha ç‰ˆæœ¬ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡å‡ ä¸ªå‘½ä»¤å³å¯è·å¾—ç¤¾åŒºä¸­å·²ç»ç¼–å†™å¥½çš„ KCL æ¨¡å‹ã€‚æ¯”å¦‚å¯ä»¥é€šè¿‡åŒ…ç®¡ç†å·¥å…·ä¸€é”®å¯¼å…¥ KCL Kubernetes æ¨¡å‹å¹¶ä½¿ç”¨</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kpm init kubernetes_demo </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> kpm </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> -git https://github.com/awesome-kusion/konfig.git -tag v0.0.1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ç¼–å†™ KCL ä»£ç  (main.k)</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> konfig</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">base</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pkg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">kusion_kubernetes</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">api</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">apps</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">v1 </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> apps</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">apps</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Deployment </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    metadata</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"nginx-deployment"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    spec </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        replicas </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        selector</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">matchLabels</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">app </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"nginx"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        template</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">metadata</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">labels </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> selector</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">matchLabels</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        template</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">spec</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">containers </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> selector</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">matchLabels</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                image </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"nginx:1.14.2"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                ports </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">containerPort </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">80</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æ‰§è¡Œå¦‚ä¸‹ KCL å‘½ä»¤å³å¯è·å¾—ä¸€ä¸ª Nginx Deployment YAML è¾“å‡º</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ kpm run</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">apiVersion: apps/v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kind: Deployment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">metadata:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  name: nginx-deployment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spec:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  replicas: </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  selector:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    matchLabels:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      app: nginx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  template:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    metadata:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      labels:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        app: nginx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    spec:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      containers:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - image: </span><span class="token string" style="color:#e3116c">"nginx:1.14.2"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          name: nginx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          ports:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            - containerPort: </span><span class="token number" style="color:#36acaa">80</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>æ›´å¤š KCL åŒ…ç®¡ç†å·¥å…·å®‰è£…æ–¹å¼ã€è¯¦ç»†å†…å®¹åŠç”¨ä¾‹<a href="https://kcl-lang.io/docs/user_docs/guides/package-management/overview" target="_blank" rel="noopener noreferrer">è¯¦è§</a></li><li>æ›´å¤š Konfig æ¨¡å‹åº“çš„å†…å®¹å’Œä½¿ç”¨æ–¹å¼<a href="https://kcl-lang.io/docs/user_docs/guides/working-with-konfig/overview" target="_blank" rel="noopener noreferrer">è¯¦è§</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ç¤¾åŒºé›†æˆ--æ‰©å±•æ›´æ–°">ç¤¾åŒºé›†æˆ &amp; æ‰©å±•æ›´æ–°<a href="#ç¤¾åŒºé›†æˆ--æ‰©å±•æ›´æ–°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="kubernetes-é…ç½®ç®¡ç†å·¥å…·æ‰©å±•æ”¯æŒ">Kubernetes é…ç½®ç®¡ç†å·¥å…·æ‰©å±•æ”¯æŒ<a href="#kubernetes-é…ç½®ç®¡ç†å·¥å…·æ‰©å±•æ”¯æŒ" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>åœ¨ KCL v0.4.6 ä¸­ï¼Œæˆ‘ä»¬ä»¥ç»Ÿä¸€çš„ç¼–ç¨‹ç•Œé¢æ–¹å¼ä¸º Kubernetes ç¤¾åŒºçš„ Helm, Kustomize, KPT ç­‰é…ç½®ç®¡ç†å·¥å…·æä¾›äº†æ’ä»¶æ”¯æŒï¼Œç¼–å†™å‡ è¡Œ KCL ä»£ç å³å¯æ— ä¾µå…¥åœ°å®Œæˆå¯¹å­˜é‡ Kustomize YAMLï¼ŒHelm Charts çš„ç¼–è¾‘å’Œæ ¡éªŒï¼Œæ¯”å¦‚ç¼–å†™å°‘é‡ KCL ä»£ç ä¿®æ”¹èµ„æºæ ‡ç­¾/æ³¨è§£, æ³¨å…¥ sidecar å®¹å™¨é…ç½®ï¼Œä½¿ç”¨ KCL schema æ ¡éªŒèµ„æºç­‰ã€‚</p><p>ä¸‹é¢ä»¥ Kustomize å·¥å…·å¯¹ KCL çš„é›†æˆä¸ºä¾‹è¿›è¡Œè¯¦ç»†è¯´æ˜ã€‚ä½¿ç”¨ Kustomize KCL æ’ä»¶æ— éœ€å®‰è£…ä»»ä½•ä¸ KCL ç›¸å…³çš„äºŒè¿›åˆ¶ï¼Œä»…éœ€æ‚¨æœ¬åœ°å®‰è£…æœ‰ Kustomize å·¥å…·å³å¯ã€‚</p><p>é¦–å…ˆæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤è·å–ä¸€ä¸ª Kustomize YAML é…ç½®ç¤ºä¾‹:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">git</span><span class="token plain"> clone https://github.com/kcl-lang/kustomize-kcl.git </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token builtin class-name">cd</span><span class="token plain"> ./kustomize-kcl/examples/set-annotation/</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ç„¶åæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ä½¿ç”¨ KCL ä»£ç ä»…ä¸ºæ‰€æœ‰çš„ <code>Deployment</code> èµ„æºæ·»åŠ ä¸€ä¸ª <code>managed-by=kustomize-kcl</code> æ³¨è§£</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> kustomize fn run ./local-resource/ --as-current-user --dry-run</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>å¯ä»¥å¾—åˆ°å¦‚ä¸‹ YAML è¾“å‡º:</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">annotations</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">config.kubernetes.io/path</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> example</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">use.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">internal.config.kubernetes.io/path</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> example</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">use.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">selector</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> MyApp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">protocol</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> TCP</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">80</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">targetPort</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9376</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> apps/v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Deployment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nginx</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">deployment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nginx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">annotations</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">config.kubernetes.io/path</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> example</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">use.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">internal.config.kubernetes.io/path</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> example</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">use.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># This annotation is added through the kcl code.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">managed-by</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> kustomize</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">kcl</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">replicas</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">selector</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">matchLabels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nginx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">template</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nginx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">containers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nginx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nginx</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">1.14.2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">containerPort</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">80</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>åœ¨ä¸Šè¿° YAML é…ç½®ä¸­ï¼Œæˆ‘ä»¬ä»…ç¼–å†™äº†ä¸€è¡Œ KCL ä»£ç å°±å®Œæˆä¸º Deployment èµ„æºæ·»åŠ ä¸€ä¸ª <code>managed-by=kustomize-kcl</code> æ³¨è§£</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">resource </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> resource</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">kind </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Deployment"</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> metadata</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">annotations</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">"managed-by"</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"kcl"</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> resource </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> option</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"resource_list"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">item</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æ­¤å¤–æˆ‘ä»¬ä¸º Kustomize/Helm/KPT ä¸‰ä¸ªå·¥å…·å‡æä¾›äº†å¸¸ç”¨çš„å®¹å™¨ã€æœåŠ¡é…ç½®ä¿®æ”¹æ ¡éªŒ KCL æ¨¡å‹ï¼Œå¹¶ä¸”ä¼šæŒç»­å®Œå–„ï¼Œæ¬¢è¿ç¤¾åŒºå°ä¼™ä¼´ä¸€èµ·å‚ä¸å…±å»ºã€‚</p><ul><li>æ›´å¤š Kustomize KCL æ’ä»¶è¯¦ç»†å†…å®¹ä»¥åŠç”¨ä¾‹ <a href="https://kcl-lang.io/docs/user_docs/guides/working-with-k8s/kustomize_kcl_plugin" target="_blank" rel="noopener noreferrer">è¯¦è§</a></li><li>æ›´å¤š Helm KCL æ’ä»¶è¯¦ç»†å†…å®¹ä»¥åŠç”¨ä¾‹ <a href="https://kcl-lang.io/docs/user_docs/guides/working-with-k8s/helm_kcl_plugin" target="_blank" rel="noopener noreferrer">è¯¦è§</a></li><li>æ›´å¤š KPT KCL æ’ä»¶è¯¦ç»†å†…å®¹ä»¥åŠç”¨ä¾‹ <a href="https://kcl-lang.io/docs/user_docs/guides/working-with-k8s/kpt_kcl_sdk" target="_blank" rel="noopener noreferrer">è¯¦è§</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="å¤šè¯­è¨€-sdk">å¤šè¯­è¨€ SDK<a href="#å¤šè¯­è¨€-sdk" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>åœ¨æ­¤æ¬¡æ›´æ–°ä¸­ï¼Œæˆ‘ä»¬å‘å¸ƒäº†å…¨æ–°çš„ KCL Go SDK å°† KCL é›†æˆåˆ°æ‚¨çš„ Go åº”ç”¨ç¨‹åºä¸­ï¼Œå¹¶æä¾›ä¸°å¯Œçš„ API ä¸ KCL è¿›è¡Œäº¤äº’ã€‚æ‚¨å¯ä»¥åœ¨ <a href="https://kcl-lang.io/docs/next/reference/xlang-api/go-api" target="_blank" rel="noopener noreferrer">è¿™é‡Œ</a> æŸ¥è¯¢è¯¦ç»†çš„ API æ–‡æ¡£ã€‚æ­¤å¤–æˆ‘ä»¬è¿˜æ›´æ–°äº†å¦‚ä¸‹ç‰¹æ€§å’Œé”™è¯¯ä¿®å¤ï¼š</p><ul><li>æ„Ÿè°¢ @jakezhu9 ä¿®å¤äº† kcl-go æœªé¢„æœŸçš„ KCL æ ¼å¼åŒ– API åœ¨ CI Pipeline ä¸­å•å…ƒæµ‹è¯•é”™è¯¯</li><li>æ„Ÿè°¢ @Ekko è´¡çŒ® Go struct å’Œ KCL schema åŒå‘è½¬æ¢æ”¯æŒï¼Œè¯¦è§:<ul><li><a href="https://github.com/kcl-lang/kcl-go/blob/main/pkg/tools/gen/genkcl.go#L23" target="_blank" rel="noopener noreferrer">Go struct -&gt; KCL schema</a></li><li><a href="https://github.com/kcl-lang/kcl-go/blob/main/pkg/tools/gen/gengo.go#L23" target="_blank" rel="noopener noreferrer">KCL schema -&gt; Go struct</a></li></ul></li><li>KCL schema åˆ° protobuf message çš„è½¬æ¢æ”¯æŒï¼Œ<a href="https://github.com/kcl-lang/kcl-go/blob/main/pkg/tools/gen/genpb.go#L25" target="_blank" rel="noopener noreferrer">è¯¦è§</a></li><li>KCL æ–°å¢è·å– schema ç±»å‹å’Œå®ä¾‹ APIï¼Œ<a href="https://kcl-lang.io/docs/reference/xlang-api/go-api#func-getschematype" target="_blank" rel="noopener noreferrer">è¯¦è§</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å…¶ä»–æ›´æ–°ä¸é”™è¯¯ä¿®å¤">å…¶ä»–æ›´æ–°ä¸é”™è¯¯ä¿®å¤<a href="#å…¶ä»–æ›´æ–°ä¸é”™è¯¯ä¿®å¤" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><ul><li>KCL python plugin åŠŸèƒ½é»˜è®¤ä¸å¼€å¯ï¼Œå¦‚éœ€å¼€å¯å¯å‚è€ƒ <a href="https://kcl-lang.io/docs/reference/plugin/overview" target="_blank" rel="noopener noreferrer">KCL Plugin æ–‡æ¡£</a></li><li>KCL playground æ”¯æŒä»£ç åˆ†äº«èƒ½åŠ›ï¼Œæ‚¨å¯ä»¥é€šè¿‡è®¿é—® <a href="https://kcl-lang.io/" target="_blank" rel="noopener noreferrer">KCL å®˜ç½‘</a> å¹¶ç‚¹å‡» Playground æŒ‰é’®è¿›è¡Œä½“éªŒ</li><li>æ›´å¤šæ›´æ–°ä¸é”™è¯¯ä¿®å¤ï¼Œ<a href="https://github.com/kcl-lang/kcl/milestone/3?closed=1" target="_blank" rel="noopener noreferrer">è¯¦è§</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="æ–‡æ¡£æ›´æ–°">æ–‡æ¡£æ›´æ–°<a href="#æ–‡æ¡£æ›´æ–°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p><a href="https://kcl-lang.io/" target="_blank" rel="noopener noreferrer">KCL ç½‘ç«™</a> æ–°å¢ KCL v0.4.6 æ–‡æ¡£å†…å®¹å¹¶æ”¯æŒç‰ˆæœ¬åŒ–è¯­ä¹‰é€‰é¡¹ï¼Œç›®å‰æ”¯æŒ v0.4.3, v0.4.4, v0.4.5 å’Œ v0.4.6 ç‰ˆæœ¬é€‰æ‹©ã€‚åŒæ—¶æ¬¢è¿ç¤¾åŒºåŒå­¦è¿›è¡Œæ–‡æ¡£å…±å»ºã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ä¸‹ä¸€æ­¥è®¡åˆ’">ä¸‹ä¸€æ­¥è®¡åˆ’<a href="#ä¸‹ä¸€æ­¥è®¡åˆ’" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>é¢„è®¡ 2023 å¹´å¹´ä¸­ï¼Œæˆ‘ä»¬å°†å‘å¸ƒ <strong>KCL v0.5.0 ç‰ˆæœ¬</strong>ï¼Œé¢„æœŸé‡ç‚¹æ¼”è¿›åŒ…æ‹¬ï¼š</p><ul><li>æ›´å¤šé’ˆå¯¹åœºæ™¯é—®é¢˜çš„ KCL è¯­è¨€ç¼–å†™ä¾¿åˆ©æ€§æ”¹è¿›ï¼Œç”¨æˆ·ç•Œé¢æŒç»­ä¼˜åŒ–ä¸ä½“éªŒæå‡ï¼Œç”¨æˆ·æ”¯æŒå’Œç—›ç‚¹è§£å†³</li><li>æ›´å¤š IDE æ’ä»¶ã€åŒ…ç®¡ç†å·¥å…·ã€Helm/Kustomize/KPT åœºæ™¯é›†æˆã€åŠŸèƒ½æ”¯æŒå’Œç”¨æˆ·ä½“éªŒæå‡</li><li>é’ˆå¯¹äº‘åŸç”Ÿåœºæ™¯æä¾›æ›´å¤šå¼€ç®±å³ç”¨çš„ KCL æ¨¡å‹æ”¯æŒï¼Œä¸»è¦åŒ…å«å®¹å™¨ã€æœåŠ¡ã€è®¡ç®—ã€å­˜å‚¨å’Œç½‘ç»œç­‰</li><li>æ”¯æŒ KCL Schema ç›´æ¥ç”Ÿæˆ Kubernetes CRD</li><li>æ”¯æŒ kubectl å’Œ helmfile KCL pluginï¼Œé€šè¿‡ KCL ä»£ç ç›´æ¥ç”Ÿæˆã€ç¼–è¾‘å’Œæ ¡éªŒ Kubernetes åŸç”Ÿèµ„æº</li><li>æ”¯æŒåœ¨ Kubernetes è¿è¡Œæ—¶é€šè¿‡ Admission Controller è¿è¡Œ KCL ä»£ç å¯¹ YAML è¿›è¡Œç¼–è¾‘å’Œæ ¡éªŒ</li><li>æ›´å¤šé Kubernetes åœºæ™¯æ”¯æŒï¼Œå¦‚é€šè¿‡ KCL Schema å¯¹ AI æ¨¡å‹è¿›è¡Œæ•°æ®æ¸…ç†å’Œæ•°æ®åº“ Schema é›†æˆæ”¯æŒ</li></ul><p>æ›´å¤šè¯¦æƒ…è¯·å‚è€ƒ <a href="https://github.com/kcl-lang/kcl/milestone/5" target="_blank" rel="noopener noreferrer">KCL v0.5.0 Milestone</a></p><p>å¦‚æœæ‚¨æœ‰æ›´å¤šçš„æƒ³æ³•å’Œéœ€æ±‚ï¼Œæ¬¢è¿åœ¨ KCL Github ä»“åº“å‘èµ· <a href="https://github.com/kcl-lang/kcl/issues" target="_blank" rel="noopener noreferrer">Issues</a>ï¼Œä¹Ÿæ¬¢è¿åŠ å…¥æˆ‘ä»¬çš„ç¤¾åŒºè¿›è¡Œäº¤æµ ğŸ™Œ ğŸ™Œ ğŸ™Œ</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å¸¸è§é—®é¢˜åŠè§£ç­”">å¸¸è§é—®é¢˜åŠè§£ç­”<a href="#å¸¸è§é—®é¢˜åŠè§£ç­”" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>è¯¦è§ <a href="https://kcl-lang.io/docs/user_docs/support/faq-kcl" target="_blank" rel="noopener noreferrer">KCL å¸¸è§é—®é¢˜</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å…¶ä»–èµ„æº">å…¶ä»–èµ„æº<a href="#å…¶ä»–èµ„æº" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>æ„Ÿè°¢æ‰€æœ‰ KCL ç”¨æˆ·å’Œç¤¾åŒºå°ä¼™ä¼´åœ¨æ­¤æ¬¡ç‰ˆæœ¬æ›´æ–°è¿‡ç¨‹ä¸­æå‡ºçš„å®è´µåé¦ˆä¸å»ºè®®ã€‚å—é™äºæ–‡ç« ç¯‡å¹…ï¼Œåç»­æˆ‘ä»¬ä¼šæ’°å†™æ›´å¤š KCL v0.4.6 æ–°ç‰ˆæœ¬åŠŸèƒ½è§£è¯»ç³»åˆ—æ–‡ç« ï¼Œæ•¬è¯·æœŸå¾…!</p><p>æ›´å¤šå…¶ä»–èµ„æºè¯·å‚è€ƒï¼š</p><ul><li><a href="https://kcl-lang.io/" target="_blank" rel="noopener noreferrer">KCL ç½‘ç«™</a></li><li><a href="https://kusionstack.io/" target="_blank" rel="noopener noreferrer">Kusion ç½‘ç«™</a></li><li><a href="https://github.com/kcl-lang/kcl" target="_blank" rel="noopener noreferrer">KCL Github ä»“åº“</a></li><li><a href="https://github.com/KusionStack/kusion" target="_blank" rel="noopener noreferrer">Kusion Github ä»“åº“</a></li><li><a href="https://github.com/KusionStack/konfig" target="_blank" rel="noopener noreferrer">Konfig Github ä»“åº“</a></li></ul><p>æ¬¢è¿åŠ å…¥æˆ‘ä»¬çš„ç¤¾åŒºè¿›è¡Œäº¤æµ ğŸ‘ğŸ‘ğŸ‘ï¼š<a href="https://github.com/kcl-lang/community" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/community</a></p>]]></content>
        <author>
            <name>KCL Team</name>
        </author>
        <category label="Release Blog" term="Release Blog"/>
        <category label="KCL" term="KCL"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[OS2ATC 2022 ä¼šè®® KCL ä»‹ç»å†…å®¹]]></title>
        <id>https://kcl-lang.github.io/zh-CN/blog/2023-03-26-kcl-os2atc-meeting</id>
        <link href="https://kcl-lang.github.io/zh-CN/blog/2023-03-26-kcl-os2atc-meeting"/>
        <updated>2023-03-26T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[KCL Talk Cover]]></summary>
        <content type="html"><![CDATA[<p><img loading="lazy" alt="KCL Talk Cover" src="/zh-CN/assets/images/talk-cover-0faf160fe29f520a93d63588b334b9ee.jpg" width="2554" height="1436" class="img_ev3q"></p><p><a href="https://kcl-lang.github.io/talks/kcl-os2atc2022.pdf" target="_blank" rel="noopener noreferrer">PDF ä¸‹è½½</a></p>]]></content>
        <author>
            <name>å¾é¹é£</name>
        </author>
        <category label="KCL" term="KCL"/>
        <category label="Configuration" term="Configuration"/>
        <category label="Policy" term="Policy"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[KCL v0.4.6-alpha.1 å‘å¸ƒæ—¥å¿—]]></title>
        <id>https://kcl-lang.github.io/zh-CN/blog/2022-kcl-0.4.6-alpha.1-release-blog</id>
        <link href="https://kcl-lang.github.io/zh-CN/blog/2022-kcl-0.4.6-alpha.1-release-blog"/>
        <updated>2023-03-20T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[ç®€ä»‹]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ç®€ä»‹">ç®€ä»‹<a href="#ç®€ä»‹" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>KCL å›¢é˜Ÿå¾ˆé«˜å…´åœ°å®£å¸ƒ KCL v0.4.6-alpha.1 ç‰ˆæœ¬ç°åœ¨å·²ç»å¯ç”¨ï¼</p><p>æ‚¨å¯ä»¥åœ¨ <a href="https://github.com/kcl-lang/kcl/releases/tag/v0.4.6-alpha.1" target="_blank" rel="noopener noreferrer">KCL v0.4.6-alpha.1 å‘å¸ƒé¡µé¢</a> æˆ–è€… <a href="https://kcl-lang.io/" target="_blank" rel="noopener noreferrer">KCL å®˜æ–¹ç½‘ç«™</a> è·å¾— KCL äºŒè¿›åˆ¶ä¸‹è½½é“¾æ¥å’Œæ›´å¤šè¯¦ç»†å‘å¸ƒä¿¡æ¯ã€‚</p><p><a href="https://github.com/kcl-lang/kcl" target="_blank" rel="noopener noreferrer">KCL</a> æ˜¯ä¸€ä¸ªå¼€æºçš„åŸºäºçº¦æŸçš„è®°å½•åŠå‡½æ•°è¯­è¨€ï¼ŒæœŸæœ›é€šè¿‡æˆç†Ÿçš„ç¼–ç¨‹è¯­è¨€æŠ€æœ¯å’Œå®è·µæ¥æ”¹è¿›å¯¹å¤§é‡ç¹æ‚é…ç½®å’Œç­–ç•¥çš„ç¼–å†™ï¼Œè‡´åŠ›äºæ„å»ºå›´ç»•é…ç½®çš„æ›´å¥½çš„æ¨¡å—åŒ–ã€æ‰©å±•æ€§å’Œç¨³å®šæ€§ï¼Œæ›´ç®€å•çš„é€»è¾‘ç¼–å†™ï¼Œä»¥åŠæ›´å¿«çš„è‡ªåŠ¨åŒ–é›†æˆå’Œè‰¯å¥½çš„ç”Ÿæ€å»¶å±•æ€§ã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å‘å¸ƒå†…å®¹">å‘å¸ƒå†…å®¹<a href="#å‘å¸ƒå†…å®¹" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><ul><li>åŒ…å«æ•°å­—ã€å­—é¢å€¼ã€æ‹¬å·ç­‰è¯æ³•é”™è¯¯æ¢å¤</li><li>KCL IDE æ’ä»¶æ”¯æŒé”™è¯¯å’Œå‘Šè­¦æ˜¾ç¤ºï¼Œè·³è½¬ç­‰èƒ½åŠ›</li><li>éƒ¨åˆ†ç¼–è¯‘å™¨æŠ¥é”™æ”¹å–„</li><li>KCL Playground æ”¯æŒä»£ç åˆ†äº«èƒ½åŠ›</li><li><a href="https://github.com/kcl-lang/kcl/issues/434" target="_blank" rel="noopener noreferrer">Kubernetes KPT å·¥å…·é›†æˆæ–¹æ¡ˆè®¾è®¡</a></li><li><a href="https://github.com/kcl-lang/kcl/issues/426" target="_blank" rel="noopener noreferrer">Kubernetes Helm KCL å·¥å…·æ’ä»¶æ–¹æ¡ˆ</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ä¸‹ä¸€æ­¥è®¡åˆ’">ä¸‹ä¸€æ­¥è®¡åˆ’<a href="#ä¸‹ä¸€æ­¥è®¡åˆ’" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><ul><li>KPM åŒ…ç®¡ç†å·¥å…·æ­£å¼å‘å¸ƒ</li><li>æ›´å¤š KCL ç¼–è¯‘å™¨è¯­æ³•é”™è¯¯æ¢å¤æ”¯æŒæ–°ç‰ˆ IDE æ’ä»¶å‘å¸ƒï¼Œæ€§èƒ½é¢„è®¡æå‡ 20 å€</li><li>Helmï¼ŒKPT ç­‰ Kubernetes å·¥å…· KCL é›†æˆæ­£å¼å‘å¸ƒ</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å¸¸è§é—®é¢˜åŠè§£ç­”">å¸¸è§é—®é¢˜åŠè§£ç­”<a href="#å¸¸è§é—®é¢˜åŠè§£ç­”" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>è¯¦è§ <a href="https://kcl-lang.io/docs/user_docs/support/" target="_blank" rel="noopener noreferrer">KCL å¸¸è§é—®é¢˜</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å…¶ä»–èµ„æº">å…¶ä»–èµ„æº<a href="#å…¶ä»–èµ„æº" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>æ„Ÿè°¢æ‰€æœ‰ KCL ç”¨æˆ·åœ¨æ­¤æ¬¡ç‰ˆæœ¬æ›´æ–°è¿‡ç¨‹ä¸­æå‡ºçš„å®è´µçš„åé¦ˆä¸å»ºè®®ã€‚æ›´å¤šå…¶ä»–èµ„æºè¯·å‚è€ƒï¼š</p><ul><li><a href="https://kcl-lang.io/" target="_blank" rel="noopener noreferrer">KCL ç½‘ç«™</a></li><li><a href="https://kusionstack.io/" target="_blank" rel="noopener noreferrer">Kusion ç½‘ç«™</a></li><li><a href="https://github.com/kcl-lang/kcl" target="_blank" rel="noopener noreferrer">KCL Github ä»“åº“</a></li><li><a href="https://github.com/KusionStack/kusion" target="_blank" rel="noopener noreferrer">Kusion Github ä»“åº“</a></li><li><a href="https://github.com/KusionStack/konfig" target="_blank" rel="noopener noreferrer">Konfig Github ä»“åº“</a></li></ul><p>æ¬¢è¿åŠ å…¥æˆ‘ä»¬çš„<a href="https://github.com/kcl-lang/community" target="_blank" rel="noopener noreferrer">ç¤¾åŒº</a>è¿›è¡Œäº¤æµ ğŸ‘ğŸ‘ğŸ‘</p>]]></content>
        <author>
            <name>KCL Team</name>
        </author>
        <category label="Release Blog" term="Release Blog"/>
        <category label="KCL" term="KCL"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[å…¨æ–°çš„ KCL Playground æ¥äº†!]]></title>
        <id>https://kcl-lang.github.io/zh-CN/blog/2023-kcl-playground-0.4.5-release</id>
        <link href="https://kcl-lang.github.io/zh-CN/blog/2023-kcl-playground-0.4.5-release"/>
        <updated>2023-03-17T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[ç®€ä»‹]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ç®€ä»‹">ç®€ä»‹<a href="#ç®€ä»‹" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>KCL å›¢é˜Ÿå¾ˆé«˜å…´åœ°å®£å¸ƒ KCL Playground v0.4.5 ç‰ˆæœ¬ç°åœ¨å·²ç»å¯ç”¨ï¼</p><p><a href="https://github.com/kcl-lang/kcl" target="_blank" rel="noopener noreferrer">KCL</a> æ˜¯ä¸€ä¸ªå¼€æºçš„åŸºäºçº¦æŸçš„è®°å½•åŠå‡½æ•°è¯­è¨€ï¼ŒæœŸæœ›é€šè¿‡æˆç†Ÿçš„ç¼–ç¨‹è¯­è¨€æŠ€æœ¯å’Œå®è·µæ¥æ”¹è¿›å¯¹å¤§é‡ç¹æ‚é…ç½®å’Œç­–ç•¥çš„ç¼–å†™ï¼Œè‡´åŠ›äºæ„å»ºå›´ç»•é…ç½®çš„æ›´å¥½çš„æ¨¡å—åŒ–ã€æ‰©å±•æ€§å’Œç¨³å®šæ€§ï¼Œæ›´ç®€å•çš„é€»è¾‘ç¼–å†™ï¼Œä»¥åŠæ›´å¿«çš„è‡ªåŠ¨åŒ–é›†æˆå’Œè‰¯å¥½çš„ç”Ÿæ€å»¶å±•æ€§ã€‚</p><p>æ‚¨å¯ä»¥è®¿é—® <a href="https://kcl-lang.io/" target="_blank" rel="noopener noreferrer">KCL ç½‘ç«™</a> ç‚¹å‡» playground è¿›è¡Œä½“éªŒã€‚åœ¨è¿™ä¸ªæ–°ç‰ˆæœ¬ä¸­ï¼Œæˆ‘ä»¬æ”¯æŒäº†æ ¹æ®è¾“å…¥ KCL ä»£ç å˜åŒ–è‡ªåŠ¨ç¼–è¯‘å’Œè¿è¡Œ KCL ä»£ç ã€æ ¼å¼åŒ–ä»£ç å’Œä»¥åŠå…±äº«ä»£ç çš„èƒ½åŠ›ã€‚æ¬¢è¿å‚ä¸æ’°å†™å¹¶å°† KCL ä»£ç åˆ†äº«ç»™æ‚¨çš„å°ä¼™ä¼´ã€‚</p><p><img loading="lazy" src="/zh-CN/assets/images/kcl-website-playground-1521b165cb8c0b87f707ce615579d650.png" width="3352" height="966" class="img_ev3q"></p><p><img loading="lazy" src="/zh-CN/assets/images/kcl-playground-5d5f8f1e7b7cff22b250847debbef1c7.png" width="1400" height="509" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ä¸‹ä¸€æ­¥è®¡åˆ’">ä¸‹ä¸€æ­¥è®¡åˆ’<a href="#ä¸‹ä¸€æ­¥è®¡åˆ’" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>é¢„è®¡ 2023 å¹´ 4 æœˆä¸­æ—¬ï¼Œæˆ‘ä»¬å°†å‘å¸ƒ <strong>KCL Playground v0.4.6 ç‰ˆæœ¬</strong>ï¼Œé¢„æœŸé‡ç‚¹æ¼”è¿›åŒ…æ‹¬ï¼šKCL ç‰ˆæœ¬é€‰æ‹©ï¼Œå¯¼å…¥å·²æœ‰ä»£ç ç‰‡æ®µç­‰èƒ½åŠ›ã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å¸¸è§é—®é¢˜åŠè§£ç­”">å¸¸è§é—®é¢˜åŠè§£ç­”<a href="#å¸¸è§é—®é¢˜åŠè§£ç­”" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>è¯¦è§ <a href="https://kcl-lang.io/docs/user_docs/support/" target="_blank" rel="noopener noreferrer">KCL å¸¸è§é—®é¢˜</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å…¶ä»–èµ„æº">å…¶ä»–èµ„æº<a href="#å…¶ä»–èµ„æº" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>æ„Ÿè°¢æ‰€æœ‰ KCL ç”¨æˆ·åœ¨æ­¤æ¬¡ç‰ˆæœ¬æ›´æ–°è¿‡ç¨‹ä¸­æå‡ºçš„å®è´µçš„åé¦ˆä¸å»ºè®®ã€‚æ›´å¤šå…¶ä»–èµ„æºè¯·å‚è€ƒï¼š</p><ul><li><a href="https://kcl-lang.io/" target="_blank" rel="noopener noreferrer">KCL ç½‘ç«™</a></li><li><a href="https://kusionstack.io/" target="_blank" rel="noopener noreferrer">Kusion ç½‘ç«™</a></li><li><a href="https://github.com/kcl-lang/kcl" target="_blank" rel="noopener noreferrer">KCL Github ä»“åº“</a></li><li><a href="https://github.com/KusionStack/kusion" target="_blank" rel="noopener noreferrer">Kusion Github ä»“åº“</a></li><li><a href="https://github.com/KusionStack/konfig" target="_blank" rel="noopener noreferrer">Konfig Github ä»“åº“</a></li></ul><p>æ¬¢è¿åŠ å…¥æˆ‘ä»¬çš„ç¤¾åŒºè¿›è¡Œäº¤æµ ğŸ‘ğŸ‘ğŸ‘ï¼š<a href="https://github.com/kcl-lang/community" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/community</a></p>]]></content>
        <author>
            <name>KCL Team</name>
        </author>
        <category label="Release Blog" term="Release Blog"/>
        <category label="KCL" term="KCL"/>
        <category label="Playground" term="Playground"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[KCL v0.4.5 å‘å¸ƒæ—¥å¿—]]></title>
        <id>https://kcl-lang.github.io/zh-CN/blog/2022-kcl-0.4.5-release-blog</id>
        <link href="https://kcl-lang.github.io/zh-CN/blog/2022-kcl-0.4.5-release-blog"/>
        <updated>2023-02-27T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[ç®€ä»‹]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ç®€ä»‹">ç®€ä»‹<a href="#ç®€ä»‹" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>KCL å›¢é˜Ÿå¾ˆé«˜å…´åœ°å®£å¸ƒ KCL v0.4.5 ç‰ˆæœ¬ç°åœ¨å·²ç»å¯ç”¨ï¼æœ¬æ¬¡å‘å¸ƒä¸»è¦ä¸º KCL è¯­è¨€ç¼–å†™ä¾¿åˆ©æ€§å’Œç¨³å®šæ€§æå‡ï¼Œé”™è¯¯ä¿¡æ¯æ”¹è¿›ä»¥åŠæ›´å¤šå¹³å°åŒ…æ‹¬ windows ç‰ˆæœ¬æ”¯æŒä»¥åŠæ›´å¤šä¸‹è½½æ–¹å¼æ”¯æŒã€‚åœ¨ KCL v0.4.5 ç‰ˆæœ¬ä¸­ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡ç¼–å†™æ›´å°‘çš„ KCL ä»£ç æ¶ˆé™¤æ›´å¤šçš„é…ç½®æ¨¡ç‰ˆï¼›åœ¨æ–°ç‰ˆæœ¬ä¸­æä¾›äº†åˆæ­¥çš„ KCL Playground æ”¯æŒå¯ç”¨äºåœ¨çº¿å…å®‰è£…ç¼–å†™å¹¶è¿è¡Œ KCL ä»£ç ï¼›æ­¤å¤–æ­¤æ¬¡æ›´æ–°è¿˜åŒ…å«å¤šé¡¹ç¼–è¯‘å™¨æŠ¥é”™ä¿¡æ¯ä¼˜åŒ–å’Œé”™è¯¯ä¿®å¤ã€‚</p><p>æ‚¨å¯ä»¥åœ¨ <a href="https://github.com/kcl-lang/kcl/releases/tag/v0.4.5" target="_blank" rel="noopener noreferrer">KCL v0.4.5 å‘å¸ƒé¡µé¢</a> æˆ–è€… <a href="https://kcl-lang.io/" target="_blank" rel="noopener noreferrer">KCL å®˜æ–¹ç½‘ç«™</a> è·å¾— KCL äºŒè¿›åˆ¶ä¸‹è½½é“¾æ¥å’Œæ›´å¤šè¯¦ç»†å‘å¸ƒä¿¡æ¯ã€‚</p><p><a href="https://github.com/kcl-lang/kcl" target="_blank" rel="noopener noreferrer">KCL</a> æ˜¯ä¸€ä¸ªå¼€æºçš„åŸºäºçº¦æŸçš„è®°å½•åŠå‡½æ•°è¯­è¨€ï¼ŒæœŸæœ›é€šè¿‡æˆç†Ÿçš„ç¼–ç¨‹è¯­è¨€æŠ€æœ¯å’Œå®è·µæ¥æ”¹è¿›å¯¹å¤§é‡ç¹æ‚é…ç½®å’Œç­–ç•¥çš„ç¼–å†™ï¼Œè‡´åŠ›äºæ„å»ºå›´ç»•é…ç½®çš„æ›´å¥½çš„æ¨¡å—åŒ–ã€æ‰©å±•æ€§å’Œç¨³å®šæ€§ï¼Œæ›´ç®€å•çš„é€»è¾‘ç¼–å†™ï¼Œä»¥åŠæ›´å¿«çš„è‡ªåŠ¨åŒ–é›†æˆå’Œè‰¯å¥½çš„ç”Ÿæ€å»¶å±•æ€§ã€‚</p><p>æœ¬æ–‡å°†ä¼šä»‹ç» KCL v0.4.5 ç‰ˆæœ¬çš„æ›´æ–°å†…å®¹ä»¥åŠ KCL ç¤¾åŒºçš„è¿‘æœŸåŠ¨æ€ã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="è¯­è¨€æ›´æ–°">è¯­è¨€æ›´æ–°<a href="#è¯­è¨€æ›´æ–°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="kcl-è¯­è¨€ç¼–å†™ä¾¿åˆ©æ€§æ”¹è¿›">KCL è¯­è¨€ç¼–å†™ä¾¿åˆ©æ€§æ”¹è¿›<a href="#kcl-è¯­è¨€ç¼–å†™ä¾¿åˆ©æ€§æ”¹è¿›" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="æ”¯æŒ-schema-éç©ºå±æ€§æƒ°æ€§æ ¡éªŒ">æ”¯æŒ Schema éç©ºå±æ€§æƒ°æ€§æ ¡éªŒ<a href="#æ”¯æŒ-schema-éç©ºå±æ€§æƒ°æ€§æ ¡éªŒ" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><p>åœ¨ä¹‹å‰çš„ KCL ç‰ˆæœ¬ä¸­ï¼Œæˆ‘ä»¬å·²ç»æ”¯æŒäº† schema å±æ€§äº’ç›¸å¼•ç”¨ï¼ˆåŒ…å«ç»§æ‰¿ï¼‰ä»¥åŠ check æ ¡éªŒè¡¨è¾¾å¼çš„æƒ°æ€§æ±‚å€¼ä¸æ ¡éªŒèƒ½åŠ›ï¼Œåœ¨æ­¤æ¬¡ç‰ˆæœ¬æ›´æ–°ä¸­ï¼Œæˆ‘ä»¬æ”¯æŒäº†æ›´å¤šçš„ schema æƒ°æ€§æ±‚å€¼èƒ½åŠ›: Schema å±æ€§éç©ºæƒ°æ€§æ ¡éªŒã€‚æ¯”å¦‚å¯¹äºä¸‹è¿°çš„ KCL çš„ä»£ç ï¼š</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">schema Spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token builtin">id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    value</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">schema Config</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name?</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Spec </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Spec </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token builtin">id</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic"># åœ¨ KCL v0.4.5 ç‰ˆæœ¬ä¹‹å‰ï¼Œè¿™ä¸ªè¯­å¥ä¼šæŠ¥å±æ€§éç©ºé”™è¯¯ï¼Œv0.4.5 ç‰ˆæœ¬ä¹‹åï¼Œæ”¯æŒ Schema éç©ºå±æ€§æƒ°æ€§æ ¡éªŒèƒ½åŠ›</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">config </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Config </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    spec</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">value </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"value"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>åœ¨ v0.4.5 ä¹‹å‰çš„ KCL ç‰ˆæœ¬ä¸­ï¼Œç›´æ¥æ‰§è¡Œä¸Šè¿°ä»£ç ä¼šåœ¨ <code>schema Config</code> è¯­å¥å—çš„ <code>spec: Spec = Spec {</code> å¤„æŠ›å‡ºä¸€ä¸ª <code>spec</code> çš„ <code>value</code> å±æ€§ä¸èƒ½ä¸ºç©ºçš„é”™è¯¯ï¼Œå› ä¸ºåœ¨è¯¥å¤„åªå¯¹ <code>spec</code> çš„ <code>id</code> å±æ€§èµ‹å€¼ä¸º <code>1</code>ï¼Œè€Œæ²¡æœ‰å¯¹ <code>spec</code> çš„ <code>value</code> å±æ€§èµ‹å€¼ã€‚</p><p>åœ¨ KCL çš„ v0.4.5 ç‰ˆæœ¬æ›´æ–°åï¼Œæˆ‘ä»¬æ”¯æŒäº† schema å±æ€§çš„æƒ°æ€§éç©ºæ ¡éªŒèƒ½åŠ›ä¹‹åä¼šé¿å…è¿™ä¸ªé”™è¯¯çš„æŠ›å‡ºï¼Œå³å½“åœ¨ <code>config</code> å±æ€§çš„ <code>spec.value = "value"</code> ä¸ <code>spec.id = 1</code> åˆå¹¶ä¹‹åæ‰ä¼šé€’å½’åœ°å¯¹ <code>config</code> çš„æ‰€æœ‰å±æ€§è¿›è¡Œéç©ºæ£€æŸ¥ï¼Œæ­¤æ—¶ <code>spec</code> å±æ€§çš„æ‰€æœ‰å€¼æ˜¯è¢«å®Œæ•´èµ‹å€¼çš„ (<code>spec</code> çš„ <code>id</code> å­—æ®µçš„å€¼ä¸º <code>1</code>, <code>value</code> å­—æ®µä¸º <code>"value"</code>ï¼Œ)ï¼Œä¸ä¼šæŠ›å‡ºå¿…é€‰å±æ€§å­—æ®µä¸ºç©ºé”™è¯¯ã€‚</p><p>å› æ­¤åœ¨ v0.4.5 ç‰ˆæœ¬ä¹‹åï¼Œæ‰§è¡Œä¸Šè¿° KCL ä»£ç ï¼Œæˆ‘ä»¬ä¼šå¾—åˆ°å¦‚ä¸‹æ‰€ç¤ºçš„å®Œæ•´ YAML è¾“å‡º:</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">config</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">value</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> value</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="æ”¯æŒé…ç½®å—å±æ€§äº’ç›¸å¼•ç”¨ä»¥æ¶ˆé™¤æ›´å¤šçš„é…ç½®æ¨¡ç‰ˆ">æ”¯æŒé…ç½®å—å±æ€§äº’ç›¸å¼•ç”¨ä»¥æ¶ˆé™¤æ›´å¤šçš„é…ç½®æ¨¡ç‰ˆ<a href="#æ”¯æŒé…ç½®å—å±æ€§äº’ç›¸å¼•ç”¨ä»¥æ¶ˆé™¤æ›´å¤šçš„é…ç½®æ¨¡ç‰ˆ" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><p>åœ¨ v0.4.5 ä¹‹å‰çš„ç‰ˆæœ¬ä¸­ï¼ŒKCL å°šæœªæ”¯æŒé…ç½®å—å†…éƒ¨çš„å±æ€§äº’ç›¸å¼•ç”¨ï¼Œå¯¼è‡´åœ¨æŸäº›åœºæ™¯ä¸­ä¼šéœ€è¦å®šä¹‰é¢å¤–çš„é…ç½®å˜é‡æˆ–è€…æ¨¡ç‰ˆæ¥è¿›è¡Œå¼•ç”¨ï¼Œä¼šäº§ç”Ÿè¾ƒå¤šçš„é…ç½®æ¨¡ç‰ˆå’Œé‡å¤ä»£ç ï¼Œæ¯”å¦‚å¯¹äºå¦‚ä¸‹æ‰€ç¤ºçš„ KCL ä»£ç ï¼š</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"app-name"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    metadata</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> name  </span><span class="token comment" style="color:#999988;font-style:italic"># `metadata.name` ä¸èƒ½ç›´æ¥å¼•ç”¨ `data` å†…éƒ¨çš„ `name` å±æ€§</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>data</code> é…ç½®å—çš„ <code>metadata.name</code> å±æ€§ä¸èƒ½ç›´æ¥å¼•ç”¨ <code>data</code> å†…éƒ¨çš„ <code>name</code> å±æ€§ï¼Œéœ€è¦é¢å¤–å®šä¹‰ä¸€ä¸ªå…¨å±€å˜é‡ <code>name</code> è¿›è¡Œå¼•ç”¨ã€‚</p><p>è€Œåœ¨ KCL çš„ v0.4.5 ç‰ˆæœ¬æ›´æ–°åï¼Œæˆ‘ä»¬æ”¯æŒäº†é…ç½®å—å±æ€§äº’ç›¸å¼•ç”¨çš„ç‰¹æ€§ï¼Œå¯ä»¥ç”¨äºæ¶ˆé™¤æ›´å¤šçš„é…ç½®æ¨¡ç‰ˆï¼Œæ¯”å¦‚å¦‚ä¸‹æ‰€ç¤ºçš„ KCL ä»£ç ï¼š</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"app-name"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    metadata</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> name  </span><span class="token comment" style="color:#999988;font-style:italic"># ç›´æ¥å¼•ç”¨ `data` é…ç½®çš„ name å±æ€§</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>data</code> é…ç½®å—çš„ <code>metadata.name</code> å±æ€§å¯ä»¥ç›´æ¥å¼•ç”¨ <code>data</code> å†…éƒ¨çš„ <code>name</code> å±æ€§è€Œæ— éœ€å®šä¹‰é¢å¤–çš„å…¨å±€å˜é‡ã€‚</p><p>æ‰§è¡Œä¸Šè¿° KCL ä»£ç å¯ä»¥è·å¾—å¦‚ä¸‹ YAML è¾“å‡º:</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">data</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> app</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> app</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">name</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ä¸‹é¢æ˜¯ä¸€ä¸ªæ›´å¤æ‚çš„ä¾‹å­</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"global-name"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">metadata </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"metadata-name"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    labels </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">"app.kubernetes.io/name"</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> name  </span><span class="token comment" style="color:#999988;font-style:italic"># ç›´æ¥å¼•ç”¨ `metadata.name`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">"app.kubernetes.io/instance"</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> name  </span><span class="token comment" style="color:#999988;font-style:italic"># ç›´æ¥å¼•ç”¨ `metadata.name`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> name  </span><span class="token comment" style="color:#999988;font-style:italic"># å¼•ç”¨å…¨å±€çš„ `name` å˜é‡</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    metadata </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> metadata  </span><span class="token comment" style="color:#999988;font-style:italic"># å¼•ç”¨å…¨å±€çš„ `metadata` å˜é‡</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    spec</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">template</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">metadata</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> metadata</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">name  </span><span class="token comment" style="color:#999988;font-style:italic"># å¼•ç”¨ `data` å†…éƒ¨çš„ `metadata` å˜é‡</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æ‰§è¡Œä¸Šè¿°ä»£ç å¯ä»¥è·å¾—å¦‚ä¸‹ YAML è¾“å‡º:</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> global</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> metadata</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app.kubernetes.io/name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> metadata</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app.kubernetes.io/instance</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> metadata</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">data</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> global</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> metadata</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">app.kubernetes.io/name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> metadata</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">app.kubernetes.io/instance</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> metadata</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">template</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> metadata</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">name</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>âš ï¸ æ³¨æ„ï¼šå½“å‰ KCL ç‰ˆæœ¬å°šæœªæ”¯æŒé…ç½®å—å†…éƒ¨å±æ€§åå‘å¼•ç”¨ä»¥åŠè·³è¿‡å†…éƒ¨ä½œç”¨åŸŸç›´æ¥å¼•ç”¨å…¨å±€å˜é‡ï¼Œéœ€è¦å°†è¢«å¼•ç”¨çš„å±æ€§ä¹¦å†™åœ¨é…ç½®å¼•ç”¨å¤„çš„å‰æ–¹</p></blockquote><h3 class="anchor anchorWithStickyNavbar_LWe7" id="kcl-è¯­è¨€æ–°å¢åŠŸèƒ½">KCL è¯­è¨€æ–°å¢åŠŸèƒ½<a href="#kcl-è¯­è¨€æ–°å¢åŠŸèƒ½" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="å­—ç¬¦ä¸²-format-æˆå‘˜å‡½æ•°æ”¯æŒç´¢å¼•æ ¼å¼åŒ–">å­—ç¬¦ä¸² format æˆå‘˜å‡½æ•°æ”¯æŒç´¢å¼•æ ¼å¼åŒ–<a href="#å­—ç¬¦ä¸²-format-æˆå‘˜å‡½æ•°æ”¯æŒç´¢å¼•æ ¼å¼åŒ–" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><p>åœ¨ KCL v0.4.5 ç‰ˆæœ¬æ›´æ–°åï¼ŒKCL æ”¯æŒäº†ç±»ä¼¼ Python å­—ç¬¦ä¸² format æˆå‘˜å‡½æ•°åœ¨ <code>{}</code> æ ¼å¼åŒ–å—ä¸­ä½¿ç”¨ <code>&lt;format_ele_index&gt;[&lt;index_or_key&gt;]</code> ç´¢å¼•æ ‡è®°æ ·å¼å¯¹åˆ—è¡¨å’Œå­—å…¸ç±»å‹çš„ KCL å˜é‡è¿›è¡Œæ ¼å¼åŒ–ã€‚å…¶ä¸­</p><ul><li><code>&lt;format_ele_index&gt;</code> è¡¨ç¤ºéœ€è¦éœ€è¦åºåˆ—åŒ–åˆ—è¡¨å’Œå­—å…¸ç±»å‹å…ƒç´ çš„ç´¢å¼•</li><li><code>&lt;index_or_key&gt;</code> è¡¨ç¤ºå¯¹åº”åˆ—è¡¨å’Œå­—å…¸ç±»å‹å…ƒç´ çš„åˆ—è¡¨å­å…ƒç´ ç´¢å¼•æˆ–è€…å­—å…¸å­å…ƒç´ é”®å€¼</li></ul><p>æ¯”å¦‚å¯¹äºå¦‚ä¸‹çš„ KCL ä»£ç </p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># 0[0] è¡¨ç¤ºå– ["Hello", "World"] çš„ç¬¬ 0 ä¸ªå…ƒç´ ï¼š"Hello"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 0[1] è¡¨ç¤ºå– ["Hello", "World"] çš„ç¬¬ 1 ä¸ªå…ƒç´ ï¼š"World"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">listIndexFormat </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"{0[0]}{0[1]}"</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">format</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"Hello"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"World"</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 0[0] è¡¨ç¤ºå– ["0", "1"] çš„ç¬¬ 0 ä¸ªå…ƒç´ ï¼š"1"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 1[Hello] è¡¨ç¤ºå– {"Hello": "World"} é”®å€¼ä¸º Hello çš„å­—å…¸å…ƒç´ ï¼š"World"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dictIndexFormat </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"0{0[0]}, 1{0[1]}, Hello{1[Hello]}"</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">format</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"0"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"1"</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">"Hello"</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"World"</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æ‰§è¡Œä¸Šè¿°ä»£ç å¯ä»¥è·å¾—å¦‚ä¸‹ YAML è¾“å‡º:</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">listIndexFormat</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> HelloWorld</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">dictIndexFormat</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"00, 11, HelloWorld"</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="kcl-è¯­è¨€-playground-æ›´æ–°">KCL è¯­è¨€ Playground æ›´æ–°<a href="#kcl-è¯­è¨€-playground-æ›´æ–°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>åœ¨æ­¤æ¬¡æ›´æ–°ä¸­ï¼Œæˆ‘ä»¬æ›´æ–°äº† KCL Playground çš„ç‰ˆæœ¬å¹¶æ”¯æŒ KCL ä»£ç è‡ªåŠ¨ç¼–è¯‘å’Œæ ¼å¼åŒ–ä¸¤é¡¹èƒ½åŠ›ï¼Œæ‚¨å¯ä»¥é€šè¿‡è®¿é—® <a href="https://kcl-lang.io/" target="_blank" rel="noopener noreferrer">KCL å®˜ç½‘</a> å¹¶ç‚¹å‡» Playground æŒ‰é’®è¿›è¡Œä½“éªŒã€‚</p><p><img loading="lazy" src="/zh-CN/assets/images/kcl-website-playground-1521b165cb8c0b87f707ce615579d650.png" width="3352" height="966" class="img_ev3q"></p><p><img loading="lazy" src="/zh-CN/assets/images/kcl-playground-d3027fa33d624bf989178f11011fb2d5.png" width="3132" height="886" class="img_ev3q"></p><p>åœ¨åç»­ KCL ç‰ˆæœ¬ä¸­ï¼Œæˆ‘ä»¬ä¼šæŒç»­æ›´æ–° KCL Playground æ›´å¤šèƒ½åŠ›æ”¯æŒå¦‚ KCL ç‰ˆæœ¬é€‰æ‹©ä¸ä»£ç åˆ†äº«ç­‰åŠŸèƒ½ã€‚</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="kcl-æ›´å¤šå¹³å°å’Œæ›´å¤šä¸‹è½½æ–¹å¼æ”¯æŒ">KCL æ›´å¤šå¹³å°å’Œæ›´å¤šä¸‹è½½æ–¹å¼æ”¯æŒ<a href="#kcl-æ›´å¤šå¹³å°å’Œæ›´å¤šä¸‹è½½æ–¹å¼æ”¯æŒ" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="windows-ç‰ˆæœ¬æ”¯æŒ">Windows ç‰ˆæœ¬æ”¯æŒ<a href="#windows-ç‰ˆæœ¬æ”¯æŒ" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><p>KCL Windows äºŒè¿›åˆ¶ç‰ˆæœ¬å¯ä»¥ä» <a href="https://github.com/kcl-lang/kcl/releases/" target="_blank" rel="noopener noreferrer">Github</a> æ‰‹åŠ¨ä¸‹è½½å¹¶å®‰è£…ï¼Œä¸‹è½½å®Œæˆåå°† <code>{install-location}\kclvm\bin</code> æ·»åŠ åˆ°ç¯å¢ƒå˜é‡ <code>PATH</code> ä¸­ã€‚</p><div class="language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$env:PATH += ";{install-location}\kclvm\bin;"</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æ­¤å¤–ï¼Œè¿˜å¯ä»¥é€šè¿‡å¦‚ä¸‹æ‰€ç¤ºçš„ Powershell è„šæœ¬è¿›è¡Œå®‰è£…:</p><div class="language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">powershell -Command "iwr -useb https://kcl-lang.io/script/install.ps1 | iex"</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æˆ‘ä»¬åç»­ä¼šæ”¯æŒæ›´å¤šçš„ Windows åŒ…ç®¡ç†ä¸‹è½½æ–¹å¼ï¼Œå¦‚ <code>Scoop</code> ç­‰ã€‚</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="æ›´å¤šä¸‹è½½æ–¹å¼æ”¯æŒ">æ›´å¤šä¸‹è½½æ–¹å¼æ”¯æŒ<a href="#æ›´å¤šä¸‹è½½æ–¹å¼æ”¯æŒ" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><p>åœ¨æ­¤æ¬¡ç‰ˆæœ¬æ›´æ–°ä¸­ï¼Œæˆ‘ä»¬æ”¯æŒäº†æ›´å¤šçš„ KCL ä¸‹è½½æ–¹å¼ï¼ŒåŒ…æ‹¬è„šæœ¬, Python, Go, Homebrew å’Œ Docker ä¸€é”®å®‰è£…ï¼Œæ›´å¤šè¯¦ç»†å†…å®¹è¯·å‚è€ƒ <a href="https://kcl-lang.io/docs/user_docs/getting-started/install" target="_blank" rel="noopener noreferrer">KCL ä¸‹è½½ä¸å®‰è£…</a>ï¼Œåç»­æˆ‘ä»¬ä¼šæ”¯æŒæ›´å¤š KCL å®‰è£…æ–¹å¼ã€‚</p><blockquote><p>âš ï¸ æ³¨æ„ï¼šå¯¹äºä¸Šè¿°æ‰€æœ‰æ“ä½œç³»ç»Ÿå’Œå®‰è£…æ–¹å¼ï¼Œå¦‚æœè¦ä½¿ç”¨ <a href="https://kcl-lang.io/docs/reference/plugin/overview" target="_blank" rel="noopener noreferrer">KCL Python æ’ä»¶</a> èƒ½åŠ›ï¼Œéœ€è¦ç¡®ä¿å·²ç»å®‰è£…äº† Python 3.7+ ç‰ˆæœ¬å¹¶å°† python3 å‘½ä»¤æ·»åŠ åˆ°æ‚¨çš„ PATH ç¯å¢ƒå˜é‡ä¸­ã€‚</p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="é”™è¯¯ä¿®å¤">é”™è¯¯ä¿®å¤<a href="#é”™è¯¯ä¿®å¤" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="å½“å­˜åœ¨éé…ç½®è¡¨è¾¾å¼çš„å³å€¼æ—¶é…ç½®åˆå¹¶é¡ºåºé”™è¯¯">å½“å­˜åœ¨éé…ç½®è¡¨è¾¾å¼çš„å³å€¼æ—¶é…ç½®åˆå¹¶é¡ºåºé”™è¯¯<a href="#å½“å­˜åœ¨éé…ç½®è¡¨è¾¾å¼çš„å³å€¼æ—¶é…ç½®åˆå¹¶é¡ºåºé”™è¯¯" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">schema Resource</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    cpu</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    memory</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">schema Config</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    resource</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Resource</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">r </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Resource </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    cpu </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    memory </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"8Gi"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">config</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Config </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    resource</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Resource </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        cpu </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        memory </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"4Gi"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">config</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Config </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    resource</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> r</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>åœ¨ KCL v0.4.5 ç‰ˆæœ¬ä¹‹å‰ï¼Œæ‰§è¡Œä¸Šè¿°ä»£ç  (main.k) ä¼šå¾—åˆ°éé¢„æœŸçš„é…ç½®å€¼ï¼Œæ˜¯å› ä¸º KCL ç¼–è¯‘å™¨é”™è¯¯åœ°ä¼˜åŒ–äº†å¦‚ä¸‹å½¢å¼ç­‰æ•ˆåˆå¹¶é…ç½®å—</p><div class="language-python3 codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python3 codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">config: Config {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    resource: r</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    resource: Resource {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        cpu = 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        memory = "4Gi"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>KCL v0.4.5 ç‰ˆæœ¬æ›´æ–°åï¼Œä¿®æ­£äº†ä¸æ­£ç¡®é…ç½®åˆå¹¶é¡ºåºï¼Œå¯ä»¥æ‰§è¡Œ main.k å¹¶è·å¾—é¢„æœŸçš„ YAML è¾“å‡º:</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">r</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">cpu</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">memory</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 8Gi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">config</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">resource</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">cpu</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">memory</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 8Gi</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æ›´å¤šè¯¦æƒ…è¯·å‚è€ƒ <a href="https://github.com/kcl-lang/kcl/issues/422" target="_blank" rel="noopener noreferrer">KCL Issue #422</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="é…ç½®-if-è¡¨è¾¾å¼ç±»å‹ä¸åŒ¹é…é”™è¯¯ä¼˜åŒ–">é…ç½® if è¡¨è¾¾å¼ç±»å‹ä¸åŒ¹é…é”™è¯¯ä¼˜åŒ–<a href="#é…ç½®-if-è¡¨è¾¾å¼ç±»å‹ä¸åŒ¹é…é”™è¯¯ä¼˜åŒ–" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">config</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">"A"</span><span class="token operator" style="color:#393A34">|</span><span class="token string" style="color:#e3116c">"B"</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        A </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"2"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>åœ¨ KCL v0.4.5 ç‰ˆæœ¬ä¹‹å‰ï¼Œå¯¹äºé…ç½® if è¡¨è¾¾å¼ï¼Œæ‰§è¡Œä¸Šè¿°ä»£ç ä¼šå¾—åˆ°é¢„æœŸçš„é…ç½®å€¼å¯¼è‡´ Type Unsoundness é—®é¢˜ï¼Œæ˜¯å› ä¸º KCL ç¼–è¯‘å™¨é”™è¯¯åœ°æ²¡æœ‰æ£€æŸ¥å‡º <code>A</code> å±æ€§çš„å€¼ <code>"2"</code> ä¸å£°æ˜çš„ç±»å‹ <code>int</code> ä¸åŒ¹é…ï¼ŒKCL v0.4.5 ç‰ˆæœ¬æ›´æ–°åï¼Œä¿®æ­£äº†æ­¤ç±»é—®é¢˜ï¼Œå¯ä»¥æ‰§è¡Œä¸Šè¿°ä»£ç å¯ä»¥è·å¾—é¢„æœŸçš„ç±»å‹ä¸åŒ¹é…é”™è¯¯:</p><div class="language-stderr codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-stderr codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">KCL Compile Error[E2G22] : The type got is inconsistent with the type expected</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---&gt; File main.k:1:1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1 |config: {"A"|"B": int} = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 1 ^  -&gt; got {str(A):str(2)}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">expect {str(A)|str(B):int}, got {str(A):str(2)}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æ›´å¤šè¯¦æƒ…è¯·å‚è€ƒ <a href="https://github.com/kcl-lang/kcl/issues/389" target="_blank" rel="noopener noreferrer">KCL Issue #389</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="rule-è¯­å¥æ ¡éªŒä¸ç”Ÿæ•ˆé—®é¢˜">Rule è¯­å¥æ ¡éªŒä¸ç”Ÿæ•ˆé—®é¢˜<a href="#rule-è¯­å¥æ ¡éªŒä¸ç”Ÿæ•ˆé—®é¢˜" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>åœ¨ä¹‹å‰çš„ KCL ç‰ˆæœ¬ä¸­ï¼Œåœ¨ä½¿ç”¨å¦‚ä¸‹ rule è§„åˆ™ä»£ç æ—¶ (main.k)ï¼Œ<code>ServiceCheckRule</code> çš„çº¦æŸä»£ç ä¼šä¸ç”Ÿæ•ˆã€‚</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">protocol KubeResourceProtocol</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    svc</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">schema Service</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rule ServiceCheckRule </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> KubeResourceProtocol</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    svc</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">name </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"name"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">svc </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Service </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"name"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ServiceCheckRule </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    svc </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> svc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>è¿›è¡Œæ”¹è¿›åï¼Œæˆ‘ä»¬æ‰§è¡Œä¸Šè¿°ä»£ç ï¼Œä¼šå¾—åˆ°ä¸€ä¸ªå‡†ç¡®çš„æ ¡éªŒä¸é€šè¿‡é”™è¯¯:</p><div class="language-stderr codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-stderr codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">KCL Runtime Error[E3B17] : Schema check is failed to check condition</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---&gt; File main.k:14</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">14 |ServiceCheckRule { -&gt; Instance check failed</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ---&gt; File main.k:8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    8 |    svc.name != "name" -&gt; Check failed on the condition</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Check failed on check conditions</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="é…ç½®å—å±æ€§ç±»å‹æ¨å¯¼ä¼˜åŒ–">é…ç½®å—å±æ€§ç±»å‹æ¨å¯¼ä¼˜åŒ–<a href="#é…ç½®å—å±æ€§ç±»å‹æ¨å¯¼ä¼˜åŒ–" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">schema Id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token builtin">id</span><span class="token plain">?</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">schema Config</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    data?</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">"A"</span><span class="token operator" style="color:#393A34">|</span><span class="token string" style="color:#e3116c">"B"</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Id</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">c </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Config </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        A </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Id</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># v0.4.5 ç‰ˆæœ¬ä¹‹å‰ï¼Œæ­¤å¤„ä¼šå¾—åˆ°ä¸€ä¸ªç±»å‹ä¸åŒ¹é…é”™è¯¯</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        B </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Id</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>åœ¨ KCL v0.4.5 ç‰ˆæœ¬ä¹‹å‰ï¼Œæ‰§è¡Œä¸Šè¿°ä»£ç ä¼šå¾—åˆ°ä¸€ä¸ªéé¢„æœŸçš„ç±»å‹ä¸åŒ¹é…ï¼Œæ˜¯å› ä¸º KCL ç¼–è¯‘å™¨é”™è¯¯åœ°å°† <code>c.data.A</code> å±æ€§çš„ç±»å‹æ¨å¯¼ä¸º <code>str</code> ç±»å‹ï¼Œå¯¼è‡´ä¸ <code>"A"|"B"</code> å­—é¢å€¼è”åˆç±»å‹ä¸åŒ¹é…é”™è¯¯ï¼ŒKCL v0.4.5 ç‰ˆæœ¬æ›´æ–°åï¼Œä¿®æ­£äº†æ­¤ç±»é—®é¢˜ï¼Œå¯ä»¥æ‰§è¡Œä¸Šè¿°ä»£ç å¯ä»¥è·å¾—é¢„æœŸçš„ YAML è¾“å‡º:</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">c</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">data</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">A</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">B</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="èµ‹å€¼è¯­å¥ä½¿ç”¨-schema-ç±»å‹æ³¨è§£é”™è¯¯ä¼˜åŒ–">èµ‹å€¼è¯­å¥ä½¿ç”¨ schema ç±»å‹æ³¨è§£é”™è¯¯ä¼˜åŒ–<a href="#èµ‹å€¼è¯­å¥ä½¿ç”¨-schema-ç±»å‹æ³¨è§£é”™è¯¯ä¼˜åŒ–" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">schema Foo</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    foo</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">schema Bar</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    bar</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">foo</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Foo </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Bar </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># v0.4.5 ç‰ˆæœ¬ä¹‹å‰ï¼Œæ­¤å¤„ä¼šå¾—åˆ°ä¸€ä¸ªè¿è¡Œæ—¶ç±»å‹ä¸åŒ¹é…é”™è¯¯</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    bar</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>åœ¨ KCL v0.4.5 ç‰ˆæœ¬ä¹‹å‰ï¼Œæ‰§è¡Œä¸Šè¿°ä»£ç ä¼šå¾—åˆ°ä¸€ä¸ªè¿è¡Œæ—¶ç±»å‹ä¸åŒ¹é…é”™è¯¯ï¼Œç‰ˆæœ¬æ›´æ–°åï¼Œä¼šå°†æ­¤ç±»ç±»å‹ä¸åŒ¹é…é”™è¯¯ä¼˜åŒ–åˆ°ç¼–è¯‘æ—¶ï¼Œå°†é”™è¯¯å·¦ç§»ï¼Œæ›´æ—©åœ°å‘ç°æ­¤ç±»é”™è¯¯ã€‚</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="kcl-æ¨¡å—ç±»å‹ä½¿ç”¨--è¿ç®—ç¬¦ç±»å‹é”™è¯¯ä¿®å¤">KCL æ¨¡å—ç±»å‹ä½¿ç”¨ ?. è¿ç®—ç¬¦ç±»å‹é”™è¯¯ä¿®å¤<a href="#kcl-æ¨¡å—ç±»å‹ä½¿ç”¨--è¿ç®—ç¬¦ç±»å‹é”™è¯¯ä¿®å¤" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> math</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> math?</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># v0.4.5 ç‰ˆæœ¬ä¹‹å‰ï¼Œæ­¤å¤„ä¼šå¾—åˆ°ä¸€ä¸ªéé¢„æœŸçš„ `math is not defined` é”™è¯¯</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>åœ¨ KCL v0.4.5 ç‰ˆæœ¬ä¹‹å‰ï¼Œæ‰§è¡Œä¸Šè¿°ä»£ç ä¼šå¾—åˆ°ä¸€ä¸ªéé¢„æœŸçš„å˜é‡æœªå®šä¹‰é”™è¯¯ï¼Œæ˜¯å› ä¸º KCL ç¼–è¯‘å™¨æ²¡æœ‰æ­£ç¡®åœ°å¤„ç† <code>math</code> module ç±»å‹å’Œ <code>?.</code> è¿ç®—ç¬¦ç»“åˆä½¿ç”¨çš„æƒ…å†µï¼Œç‰ˆæœ¬æ›´æ–°åï¼Œæ­¤ç±»é—®é¢˜å¾—åˆ°ä¿®å¤ã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å…¶ä»–æ›´æ–°ä¸é”™è¯¯ä¿®å¤">å…¶ä»–æ›´æ–°ä¸é”™è¯¯ä¿®å¤<a href="#å…¶ä»–æ›´æ–°ä¸é”™è¯¯ä¿®å¤" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>æ›´å¤šæ›´æ–°ä¸é”™è¯¯ä¿®å¤ <a href="https://github.com/kcl-lang/kcl/milestone/3" target="_blank" rel="noopener noreferrer">è¯¦è§</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="æ–‡æ¡£æ›´æ–°">æ–‡æ¡£æ›´æ–°<a href="#æ–‡æ¡£æ›´æ–°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p><a href="https://kcl-lang.io/" target="_blank" rel="noopener noreferrer">KCL ç½‘ç«™</a> æ–°å¢ KCL v0.4.5 æ–‡æ¡£å†…å®¹å¹¶æ”¯æŒç‰ˆæœ¬åŒ–è¯­ä¹‰é€‰é¡¹ï¼Œç›®å‰æ”¯æŒ v0.4.3, v0.4.4 å’Œ v0.4.5 ç‰ˆæœ¬é€‰æ‹©ã€‚</p><p><img loading="lazy" src="/zh-CN/assets/images/kcl-website-doc-version-ab26a60377e71734b94b0bc15c7e5c3d.png" width="3358" height="918" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ç¤¾åŒºåŠ¨æ€">ç¤¾åŒºåŠ¨æ€<a href="#ç¤¾åŒºåŠ¨æ€" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><ul><li>KCL ç¤¾åŒºæ–°å¢ä¸¤åå¤–éƒ¨è´¡çŒ®è€… @thinkrapido, @Rishav1707, æ„Ÿè°¢ä»–ä»¬çƒ­æƒ…å¹¶ç§¯æåœ°å‚ä¸è´¡çŒ®ã€‚</li><li>æ„Ÿè°¢ @Rishav1707 åŸºäº KCL å»ºç«‹äº† Rust è¯­è¨€ç‰ˆæœ¬çš„ <a href="https://github.com/i-think-rapido/kcl-loader-rs" target="_blank" rel="noopener noreferrer">kcl-loader-rs</a> å­é¡¹ç›®ï¼Œå½“å‰ç‰ˆæœ¬æ”¯æŒæ ¹æ® KCL æ–‡ä»¶ä¸­çš„ Schema å’Œé…ç½®å®šä¹‰è‡ªåŠ¨ç”Ÿæˆ Rust ç»“æ„ä½“å¹¶æ”¯æŒ KCL å€¼åˆ° Rust ç»“æ„ä½“å€¼çš„ååºåˆ—åŒ–å‡½æ•°ã€‚</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ä¸‹ä¸€æ­¥è®¡åˆ’">ä¸‹ä¸€æ­¥è®¡åˆ’<a href="#ä¸‹ä¸€æ­¥è®¡åˆ’" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>é¢„è®¡ 2023 å¹´ 4 æœˆä¸­æ—¬ï¼Œæˆ‘ä»¬å°†å‘å¸ƒ <strong>KCL v0.4.6 ç‰ˆæœ¬</strong>ï¼Œé¢„æœŸé‡ç‚¹æ¼”è¿›åŒ…æ‹¬ï¼š</p><ul><li>KCL è¯­è¨€è¿›ä¸€æ­¥ç¼–å†™ä¾¿åˆ©æ€§æ”¹è¿›ï¼Œç”¨æˆ·ç•Œé¢æŒç»­ä¼˜åŒ–ä¸ä½“éªŒæå‡ï¼Œç”¨æˆ·æ”¯æŒå’Œç—›ç‚¹è§£å†³</li><li>å…¨æ–°ç‰ˆæœ¬çš„ KCL Language Server å’Œ <a href="https://github.com/kcl-lang/vscode-kcl" target="_blank" rel="noopener noreferrer">VSCode è¯­è¨€æ’ä»¶</a>ï¼Œæ€§èƒ½é¢„è®¡<strong>æå‡ 20 å€</strong>ï¼Œå¹¶é¢„æœŸæ”¯æŒä»£ç è­¦å‘Šå’Œé”™è¯¯æ³¢æµªçº¿æç¤ºï¼Œè·³è½¬ï¼Œå¼•ç”¨æŸ¥æ‰¾ç­‰æ ¸å¿ƒåŸºç¡€èƒ½åŠ›</li><li>é’ˆå¯¹ Kubernetes Manifests é…ç½®ç®¡ç†åœºæ™¯ç—›ç‚¹æŒç»­è¿›è¡Œè¯­è¨€èƒ½åŠ›æå‡ï¼šå¦‚è®¾è®¡æä¾› <a href="https://github.com/helm/helm" target="_blank" rel="noopener noreferrer">Helm</a> KCL Schema æ’ä»¶ä»¥åŠä¸º <a href="https://github.com/GoogleContainerTools/kpt" target="_blank" rel="noopener noreferrer">kpt</a> å·¥å…·æä¾› KCL SDK ç­‰</li><li><a href="https://github.com/kcl-lang/kpm" target="_blank" rel="noopener noreferrer">KCL åŒ…ç®¡ç†å·¥å…· KPM</a> å‘å¸ƒï¼Œé¢„æœŸæ”¯æŒ Git ä»“åº“ä»£ç ä¾èµ–é…ç½®ä¸æ›´æ–°ï¼Œä»£ç ä¸‹è½½ç­‰åŸºç¡€èƒ½åŠ›</li><li><a href="https://github.com/kcl-lang/kcl-playground" target="_blank" rel="noopener noreferrer">KCL Playground</a> æ”¯æŒä»£ç åˆ†äº«èƒ½åŠ›å’Œ KCL ç‰ˆæœ¬é€‰æ‹©èƒ½åŠ›</li><li><a href="https://github.com/kcl-lang/kcl-go" target="_blank" rel="noopener noreferrer">KCL Go SDK</a> æ›´å¤šèƒ½åŠ›æ”¯æŒï¼šå¦‚æ”¯æŒ KCL Schema å’Œ Go ç»“æ„ä½“çš„åŒå‘è½¬æ¢ç­‰</li><li><a href="https://github.com/kcl-lang/kcl-py" target="_blank" rel="noopener noreferrer">KCL Python SDK</a> æ›´å¤šèƒ½åŠ›æ”¯æŒ</li></ul><p>æ›´å¤šè¯¦æƒ…è¯·å‚è€ƒ <a href="https://github.com/kcl-lang/kcl/milestone/4" target="_blank" rel="noopener noreferrer">KCL v0.4.6 Milestone</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å¸¸è§é—®é¢˜åŠè§£ç­”">å¸¸è§é—®é¢˜åŠè§£ç­”<a href="#å¸¸è§é—®é¢˜åŠè§£ç­”" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>è¯¦è§ <a href="https://kcl-lang.io/docs/user_docs/support/" target="_blank" rel="noopener noreferrer">KCL å¸¸è§é—®é¢˜</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å…¶ä»–èµ„æº">å…¶ä»–èµ„æº<a href="#å…¶ä»–èµ„æº" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>æ„Ÿè°¢æ‰€æœ‰ KCL ç”¨æˆ·åœ¨æ­¤æ¬¡ç‰ˆæœ¬æ›´æ–°è¿‡ç¨‹ä¸­æå‡ºçš„å®è´µçš„åé¦ˆä¸å»ºè®®ã€‚æ›´å¤šå…¶ä»–èµ„æºè¯·å‚è€ƒï¼š</p><ul><li><a href="https://kcl-lang.io/" target="_blank" rel="noopener noreferrer">KCL ç½‘ç«™</a></li><li><a href="https://kusionstack.io/" target="_blank" rel="noopener noreferrer">Kusion ç½‘ç«™</a></li><li><a href="https://github.com/kcl-lang/kcl" target="_blank" rel="noopener noreferrer">KCL Github ä»“åº“</a></li><li><a href="https://github.com/KusionStack/kusion" target="_blank" rel="noopener noreferrer">Kusion Github ä»“åº“</a></li><li><a href="https://github.com/KusionStack/konfig" target="_blank" rel="noopener noreferrer">Konfig Github ä»“åº“</a></li></ul><p>æ¬¢è¿åŠ å…¥æˆ‘ä»¬çš„ç¤¾åŒºè¿›è¡Œäº¤æµ ğŸ‘ğŸ‘ğŸ‘ï¼š<a href="https://github.com/kcl-lang/community" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/community</a></p>]]></content>
        <author>
            <name>KCL Team</name>
        </author>
        <category label="Release Blog" term="Release Blog"/>
        <category label="KCL" term="KCL"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[OSDT 2022 ä¼šè®® KCL ä»‹ç»å†…å®¹]]></title>
        <id>https://kcl-lang.github.io/zh-CN/blog/2022-kcl-osdt-meeting</id>
        <link href="https://kcl-lang.github.io/zh-CN/blog/2022-kcl-osdt-meeting"/>
        <updated>2022-12-10T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[KCL Talk Cover]]></summary>
        <content type="html"><![CDATA[<p><img loading="lazy" alt="KCL Talk Cover" src="/zh-CN/assets/images/talk-cover-069278176a8c865d410452e9204732f0.jpg" width="2548" height="1428" class="img_ev3q"></p><p><a href="https://kcl-lang.github.io/talks/kcl-osdt2022.pdf" target="_blank" rel="noopener noreferrer">PDF ä¸‹è½½</a></p>]]></content>
        <author>
            <name>å¾é¹é£</name>
        </author>
        <category label="KCL" term="KCL"/>
        <category label="Configuration" term="Configuration"/>
        <category label="Policy" term="Policy"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[KCL v0.4.4 å‘å¸ƒæ—¥å¿—]]></title>
        <id>https://kcl-lang.github.io/zh-CN/blog/2022-kcl-0.4.4-release-blog</id>
        <link href="https://kcl-lang.github.io/zh-CN/blog/2022-kcl-0.4.4-release-blog"/>
        <updated>2022-12-06T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[KCL å›¢é˜Ÿå¾ˆé«˜å…´åœ°å®£å¸ƒ 0.4.4 ç‰ˆæœ¬ç°åœ¨å·²ç»å¯ç”¨ï¼æœ¬æ¬¡å‘å¸ƒä¸»è¦ä¸º KCL è¯­è¨€å¢åŠ äº†è‡ªå®šä¹‰ YAML Manifests è¾“å‡ºçš„èƒ½åŠ›ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡ç¼–å†™ä»£ç å¹¶è°ƒç”¨ç³»ç»Ÿå‡½æ•°æ¥è‡ªå®šä¹‰ YAML è¾“å‡ºçš„æ ·å¼è€Œæ— éœ€ç†è§£å¤æ‚çš„ schema settings è¯­ä¹‰ï¼›æ­¤å¤–æœ¬æ¬¡å‘å¸ƒæä¾›äº†æœ€æ–°çš„ KCL Python SDK å¯ç”¨äº Python ç”¨æˆ·å¯¹ KCL ç›´æ¥é›†æˆï¼›åŒæ—¶æˆ‘ä»¬å¤§å¤§é™ä½äº† KCL å®‰è£…åŒ…çš„ä½“ç§¯ï¼Œå¹³å‡å®‰è£…åŒ…ä½“ç§¯é™ä½ä¸ºä¹‹å‰ç‰ˆæœ¬çš„äº”åˆ†ä¹‹ä¸€ï¼Œå¹¶åŒ…å«å¤šé¡¹ç¼–è¯‘å™¨æŠ¥é”™ä¿¡æ¯ä¼˜åŒ–å’Œ bug ä¿®å¤ã€‚æ‚¨å¯ä»¥åœ¨ KCL å‘å¸ƒé¡µé¢ è·å¾—æ›´å¤šè¯¦ç»†å‘å¸ƒä¿¡æ¯å’Œ KCL äºŒè¿›åˆ¶ä¸‹è½½é“¾æ¥ã€‚]]></summary>
        <content type="html"><![CDATA[<p>KCL å›¢é˜Ÿå¾ˆé«˜å…´åœ°å®£å¸ƒ 0.4.4 ç‰ˆæœ¬ç°åœ¨å·²ç»å¯ç”¨ï¼æœ¬æ¬¡å‘å¸ƒä¸»è¦ä¸º KCL è¯­è¨€å¢åŠ äº†è‡ªå®šä¹‰ YAML Manifests è¾“å‡ºçš„èƒ½åŠ›ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡ç¼–å†™ä»£ç å¹¶è°ƒç”¨ç³»ç»Ÿå‡½æ•°æ¥è‡ªå®šä¹‰ YAML è¾“å‡ºçš„æ ·å¼è€Œæ— éœ€ç†è§£å¤æ‚çš„ schema settings è¯­ä¹‰ï¼›æ­¤å¤–æœ¬æ¬¡å‘å¸ƒæä¾›äº†æœ€æ–°çš„ <a href="https://github.com/kcl-lang/kcl-py" target="_blank" rel="noopener noreferrer">KCL Python SDK</a> å¯ç”¨äº Python ç”¨æˆ·å¯¹ KCL ç›´æ¥é›†æˆï¼›åŒæ—¶æˆ‘ä»¬å¤§å¤§é™ä½äº† KCL å®‰è£…åŒ…çš„ä½“ç§¯ï¼Œå¹³å‡å®‰è£…åŒ…ä½“ç§¯é™ä½ä¸ºä¹‹å‰ç‰ˆæœ¬çš„äº”åˆ†ä¹‹ä¸€ï¼Œå¹¶åŒ…å«å¤šé¡¹ç¼–è¯‘å™¨æŠ¥é”™ä¿¡æ¯ä¼˜åŒ–å’Œ bug ä¿®å¤ã€‚æ‚¨å¯ä»¥åœ¨ <a href="https://github.com/kcl-lang/kcl/releases/tag/v0.4.4-alpha.2" target="_blank" rel="noopener noreferrer">KCL å‘å¸ƒé¡µé¢</a> è·å¾—æ›´å¤šè¯¦ç»†å‘å¸ƒä¿¡æ¯å’Œ KCL äºŒè¿›åˆ¶ä¸‹è½½é“¾æ¥ã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="èƒŒæ™¯">èƒŒæ™¯<a href="#èƒŒæ™¯" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>KCL æ˜¯ä¸€ä¸ªå¼€æºçš„åŸºäºçº¦æŸçš„è®°å½•åŠå‡½æ•°è¯­è¨€ï¼ŒæœŸæœ›é€šè¿‡æˆç†Ÿçš„ç¼–ç¨‹è¯­è¨€æŠ€æœ¯å’Œå®è·µæ¥æ”¹è¿›å¯¹å¤§é‡ç¹æ‚é…ç½®å’Œç­–ç•¥çš„ç¼–å†™ï¼Œè‡´åŠ›äºæ„å»ºå›´ç»•é…ç½®çš„æ›´å¥½çš„æ¨¡å—åŒ–ã€æ‰©å±•æ€§å’Œç¨³å®šæ€§ï¼Œæ›´ç®€å•çš„é€»è¾‘ç¼–å†™ï¼Œä»¥åŠæ›´å¿«çš„è‡ªåŠ¨åŒ–é›†æˆå’Œè‰¯å¥½çš„ç”Ÿæ€å»¶å±•æ€§ã€‚</p><p>æœ¬æ–‡å°†å‘è¯»è€…ä»‹ç» KCL ç¤¾åŒºçš„è¿‘æœŸåŠ¨æ€ã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="æ–°å¢ç‰¹æ€§">æ–°å¢ç‰¹æ€§<a href="#æ–°å¢ç‰¹æ€§" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="è‡ªå®šä¹‰-yaml-æ ¼å¼è¾“å‡º">è‡ªå®šä¹‰ YAML æ ¼å¼è¾“å‡º<a href="#è‡ªå®šä¹‰-yaml-æ ¼å¼è¾“å‡º" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>åœ¨è¿‡å»çš„ KCL ç‰ˆæœ¬ä¸­ï¼ŒYAML è¾“å‡ºçš„æ ·å¼æ˜¯åœ¨ KCL ç¼–è¯‘å™¨ä¸­æ˜¯ç¡¬ç¼–ç çš„ï¼Œç”¨æˆ·å¯ä»¥ä¸º schema çš„ <code>__settings__</code> å…ƒå±æ€§è®¾ç½®ä¸ºä¸åŒçš„å€¼æ¥å†³å®š YAML è¾“å‡ºæ ·å¼ï¼Œè¿™å¸¦æ¥äº†è¾ƒé«˜çš„å¤æ‚åº¦å’Œè®°å¿†æˆæœ¬ï¼Œå› æ­¤åœ¨ 0.4.4 ç‰ˆæœ¬ä¸­æˆ‘ä»¬æä¾›äº†ä¸€ä¸ªç³»ç»Ÿåº“å‡½æ•°ç”¨äºå¼€å‘äººå‘˜æ›´ç®€å•åœ°è‡ªå®šä¹‰ YAML è¾“å‡ºæ ·å¼ï¼Œè¿™ä¸ªå‡½æ•°çš„ç­¾åå¦‚ä¸‹ï¼š</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">manifests</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">yaml_stream</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">values</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token builtin">any</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> opts</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    sort_keys </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">False</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ignore_private </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">True</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ignore_none </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">False</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    sep </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"---"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>è¿™ä¸ªå‡½æ•°çš„åŠŸèƒ½æ˜¯å°† KCL å¯¹è±¡åˆ—è¡¨åºåˆ—åŒ–ä¸ºå¸¦ <code>---</code> åˆ†éš”ç¬¦çš„æ ·å¼ YAML è¾“å‡ºï¼Œå®ƒå…·æœ‰ä¸¤ä¸ªå‚æ•°:</p><ul><li><code>values</code> - ä¸€ä¸ª KCL å¯¹è±¡åˆ—è¡¨</li><li><code>opts</code> - YAML åºåˆ—åŒ–é€‰é¡¹<ul><li><code>sort_keys</code>ï¼šæ˜¯å¦æŒ‰å±æ€§åç§°çš„å­—å…¸åºå¯¹åºåˆ—åŒ–ç»“æœè¿›è¡Œæ’åºï¼ˆé»˜è®¤ä¸º <code>False</code>ï¼‰ã€‚</li><li><code>ignore_private</code>ï¼šæ˜¯å¦å¿½ç•¥åç§°ä»¥ <code>_</code> å¼€å¤´çš„å±æ€§åºåˆ—åŒ–è¾“å‡ºï¼ˆé»˜è®¤ä¸º <code>True</code>ï¼‰ã€‚</li><li><code>ignore_none</code>ï¼šæ˜¯å¦å¿½ç•¥å€¼ä¸º <code>None</code> çš„å±æ€§ï¼ˆé»˜è®¤ä¸º <code>False</code>ï¼‰ã€‚</li><li><code>sep</code>ï¼šåœ¨å¤šä¸ª YAML æ–‡æ¡£ä¹‹é—´é€‰æ‹©æ€æ ·çš„åˆ†éš”ç¬¦ï¼ˆé»˜è®¤ä¸º <code>"---"</code>ï¼‰ã€‚</li></ul></li></ul><p>ä¸‹é¢æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªä¾‹å­æ¥è¯´æ˜:</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> manifests</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">schema Deployment</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"v1"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Deployment"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"deploy"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        replica </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">schema Service</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"v1"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Service"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"svc"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">deployments </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Deployment </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Deployment </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">services </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Service </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Service </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">manifests</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">yaml_stream</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">deployments </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> services</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>é¦–å…ˆæˆ‘ä»¬é€šè¿‡ <code>import</code> å…³é”®å­—å¯¼å…¥ <code>manifests</code> æ¨¡å—å¹¶å®šä¹‰ 2 ä¸ª Deployment ä»¥åŠ 2 ä¸ª Service èµ„æºï¼Œå½“æˆ‘ä»¬æƒ³ä»¥ YAML stream å¹¶ä»¥ <code>---</code> ä½œä¸ºåˆ†éš”ç¬¦çš„æ ¼å¼ä¾æ¬¡è¾“å‡ºè¿™ 4 ä¸ªèµ„æºæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å°†å®ƒä»¬åˆå¹¶ä¸ºä¸€ä¸ª KCL åˆ—è¡¨å¹¶ä½œä¸º <code>manifests.yaml_stream</code> å‡½æ•°çš„ <code>values</code> å½¢å‚è¿›è¡Œä¼ å…¥ (å¦‚æ— ç‰¹æ®Šéœ€æ±‚ï¼Œopts å‚æ•°ä¸€èˆ¬ä½¿ç”¨é»˜è®¤å€¼å³å¯)ï¼Œæœ€ç»ˆå¾—åˆ° YAML è¾“å‡ºä¸º:</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Deployment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> deploy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">replica</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Deployment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> deploy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">replica</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> svc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> svc</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>æ³¨ï¼šschema çš„ <code>__settings__</code> å…ƒå±æ€§è®¾ç½® YAML è¾“å‡ºæ ·å¼çš„ç‰¹æ€§ä»ç„¶å¯ä»¥åœ¨ v0.4.4 ç‰ˆæœ¬ä¸­ä½¿ç”¨ï¼Œå¤§çº¦åç»­ä¸¤ä¸ªå°ç‰ˆæœ¬å‘å¸ƒååœ¨ KCL v0.4.6 ç‰ˆæœ¬ä¸­ï¼Œæˆ‘ä»¬ä¼šç§»é™¤è¿™ä¸ªç‰¹æ€§</p></blockquote><p>æ›´å¤šä¿¡æ¯è¯·å‚é˜…ï¼š<a href="https://github.com/kcl-lang/kcl/issues/94" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl/issues/94</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="python-sdk">Python SDK<a href="#python-sdk" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>é™¤äº†å·²æœ‰çš„ <a href="https://github.com/kcl-lang/kcl-go" target="_blank" rel="noopener noreferrer">KCL Go SDK</a>, æœ¬æ¬¡å‘å¸ƒè¿˜æ–°å¢äº† KCL Python SDKï¼Œä½¿ç”¨ Python SDK è¦æ±‚æ‚¨æœ¬åœ°å…·å¤‡é«˜äº 3.7.3 çš„ Python ç‰ˆæœ¬å’Œ pip åŒ…ç®¡ç†å·¥å…·ï¼Œå¯ä»¥é€šè¿‡å¦‚ä¸‹å‘½ä»¤è¿›è¡Œå®‰è£…å¹¶è·å¾—å¸®åŠ©ä¿¡æ¯</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">python3 -m pip </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> kclvm --user </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> python3 -m kclvm --help</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="å‘½ä»¤è¡Œå·¥å…·">å‘½ä»¤è¡Œå·¥å…·<a href="#å‘½ä»¤è¡Œå·¥å…·" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><p>ç¼–å†™åä¸º <code>main.k</code> çš„ KCL æ–‡ä»¶:</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"kcl"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">age </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">schema Person</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"kcl"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    age</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">x0 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Person </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">x1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Person </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    age </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">101</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å¹¶è·å¾—è¾“å‡º:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ python3 -m kclvm hello.k</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">name: kcl</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">age: </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">x0:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  name: kcl</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  age: </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">x1:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  name: kcl</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  age: </span><span class="token number" style="color:#36acaa">101</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="api">API<a href="#api" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><p>æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡ Python ä»£ç å®ç°å¯¹ KCL æ–‡ä»¶çš„æ‰§è¡Œ</p><p>ç¼–å†™åä¸º <code>main.py</code> çš„ python æ–‡ä»¶:</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> kclvm</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">program</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">exec</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> kclvm_exec</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> kclvm</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">vm</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">planner </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> planner</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">planner</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">plan</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">kclvm_exec</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Run</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"hello.k"</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">filter_by_path_selector</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å¹¶è·å¾—è¾“å‡º:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ python3 main.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">name: kcl</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">age: </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">x0:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  name: kcl</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  age: </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">x1:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  name: kcl</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  age: </span><span class="token number" style="color:#36acaa">101</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>å¯ä»¥çœ‹å‡ºé€šè¿‡å‘½ä»¤è¡Œå·¥å…·å’Œ API å¯ä»¥è·å¾—åŒæ ·çš„è¾“å‡ºã€‚</p><p>ç›®å‰ KCL Python SDK è¿˜å¤„äºæ—©æœŸé¢„è§ˆç‰ˆæœ¬ï¼Œåç»­ KCL å›¢é˜Ÿä¼šæŒç»­æ›´æ–°å¹¶æä¾›æ›´ä¸°å¯Œçš„åŠŸèƒ½ï¼Œæ›´å¤šä¿¡æ¯è¯·å‚é˜…ï¼š<a href="https://github.com/kcl-lang/kcl-py" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl-py</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å®‰è£…ä½“ç§¯ä¼˜åŒ–">å®‰è£…ä½“ç§¯ä¼˜åŒ–<a href="#å®‰è£…ä½“ç§¯ä¼˜åŒ–" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>åœ¨æ–°çš„ KCL ç‰ˆæœ¬ä¸­ï¼Œæˆ‘ä»¬å°† KCL å†…ç½®çš„ Python3 å‰¥ç¦»ï¼Œä½¿å¾— KCL äºŒè¿›åˆ¶å‹ç¼©åŒ…çš„ä½“ç§¯ä»å¹³å‡ 200M é™ä½ä¸º 35Mï¼Œç”¨æˆ·å¯ä»¥æ›´å¿«åœ°ä¸‹è½½å¹¶ä½¿ç”¨ KCLï¼Œå¹¶ä¸” Python Plugin æˆä¸ºä¸€ä¸ªå¯é€‰é¡¹ï¼Œå¦‚æœæ‚¨æƒ³å¯ç”¨ KCL Python æ’ä»¶ï¼Œä¸€ä¸ªé¢å¤–è¦æ±‚æ˜¯éœ€è¦æ‚¨æœ¬åœ°å…·å¤‡é«˜äº 3.7.3 ç‰ˆæœ¬çš„ Python ä»¥åŠ pip åŒ…ç®¡ç†å·¥å…·ï¼Œæ›´å¤šè¯¦æƒ…è¯·å‚è€ƒ <a href="https://github.com/kcl-lang/kcl-plugin" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl-plugin</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="é”™è¯¯ä¿®å¤">é”™è¯¯ä¿®å¤<a href="#é”™è¯¯ä¿®å¤" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="å‡½æ•°è°ƒç”¨é”™è¯¯ä¿¡æ¯ä¼˜åŒ–">å‡½æ•°è°ƒç”¨é”™è¯¯ä¿¡æ¯ä¼˜åŒ–<a href="#å‡½æ•°è°ƒç”¨é”™è¯¯ä¿¡æ¯ä¼˜åŒ–" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>åœ¨ 0.4.4 ç‰ˆæœ¬ä¸­ï¼ŒKCL ä¼˜åŒ–äº†å½“å‡½æ•°å‚æ•°ä¸ªæ•°ä¸åŒ¹é…æ—¶çš„é”™è¯¯ä¿¡æ¯è¾“å‡ºï¼Œæ”¯æŒæ˜¾ç¤ºå‡½æ•°åç§°ä»¥åŠå‚æ•°ä¸åŒ¹é…ä¸ªæ•°</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">schema Foo</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">x</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    bar?</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> x</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">f </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">lambda</span><span class="token plain"> x </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    x </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">foo </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Foo</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Error: "Foo" takes 1 positional argument but 3 were given</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">f</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Error: "f" takes 1 positional argument but 2 were given</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æ›´å¤šä¿¡æ¯è¯·å‚é˜…ï¼š<a href="https://github.com/kcl-lang/kcl/issues/299" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl/issues/299</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="æ’å€¼ä¸‰å¼•å·å­—ç¬¦ä¸²æ ¼å¼åŒ–é”™è¯¯ä¿®å¤">æ’å€¼ä¸‰å¼•å·å­—ç¬¦ä¸²æ ¼å¼åŒ–é”™è¯¯ä¿®å¤<a href="#æ’å€¼ä¸‰å¼•å·å­—ç¬¦ä¸²æ ¼å¼åŒ–é”™è¯¯ä¿®å¤" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>åœ¨ä¹‹å‰çš„ KCL ç‰ˆæœ¬ä¸­ï¼Œå¯¹å¦‚ä¸‹ä»£ç è¿›è¡Œæ ¼å¼åŒ–ä¼šé”™è¯¯å°†æºå¸¦å­—ç¬¦ä¸²æ’å€¼çš„ä¸‰å¼•å·æ ¼å¼åŒ–ä¸ºå•å¼•å·å­—ç¬¦ä¸²å¹¶å¯¼è‡´ç¼–è¯‘é”™è¯¯ï¼Œåœ¨ 0.4.4 ç‰ˆæœ¬ä¸­æˆ‘ä»¬è¿›è¡Œäº†ä¿®å¤</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Before KCL v0.4.4, variable "bar" will be formatted as:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># foo = 1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># bar = "</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># ${foo}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># "</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">foo </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bar </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token triple-quoted-string string" style="color:#e3116c">"""</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">${foo}</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">"""</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="æ¡ä»¶é…ç½®å—æ ¼å¼åŒ–é”™è¯¯ä¿®å¤">æ¡ä»¶é…ç½®å—æ ¼å¼åŒ–é”™è¯¯ä¿®å¤<a href="#æ¡ä»¶é…ç½®å—æ ¼å¼åŒ–é”™è¯¯ä¿®å¤" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>åœ¨ä¹‹å‰çš„ KCL ç‰ˆæœ¬ä¸­ï¼Œå¯¹å¦‚ä¸‹ä»£ç è¿›è¡Œæ ¼å¼åŒ–ä¼šå¯¼è‡´é”™è¯¯çš„ç¼©è¿›ï¼Œåœ¨ 0.4.4 ç‰ˆæœ¬ä¸­æˆ‘ä»¬è¿›è¡Œäº†ä¿®å¤</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Before KCL v0.4.4, variable "foo" will be formatted as:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># foo = [</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#     if True:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#         {key = "value"}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#     {key = "value"}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># ]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">foo </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">key </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"value"</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">key </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"value"</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="å­—ç¬¦ä¸²å­—é¢å€¼ç±»å‹æ£€æŸ¥é”™è¯¯">å­—ç¬¦ä¸²å­—é¢å€¼ç±»å‹æ£€æŸ¥é”™è¯¯<a href="#å­—ç¬¦ä¸²å­—é¢å€¼ç±»å‹æ£€æŸ¥é”™è¯¯" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>åœ¨ä¹‹å‰çš„ KCL ç‰ˆæœ¬ä¸­ï¼Œæ‰§è¡Œå¦‚ä¸‹ä»£ç ä¼šå¾—åˆ°ä¸€ä¸ªéé¢„æœŸçš„ç±»å‹æ£€æŸ¥é”™è¯¯ï¼Œåœ¨ 0.4.4 ç‰ˆæœ¬ä¸­æˆ‘ä»¬è¿›è¡Œäº†ä¿®å¤</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Before KCL v0.4.4, we will get a unexpected type mismatch error.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">foo</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">"A"</span><span class="token operator" style="color:#393A34">|</span><span class="token string" style="color:#e3116c">"B"</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">A </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æ›´å¤šä¿¡æ¯è¯·å‚é˜…ï¼š<a href="https://github.com/kcl-lang/kcl/issues/294" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl/issues/294</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="å…¶ä»–é”™è¯¯ä¿®å¤">å…¶ä»–é”™è¯¯ä¿®å¤<a href="#å…¶ä»–é”™è¯¯ä¿®å¤" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>æ›´å¤šé”™è¯¯ä¿®å¤è¯¦è§ï¼š<a href="https://github.com/kcl-lang/kcl/milestone/2?closed=1" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl/milestone/2?closed=1</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="æ–‡æ¡£">æ–‡æ¡£<a href="#æ–‡æ¡£" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p><a href="https://kcl-lang.github.io/" target="_blank" rel="noopener noreferrer">KCL ç½‘ç«™</a> åˆæ­¥å»ºç«‹ï¼Œå¹¶å®Œå–„ Kubernetes åœºæ™¯<a href="https://kcl-lang.github.io/docs/user_docs/guides/working-with-k8s/" target="_blank" rel="noopener noreferrer">ç›¸å…³æ–‡æ¡£</a>.</p><p>æ›´å¤šç½‘ç«™ä¿¡æ¯è¯¦è§ <a href="https://kcl-lang.github.io/" target="_blank" rel="noopener noreferrer">https://kcl-lang.github.io/</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ç¤¾åŒºåŠ¨æ€">ç¤¾åŒºåŠ¨æ€<a href="#ç¤¾åŒºåŠ¨æ€" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>KCL ç¤¾åŒºæ–°å¢ä¸‰åå¤–éƒ¨è´¡çŒ®è€… @my-vegetable-has-exploded, @possible-fqz, @orangebees, æ„Ÿè°¢ä»–ä»¬çƒ­æƒ…å¹¶ç§¯æåœ°å‚ä¸è´¡çŒ®</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ä¸‹ä¸€æ­¥è®¡åˆ’">ä¸‹ä¸€æ­¥è®¡åˆ’<a href="#ä¸‹ä¸€æ­¥è®¡åˆ’" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>é¢„è®¡ 2023 å¹´ 1 æœˆåº•ï¼Œæˆ‘ä»¬å°†å‘å¸ƒ KCL v0.4.5 ç‰ˆæœ¬ï¼Œé¢„æœŸé‡ç‚¹æ¼”è¿›åŒ…æ‹¬</p><ul><li>è¯­è¨€ç”¨æˆ·ç•Œé¢æŒç»­ä¼˜åŒ–ï¼Œä½“éªŒæŒç»­æå‡å’Œç”¨æˆ·ç—›ç‚¹è§£å†³</li><li>æ›´å¤šåœºæ™¯å’Œç”Ÿæ€å¦‚ Kubernetes å’Œ CI/CD Pipeline åœºæ™¯ KCL æ”¯æŒå’Œæ–‡æ¡£æ›´æ–°</li><li>KCL Windows ç‰ˆæœ¬æ”¯æŒ</li><li>KCL åŒ…ç®¡ç†å·¥å…· kpm å‘å¸ƒ</li><li>KCL æ–°ç‰ˆ playground æ”¯æŒ</li></ul><p>æ›´å¤šè¯¦æƒ…è¯·å‚è€ƒ <a href="https://github.com/kcl-lang/kcl/milestone/3" target="_blank" rel="noopener noreferrer">KCL v0.4.5 Milestone</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å¸¸è§é—®é¢˜åŠè§£ç­”">å¸¸è§é—®é¢˜åŠè§£ç­”<a href="#å¸¸è§é—®é¢˜åŠè§£ç­”" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>å¸¸è§é—®é¢˜åŠè§£ç­”è¯¦è§ï¼š<a href="https://kcl-lang.github.io/docs/user_docs/support/" target="_blank" rel="noopener noreferrer">https://kcl-lang.github.io/docs/user_docs/support/</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å…¶ä»–èµ„æº">å…¶ä»–èµ„æº<a href="#å…¶ä»–èµ„æº" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><ul><li><a href="https://kcl-lang.io/" target="_blank" rel="noopener noreferrer">KCL ç½‘ç«™</a></li><li><a href="https://kusionstack.io/" target="_blank" rel="noopener noreferrer">Kusion ç½‘ç«™</a></li><li><a href="https://github.com/kcl-lang/kcl" target="_blank" rel="noopener noreferrer">KCL ä»“åº“</a></li><li><a href="https://github.com/KusionStack/kusion" target="_blank" rel="noopener noreferrer">Kusion ä»“åº“</a></li><li><a href="https://github.com/KusionStack/konfig" target="_blank" rel="noopener noreferrer">Konfig ä»“åº“</a></li></ul><p>æ¬¢è¿åŠ å…¥æˆ‘ä»¬çš„ç¤¾åŒºè¿›è¡Œäº¤æµ ğŸ‘ğŸ‘ğŸ‘ï¼š<a href="https://github.com/kcl-lang/community" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/community</a></p>]]></content>
        <author>
            <name>KCL Team</name>
        </author>
        <category label="Release Blog" term="Release Blog"/>
        <category label="KCL" term="KCL"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[æ€§èƒ½æå‡ 40 å€ï¼æˆ‘ä»¬ç”¨ Rust é‡å†™äº†è‡ªå·±çš„é¡¹ç›®]]></title>
        <id>https://kcl-lang.github.io/zh-CN/blog/2022-kcl-rewrite-with-rust</id>
        <link href="https://kcl-lang.github.io/zh-CN/blog/2022-kcl-rewrite-with-rust"/>
        <updated>2022-11-29T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[å‰è¨€]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="å‰è¨€">å‰è¨€<a href="#å‰è¨€" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>Rust å·²ç»æ‚„ç„¶æˆä¸ºäº†æœ€å—æ¬¢è¿çš„ç¼–ç¨‹è¯­è¨€ä¹‹ä¸€ã€‚ä½œä¸ºä¸€é—¨æ–°å…´åº•å±‚ç³»ç»Ÿè¯­è¨€ï¼ŒRust æ‹¥æœ‰ç€å†…å­˜å®‰å…¨æ€§æœºåˆ¶ã€æ¥è¿‘äº C/C++ è¯­è¨€çš„æ€§èƒ½ä¼˜åŠ¿ã€å‡ºè‰²çš„å¼€å‘è€…ç¤¾åŒºå’Œä½“éªŒå‡ºè‰²çš„æ–‡æ¡£ã€å·¥å…·é“¾å’ŒIDE ç­‰è¯¸å¤šç‰¹ç‚¹ã€‚æœ¬æ–‡å°†ä»‹ç»ç¬”è€…ä½¿ç”¨ Rust é‡å†™é¡¹ç›®å¹¶é€æ­¥è½åœ°ç”Ÿäº§ç¯å¢ƒçš„è¿‡ç¨‹ï¼Œä»¥åŠåœ¨é‡å†™è¿‡ç¨‹é€‰æ‹© Rust çš„åŸå› ã€é‡åˆ°çš„é—®é¢˜ä»¥åŠä½¿ç”¨ Rust é‡å†™å¸¦æ¥çš„æˆæœã€‚</p><p>æˆ‘ä»¬ç›®å‰æ­£åœ¨ä½¿ç”¨ Rust å¼€å‘çš„é¡¹ç›®å«åš <a href="https://github.com/kcl-lang/kcl" target="_blank" rel="noopener noreferrer">KCL</a>ï¼Œç›®å‰å…¨éƒ¨å®ç°ä»£ç å·²ç»åœ¨ Github ä¸Šå¼€æºã€‚KCL æ˜¯ä¸€ä¸ªåŸºäºçº¦æŸçš„è®°å½•åŠå‡½æ•°é¢†åŸŸç¼–ç¨‹è¯­è¨€ï¼Œè‡´åŠ›äºé€šè¿‡æˆç†Ÿçš„ç¼–ç¨‹è¯­è¨€æŠ€æœ¯å’Œå®è·µæ¥æ”¹è¿›ç‰¹é¢†åŸŸå¦‚äº‘åŸç”Ÿ kubernetes é¢†åŸŸçš„å¤§é‡ç¹æ‚é…ç½®ç¼–å†™å’Œå®‰å…¨ç­–ç•¥æ ¡éªŒç­‰ï¼Œè‡´åŠ›äºæ„å»ºå›´ç»•é…ç½®çš„æ›´å¥½çš„æ¨¡å—åŒ–ã€æ‰©å±•æ€§å’Œç¨³å®šæ€§ï¼Œæ›´ç®€å•çš„é€»è¾‘ç¼–å†™ï¼Œä»¥åŠæ›´å¿«çš„è‡ªåŠ¨åŒ–é›†æˆå’Œè‰¯å¥½çš„ç”Ÿæ€å»¶å±•æ€§ã€‚æ›´å…·ä½“çš„ KCL ä½¿ç”¨åœºæ™¯è¯·è®¿é—® <a href="https://kcl-lang.github.io/" target="_blank" rel="noopener noreferrer">KCL ç½‘ç«™</a>ï¼Œæœ¬æ–‡ä¸­ä¸å†è¿‡å¤šèµ˜è¿°ã€‚</p><p>KCL ä¹‹å‰æ˜¯ä½¿ç”¨ Python ç¼–å†™çš„ï¼Œå‡ºäºç”¨æˆ·ä½¿ç”¨ä½“éªŒã€æ€§èƒ½å’Œç¨³å®šæ€§çš„è€ƒè™‘ï¼Œå†³å®šç”¨ Rust è¯­è¨€è¿›è¡Œé‡å†™ï¼Œå¹¶è·å¾—äº†ä»¥ä¸‹å¥½å¤„ï¼š</p><ul><li>æ›´å°‘çš„ Bugï¼Œæºäº Rust å¼ºå¤§çš„ç¼–è¯‘æ£€æŸ¥å’Œé”™è¯¯å¤„ç†æ–¹å¼</li><li>è¯­è¨€ç«¯åˆ°ç«¯ç¼–è¯‘æ‰§è¡Œæ€§èƒ½æå‡äº† 66%</li><li>è¯­è¨€å‰ç«¯è§£æå™¨æ€§èƒ½æå‡äº† 20 å€</li><li>è¯­è¨€ä¸­ç«¯è¯­ä¹‰åˆ†æå™¨æ€§èƒ½æå‡äº† 40 å€</li><li>è¯­è¨€ç¼–è¯‘å™¨ç¼–è¯‘è¿‡ç¨‹å¹³å‡å†…å­˜ä½¿ç”¨é‡å˜ä¸ºåŸæ¥ Python ç‰ˆæœ¬çš„ä¸€åŠ</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="æˆ‘ä»¬é‡åˆ°äº†ä»€ä¹ˆé—®é¢˜">æˆ‘ä»¬é‡åˆ°äº†ä»€ä¹ˆé—®é¢˜<a href="#æˆ‘ä»¬é‡åˆ°äº†ä»€ä¹ˆé—®é¢˜" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>å°±åƒç¤¾åŒºä¸­åŒç±»å‹é¡¹ç›® <a href="https://github.com/denoland/deno" target="_blank" rel="noopener noreferrer">deno</a>, <a href="https://github.com/swc-project/swc" target="_blank" rel="noopener noreferrer">swc</a>, <a href="https://github.com/vercel/turbo" target="_blank" rel="noopener noreferrer">turbopack</a>, <a href="https://github.com/rust-lang/rust" target="_blank" rel="noopener noreferrer">rustc</a> ç­‰ç¼–è¯‘å™¨ã€æ„å»ºç³»ç»Ÿæˆ–è€…è¿è¡Œæ—¶åœ¨æŠ€æœ¯ä¸Šä½¿ç”¨ Rust åšçš„äº‹æƒ…ç±»ä¼¼ï¼Œæˆ‘ä»¬ä½¿ç”¨ Rust å®Œæ•´æ„å»ºäº†ç¼–è¯‘å™¨çš„å‰ä¸­ç«¯å’Œè¿è¡Œæ—¶ï¼Œå–å¾—äº†ä¸€å®šçš„é˜¶æ®µæ€§æˆæœï¼Œä½†æ˜¯æˆ‘ä»¬å¤§çº¦åœ¨ä¸€å¹´å‰å¹¶ä¸æ˜¯è¿™ä¸ªæ ·å­çš„ã€‚</p><p>ä¸€å¹´å‰ï¼Œæˆ‘ä»¬ä½¿ç”¨ Python è¯­è¨€æ„å»ºäº†æ•´ä¸ª KCL è¯­è¨€ç¼–è¯‘å™¨çš„å®ç°ï¼Œè™½ç„¶åœ¨ä¸€å¼€å§‹çš„æ—¶å€™è¿è¡Œè‰¯å¥½ï¼ŒPython ç®€å•æ˜“ä¸Šæ‰‹ï¼Œç”Ÿæ€ä¸°å¯Œï¼Œå›¢é˜Ÿçš„ç ”å‘æ•ˆç‡ä¹Ÿå¾ˆé«˜ï¼Œä½†æ˜¯éšç€ä»£ç åº“çš„æ‰©å¼ å’Œå·¥ç¨‹å¸ˆäººæ•°çš„å¢åŠ ï¼Œä»£ç ç»´æŠ¤èµ·æ¥æ„ˆåŠ å›°éš¾ï¼Œå°½ç®¡æˆ‘ä»¬åœ¨é¡¹ç›®ä¸­å¼ºåˆ¶ç¼–å†™ Python ç±»å‹æ³¨è§£ï¼Œé‡‡ç”¨æ›´ä¸¥æ ¼çš„ lint å·¥å…·ï¼Œä»£ç æµ‹è¯•è¡Œè¦†ç›–ç‡ä¹Ÿè¾¾åˆ°äº† 90% ä»¥ä¸Šï¼Œä½†æ˜¯ä»ç„¶ä¼šå‡ºç°å¾ˆå¤šè¯¸å¦‚ Python None ç©ºå¯¹è±¡ï¼Œå±æ€§æœªæ‰¾åˆ°ç­‰è¿è¡Œæ—¶æ‰ä¼šå‡ºç°é”™è¯¯ï¼Œå¹¶ä¸”é‡æ„ Python ä»£ç æ—¶ä¹Ÿéœ€è¦å°å¿ƒç¿¼ç¿¼ï¼Œååº”åˆ° KCL è¯­è¨€ä¸Šå°±æ˜¯ä¸€ä¸ªæ¥ä¸€ä¸ªçš„ bug, ä¸¥é‡å½±å“ç”¨æˆ·ä½¿ç”¨ä½“éªŒã€‚</p><p>æ­¤å¤–ï¼Œå½“ KCL ä½¿ç”¨å¯¹è±¡æ˜¯å¹¿å¤§å¼€å‘è€…ç”¨æˆ·æ—¶ï¼Œç¼–ç¨‹è¯­è¨€æˆ–è€…è¯´ç¼–è¯‘å™¨å†…éƒ¨å®ç°å‡ºç°ä»»ä½•é”™è¯¯éƒ½æ˜¯ä¸å¯å®¹å¿çš„ï¼Œè¿™äº›ä¹Ÿç»™æˆ‘ä»¬çš„ç”¨æˆ·ä½¿ç”¨ä½“éªŒå¸¦æ¥äº†ä¸€ç³»åˆ—é—®é¢˜ï¼Œä½¿ç”¨ Python ç¼–å†™çš„ç¨‹åºå¯åŠ¨é€Ÿåº¦è¾ƒæ…¢ï¼Œæ€§èƒ½æ— æ³•æ»¡è¶³è‡ªåŠ¨åŒ–ç³»ç»Ÿåœ¨çº¿ç¼–è¯‘å’Œæ‰§è¡Œçš„æ•ˆç‡è¯‰æ±‚ï¼Œå› ä¸ºåœ¨æˆ‘ä»¬çš„åœºæ™¯ä¸­ï¼Œç”¨æˆ·ä¿®æ”¹ KCL ä»£ç åéœ€è¦èƒ½å¾ˆå¿«çš„å±•ç¤ºç¼–è¯‘ç»“æœï¼Œæ˜¾ç„¶ä½¿ç”¨ Python ç¼–å†™çš„ç¼–è¯‘å™¨å¹¶ä¸èƒ½å¾ˆå¥½åœ°æ»¡è¶³ä½¿ç”¨éœ€æ±‚ã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ä¸ºä»€ä¹ˆé€‰æ‹©-rust">ä¸ºä»€ä¹ˆé€‰æ‹© Rust<a href="#ä¸ºä»€ä¹ˆé€‰æ‹©-rust" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>ç¬”è€…æ‰€åœ¨å›¢é˜ŸåŸºäºå¦‚ä¸‹åŸå› é€‰æ‹©äº† Rust</p><ul><li>ä½¿ç”¨ Go, Python, Rust ä¸‰ç§è¯­è¨€å®ç°äº†ç®€å•çš„ç¼–ç¨‹è¯­è¨€æ ˆå¼è™šæ‹Ÿæœºå¹¶ä½œäº†æ€§èƒ½å¯¹æ¯”ï¼ŒGo å’Œ Rust åœ¨è¿™ä¸ªåœºæ™¯ä¸‹æ€§èƒ½æ¥è¿‘ï¼ŒPython æœ‰è¾ƒå¤§æ€§èƒ½å·®è·ï¼Œç»¼åˆè€ƒè™‘ä¸‹é‡‡ç”¨äº† Rustï¼Œå…·ä½“ä¸‰ç§è¯­è¨€å®ç°çš„æ ˆå¼è™šæ‹Ÿæœºä»£ç ç»†èŠ‚åœ¨ <a href="https://github.com/Peefy/StackMachine" target="_blank" rel="noopener noreferrer">https://github.com/Peefy/StackMachine</a>ï¼Œæ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥å‰å¾€æµè§ˆ</li><li>è¶Šæ¥è¶Šå¤šçš„ç¼–ç¨‹è¯­è¨€çš„ç¼–è¯‘å™¨æˆ–è¿è¡Œæ—¶ç‰¹åˆ«æ˜¯å‰ç«¯åŸºç¡€è®¾æ–½é¡¹ç›®é‡‡ç”¨ Rust ç¼–å†™æˆ–é‡æ„ï¼Œæ­¤å¤–åŸºç¡€è®¾æ–½å±‚ï¼Œæ•°æ®åº“ã€æœç´¢å¼•æ“ã€ç½‘ç»œè®¾æ–½ã€äº‘åŸç”Ÿã€UI å±‚å’ŒåµŒå…¥å¼ç­‰é¢†åŸŸéƒ½æœ‰ Rust çš„å‡ºç°ï¼Œè‡³å°‘åœ¨ç¼–ç¨‹è¯­è¨€é¢†åŸŸå®ç°æ–¹é¢ç»è¿‡äº†å¯è¡Œæ€§å’Œç¨³å®šæ€§éªŒè¯</li><li>è€ƒè™‘åˆ°åç»­çš„é¡¹ç›®å‘å±•ä¼šæ¶‰åŠåŒºå—é“¾å’Œæ™ºèƒ½åˆçº¦æ–¹å‘ï¼Œè€Œç¤¾åŒºä¸­å¤§é‡çš„åŒºå—é“¾å’Œæ™ºèƒ½åˆçº¦é¡¹ç›®é‡‡ç”¨ Rust ç¼–å†™</li><li>é€šè¿‡ Rust è·å¾—æ›´å¥½çš„æ€§èƒ½å’Œç¨³å®šæ€§ï¼Œè®©ç³»ç»Ÿæ›´å®¹æ˜“ç»´æŠ¤ã€æ›´åŠ å¥å£®çš„åŒæ—¶ï¼Œå¯ä»¥é€šè¿‡ FFI æš´éœ² C API ä¾›å¤šè¯­è¨€ä½¿ç”¨å’Œæ‰©å±•ï¼Œæ–¹ä¾¿ç”Ÿæ€æ‰©å±•ä¸é›†æˆ</li><li>Rust å¯¹ WASM çš„æ”¯æŒæ¯”è¾ƒå‹å¥½ï¼Œç¤¾åŒºä¸­å¤§é‡ WASM ç”Ÿæ€æ˜¯ç”± Rust æ„å»ºï¼ŒKCL è¯­è¨€å’Œç¼–è¯‘å™¨å¯ä»¥å€ŸåŠ© Rust ç¼–è¯‘åˆ° WASM å¹¶åœ¨æµè§ˆå™¨ä¸­è¿è¡Œ</li></ul><p>åŸºäºä»¥ä¸ŠåŸå› ç»¼åˆè€ƒè™‘é€‰æ‹©äº† Rust è€Œä¸æ˜¯ Goï¼Œæ•´ä¸ªé‡å†™è¿‡ç¨‹ä¸‹æ¥å‘ç° Rust ç»¼åˆç´ è´¨ç¡®å®è¿‡ç¡¬ï¼ˆç¬¬ä¸€æ¢¯é˜Ÿçš„æ€§èƒ½ï¼Œè¶³å¤Ÿçš„æŠ½è±¡ç¨‹åº¦ï¼‰ï¼Œè™½ç„¶åœ¨ä¸€äº›è¯­è¨€ç‰¹æ€§ç‰¹åˆ«æ˜¯ç”Ÿå‘½å‘¨æœŸç­‰ä¸Šæ‰‹æˆæœ¬æœ‰ä¸€äº›ï¼Œç”Ÿæ€ä¸Šè¿˜ä¸å¤Ÿä¸°å¯Œï¼Œæ€»ä¹‹ç¼–ç¨‹è¯­è¨€å¯ä»¥åšçš„äº‹æƒ…ï¼ŒRust å‡å¯ä»¥åšï¼Œå…·ä½“å¯èƒ½è¿˜æ˜¯è¦æ ¹æ®å…·ä½“çš„åœºæ™¯å’Œé—®é¢˜æ¥åšé€‰æ‹©ã€‚åŒæ—¶å¦‚æœæƒ³è¦ä½¿ç”¨å¥½ Rust, è¿˜éœ€è¦æ·±å…¥ç†è§£å†…å­˜ã€å †æ ˆã€å¼•ç”¨ã€å˜é‡ä½œç”¨åŸŸç­‰è¿™äº›å…¶å®ƒé«˜çº§è¯­è¨€å¾€å¾€ä¸ä¼šæ·±å…¥æ¥è§¦çš„å†…å®¹ã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ä½¿ç”¨-rust-è¿‡ç¨‹ä¸­é‡åˆ°äº†å“ªäº›å›°éš¾">ä½¿ç”¨ Rust è¿‡ç¨‹ä¸­é‡åˆ°äº†å“ªäº›å›°éš¾<a href="#ä½¿ç”¨-rust-è¿‡ç¨‹ä¸­é‡åˆ°äº†å“ªäº›å›°éš¾" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>è™½ç„¶å†³å®šäº†ä½¿ç”¨ Rust é‡å†™æ•´ä¸ª KCL é¡¹ç›®ï¼Œå…¶å®å›¢é˜Ÿæˆå‘˜å¤§éƒ¨åˆ†æˆå‘˜æ˜¯æ²¡æœ‰ä½¿ç”¨ Rust ç¼–å†™ä¸€å®šä»£ç ä½“é‡é¡¹ç›®çš„ç»éªŒï¼ŒåŒ…æ‹¬ç¬”è€…ä¸ªäººè‡ªå·±ä¹Ÿä»…ä»…å­¦ä¹ è¿‡ <a href="https://doc.rust-lang.org/book/" target="_blank" rel="noopener noreferrer">ã€ŠThe Rust Programming Languageã€‹</a> ä¸­çš„éƒ¨åˆ†å†…å®¹ï¼Œä¾ç¨€è®°å¾—å­¦ä¹ åˆ° <code>Rc</code> å’Œ <code>RefCell</code> ç­‰æ™ºèƒ½æŒ‡é’ˆå†…å®¹å°±æ”¾å¼ƒäº†ï¼Œé‚£æ—¶æ²¡æƒ³åˆ° Rust ä¸­è¿˜èƒ½æœ‰ä¸ C++ ä¸­ç±»ä¼¼çš„ä¸œè¥¿ã€‚</p><p>ä½¿ç”¨ Rust å‰é¢„ä¼°çš„é£é™©ä¸»è¦æ˜¯ Rust è¯­è¨€æ¥è§¦å’Œå­¦ä¹ çš„æˆæœ¬ï¼Œè¿™ä¸ªç¡®å®åœ¨å„ç§ Rust çš„æ–‡ç« åšå®¢ä¸­å‡æœ‰æåˆ°ï¼Œå› ä¸º KCL é¡¹ç›®æ•´ä½“æ¶æ„å¹¶æœªå‘ç”Ÿå¤ªå¤§å˜åŒ–ï¼Œåªæ˜¯éƒ¨åˆ†æ¨¡å—è®¾è®¡å’Œä»£ç ç¼–å†™é’ˆå¯¹ Rust ä½œäº†ä¼˜åŒ–ï¼Œå› æ­¤æ•´ä¸ªé‡å†™æ˜¯åœ¨è¾¹å­¦è¾¹å®è·µä¸­è¿›è¡Œã€‚ç¡®å®åœ¨åˆšå¼€å§‹ä½¿ç”¨ Rust ç¼–å†™æ•´ä¸ªé¡¹ç›®çš„æ—¶å€™èŠ±è´¹åœ¨çŸ¥è¯†æŸ¥è¯¢ã€ç¼–è¯‘æ’é”™çš„æ—¶é—´è¿˜æ˜¯å¾ˆå¤šçš„ï¼Œä¸è¿‡éšç€é¡¹ç›®çš„è¿›è¡Œæ¸å…¥ä½³å¢ƒï¼Œç¬”è€…ä¸ªäººç»éªŒä½¿ç”¨ Rust é‡åˆ°çš„å›°éš¾ä¸»è¦æ˜¯å¿ƒæ™ºè½¬æ¢å’Œå¼€å‘æ•ˆç‡ä¸¤æ–¹é¢:</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="å¿ƒæ™ºè½¬æ¢">å¿ƒæ™ºè½¬æ¢<a href="#å¿ƒæ™ºè½¬æ¢" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>é¦–å…ˆ Rust çš„è¯­æ³•è¯­ä¹‰å¾ˆå¥½åœ°å¸æ”¶å’Œèåˆäº†å‡½æ•°å¼ç¼–ç¨‹ä¸­ç±»å‹ç³»ç»Ÿç›¸å…³çš„æ¦‚å¿µï¼Œæ¯”å¦‚æŠ½è±¡ä»£æ•°ç±»å‹ ADT ç­‰ï¼Œå¹¶ä¸” Rust ä¸­å¹¶æ— â€œç»§æ‰¿â€ç­‰ç›¸å…³æ¦‚å¿µï¼Œå¦‚æœä¸èƒ½å¾ˆå¥½åœ°ç†è§£ç”šè‡³è¿å…¶ä»–è¯­è¨€ä¸­ç¨€æ¾å¹³å¸¸çš„ç»“æ„å®šä¹‰åœ¨ Rust ä¸­å¯èƒ½éƒ½éœ€è¦èŠ±è´¹ä¸å°‘æ—¶é—´ï¼Œæ¯”å¦‚å¦‚ä¸‹çš„ Python ä»£ç å¯èƒ½åœ¨ Rust ä¸­çš„å®šä¹‰æ˜¯è¿™ä¸ªæ ·å­çš„ã€‚</p><ul><li>Python</li></ul><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> dataclasses </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> dataclass</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">KCLObject</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">pass</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token decorator annotation punctuation" style="color:#393A34">@dataclass</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">KCLIntObject</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">KCLObject</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    value</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token decorator annotation punctuation" style="color:#393A34">@dataclass</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">KCLFloatObject</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">KCLObject</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    value</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">float</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>Rust</li></ul><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">enum KCLObject {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Int(u64),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Float(f64),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>å½“ç„¶æ›´å¤šçš„æ—¶é—´æ˜¯åœ¨ä¸ Rust ç¼–è¯‘å™¨æœ¬èº«çš„æŠ¥é”™ä½œæ–—äº‰ï¼ŒRust ç¼–è¯‘å™¨ä¼šç»å¸¸ä½¿å¼€å‘äººå‘˜"ç¢°å£"ï¼Œæ¯”å¦‚å€Ÿç”¨æ£€æŸ¥æŠ¥é”™ç­‰ï¼Œç‰¹åˆ«æ˜¯å¯¹äºç¼–è¯‘å™¨æ¥è®²ï¼Œå®ƒå¤„ç†çš„æ ¸å¿ƒç»“æ„æ˜¯æŠ½è±¡è¯­æ³•æ ‘ ASTï¼Œè¿™æ˜¯ä¸€ä¸ªé€’å½’å’ŒåµŒå¥—çš„æ ‘ç»“æ„ï¼Œåœ¨ Rust ä¸­æœ‰æ—¶å¾ˆéš¾å…¼é¡¾å˜é‡å¯å˜æ€§ä¸å€Ÿç”¨æ£€æŸ¥çš„å…³ç³»ï¼Œå°±å¦‚ KCL ç¼–è¯‘å™¨ä½œç”¨åŸŸ <code>Scope</code> çš„ç»“æ„å®šä¹‰ç»“æ„é‚£æ ·ï¼Œå¯¹äºå­˜åœ¨å¾ªç¯å¼•ç”¨çš„åœºæ™¯ï¼Œç”¨äºéœ€è¦æ˜¾ç¤ºæ„è¯†åˆ°æ•°æ®çš„ç›¸äº’ä¾èµ–å…³ç³»ï¼Œè€Œå¤§é‡ä½¿ç”¨ <code>Rc</code>, <code>RefCell</code> å’Œ <code>Weak</code> ç­‰ Rust ä¸­å¸¸ç”¨çš„æ™ºèƒ½æŒ‡é’ˆç»“æ„ã€‚</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/// A Scope maintains a set of objects and links to its containing</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/// (parent) and contained (children) scopes. Objects may be inserted</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/// and looked up by name. The zero value for Scope is a ready-to-use</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/// empty scope.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#[derive(Clone, Debug)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pub struct Scope {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// The parent scope.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pub parent: Option&lt;Weak&lt;RefCell&lt;Scope&gt;&gt;&gt;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// The child scope list.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pub children: Vec&lt;Rc&lt;RefCell&lt;Scope&gt;&gt;&gt;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// The scope object mapping with its name.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pub elems: IndexMap&lt;String, Rc&lt;RefCell&lt;ScopeObject&gt;&gt;&gt;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// The scope start position.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pub start: Position,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// The scope end position.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pub end: Position,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// The scope kind.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pub kind: ScopeKind,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="å¼€å‘æ•ˆç‡">å¼€å‘æ•ˆç‡<a href="#å¼€å‘æ•ˆç‡" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>Rust çš„å¼€å‘æ•ˆç‡å¯ä»¥ç”¨å…ˆæŠ‘åæ‰¬æ¥å½¢å®¹ã€‚åœ¨åˆšå¼€å§‹ä¸Šæ‰‹å†™é¡¹ç›®æ—¶ï¼Œå¦‚æœå›¢é˜Ÿæˆå‘˜æ²¡æœ‰æ¥è§¦è¿‡å‡½æ•°å¼ç¼–ç¨‹ç›¸å…³æ¦‚å¿µä»¥åŠç›¸å…³çš„ç¼–ç¨‹ä¹ æƒ¯ï¼Œå¼€å‘é€Ÿåº¦å°†æ˜¾è‘—æ…¢äº Pythonã€Go å’Œ Java ç­‰è¯­è¨€ï¼Œä¸è¿‡ä¸€æ—¦å¼€å§‹ç†Ÿæ‚‰ Rust æ ‡å‡†åº“å¸¸ç”¨çš„æ–¹æ³•ã€æœ€ä½³å®è·µä»¥åŠå¸¸è§ Rust ç¼–è¯‘å™¨æŠ¥é”™ä¿®æ”¹ï¼Œå¼€å‘æ•ˆç‡å°†å¤§å¹…æå‡ï¼Œå¹¶ä¸”åŸç”Ÿå°±èƒ½å†™å‡ºé«˜è´¨é‡ã€å®‰å…¨ã€é«˜æ•ˆçš„ä»£ç ã€‚</p><p>æ¯”å¦‚ç¬”è€…ä¸ªäººå½“åˆé‡åˆ°ä¸€ä¸ªå¦‚ä¸‹ä»£ç æ‰€ç¤ºçš„ä¸ç”Ÿå‘½å‘¨æœŸé”™è¯¯å‰å‰ååæ’æŸ¥äº†å¾ˆä¹…çš„æ—¶é—´æ‰å‘ç°åŸæ¥æ˜¯å¿˜è®°æ ‡æ³¨ç”Ÿå‘½å‚æ•°å¯¼è‡´ç”Ÿå‘½å‘¨æœŸä¸åŒ¹é…ã€‚æ­¤å¤– Rust çš„ç”Ÿå‘½å‘¨æœŸä¸ç±»å‹ç³»ç»Ÿã€ä½œç”¨åŸŸã€æ‰€æœ‰æƒã€å€Ÿç”¨æ£€æŸ¥ç­‰æ¦‚å¿µè€¦åˆåœ¨ä¸€èµ·ï¼Œå¯¼è‡´äº†è¾ƒé«˜çš„ç†è§£æˆæœ¬å’Œå¤æ‚åº¦ï¼Œä¸”æŠ¥é”™ä¿¡æ¯å¾€å¾€ä¸åƒç±»å‹é”™è¯¯é‚£ä¹ˆæ˜æ˜¾ï¼Œç”Ÿå‘½å‘¨æœŸä¸åŒ¹é…é”™è¯¯æŠ¥é”™ä¿¡æ¯æœ‰æ—¶ä¹Ÿç•¥æ˜¾å‘†æ¿ï¼Œå¯èƒ½ä¼šå¯¼è‡´è¾ƒé«˜çš„æ’é”™æˆæœ¬ï¼Œå½“ç„¶ç†Ÿæ‚‰ç›¸å…³æ¦‚å¿µå†™å¤šäº†ä¹‹åæ•ˆç‡ä¼šæé«˜ä¸å°‘ã€‚</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">struct Data&lt;'a&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    b: &amp;'a u8,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// func1 å’Œ func2 ä¸€ä¸ªçœç•¥äº†ç”Ÿå‘½å‘¨æœŸå‚æ•°ï¼Œä¸€ä¸ªæ²¡æœ‰çœç•¥</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// å¯¹äº func2 çš„ç”Ÿå‘½å‘¨æœŸä¼šç”±ç¼–è¯‘å™¨ç¼ºçœæ¨å¯¼ä¸º '_ï¼Œå¯èƒ½å¯¼è‡´ç”Ÿå‘½å‘¨æœŸä¸åŒ¹é…é”™è¯¯</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">impl&lt;'a&gt; Data&lt;'a&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn func1(&amp;self) -&gt; Data&lt;'a&gt; {Data { b: &amp;0 }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn func2(&amp;self) -&gt; Data {Data { b: &amp;0 }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ä½¿ç”¨-rust-é‡å†™æ”¶ç›Šæ¯”">ä½¿ç”¨ Rust é‡å†™æ”¶ç›Šæ¯”<a href="#ä½¿ç”¨-rust-é‡å†™æ”¶ç›Šæ¯”" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>ç»è¿‡å›¢é˜Ÿå‡ ä¸ªäººèŠ±è´¹å‡ ä¸ªæœˆæ—¶é—´ä½¿ç”¨ Rust å®Œå…¨é‡å†™å¹¶ç¨³å®šè½åœ°ç”Ÿäº§ç¯å¢ƒå‡ ä¸ªæœˆåï¼Œå›é¡¾æ•´ä¸ªè¿‡ç¨‹æ„Ÿè§‰è¿™ä»¶äº‹æƒ…çš„æ”¶è·éå¸¸å¤§ï¼Œä»æŠ€æœ¯è§’åº¦å±‚é¢æ¥çœ‹ï¼Œé‡å†™çš„è¿‡ç¨‹ä¸ä»…ä»…é”»ç‚¼äº†å¿«é€Ÿå­¦ä¹ ä¸€é—¨æ–°çš„ç¼–ç¨‹è¯­è¨€ã€ç¼–ç¨‹çŸ¥è¯†å¹¶å°†å…¶ä»˜è¯¸å®è·µï¼Œå¹¶ä¸”æ•´ä¸ªé‡å†™è¿‡ç¨‹è®©æˆ‘ä»¬åˆåæ€äº† KCL ç¼–è¯‘å™¨ä¸­è®¾è®¡ä¸åˆç†çš„éƒ¨åˆ†å¹¶è¿›è¡Œä¿®æ”¹ï¼Œå¯¹ä¸€ä¸ªç¼–ç¨‹è¯­è¨€è€Œè¨€ï¼Œè¿™æ˜¯ä¸€ä¸ªé•¿å‘¨æœŸçš„é¡¹ç›®ï¼Œæˆ‘ä»¬æ”¶è·çš„æ˜¯ç¼–è¯‘å™¨ç³»ç»Ÿæ›´åŠ ç¨³å®šã€å®‰å…¨ï¼Œä¸”ä»£ç æ¸…æ™°ï¼Œbug æ›´å°‘ã€æ€§èƒ½æ›´å¥½çš„æŠ€æœ¯äº§å“æœåŠ¡äºç”¨æˆ·ï¼Œè™½ç„¶æ²¡æœ‰å…¨éƒ¨æ¨¡å—å¾—åˆ°é«˜è¾¾ 40 å€çš„æ€§èƒ½ï¼Œå› ä¸ºéƒ¨åˆ†æ¨¡å—å¦‚ KCL è¿è¡Œæ—¶çš„æ€§èƒ½ç“¶é¢ˆåœ¨äºå†…å­˜æ·±æ‹·è´æ“ä½œï¼Œä½†ç¬”è€…ä¸ªäººè®¤ä¸ºä»ç„¶æ˜¯å€¼å¾—çš„ã€‚ä¸”å½“ Rust ä½¿ç”¨æ—¶é—´åˆ°è¾¾ä¸€å®šæ—¶é•¿åï¼Œå¿ƒæ™ºå’Œå¼€å‘æ•ˆç‡ä¸å†æ˜¯é™åˆ¶å› ç´ ï¼Œå°±åƒå­¦è½¦é‚£æ ·ï¼Œæ‹¿åˆ°é©¾ç…§åæ›´å¤šæ˜¯ä¸Šè·¯å®è·µå’Œæ€»ç»“ã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ç»“è¯­">ç»“è¯­<a href="#ç»“è¯­" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>ç¬”è€…ä¸ªäººè§‰å¾—ä½¿ç”¨ Rust é‡å†™é¡¹ç›®åæœ€é‡è¦çš„æ˜¯ä¸æ˜¯æˆ‘å­¦ä¼šäº†ä¸€é—¨æ–°çš„ç¼–ç¨‹è¯­è¨€ï¼Œä¹Ÿä¸æ˜¯ Rust å¾ˆæµè¡Œå¾ˆç«å› æ­¤æˆ‘ä»¬åœ¨é¡¹ç›®ä¸­é‡‡ç”¨ä¸€ä¸‹ï¼Œæˆ–è€…ä½¿ç”¨ Rust ç¼–å†™äº†å¤šå°‘ç‚«æŠ€çš„ä»£ç ï¼Œæ˜¯çœŸçœŸæ­£æ­£åœ°ä½¿å¾—è¯­è¨€å’Œç¼–è¯‘å™¨æœ¬èº«æ›´åŠ ç¨³å®šï¼Œèƒ½å¤Ÿåœ¨ç”Ÿäº§ç¯å¢ƒå¹³ç¨³è½åœ°å¹¶é•¿æœŸä½¿ç”¨ï¼Œå¯åŠ¨é€Ÿåº¦å’Œè‡ªåŠ¨åŒ–æ•ˆç‡ä¸å†å—å›°æ‰°ï¼Œæ€§èƒ½ä¼˜äºç¤¾åŒºå…¶ä»–åŒç±»å‹é¢†åŸŸç¼–ç¨‹è¯­è¨€ï¼Œä½¿æˆ‘ä»¬è¯­è¨€å’Œå·¥å…·çš„ç”¨æˆ·æ„Ÿå—åˆ°ä½“éªŒæå‡ï¼Œè¿™äº›éƒ½å¾—ç›Šäº Rust çš„æ—  GCã€é«˜æ€§èƒ½ã€æ›´å¥½çš„é”™è¯¯å¤„ç†å†…å­˜ç®¡ç†ã€é›¶æŠ½è±¡ç­‰ç‰¹æ€§ã€‚æ€»ä¹‹ä½œä¸ºç”¨æˆ·ï¼Œä»–ä»¬æ‰æ˜¯æœ€å¤§çš„å—ç›Šè€…ã€‚</p><p>æœ€åï¼Œå¦‚æœå¤§å®¶å–œæ¬¢ KCL è¯­è¨€è¿™ä¸ªé¡¹ç›®ï¼Œæˆ–æƒ³ä½¿ç”¨ä½“éªŒ KCL ç”¨äºè‡ªå·±çš„åœºæ™¯ï¼Œæˆ–æƒ³ä½¿ç”¨ Rust è¯­è¨€å‚ä¸ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œæ¬¢è¿å¤§å®¶è®¿é—® <a href="https://github.com/kcl-lang/community" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/community</a> åŠ å…¥æˆ‘ä»¬çš„ç¤¾åŒºä¸€èµ·å‚ä¸è®¨è®ºå’Œå…±å»º ğŸ‘ğŸ‘ğŸ‘ã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å‚è€ƒ">å‚è€ƒ<a href="#å‚è€ƒ" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><ul><li><a href="https://github.com/kcl-lang/kcl" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl</a></li><li><a href="https://github.com/Peefy/StackMachine" target="_blank" rel="noopener noreferrer">https://github.com/Peefy/StackMachine</a></li><li><a href="https://doc.rust-lang.org/book/" target="_blank" rel="noopener noreferrer">https://doc.rust-lang.org/book/</a></li><li><a href="https://github.com/sunface/rust-course" target="_blank" rel="noopener noreferrer">https://github.com/sunface/rust-course</a></li><li><a href="https://www.influxdata.com/blog/rust-can-be-difficult-to-learn-and-frustrating-but-its-also-the-most-exciting-thing-in-software-development-in-a-long-time/" target="_blank" rel="noopener noreferrer">https://www.influxdata.com/blog/rust-can-be-difficult-to-learn-and-frustrating-but-its-also-the-most-exciting-thing-in-software-development-in-a-long-time/</a></li></ul>]]></content>
        <author>
            <name>å¾é¹é£</name>
        </author>
        <category label="KCL" term="KCL"/>
        <category label="Rust" term="Rust"/>
        <category label="Performance" term="Performance"/>
        <category label="Programming Language" term="Programming Language"/>
        <category label="Compiler" term="Compiler"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[SETTA 2022 ä¼šè®® KCL ä»‹ç»å†…å®¹]]></title>
        <id>https://kcl-lang.github.io/zh-CN/blog/2022-kcl-setta-meeting</id>
        <link href="https://kcl-lang.github.io/zh-CN/blog/2022-kcl-setta-meeting"/>
        <updated>2022-10-27T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[KCL Talk Cover]]></summary>
        <content type="html"><![CDATA[<p><img loading="lazy" alt="KCL Talk Cover" src="/zh-CN/assets/images/talk-cover-05e9f3c2c0e70c2c01ff77b3baa1f795.jpg" width="2548" height="1424" class="img_ev3q"></p><p><a href="https://kcl-lang.github.io/talks/kcl-setta2022.pdf" target="_blank" rel="noopener noreferrer">PDF ä¸‹è½½</a></p>]]></content>
        <author>
            <name>å¾é¹é£</name>
        </author>
        <category label="KCL" term="KCL"/>
        <category label="Configuration" term="Configuration"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[KCL è®ºæ–‡è¢« SETTA 2022 ä¼šè®®å½•ç”¨]]></title>
        <id>https://kcl-lang.github.io/zh-CN/blog/2022-kcl-setta-paper</id>
        <link href="https://kcl-lang.github.io/zh-CN/blog/2022-kcl-setta-paper"/>
        <updated>2022-10-13T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[è¿‘æ—¥ï¼Œç”± KCL å›¢é˜Ÿæˆå‘˜æ’°å†™çš„å…³äº KCL åˆ›æ–°è®ºæ–‡è¢« SETTA 2022 å›½é™…ä¼šè®®é•¿æ–‡å½•ç”¨ã€‚]]></summary>
        <content type="html"><![CDATA[<p>è¿‘æ—¥ï¼Œç”± KCL å›¢é˜Ÿæˆå‘˜æ’°å†™çš„å…³äº KCL åˆ›æ–°è®ºæ–‡è¢« SETTA 2022 å›½é™…ä¼šè®®é•¿æ–‡å½•ç”¨ã€‚</p><p><img loading="lazy" src="/zh-CN/assets/images/kcl_paper_setta-fd6fd3c3ec523f850510540c49302bc4.png" width="756" height="852" class="img_ev3q"></p><p>Symposium on Dependable Software Engineeringï¼ˆä»¥ä¸‹ç®€ç§° SETTAï¼‰å¯é è½¯ä»¶å·¥ç¨‹ç ”è®¨ä¼šæ—¨åœ¨å°†å›½é™…ç ”ç©¶äººå‘˜èšé›†åœ¨ä¸€èµ·ï¼Œå°±ç¼©å°å½¢å¼åŒ–æ–¹æ³•ä¸è½¯ä»¶å·¥ç¨‹ä¹‹é—´çš„å·®è·äº¤æµç ”ç©¶æˆæœå’Œæƒ³æ³•ã€‚ä¾‹å¦‚ï¼Œå°†å½¢å¼åŒ–æŠ€æœ¯å’Œå·¥å…·åº”ç”¨äºå·¥ç¨‹å¤§å‹ç³»ç»Ÿï¼ˆå¦‚ç½‘ç»œç‰©ç†ç³»ç»Ÿ (CPS)ã€ç‰©è”ç½‘ (IoT)ã€ä¼ä¸šç³»ç»Ÿã€åŸºäºäº‘çš„ç³»ç»Ÿç­‰ï¼‰ã€‚</p><p>æ­¤æ¬¡è¢«å½•ç”¨çš„è®ºæ–‡ä¸ºã€ŠKCL: A Declarative Language for Large-scale Configuration and Policy Managementã€‹ï¼Œè¯¥è®ºæ–‡çš„æ ¸å¿ƒåˆ›æ–°ç‚¹æ˜¯æå‡ºäº† KCL å£°æ˜å¼è¯­è¨€ã€å¼€å‘æœºåˆ¶ä»¥åŠä¸€è‡´çš„å·¥ä½œæµç¨‹ã€‚é€šè¿‡è¯­è¨€çš„å»ºæ¨¡åŠçº¦æŸèƒ½åŠ›ï¼Œå¯ä»¥æå‡è¿ç»´å¼€å‘è¿‡ç¨‹ä¸­çš„å¤šå›¢é˜Ÿåä½œç”Ÿäº§åŠ›ä»¥åŠæ•ˆç‡ï¼ŒåŒæ—¶ç¡®ä¿å¤§è§„æ¨¡é…ç½®å’Œç­–ç•¥ç®¡ç†çš„ç¨³å®šæ€§ã€‚</p><p>æ­¤å¤–ï¼ŒSETTA 2022 å°†åœ¨åŒ—äº¬æ—¶é—´ 10 æœˆ 27 æ—¥è‡³ 10 æœˆ 28 æ—¥ä¸¾åŠçº¿ä¸Šä¼šè®®ï¼Œå±Šæ—¶ä¼šåˆ†äº« KCL è®ºæ–‡è¯¦ç»†å†…å®¹ï¼Œæ¬¢è¿åŠ å…¥ <a href="https://github.com/kcl-lang/community" target="_blank" rel="noopener noreferrer">KCL ç¤¾åŒº</a> è¿›è¡Œå›´è§‚ã€‚SETTA 2022 ä¼šè®®è®®ç¨‹è¯¦æƒ…è¯·å‚è€ƒï¼š<a href="https://lcs.ios.ac.cn/setta2022/program.php" target="_blank" rel="noopener noreferrer">https://lcs.ios.ac.cn/setta2022/program.php</a></p><p>æ³¨ï¼šç›®å‰ KCL å·²åœ¨ Github å¼€æºï¼Œæ¬¢è¿è®¿é—® <a href="https://github.com/kcl-lang/kcl" target="_blank" rel="noopener noreferrer">https://github.com/kcl-lang/kcl</a> è·å¾—æ›´å¤šä¿¡æ¯ã€‚</p>]]></content>
        <author>
            <name>å¾é¹é£</name>
        </author>
        <category label="KCL" term="KCL"/>
        <category label="Configuration" term="Configuration"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[å£°æ˜å¼é…ç½®æŠ€æœ¯æ¦‚è¿°]]></title>
        <id>https://kcl-lang.github.io/zh-CN/blog/2022-declarative-config-overview</id>
        <link href="https://kcl-lang.github.io/zh-CN/blog/2022-declarative-config-overview"/>
        <updated>2022-09-15T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[é›¶ã€å‰è¨€]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="é›¶å‰è¨€">é›¶ã€å‰è¨€<a href="#é›¶å‰è¨€" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>æ–‡æœ¬ä»…ç”¨äºæ¾„æ¸…å£°æ˜å¼é…ç½®æŠ€æœ¯æ¦‚è¿°ï¼Œ<a href="https://github.com/kcl-lang/kcl" target="_blank" rel="noopener noreferrer">KCL</a> æ¦‚å¿µä»¥åŠæ ¸å¿ƒè®¾è®¡ï¼Œä»¥åŠä¸å…¶ä»–é…ç½®è¯­è¨€çš„å¯¹æ¯”ã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ä¸€å£°æ˜å¼é…ç½®æ¦‚è¿°">ä¸€ã€å£°æ˜å¼é…ç½®æ¦‚è¿°<a href="#ä¸€å£°æ˜å¼é…ç½®æ¦‚è¿°" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="11-é…ç½®çš„é‡è¦æ€§">1.1 é…ç½®çš„é‡è¦æ€§<a href="#11-é…ç½®çš„é‡è¦æ€§" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><ul><li>è½¯ä»¶ä¸æ˜¯ä¸€æˆä¸å˜çš„ï¼Œæ¯å¤©æœ‰æˆåƒä¸Šä¸‡çš„é…ç½®æ›´æ–°ï¼Œå¹¶ä¸”é…ç½®æœ¬èº«ä¹Ÿåœ¨é€æ¸æ¼”è¿›ï¼Œå¯¹è§„æ¨¡åŒ–æ•ˆç‡æœ‰è¾ƒé«˜çš„è¯‰æ±‚<ul><li><strong>é…ç½®æ›´æ–°è¶Šæ¥è¶Šé¢‘ç¹</strong>ï¼šé…ç½®æä¾›äº†ä¸€ç§æ”¹å˜ç³»ç»ŸåŠŸèƒ½çš„ä½å¼€é”€æ–¹å¼ï¼Œä¸æ–­å‘å±•çš„ä¸šåŠ¡éœ€æ±‚ã€åŸºç¡€è®¾æ–½è¦æ±‚å’Œå…¶ä»–å› ç´ æ„å‘³ç€ç³»ç»Ÿéœ€è¦ä¸æ–­å˜åŒ–ã€‚</li><li><strong>é…ç½®è§„æ¨¡è¶Šæ¥è¶Šå¤§</strong>ï¼šä¸€ä»½é…ç½®å¾€å¾€è¦åˆ†å‘åˆ°ä¸åŒçš„äº‘ç«™ç‚¹ã€ä¸åŒçš„ç§Ÿæˆ·ã€ä¸åŒçš„ç¯å¢ƒç­‰ã€‚</li><li><strong>é…ç½®åœºæ™¯å¹¿æ³›</strong>ï¼šåº”ç”¨é…ç½®ã€æ•°æ®åº“é…ç½®ã€ç½‘ç»œé…ç½®ã€ç›‘æ§é…ç½®ç­‰ã€‚</li><li><strong>é…ç½®æ ¼å¼ç¹å¤š</strong>ï¼šJSON, YAML, XML, TOML, å„ç§é…ç½®æ¨¡ç‰ˆå¦‚ Java Velocity, Go Template ç­‰ã€‚</li></ul></li><li>é…ç½®çš„ç¨³å®šæ€§è‡³å…³é‡è¦ï¼Œç³»ç»Ÿå®•æœºæˆ–å‡ºé”™çš„ä¸€ä¸ªæœ€ä¸»è¦åŸå› æ˜¯æœ‰å¤§é‡å·¥ç¨‹å¸ˆè¿›è¡Œé¢‘ç¹çš„å®æ—¶é…ç½®æ›´æ–°ï¼Œè¡¨ 1 ç¤ºå‡ºäº†å‡ ä¸ªç”±äºé…ç½®å¯¼è‡´çš„ç³»ç»Ÿå‡ºé”™äº‹ä»¶ã€‚</li></ul><table><thead><tr><th>æ—¶é—´</th><th>äº‹ä»¶</th></tr></thead><tbody><tr><td>2021 å¹´ 7 æœˆ</td><td>ä¸­å›½ Bilibili å…¬å¸ç”±äº SLB Lua é…ç½®è®¡ç®—å‡ºé”™é™·å…¥æ­»å¾ªç¯å¯¼è‡´ç½‘ç«™å®•æœº</td></tr><tr><td>2021 å¹´ 10 æœˆ</td><td>éŸ©å›½ KT å…¬å¸ç”±äºè·¯ç”±é…ç½®é”™è¯¯å¯¼è‡´åœ¨å…¨å›½èŒƒå›´å†…é­å—é‡å¤§ç½‘ç»œä¸­æ–­</td></tr></tbody></table><p>è¡¨ 1 é…ç½®å¯¼è‡´çš„ç³»ç»Ÿå‡ºé”™äº‹ä»¶</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="12-å£°æ˜å¼é…ç½®åˆ†ç±»">1.2 å£°æ˜å¼é…ç½®åˆ†ç±»<a href="#12-å£°æ˜å¼é…ç½®åˆ†ç±»" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>äº‘åŸç”Ÿæ—¶ä»£å¸¦æ¥äº†å¦‚é›¨åæ˜¥ç¬‹èˆ¬çš„æŠ€æœ¯å‘å±•ï¼Œå‡ºç°äº†å¤§é‡é¢å‘ç»ˆæ€çš„å£°æ˜å¼é…ç½®å®è·µï¼Œå¦‚å›¾ 1 æ‰€ç¤ºï¼Œå£°æ˜å¼é…ç½®ä¸€èˆ¬å¯åˆ†ä¸ºå¦‚ä¸‹å‡ ç§æ–¹å¼ã€‚
<img loading="lazy" src="/zh-CN/assets/images/01-declarative-config-51ae2a21d367db31feb7268107ee18c8.png" width="1796" height="1076" class="img_ev3q">
å›¾ 1 å£°æ˜å¼é…ç½®æ–¹å¼åˆ†ç±»</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="121-ç»“æ„åŒ–-structured-çš„-kv">1.2.1 ç»“æ„åŒ– (Structured) çš„ KV<a href="#121-ç»“æ„åŒ–-structured-çš„-kv" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><p>ç»“æ„åŒ–çš„ KV å¯ä»¥æ»¡è¶³æœ€å°åŒ–æ•°æ®å£°æ˜éœ€æ±‚ï¼Œæ¯”å¦‚æ•°å­—ã€å­—ç¬¦ä¸²ã€åˆ—è¡¨å’Œå­—å…¸ç­‰æ•°æ®ç±»å‹ï¼Œå¹¶ä¸”éšç€äº‘åŸç”ŸæŠ€æœ¯å¿«é€Ÿå‘å±•åº”ç”¨ï¼Œå£°æ˜å¼ API å¯ä»¥æ»¡è¶³ X as Data å‘å±•çš„è¯‰æ±‚ï¼Œå¹¶ä¸”é¢å‘æœºå™¨å¯è¯»å¯å†™ï¼Œé¢å‘äººç±»å¯è¯»ã€‚å…¶ä¼˜åŠ£å¦‚ä¸‹:</p><ul><li>ä¼˜åŠ¿<ul><li>è¯­æ³•ç®€å•ï¼Œæ˜“äºç¼–å†™å’Œé˜…è¯»</li><li>å¤šè¯­è¨€ API ä¸°å¯Œ</li><li>æœ‰å„ç§ Path å·¥å…·æ–¹ä¾¿æ•°æ®æŸ¥è¯¢ï¼Œå¦‚ XPath, JsonPath ç­‰</li></ul></li><li>ç—›ç‚¹<ul><li>å†—ä½™ä¿¡æ¯å¤šï¼šå½“é…ç½®è§„æ¨¡è¾ƒå¤§æ—¶ï¼Œç»´æŠ¤å’Œé˜…è¯»é…ç½®å¾ˆå›°éš¾ï¼Œå› ä¸ºé‡è¦çš„é…ç½®ä¿¡æ¯è¢«æ·¹æ²¡åœ¨äº†å¤§é‡ä¸ç›¸å…³çš„é‡å¤ç»†èŠ‚ä¸­</li><li>åŠŸèƒ½æ€§ä¸è¶³<ul><li>çº¦æŸæ ¡éªŒèƒ½åŠ›</li><li>å¤æ‚é€»è¾‘ç¼–å†™èƒ½åŠ›</li><li>æµ‹è¯•ã€è°ƒè¯•èƒ½åŠ›</li><li>ä¸æ˜“æŠ½è±¡å’Œå¤ç”¨</li><li>Kustomize çš„ Patch æ¯”è¾ƒå®šåˆ¶ï¼ŒåŸºæœ¬æ˜¯é€šè¿‡å›ºå®šå‡ ç§ Patch Merge ç­–ç•¥</li></ul></li></ul></li></ul><p>ç»“æ„åŒ– KV çš„ä»£è¡¨æŠ€æœ¯æœ‰</p><ul><li>JSON/YAMLï¼šéå¸¸æ–¹ä¾¿é˜…è¯»ï¼Œä»¥åŠè‡ªåŠ¨åŒ–å¤„ç†ï¼Œä¸åŒçš„è¯­è¨€å‡å…·æœ‰ä¸°å¯Œçš„ API æ”¯æŒã€‚</li><li><a href="https://kustomize.io/" target="_blank" rel="noopener noreferrer">Kustomize</a>ï¼šæä¾›äº†ä¸€ç§æ— éœ€<strong>æ¨¡æ¿</strong>å’Œ <strong>DSL</strong> å³å¯è‡ªå®šä¹‰ Kubernetes èµ„æºåŸºç¡€é…ç½®å’Œå·®å¼‚åŒ–é…ç½®çš„è§£å†³æ–¹æ¡ˆï¼Œæœ¬èº«ä¸è§£å†³çº¦æŸçš„é—®é¢˜ï¼Œéœ€è¦é…åˆå¤§é‡çš„é¢å¤–å·¥å…·è¿›è¡Œçº¦æŸæ£€æŸ¥å¦‚ <a href="https://github.com/stackrox/kube-linter" target="_blank" rel="noopener noreferrer">Kube-linter</a>ã€<a href="https://github.com/bridgecrewio/checkov" target="_blank" rel="noopener noreferrer">Checkov</a> ç­‰æ£€æŸ¥å·¥å…·ï¼Œå›¾ 2 ç¤ºå‡ºäº† Kustomize çš„å…¸å‹å·¥ä½œæ–¹å¼ã€‚</li></ul><p><img loading="lazy" src="/zh-CN/assets/images/02-kustomize-244059a1d48b94791b1df4c33377a5a2.png" width="1222" height="1220" class="img_ev3q">
å›¾ 2 Kustomize å…¸å‹å·¥ä½œæ–¹å¼</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="123-æ¨¡ç‰ˆåŒ–-templated-çš„-kv">1.2.3 æ¨¡ç‰ˆåŒ– (Templated) çš„ KV<a href="#123-æ¨¡ç‰ˆåŒ–-templated-çš„-kv" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><p>æ¨¡ç‰ˆåŒ– (Templated) çš„ KV èµ‹äºˆé™æ€é…ç½®æ•°æ®åŠ¨æ€å‚æ•°çš„èƒ½åŠ›ï¼Œå¯ä»¥åšåˆ°ä¸€ä»½æ¨¡ç‰ˆ+åŠ¨æ€å‚æ•°è¾“å‡ºä¸åŒçš„é™æ€é…ç½®æ•°æ®ã€‚å…¶ä¼˜åŠ£å¦‚ä¸‹:</p><ul><li>ä¼˜åŠ¿<ul><li>ç®€å•çš„é…ç½®é€»è¾‘ï¼Œå¾ªç¯æ”¯æŒ</li><li>æ”¯æŒå¤–éƒ¨åŠ¨æ€å‚æ•°è¾“å…¥æ¨¡ç‰ˆ</li></ul></li><li>ç—›ç‚¹<ul><li>å®¹æ˜“è½å…¥æ‰€æœ‰é…ç½®å‚æ•°éƒ½æ˜¯æ¨¡ç‰ˆå‚æ•°çš„é™·é˜±</li><li>å½“é…ç½®è§„æ¨¡å˜å¤§æ—¶ï¼Œå¼€å‘è€…å’Œå·¥å…·éƒ½éš¾ä»¥ç»´æŠ¤å’Œåˆ†æå®ƒä»¬</li></ul></li></ul><p>æ¨¡ç‰ˆåŒ–ä»£è¡¨æŠ€æœ¯æœ‰:</p><ul><li><a href="https://helm.sh/" target="_blank" rel="noopener noreferrer">Helm</a>ï¼šKubernetes èµ„æºçš„åŒ…ç®¡ç†å·¥å…·ï¼Œé€šè¿‡é…ç½®æ¨¡ç‰ˆç®¡ç† Kubernetes èµ„æºé…ç½®ã€‚å›¾ 3 ç¤ºå‡ºäº†ä¸€ä¸ª Helm Jenkins Package ConfigMap é…ç½®æ¨¡ç‰ˆï¼Œå¯ä»¥çœ‹å‡ºè¿™äº›æ¨¡ç‰ˆæœ¬èº«éƒ½ååˆ†çŸ­å°ï¼Œå¯ä»¥ä¹¦å†™ç®€å•çš„é€»è¾‘ï¼Œé€‚åˆ Kubernetes åŸºç¡€ç»„ä»¶å›ºå®šçš„ä¸€ç³»åˆ—èµ„æºé…ç½®é€šè¿‡åŒ…ç®¡ç†+é¢å¤–çš„é…ç½®å‚æ•°è¿›è¡Œå®‰è£…ã€‚ç›¸æ¯”äºå•çº¯çš„æ¨¡ç‰ˆåŒ–çš„ KVï¼ŒHelm ä¸€å®šç¨‹åº¦ä¸Šæä¾›äº†æ¨¡ç‰ˆå­˜å‚¨/å¼•ç”¨å’Œè¯­ä¹‰åŒ–ç‰ˆæœ¬ç®¡ç†çš„èƒ½åŠ›ç›¸æ¯”äº Kustomize æ›´é€‚åˆç®¡ç†å¤–éƒ¨ Charts, ä½†æ˜¯åœ¨å¤šç¯å¢ƒã€å¤šç§Ÿæˆ·çš„é…ç½®ç®¡ç†ä¸Šä¸å¤ªæ“…é•¿ã€‚</li></ul><p><img loading="lazy" src="/zh-CN/assets/images/03-helm-c5b60deaf615e2e5d7a0f0d90cbda18c.png" width="2108" height="1248" class="img_ev3q"></p><p>å›¾ 3 Helm Jenkins Package ConfigMap é…ç½®æ¨¡ç‰ˆ</p><ul><li>å…¶ä»–å„ç§é…ç½®æ¨¡ç‰ˆï¼šJava Velocity, Go Template ç­‰æ–‡æœ¬æ¨¡æ¿å¼•æ“éå¸¸é€‚åˆ HTML ç¼–å†™æ¨¡æ¿ã€‚ä½†æ˜¯åœ¨é…ç½®åœºæ™¯ä¸­ä½¿ç”¨æ—¶ï¼Œå­˜åœ¨æ‰€æœ‰é…ç½®å­—æ®µå³æ¨¡ç‰ˆå‚æ•°çš„é£é™©ï¼Œå¼€å‘è€…å’Œå·¥å…·éƒ½éš¾ä»¥ç»´æŠ¤å’Œåˆ†æå®ƒä»¬ã€‚</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="123-ä»£ç åŒ–-programmable-çš„-kv">1.2.3 ä»£ç åŒ– (Programmable) çš„ KV<a href="#123-ä»£ç åŒ–-programmable-çš„-kv" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><p>Configuration as Code (CaC), ä½¿ç”¨ä»£ç äº§ç”Ÿé…ç½®ï¼Œå°±åƒå·¥ç¨‹å¸ˆä»¬åªéœ€è¦å†™é«˜çº§ GPL ä»£ç ï¼Œè€Œä¸æ˜¯æ‰‹å·¥ç¼–å†™å®¹æ˜“å‡ºé”™è€Œä¸”éš¾ä»¥ç†è§£çš„æœåŠ¡å™¨äºŒè¿›åˆ¶ä»£ç ä¸€æ ·ã€‚é…ç½®å˜æ›´åŒä»£ç å˜æ›´åŒæ ·ä¸¥è‚ƒåœ°å¯¹å¾…ï¼ŒåŒæ ·å¯ä»¥æ‰§è¡Œå•å…ƒæµ‹è¯•ã€é›†æˆæµ‹è¯•ç­‰ã€‚ä»£ç æ¨¡å—åŒ–å’Œé‡ç”¨æ˜¯ç»´æŠ¤é…ç½®ä»£ç æ¯”æ‰‹åŠ¨ç¼–è¾‘ JSON/YAML ç­‰é…ç½®æ–‡ä»¶æ›´å®¹æ˜“çš„ä¸€ä¸ªå…³é”®åŸå› ã€‚å…¶ä¼˜åŠ£å¦‚ä¸‹:</p><ul><li>ä¼˜åŠ¿<ul><li>å¿…è¦çš„ç¼–ç¨‹èƒ½åŠ›ï¼ˆå˜é‡å®šä¹‰ã€é€»è¾‘åˆ¤æ–­ã€å¾ªç¯ã€æ–­è¨€ç­‰ï¼‰</li><li>ä»£ç æ¨¡å—åŒ–ä¸æŠ½è±¡ï¼ˆæ”¯æŒå®šä¹‰æ•°æ®æ¨¡ç‰ˆï¼Œå¹¶ç”¨æ¨¡ç‰ˆå¾—åˆ°æ–°çš„é…ç½®æ•°æ®ï¼‰</li><li>å¯ä»¥æŠ½è±¡é…ç½®æ¨¡ç‰ˆ+å¹¶ä½¿ç”¨é…ç½®è¦†ç›–</li></ul></li><li>ç—›ç‚¹<ul><li>ç±»å‹æ£€æŸ¥ä¸è¶³</li><li>è¿è¡Œæ—¶é”™è¯¯</li><li>çº¦æŸèƒ½åŠ›ä¸è¶³</li></ul></li></ul><p>ä»£ç åŒ– KV çš„ä»£è¡¨æŠ€æœ¯æœ‰:</p><ul><li><a href="https://github.com/rix0rrr/gcl" target="_blank" rel="noopener noreferrer">GCL</a>ï¼šä¸€ç§ Python å®ç°çš„å£°æ˜å¼é…ç½®ç¼–ç¨‹è¯­è¨€ï¼Œæä¾›äº†å¿…è¦çš„è¨€èƒ½åŠ›æ”¯æŒæ¨¡ç‰ˆæŠ½è±¡ï¼Œä½†ç¼–è¯‘å™¨æœ¬èº«æ˜¯ Python ç¼–å†™ï¼Œä¸”è¯­è¨€æœ¬èº«æ˜¯è§£é‡Šæ‰§è¡Œï¼Œå¯¹äºå¤§çš„æ¨¡ç‰ˆå®ä¾‹ (æ¯”å¦‚ K8s å‹) æ€§èƒ½è¾ƒå·®ã€‚</li><li><a href="https://github.com/hashicorp/hcl" target="_blank" rel="noopener noreferrer">HCL</a>ï¼šä¸€ç§ Go å®ç°ç»“æ„åŒ–é…ç½®è¯­è¨€ï¼ŒåŸç”Ÿè¯­æ³•å—åˆ° libuclnginx é…ç½®ç­‰çš„å¯å‘ï¼Œç”¨äºåˆ›å»ºå¯¹äººç±»å’Œæœºå™¨éƒ½å‹å¥½çš„ç»“æ„åŒ–é…ç½®è¯­è¨€ï¼Œä¸»è¦é’ˆå¯¹ devops å·¥å…·ã€æœåŠ¡å™¨é…ç½®åŠ Terraform ä¸­å®šä¹‰èµ„æºé…ç½®ç­‰ã€‚</li><li><a href="https://github.com/google/jsonnet" target="_blank" rel="noopener noreferrer">Jsonnet</a>ï¼šä¸€ç§ C++ å®ç°çš„æ•°æ®æ¨¡æ¿è¯­è¨€ï¼Œé€‚ç”¨äºåº”ç”¨ç¨‹åºå·¥å…·å¼€å‘äººå‘˜ï¼Œå¯ä»¥ç”Ÿæˆé…ç½®æ•°æ®å¹¶ä¸”æ— å‰¯ä½œç”¨ç»„ç»‡ã€ç®€åŒ–ã€ç»Ÿä¸€ç®¡ç†åºå¤§çš„é…ç½®ã€‚</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="124-ç±»å‹åŒ–-typed-çš„-kv">1.2.4 ç±»å‹åŒ– (Typed) çš„ KV<a href="#124-ç±»å‹åŒ–-typed-çš„-kv" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><p>ç±»å‹åŒ–çš„ KVï¼ŒåŸºäºä»£ç åŒ– KVï¼Œå¤šäº†ç±»å‹æ£€æŸ¥å’Œçº¦æŸçš„èƒ½åŠ›ï¼Œå…¶ä¼˜åŠ£å¦‚ä¸‹:</p><ul><li>ä¼˜åŠ¿<ul><li>é…ç½®åˆå¹¶å®Œå…¨å¹‚ç­‰ï¼Œå¤©ç„¶é˜²æ­¢é…ç½®å†²çª</li><li>ä¸°å¯Œçš„é…ç½®çº¦æŸè¯­æ³•ç”¨äºç¼–å†™çº¦æŸ</li><li>å°†ç±»å‹å’Œå€¼çº¦æŸç¼–å†™æŠ½è±¡ä¸ºåŒä¸€ç§å½¢å¼ï¼Œç¼–å†™ç®€å•</li><li>é…ç½®é¡ºåºæ— å…³</li></ul></li><li>ç—›ç‚¹<ul><li>å›¾åˆå¹¶å’Œå¹‚ç­‰åˆå¹¶ç­‰æ¦‚å¿µå¤æ‚ï¼Œç”¨æˆ·ç†è§£æˆæœ¬è¾ƒé«˜</li><li>ç±»å‹å’Œå€¼æ··åˆå®šä¹‰æé«˜æŠ½è±¡ç¨‹åº¦çš„åŒæ—¶æå‡äº†ç”¨æˆ·çš„ç†è§£æˆæœ¬ï¼Œå¹¶ä¸”æ‰€æœ‰çº¦æŸåœ¨è¿è¡Œæ—¶è¿›è¡Œæ£€æŸ¥ï¼Œå¤§è§„æ¨¡é…ç½®ä»£ç ä¸‹æœ‰æ€§èƒ½ç“¶é¢ˆ</li><li>å¯¹äºæƒ³è¦é…ç½®è¦†ç›–ã€ä¿®æ”¹çš„å¤šç§Ÿæˆ·ã€å¤šç¯å¢ƒåœºæ™¯éš¾ä»¥å®ç°</li><li>å¯¹äºå¸¦æ¡ä»¶çš„çº¦æŸåœºæ™¯ï¼Œå®šä¹‰å’Œæ ¡éªŒæ··åˆå®šä¹‰ç¼–å†™ç”¨æˆ·ç•Œé¢ä¸å‹å¥½</li></ul></li></ul><p>ç±»å‹åŒ– KV çš„ä»£è¡¨æŠ€æœ¯æœ‰:</p><ul><li><a href="https://github.com/cue-lang/cue" target="_blank" rel="noopener noreferrer">CUE</a>ï¼šCUE è§£å†³çš„æ ¸å¿ƒé—®é¢˜æ˜¯â€œç±»å‹æ£€æŸ¥â€ï¼Œä¸»è¦åº”ç”¨äºé…ç½®çº¦æŸæ ¡éªŒåœºæ™¯åŠç®€å•çš„äº‘åŸç”Ÿé…ç½®åœºæ™¯</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="125-æ¨¡å‹åŒ–-structural-çš„-kv">1.2.5 æ¨¡å‹åŒ– (Structural) çš„ KV<a href="#125-æ¨¡å‹åŒ–-structural-çš„-kv" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><p>æ¨¡å‹åŒ–çš„ KV åœ¨ä»£ç åŒ–å’Œç±»å‹åŒ– KV çš„åŸºç¡€ä¸Šä»¥é«˜çº§è¯­è¨€å»ºæ¨¡èƒ½åŠ›ä¸ºæ ¸å¿ƒæè¿°ï¼ŒæœŸæœ›åšåˆ°æ¨¡å‹çš„å¿«é€Ÿç¼–å†™ä¸åˆ†å‘ï¼Œå…¶ä¼˜åŠ£å¦‚ä¸‹:</p><ul><li>ä¼˜åŠ¿<ul><li>å¼•å…¥å¯åˆ†å—ã€å¯æ‰©å±•çš„ KV é…ç½®å—ç¼–å†™æ–¹å¼</li><li>ç±»é«˜çº§ç¼–ç¨‹è¯­è¨€çš„ç¼–å†™ã€æµ‹è¯•æ–¹å¼</li><li>è¯­è¨€å†…ç½®çš„å¼ºæ ¡éªŒã€å¼ºçº¦æŸæ”¯æŒ</li><li>é¢å‘äººç±»å¯è¯»å¯å†™ï¼Œé¢å‘æœºå™¨éƒ¨åˆ†å¯è¯»å¯å†™</li></ul></li><li>ä¸è¶³<ul><li>æ‰©å±•æ–°æ¨¡å‹åŠç”Ÿæ€æ„å»ºéœ€è¦ä¸€å®šçš„ç ”å‘æˆæœ¬ï¼Œæˆ–è€…ä½¿ç”¨å·¥å…·å¯¹ç¤¾åŒºä¸­å·²æœ‰çš„ JsonSchema å’Œ OpenAPI æ¨¡å‹è¿›è¡Œæ¨¡å‹è½¬æ¢ã€è¿ç§»å’Œé›†æˆã€‚</li></ul></li></ul><p>æ¨¡å‹åŒ– KV çš„ä»£è¡¨æŠ€æœ¯æœ‰:</p><ul><li><a href="https://github.com/kcl-lang/kcl" target="_blank" rel="noopener noreferrer">KCL</a>ï¼šä¸€ç§ Rust å®ç°çš„å£°æ˜å¼é…ç½®ç­–ç•¥ç¼–ç¨‹è¯­è¨€ï¼ŒæŠŠè¿ç»´ç±»ç ”å‘ç»Ÿä¸€ä¸ºä¸€ç§å£°æ˜å¼çš„ä»£ç ç¼–å†™ï¼Œå¯ä»¥é’ˆå¯¹å·®å¼‚åŒ–åº”ç”¨äº¤ä»˜åœºæ™¯æŠ½è±¡å‡ºç”¨æˆ·æ¨¡å‹å¹¶æ·»åŠ ç›¸åº”çš„çº¦æŸèƒ½åŠ›ï¼ŒæœŸæœ›å€ŸåŠ©å¯ç¼–ç¨‹ DevOps ç†å¿µè§£å†³è§„æ¨¡åŒ–è¿ç»´åœºæ™¯ä¸­çš„é…ç½®ç­–ç•¥ç¼–å†™çš„æ•ˆç‡å’Œå¯æ‰©å±•æ€§ç­‰é—®é¢˜ã€‚å›¾ 4 ç¤ºå‡ºäº†ä¸€ä¸ª KCL ç¼–å†™åº”ç”¨äº¤ä»˜é…ç½®ä»£ç çš„å…¸å‹åœºæ™¯</li></ul><p><img loading="lazy" src="/zh-CN/assets/images/04-kcl-app-code-a5796bf098450b2ef34f45157335f0f8.png" width="962" height="1030" class="img_ev3q"></p><p>å›¾ 4 ä½¿ç”¨ KCL ç¼–å†™åº”ç”¨äº¤ä»˜é…ç½®ä»£ç </p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="13-ä¸åŒå£°æ˜å¼é…ç½®æ–¹å¼çš„é€‰æ‹©æ ‡å‡†ä¸æœ€ä½³å®è·µ">1.3 ä¸åŒå£°æ˜å¼é…ç½®æ–¹å¼çš„é€‰æ‹©æ ‡å‡†ä¸æœ€ä½³å®è·µ<a href="#13-ä¸åŒå£°æ˜å¼é…ç½®æ–¹å¼çš„é€‰æ‹©æ ‡å‡†ä¸æœ€ä½³å®è·µ" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><ul><li>é…ç½®çš„è§„æ¨¡ï¼šå¯¹äºå°è§„æ¨¡çš„é…ç½®åœºæ™¯ï¼Œå®Œå…¨å¯ä»¥ä½¿ç”¨ YAML/JSON ç­‰é…ç½®ï¼Œæ¯”å¦‚åº”ç”¨è‡ªèº«çš„ç®€å•é…ç½®ï¼ŒCI/CD çš„é…ç½®ã€‚æ­¤å¤–å¯¹äºå°è§„æ¨¡é…ç½®åœºæ™¯å­˜åœ¨çš„å¤šç¯å¢ƒã€å¤šç§Ÿæˆ·ç­‰éœ€æ±‚å¯ä»¥å€ŸåŠ© Kustomize çš„ overlay èƒ½åŠ›å®ç°ç®€å•é…ç½®çš„åˆå¹¶è¦†ç›–ç­‰æ“ä½œã€‚</li><li>æ¨¡å‹æŠ½è±¡ä¸çº¦æŸçš„å¿…è¦æ€§ï¼šå¯¹äºè¾ƒå¤§è§„æ¨¡çš„é…ç½®åœºæ™¯ç‰¹åˆ«æ˜¯å¯¹å¤šç§Ÿæˆ·ã€å¤šç¯å¢ƒç­‰æœ‰é…ç½®æ¨¡å‹å’Œè¿ç»´ç‰¹æ€§ç ”å‘å’Œæ²‰æ·€è¿«åˆ‡éœ€æ±‚çš„ï¼Œå¯ä»¥ä½¿ç”¨ä»£ç åŒ–ã€ç±»å‹åŒ–å’Œæ¨¡å‹åŒ–çš„ KV æ–¹å¼ã€‚</li></ul><p>æ­¤å¤–ï¼Œä»ä¸åŒå£°æ˜å¼é…ç½®æ–¹å¼çš„ä½¿ç”¨åœºæ™¯å‡ºå‘</p><ul><li>å¦‚æœéœ€è¦ç¼–å†™ç»“æ„åŒ–çš„é™æ€çš„ K-Vï¼Œæˆ–ä½¿ç”¨ Kubernetes åŸç”Ÿçš„æŠ€æœ¯å·¥å…·ï¼Œå»ºè®®é€‰æ‹© YAML</li><li>å¦‚æœå¸Œæœ›å¼•å…¥ç¼–ç¨‹è¯­è¨€ä¾¿åˆ©æ€§ä»¥æ¶ˆé™¤æ–‡æœ¬(å¦‚ YAMLã€JSON) æ¨¡æ¿ï¼Œæœ‰è‰¯å¥½çš„å¯è¯»æ€§ï¼Œæˆ–è€…å·²æ˜¯ <a href="https://www.terraform.io" target="_blank" rel="noopener noreferrer">Terraform</a> çš„ç”¨æˆ·ï¼Œå»ºè®®é€‰æ‹© HCL</li><li>å¦‚æœå¸Œæœ›å¼•å…¥ç±»å‹åŠŸèƒ½æå‡ç¨³å®šæ€§ï¼Œç»´æŠ¤å¯æ‰©å±•çš„é…ç½®æ–‡ä»¶ï¼Œå»ºè®®é€‰æ‹© CUE ä¹‹ç±»çš„æ•°æ®çº¦æŸè¯­è¨€</li><li>å¦‚æœå¸Œæœ›ä»¥ç°ä»£è¯­è¨€æ–¹å¼ç¼–å†™å¤æ‚ç±»å‹å’Œå»ºæ¨¡ï¼Œç»´æŠ¤å¯æ‰©å±•çš„é…ç½®æ–‡ä»¶ï¼ŒåŸç”Ÿçš„çº¯å‡½æ•°å’Œç­–ç•¥ï¼Œå’Œç”Ÿäº§çº§çš„æ€§èƒ½å’Œè‡ªåŠ¨åŒ–ï¼Œå»ºè®®é€‰æ‹© KCL</li></ul><p>ä¸åŒäºç¤¾åŒºä¸­çš„å…¶ä»–åŒç±»å‹é¢†åŸŸè¯­è¨€ï¼ŒKCL æ˜¯ä¸€ç§é¢å‘åº”ç”¨ç ”å‘äººå‘˜å¹¶é‡‡çº³äº†ç°ä»£è¯­è¨€è®¾è®¡å’ŒæŠ€æœ¯çš„é™æ€å¼ºç±»å‹ç¼–è¯‘è¯­è¨€</p><blockquote><p>æ³¨æ„ï¼Œæœ¬æ–‡å°†ä¸ä¼šè®¨è®ºé€šç”¨è¯­è¨€ç¼–å†™é…ç½®çš„æƒ…å†µï¼Œé€šç”¨è¯­è¨€ä¸€èˆ¬æ˜¯ Overkill çš„ï¼Œå³è¿œè¿œè¶…è¿‡äº†éœ€è¦è§£å†³çš„é—®é¢˜ï¼Œé€šç”¨è¯­è¨€å­˜åœ¨å„å¼å„æ ·çš„å®‰å…¨é—®é¢˜ï¼Œæ¯”å¦‚èƒ½åŠ›è¾¹ç•Œé—®é¢˜ (å¯åŠ¨æœ¬åœ°çº¿ç¨‹ã€è®¿é—® IO, ç½‘ç»œï¼Œä»£ç æ­»å¾ªç¯ç­‰ä¸å®‰å…¨éšæ‚£)ï¼Œæ¯”å¦‚åƒéŸ³ä¹é¢†åŸŸå°±æœ‰ä¸“é—¨çš„éŸ³ç¬¦å»è¡¨ç¤ºéŸ³ä¹ï¼Œæ–¹ä¾¿å­¦ä¹ ä¸äº¤æµï¼Œä¸æ˜¯ä¸€èˆ¬æ–‡å­—è¯­è¨€å¯ä»¥è¡¨è¿°æ¸…æ¥šçš„ã€‚</p><p>æ­¤å¤–ï¼Œé€šç”¨è¯­è¨€å› ä¸ºæœ¬èº«å°±æ ·å¼ç¹å¤šï¼Œå­˜åœ¨ç»Ÿä¸€ç»´æŠ¤ã€ç®¡ç†å’Œè‡ªåŠ¨åŒ–çš„æˆæœ¬ï¼Œé€šç”¨è¯­è¨€ä¸€èˆ¬ç”¨æ¥ç¼–å†™å®¢æˆ·ç«¯è¿è¡Œæ—¶ï¼Œæ˜¯æœåŠ¡ç«¯è¿è¡Œæ—¶çš„ä¸€ä¸ªå»¶ç»­ï¼Œä¸é€‚åˆç¼–å†™ä¸è¿è¡Œæ—¶æ— å…³çš„é…ç½®ï¼Œæœ€ç»ˆè¢«ç¼–è¯‘ä¸ºäºŒè¿›åˆ¶ä»è¿›ç¨‹å¯åŠ¨ï¼Œç¨³å®šæ€§å’Œæ‰©å±•æ€§ä¸å¥½æ§åˆ¶ï¼Œè€Œé…ç½®è¯­è¨€å¾€å¾€ç¼–å†™çš„æ˜¯æ•°æ®ï¼Œå†æ­é…ä»¥ç®€å•çš„é€»è¾‘ï¼Œæè¿°çš„æ˜¯æœŸæœ›çš„æœ€ç»ˆç»“æœï¼Œç„¶åç”±ç¼–è¯‘å™¨æˆ–è€…å¼•æ“æ¥æ¶ˆè´¹è¿™ä¸ªæœŸæœ›ç»“æœã€‚</p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="äºŒkcl-çš„æ ¸å¿ƒè®¾è®¡ä¸åº”ç”¨åœºæ™¯">äºŒã€KCL çš„æ ¸å¿ƒè®¾è®¡ä¸åº”ç”¨åœºæ™¯<a href="#äºŒkcl-çš„æ ¸å¿ƒè®¾è®¡ä¸åº”ç”¨åœºæ™¯" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>KCL æ˜¯ä¸€ä¸ªå¼€æºçš„åŸºäºçº¦æŸçš„è®°å½•åŠå‡½æ•°è¯­è¨€ã€‚KCL é€šè¿‡æˆç†Ÿçš„ç¼–ç¨‹è¯­è¨€æŠ€æœ¯å’Œå®è·µæ¥æ”¹è¿›å¯¹å¤§é‡ç¹æ‚é…ç½®çš„ç¼–å†™ï¼Œè‡´åŠ›äºæ„å»ºå›´ç»•é…ç½®çš„æ›´å¥½çš„æ¨¡å—åŒ–ã€æ‰©å±•æ€§å’Œç¨³å®šæ€§ï¼Œæ›´ç®€å•çš„é€»è¾‘ç¼–å†™ï¼Œä»¥åŠæ›´å¿«çš„è‡ªåŠ¨åŒ–é›†æˆå’Œè‰¯å¥½çš„ç”Ÿæ€å»¶å±•æ€§ã€‚</p><p>KCL çš„æ ¸å¿ƒç‰¹æ€§æ˜¯å…¶<strong>å»ºæ¨¡</strong>å’Œ<strong>çº¦æŸ</strong>èƒ½åŠ›ï¼ŒKCL æ ¸å¿ƒåŠŸèƒ½åŸºæœ¬å›´ç»• KCL è¿™ä¸ªä¸¤ä¸ªæ ¸å¿ƒç‰¹æ€§å±•å¼€ï¼Œæ­¤å¤– KCL éµå¾ªä»¥ç”¨æˆ·ä¸ºä¸­å¿ƒçš„é…ç½®ç†å¿µè€Œè®¾è®¡å…¶æ ¸å¿ƒç‰¹æ€§ï¼Œå¯ä»¥ä»ä¸¤ä¸ªæ–¹é¢ç†è§£ï¼š</p><ul><li><strong>ä»¥é¢†åŸŸæ¨¡å‹ä¸ºä¸­å¿ƒçš„é…ç½®è§†å›¾</strong>ï¼šå€ŸåŠ© KCL è¯­è¨€ä¸°å¯Œçš„ç‰¹æ€§åŠ <a href="https://kcl-lang.io/docs/tools/cli/openapi/" target="_blank" rel="noopener noreferrer">KCL OpenAPI</a> ç­‰å·¥å…·ï¼Œå¯ä»¥å°†ç¤¾åŒºä¸­å¹¿æ³›çš„ã€è®¾è®¡è‰¯å¥½çš„æ¨¡å‹ç›´æ¥é›†æˆåˆ° KCL ä¸­ï¼ˆæ¯”å¦‚ K8s èµ„æºæ¨¡å‹ï¼‰ï¼Œç”¨æˆ·ä¹Ÿå¯ä»¥æ ¹æ®è‡ªå·±çš„ä¸šåŠ¡åœºæ™¯è®¾è®¡ã€å®ç°è‡ªå·±çš„ KCL æ¨¡å‹ (åº“) ï¼Œå½¢æˆä¸€æ•´å¥—é¢†åŸŸæ¨¡å‹æ¶æ„äº¤ç”±å…¶ä»–é…ç½®ç»ˆç«¯ç”¨æˆ·ä½¿ç”¨ã€‚</li><li><strong>ä»¥ç»ˆç«¯ç”¨æˆ·ä¸ºä¸­å¿ƒçš„é…ç½®è§†å›¾</strong>ï¼šå€ŸåŠ© KCL çš„ä»£ç å°è£…ã€æŠ½è±¡å’Œå¤ç”¨èƒ½åŠ›ï¼Œå¯ä»¥å¯¹æ¨¡å‹æ¶æ„è¿›è¡Œè¿›ä¸€æ­¥æŠ½è±¡å’Œç®€åŒ–ï¼ˆæ¯”å¦‚å°† K8s èµ„æºæ¨¡å‹æŠ½è±¡ä¸ºä»¥åº”ç”¨ä¸ºæ ¸å¿ƒçš„ Server æ¨¡å‹ï¼‰ï¼Œåšåˆ°<strong>æœ€å°åŒ–ç»ˆç«¯ç”¨æˆ·é…ç½®è¾“å…¥</strong>ï¼Œç®€åŒ–ç”¨æˆ·çš„é…ç½®ç•Œé¢ï¼Œæ–¹ä¾¿æ‰‹åŠ¨æˆ–è€…ä½¿ç”¨è‡ªåŠ¨åŒ– API å¯¹å…¶è¿›è¡Œä¿®æ”¹ã€‚</li></ul><p>ä¸è®ºæ˜¯ä»¥ä½•ä¸ºä¸­å¿ƒçš„é…ç½®è§†å›¾ï¼Œå¯¹äºä»£ç è€Œè¨€ï¼ˆåŒ…æ‹¬é…ç½®ä»£ç ï¼‰éƒ½å­˜åœ¨å¯¹é…ç½®æ•°æ®çº¦æŸçš„éœ€æ±‚ï¼Œæ¯”å¦‚ç±»å‹çº¦æŸã€é…ç½®å­—æ®µå¿…é€‰/å¯é€‰çº¦æŸã€èŒƒå›´çº¦æŸã€ä¸å¯å˜æ€§çº¦æŸç­‰ï¼Œè¿™ä¹Ÿæ˜¯ KCL è‡´åŠ›äºè§£å†³çš„æ ¸å¿ƒé—®é¢˜ä¹‹ä¸€ã€‚ç»¼ä¸Šï¼ŒKCL æ˜¯ä¸€ä¸ªå¼€æºçš„åŸºäºçº¦æŸå’Œå£°æ˜çš„å‡½æ•°å¼è¯­è¨€ï¼ŒKCL ä¸»è¦åŒ…å«å¦‚å›¾ 5 æ‰€ç¤ºçš„æ ¸å¿ƒç‰¹æ€§ï¼š</p><p><img loading="lazy" src="/zh-CN/assets/images/05-kcl-core-feature-3e7c15549a3873eb274b09ef5494a734.png" width="892" height="878" class="img_ev3q"></p><p>å›¾ 5 KCL æ ¸å¿ƒç‰¹æ€§</p><ul><li><strong>ç®€å•æ˜“ç”¨</strong>ï¼šæºäº Pythonã€Golang ç­‰é«˜çº§è¯­è¨€ï¼Œé‡‡çº³å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€ç‰¹æ€§ï¼Œä½å‰¯ä½œç”¨</li><li><strong>è®¾è®¡è‰¯å¥½</strong>ï¼šç‹¬ç«‹çš„ Spec é©±åŠ¨çš„è¯­æ³•ã€è¯­ä¹‰ã€è¿è¡Œæ—¶å’Œç³»ç»Ÿåº“è®¾è®¡</li><li><strong>å¿«é€Ÿå»ºæ¨¡</strong>ï¼šä»¥ <a href="https://kcl-lang.io/docs/reference/lang/tour#schema" target="_blank" rel="noopener noreferrer">Schema</a> ä¸ºä¸­å¿ƒçš„é…ç½®ç±»å‹åŠæ¨¡å—åŒ–æŠ½è±¡</li><li><strong>åŠŸèƒ½å®Œå¤‡</strong>ï¼šåŸºäº <a href="https://kcl-lang.io/docs/reference/lang/tour#config-operations" target="_blank" rel="noopener noreferrer">Config</a>ã€<a href="https://kcl-lang.io/docs/reference/lang/tour#schema" target="_blank" rel="noopener noreferrer">Schema</a>ã€<a href="https://kcl-lang.io/docs/reference/lang/tour#function" target="_blank" rel="noopener noreferrer">Lambda</a>ã€<a href="https://kcl-lang.io/docs/reference/lang/tour#rule" target="_blank" rel="noopener noreferrer">Rule</a> çš„é…ç½®åŠå…¶æ¨¡å‹ã€é€»è¾‘å’Œç­–ç•¥ç¼–å†™</li><li><strong>å¯é ç¨³å®š</strong>ï¼šä¾èµ–<a href="https://kcl-lang.io/docs/reference/lang/tour/#type-system" target="_blank" rel="noopener noreferrer">é™æ€ç±»å‹ç³»ç»Ÿ</a>ã€<a href="https://kcl-lang.io/docs/reference/lang/tour/#validation" target="_blank" rel="noopener noreferrer">çº¦æŸ</a>å’Œ<a href="https://kcl-lang.io/docs/reference/lang/tour#rule" target="_blank" rel="noopener noreferrer">è‡ªå®šä¹‰è§„åˆ™</a>çš„é…ç½®ç¨³å®šæ€§</li><li><strong>å¼ºå¯æ‰©å±•</strong>ï¼šé€šè¿‡ç‹¬ç«‹é…ç½®å—<a href="https://kcl-lang.io/docs/reference/lang/tour/#-operators-1" target="_blank" rel="noopener noreferrer">è‡ªåŠ¨åˆå¹¶æœºåˆ¶</a>ä¿è¯é…ç½®ç¼–å†™çš„é«˜å¯æ‰©å±•æ€§</li><li><strong>æ˜“è‡ªåŠ¨åŒ–</strong>ï¼š<a href="https://kcl-lang.io/docs/reference/lang/tour/#kcl-cli-variable-override" target="_blank" rel="noopener noreferrer">CRUD APIs</a>ï¼Œ<a href="https://kcl-lang.io/docs/reference/xlang-api/overview" target="_blank" rel="noopener noreferrer">å¤šè¯­è¨€ SDK</a>ï¼Œ<a href="https://github.com/kcl-lang/kcl-plugin" target="_blank" rel="noopener noreferrer">è¯­è¨€æ’ä»¶</a> æ„æˆçš„æ¢¯åº¦è‡ªåŠ¨åŒ–æ–¹æ¡ˆ</li><li><strong>æè‡´æ€§èƒ½</strong>ï¼šä½¿ç”¨ Rust &amp; Cï¼Œ<a href="https://llvm.org/" target="_blank" rel="noopener noreferrer">LLVM</a> å®ç°ï¼Œæ”¯æŒç¼–è¯‘åˆ°æœ¬åœ°ä»£ç å’Œ <a href="https://webassembly.org/" target="_blank" rel="noopener noreferrer">WASM</a> çš„é«˜æ€§èƒ½ç¼–è¯‘æ—¶å’Œè¿è¡Œæ—¶</li><li><strong>API äº²å’Œ</strong>ï¼šåŸç”Ÿæ”¯æŒ <a href="https://github.com/kcl-lang/kcl-openapi" target="_blank" rel="noopener noreferrer">OpenAPI</a>ã€ Kubernetes CRDï¼Œ Kubernetes YAML ç­‰ API ç”Ÿæ€è§„èŒƒ</li><li><strong>å¼€å‘å‹å¥½</strong>ï¼š<a href="https://kcl-lang.io/docs/tools/cli/kcl/" target="_blank" rel="noopener noreferrer">è¯­è¨€å·¥å…·</a> (Formatï¼ŒLintï¼ŒTestï¼ŒVetï¼ŒDoc ç­‰)ã€ <a href="https://github.com/kcl-lang/vscode-kcl" target="_blank" rel="noopener noreferrer">IDE æ’ä»¶</a> æ„å»ºè‰¯å¥½çš„ç ”å‘ä½“éªŒ</li><li><strong>å®‰å…¨å¯æ§</strong>ï¼šé¢å‘é¢†åŸŸï¼Œä¸åŸç”Ÿæä¾›çº¿ç¨‹ã€IO ç­‰ç³»ç»Ÿçº§åŠŸèƒ½ï¼Œä½å™ªéŸ³ï¼Œä½å®‰å…¨é£é™©ï¼Œæ˜“ç»´æŠ¤ï¼Œæ˜“æ²»ç†</li><li><strong>å¤šè¯­è¨€ SDK</strong>ï¼š<a href="https://kcl-lang.io/docs/reference/xlang-api/go-api" target="_blank" rel="noopener noreferrer">Go</a>, <a href="https://kcl-lang.io/docs/reference/xlang-api/python-api" target="_blank" rel="noopener noreferrer">Python</a> å’Œ <a href="https://kcl-lang.io/docs/reference/xlang-api/rest-api" target="_blank" rel="noopener noreferrer">REST API</a> æ»¡è¶³ä¸åŒåœºæ™¯å’Œåº”ç”¨ä½¿ç”¨éœ€æ±‚</li><li><strong>ç”Ÿäº§å¯ç”¨</strong>ï¼šå¹¿æ³›åº”ç”¨åœ¨èš‚èšé›†å›¢å¹³å°å·¥ç¨‹åŠè‡ªåŠ¨åŒ–çš„ç”Ÿäº§ç¯å¢ƒå®è·µä¸­</li></ul><p><img loading="lazy" src="/zh-CN/assets/images/06-kcl-code-design-7bff376999fc4837c5a5041be6655915.png" width="520" height="394" class="img_ev3q"></p><p>å›¾ 6 KCL è¯­è¨€æ ¸å¿ƒè®¾è®¡</p><p>æ›´å¤šè¯­è¨€è®¾è®¡å’Œèƒ½åŠ›è¯¦è§ <a href="https://kcl-lang.io/docs/reference/lang/tour" target="_blank" rel="noopener noreferrer">KCL æ–‡æ¡£</a>ï¼Œå°½ç®¡ KCL ä¸æ˜¯é€šç”¨è¯­è¨€ï¼Œä½†å®ƒæœ‰ç›¸åº”çš„åº”ç”¨åœºæ™¯ï¼Œå¦‚å›¾ 6 æ‰€ç¤ºï¼Œç ”å‘è€…å¯ä»¥é€šè¿‡ KCL ç¼–å†™<strong>é…ç½®(config)</strong>ã€<strong>æ¨¡å‹(schema)</strong>ã€<strong>å‡½æ•°(lambda)</strong>åŠ<strong>è§„åˆ™(rule)</strong>ï¼Œå…¶ä¸­ Config ç”¨äºå®šä¹‰æ•°æ®ï¼ŒSchema ç”¨äºå¯¹æ•°æ®çš„æ¨¡å‹å®šä¹‰è¿›è¡Œæè¿°ï¼ŒRule ç”¨äºå¯¹æ•°æ®è¿›è¡Œæ ¡éªŒï¼Œå¹¶ä¸” Schema å’Œ Rule è¿˜å¯ä»¥ç»„åˆä½¿ç”¨ç”¨äºå®Œæ•´æè¿°æ•°æ®çš„æ¨¡å‹åŠå…¶çº¦æŸï¼Œæ­¤å¤–è¿˜å¯ä»¥ä½¿ç”¨ KCL ä¸­çš„ lambda çº¯å‡½æ•°è¿›è¡Œæ•°æ®ä»£ç ç»„ç»‡ï¼Œå°†å¸¸ç”¨ä»£ç å°è£…èµ·æ¥,åœ¨éœ€è¦ä½¿ç”¨æ—¶å¯ä»¥ç›´æ¥è°ƒç”¨ã€‚</p><p>å¯¹äºä½¿ç”¨åœºæ™¯è€Œè¨€ï¼ŒKCL å¯ä»¥è¿›è¡Œç»“æ„åŒ– KV æ•°æ®éªŒè¯ã€å¤æ‚é…ç½®æ¨¡å‹å®šä¹‰ä¸æŠ½è±¡ã€å¼ºçº¦æŸæ ¡éªŒé¿å…é…ç½®é”™è¯¯ã€åˆ†å—ç¼–å†™åŠé…ç½®åˆå¹¶èƒ½åŠ›ã€è‡ªåŠ¨åŒ–é›†æˆå’Œå·¥ç¨‹æ‰©å±•ç­‰èƒ½åŠ›ï¼Œä¸‹é¢é’ˆå¯¹è¿™äº›åŠŸèƒ½å’Œä½¿ç”¨åœºæ™¯è¿›è¡Œé˜è¿°ã€‚</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="21-ç»“æ„åŒ–-kv-æ•°æ®éªŒè¯">2.1 ç»“æ„åŒ– KV æ•°æ®éªŒè¯<a href="#21-ç»“æ„åŒ–-kv-æ•°æ®éªŒè¯" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>å¦‚å›¾ 7 æ‰€ç¤ºï¼ŒKCL æ”¯æŒå¯¹ JSON/YAML æ•°æ®è¿›è¡Œæ ¼å¼æ ¡éªŒã€‚ä½œä¸ºä¸€ç§é…ç½®è¯­è¨€ï¼ŒKCL åœ¨éªŒè¯æ–¹é¢å‡ ä¹æ¶µç›–äº† OpenAPI æ ¡éªŒçš„æ‰€æœ‰åŠŸèƒ½ã€‚åœ¨ KCL ä¸­å¯ä»¥é€šè¿‡ä¸€ä¸ªç»“æ„å®šä¹‰æ¥çº¦æŸé…ç½®æ•°æ®ï¼ŒåŒæ—¶æ”¯æŒé€šè¿‡ check å—è‡ªå®šä¹‰çº¦æŸè§„åˆ™ï¼Œåœ¨ schema ä¸­ä¹¦å†™æ ¡éªŒè¡¨è¾¾å¼å¯¹ schema å®šä¹‰çš„å±æ€§è¿›è¡Œæ ¡éªŒå’Œçº¦æŸã€‚é€šè¿‡ check è¡¨è¾¾å¼å¯ä»¥éå¸¸æ¸…æ™°ç®€å•åœ°æ ¡éªŒè¾“å…¥çš„ JSON/YAML æ˜¯å¦æ»¡è¶³ç›¸åº”çš„ schema ç»“æ„å®šä¹‰ä¸ check çº¦æŸã€‚</p><p><img loading="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAeEAAACtCAMAAACweTefAAACT1BMVEUAAAAAAAD3x6suUo33yq0HBwcAAAD2yawAAAAODg6xn6IAAAAMDAwyVI8vUI0QEBASEhItUY4AAAARITwREREoTYYSJlSDhJs1VY9HYJMAAAAGBgYAAAAbGxtrdZfow6pMY5M7WZFLS0tGRkYNDQ0tUI4AAAAAAAA4ODgtLS0kJCRkcpYyU5Beb5UAAAAsToyunqIRERExU4/4yqwuUY4AAAApTYxrdphcbZX2yq34y6zIrqYyU4/0x6ssUI3ww6RcXFxWVlaqm6FMY5MAAAAsT41nZ2dRUVH3yqwBAQH3yKrivJ4xVJAwUo7rw6rivqnTtagTExP2yKizoqJFX5KFhZv4yqy9qKIXFxcWFhZ7fpj4y63///8AAAAvUo+Tjp6Vp8aqqqqXqMcyMjKysrKAgIBMTEzMzMwpKSnU1NRUVFR+fn7t7e319fUJCAgSEhLZ2dkkJCTx8fHj4+O3t7dXV1fX19eMjIwcHByhoaHAwMAsLCz9/f3xxqoPDQz7+/vIyMhgYGBbW1sYFhPp6enb29tycnI1KyT4+PiQkJBlZWXFoYleTUEiIiLuw6Z2dnY5OTmmpqZsWUw+Pj7nvaGIiIixkHt6enpISEhEREQnIBvUtqe3pKN1YFJJPDOhl6BoaGjS0tK7u7vqwqvf39+UlJSWe2lnVEc1NTXhvanOqI9ANCzOzs7ExMSvr6+ck5+EhIRtbW2OdGPHrqWdnZ2amprVr5W3loCsjHijhXGBalpQQjjPsqbft5xQUFBXRzzas5gwJyG8pqR3fZnBqqSXrgzuAAAAW3RSTlMAgECAwPgy/lflVhzw7ljcw2knCrgUBf3lubGQEfKFKvf78fGjd0478PDw6tuIRSr+z72gmWsc/vzq2cyIUkQT9fPUsWE29/J+dh4I+spt3NSVOOjU0bKSbltNjHfLIQAADgRJREFUeNrs28trE1EUx/Hri4DQQJFoBbFmUVxYH1hRWx8FQRCrVdDdr+d25UqIWzeTzSyySJhFKVlMO+mikNBkIaSQNokhDfUPc+4EGdKqTDOT9DY5H2h6mUO7+TLTuclUnDWJ+FWxOH1XKtfPu6akctld3Rzcwem3QsTvCzZoj2feS/lsHthYVTbh2vKW2xjwwdhCUk48einYID2X8unqbgynY+fBtaScuirYoCwtf1rdwamKbW7NTQs2CFcSLxagh7nF14JF7f7sHWhjSz7na3XE4u+Su9CGcU2+TwgWoRn5ZBs62Xw3+1iwyMTlYQx62U0+FCwyyw+gnY0Pi4JF5AW0dHFJsEhM63aF/mNOsCg8+ghNbX/m9zAjEJca/hHuMm7N8rY4tMTEU2jrl5wRLKQLcgP6ejJxRbBQrkw8gcZ+8kkc1uvkT+js8K5goSzNoz8x44SDcr6MPrwRbEhvdjTMAoC8aTYAVDMpqjRagGWae/D5g2NylEMfFgQLZQ5BrVEGqKUpYwFtIkoR2etYJ8rD5w+iKgx+HiCceQSlClsdSh8A+0RrllEnco4U9gfRFV7mjxHDmPqBoFThHNEegAxlvCOVek/hngGMYqnp1KHUnKaT7RZeb7RzVQPB7chJwfqWkFsnKVwkqsLlfevyCx8Z1GxSKhawlyaXrQpnvWXGQnDJR4L17aX8heCFU0QduFpEe8cKHx1UyKyWnRQ5QIfseqtElFPLSi37nRoI7il/ThxCXO4geGFFFSwTZY8X7h0cdE/nJpmoEdUBSxWueb/AIRvBHc4K1rdJuX2Swo5JtuVV3f9L4Z7BHlEZQJHIyhMdAMhQDu4ynU4TpRDctQnB+jYjDSBw4Q72u3fJae8VB7Wewj2Dblb1A5b7ZQCodAvnSkoMgf3gcziECxJB+PvhJlFWvZpWt9mRwv6gRlQE0CATZe90NlKUU8t9AAc4ifOCDa9wK022oUJlstmSG1EVrmZd8PiDWIcy6+rWeQ3WNyoYqBLlELOp0oLjHgS48F+cfmEUiRz16mnHVGGPBcUfqLhkEtmWdzCVJpva3lWb0t37NS4cTvSFiwUHrlKhaQHZUsYu1GOAVeiy4PEHaK25q4YBV75pN/PFQkPN23annYWLCw9DXKP/ZPmXzeuC9e8itLcqBePCjAuPKy484iZvQXtcOORuSXsbNwUb6cK8H+bCjAuPr7NQePuyYH1LPIP2+F6a98OMC48xLjzi7r+C9rjw4O6l5dDgP7amBBtU4ZUhkfg33g9zYcaFxxgXHnXxO/oX5ifxQrmof2HeLXFhxoXHGBcecZO3uPBoOwu7pYifxLtNkRMaOwuFI94Pn/u6ErEjhe+di9g9LqxV4Rv0JWLEhfUqfGklYiNf+Dd79/KbRBDAcbw9bANKxNTGGGs92Kb1kWh68K7GaDx60+Q30ZVH0QItu8DyirwWAiQECCGUeBAQkh7apo3ttX+bM6D1rRV27Rbmm/RxaEO2n7LMLJOdD2e48DAr8QYWziroV9lT8UO1Ao5qiEYZSz+fYRHyRqscp0B4iPkwIRmw4mkSxA/VAzjKFjaKsGVf1Dbyg8A0a4q81ir1hIXTWbDEUyNsXYG2/SC8ROZYxKVVJHeywvU1D2iNEhOW8oXmQQ5AbL+QbTPhuLjX3OkLx/17Bf/oC5uuQdu8nuGF7zwYXDgR2gewTjJUWC1u5pVolBIfFhXF5aLCyXQp6V3tCR+E8srbBBfWVFj/sTRZcdgAZA9zVLhZjAOekAI/6QAqCaBNZCDsVZlwwwFEWvh9eq/Em+pljqxolXs8hGWSQG7Nz4Rde2DaTtR9oNkCqLmCwWCCRJhwtihKJzkfNpGbLFK0aVQ6NB7CeJNCuBhjwl4RtN1NJAOgFQJIvrWx/Ew4lw15U9LgwoabAq/7vhd+ep4lEKdGbewaRDjidZdrYMLFEmhOJ7JR0DYDKEW/G0uvRJsjLEzs2iZ6DSIMV5OoPeEk88x5a6gQN+AmAYhEBtx1iQp78hKwWh1lYWibe00z4XO3hhLuUsqesJw+3KmUXR7Eo+VKZdN2iNhmtBLePIxTYWw47eHQweAr8bjwicyHCzIgJSlzPKkCaqnh3PUAkOqN1E47D3gcG4dKDnBsQy5Vk2J88NkSF+areLgwF+bCXHg0hcdjJd44C5+GFQDvrnLh0Rbm82EuzIW5MBc2svCHM1x4mJV4xhfmY2k+H+bCXJgLc+FRFb7zYASFz16eGltheuz/NJZ++Z/SdiXeWUIuTw0pvB4/pcLs2I8v/PHFf+rjP82HJ//SLCHsOI8lnC7bUm38XFlGzIjCxzz203WPeF2F14CVkOeXwlU9hGOtz19j6BXnwkxYv7M0E0bDj1YztQ3J4dyNyQogK1R49W2q8s/C+SyASooKRtljFhpgvUkBPvTyp5AKtVG32VIUd8cWtb0JAoU3oFUljc7Sp22fByqs20iLCSfSkuqyt6rtbkkqJV5vAPSjLKvpjvufhXO+15CK1Ky9UaSCAe8WgI7XCfTNsJEAUv5gOYZkGDvRDDWPygiEwgCikiYjrXHcnfYPwqQaqq5APJTlblYJdIAjYYQGOUvbG1gtgdraU3b6uVkAUG8eCQfLYML2ABCjpAnQHA4ExKL8B2F+j/ghhNcgVmPIRwuFghJXytUOE94aXBgbXZ9EiULxtpMKt0NuxH2RI+FmpScsRZMUN/4WrMQGAonwBhfWSxjOPFoNwCNJgFJXi0B+COEMYYj5EmJFGYHtkgKxufVF2O2L94SRCzdsGSkEVnCTCsO5z4X1EpbTHbhK7UY46Ug47bDV9qsNJhwVgwMIw+UGEHVtbqZrVLjjilW3joRru+gL0/JJuHqk9iYTlosyF9ZDOA/AH4Faq7chHZT8MaiK0qkgLGGr7h9UOGEDEPRRYTi7ZXwRjvuYPspBUQR2kmjWAcQaO0wY4cZvhfnutIa6Ls2EC13QqhEq7CfhvrAoivkkgIriglzcr0QjyFULdrFRR08Yh+R3wqO+K56BV+KVHt17fG3+e+GDHNDtWW1H7DJiigeqCORrtVo+A2BXcQOZfC0IINdeVbYA0J8D1FpuTIUNvIpn8u5Dk8k0rdtVS8ktZ163uPDJCU/000uYEMFiNlvPT/xjp/6dh/ERvqD7nUtf/adO60o8nYWFz8J8Jd4JCMfVTGvlNAjzVTyDCRNiMVutM1x4ZIUtE710Eyb1R4/n5wkXPjFhs97CT+6aFhenJ/rxlXijJyyM1S4A7y9x4dEWNsJ8WGrZu45H167fnLMIAiFkmQuPjLDqV+7dEATz+YXJu6bbU9Nnr1y4OEHTXjjmXk/4K/v5msNRIlz4fwjHt2vzFmF59uHSlYnv0lhYjRyUrt2wEIFeoJxZmJ2lSyanuLDewrGV3euCddZ0NJzVRzhTyV4XLMsLT0xLZ789NfDdafUVlsT7gvnpYu+Zq59wKz8vWGae3D478XN830MdheXudeH83d6fXT9hd+W+xbxg+tWjcGFdhbdWb1oWFtmlJB2F12s3/vA/xIV1E5bEexbz7BL7Bf2EY9ulOcvC7T+85nLhAVok95WIij/ktmfZ84qNq3QUluz3BOtxxsmG2p02u7eX7cr4WmfNYzThiamHs8uCcOOeI5zo5PBd0mtxdX5OOD95e4jL/GRb+vvgXKGv70+OdW421t6lpKDs+bwijsoQj9HuidfvytLDyZllCxHmbl6fv3b/8eP56zfmBME8M2maHvKs+cwqzF1brbR+49zx06mX+Ziv78YTjgBIrcW+FTbafPgH6emp24sm2uLtpekrE9p0cdo0OWOl54n5R7X9nUiilVlfDyYi4kH9/g3Bcn722FMvgwr7iQolw77Z6QvL3VQ9iP5WWkYT1rOzS6a7swszy1armWZdnlmYZFfE/iVjCq+6gBCjzCaZMNtga7f6NvF5K60xEjZeGgh/au9+XtoGwziAvwyhIKQQxOVYe+hplZVU0lra9TAKZT/YELbB3viUoYPBcG5DpyumQxnCAmUbXgYb7AcbmMuq4NGT9Q8zr6kHDx6aN7GPeZ/PIS25fkneXw95vv5tb3c+nU/Y/SI6t3wbtNIa+TfxVCZfiTe/vD7/4r99PuGFbb+d1svl01ZaGObSKhuTf0v7Ob49S3g/SLizviBsBK20KOEhoEx4qbsvEn7vX3aChLvPbWHQSosSHgLKhO0Vcdl1RQVZkPCqGIfbB4NWWpRwWCgq8YL18Jsle6/zea27u3Wa8O9X7uJa56yVFiU8FGxzafe12NbdbNsbK6tbz/78sz9ufrDtd7923EV70Epr5JV4KlOjxkNllHDSUcJJRwknnRqVeEpTosZDaZRw0lHCSUcJJ5wa3WlVdhVWS34lHkl0wrQelpEDB3/Cc4yEpoPHL4Kl3xLPMBJaGr6j/+qhRwlLmHyS4tiVTUbCq3H0sjOMhJfh2HmgMyJhliNXgAYj4VmPPI5bX2NEggU9jptBw7Cc+9i7tTQZkaLDIccsdYcRKRNaiWNWZET68AHzXOuINrSkTT5FvK11TIvhKDQ5Vs5U/joj0u5WOFIG3GIkApmCwzEqQJWRKDSghHIsvmHSOzoiOhgcn0p9gpGIVKGP7imu0F5HlHLYnuIfD+uMRCk9jukc0TGADhwiV3/MsTiegipNsmJQK/dQLJsMyNM6OBaWCdnWyHepU8XpHD3AcWmYMMopl1foP2jSFDpeVi5dK47Nlgyj1epx31FLEIfIjv8b482f5SyARq/ny2HltXsA2jXfbRCm/X/j4Ivr5lymas7oN9lVdAKqTt3nn0OzrwAAAABJRU5ErkJggg==" width="481" height="173" class="img_ev3q"></p><p>å›¾ 7 KCL ä¸­ç»“æ„åŒ– KV æ ¡éªŒæ–¹å¼</p><p>åŸºäºæ­¤ï¼ŒKCL æä¾›äº†ç›¸åº”çš„<a href="https://kcl-lang.io/docs/tools/cli/kcl/vet" target="_blank" rel="noopener noreferrer">æ ¡éªŒå·¥å…·</a>ç›´æ¥å¯¹ JSON/YAML æ•°æ®è¿›è¡Œæ ¡éªŒã€‚æ­¤å¤–ï¼Œé€šè¿‡ KCL schema çš„ check è¡¨è¾¾å¼å¯ä»¥éå¸¸æ¸…æ™°ç®€å•åœ°æ ¡éªŒè¾“å…¥çš„ JSON æ˜¯å¦æ»¡è¶³ç›¸åº”çš„ schema ç»“æ„å®šä¹‰ä¸ check çº¦æŸã€‚æ­¤å¤–ï¼ŒåŸºäºæ­¤èƒ½åŠ›å¯ä»¥æ„å»ºå¦‚å›¾ 8 æ‰€ç¤ºçš„ KV æ ¡éªŒå¯è§†åŒ–äº§å“ã€‚</p><p><img loading="lazy" src="/zh-CN/assets/images/08-kcl-validation-ui-4a33642df3b7e92c4a152a12f9f8bc5f.png" width="460" height="388" class="img_ev3q"></p><p>å›¾ 8 åŸºäº KCL ç»“æ„åŒ– KV æ ¡éªŒèƒ½åŠ›æ„å»ºçš„å¯è§†åŒ–äº§å“ç•Œé¢</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="22-å¤æ‚é…ç½®æ¨¡å‹å®šä¹‰ä¸æŠ½è±¡">2.2 å¤æ‚é…ç½®æ¨¡å‹å®šä¹‰ä¸æŠ½è±¡<a href="#22-å¤æ‚é…ç½®æ¨¡å‹å®šä¹‰ä¸æŠ½è±¡" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>å¦‚å›¾ 9 æ‰€ç¤ºï¼Œå€ŸåŠ© KCL è¯­è¨€ä¸°å¯Œçš„ç‰¹æ€§åŠ <a href="https://kcl-lang.io/docs/tools/cli/openapi/" target="_blank" rel="noopener noreferrer">KCL OpenAPI</a> ç­‰å·¥å…·ï¼Œå¯ä»¥å°†ç¤¾åŒºä¸­å¹¿æ³›çš„ã€è®¾è®¡è‰¯å¥½çš„æ¨¡å‹ç›´æ¥é›†æˆåˆ° KCL ä¸­ï¼ˆæ¯”å¦‚ K8s èµ„æºæ¨¡å‹ CRDï¼‰ï¼Œç”¨æˆ·ä¹Ÿå¯ä»¥æ ¹æ®è‡ªå·±çš„ä¸šåŠ¡åœºæ™¯è®¾è®¡ã€å®ç°è‡ªå·±çš„ KCL æ¨¡å‹ (åº“) ï¼Œå½¢æˆä¸€æ•´å¥—é¢†åŸŸæ¨¡å‹æ¶æ„äº¤ç”±å…¶ä»–é…ç½®ç»ˆç«¯ç”¨æˆ·ä½¿ç”¨ã€‚</p><p><img loading="lazy" src="/zh-CN/assets/images/09-kcl-modeling-86763db82d999256115fdcfcc861f829.png" width="753" height="389" class="img_ev3q"></p><p>å›¾ 9 KCL å¤æ‚é…ç½®å»ºæ¨¡çš„ä¸€èˆ¬æ–¹å¼</p><p>åŸºäºæ­¤ï¼Œå¯ä»¥åƒå›¾ 10 ç¤ºå‡ºçš„é‚£æ ·ç”¨ä¸€ä¸ªå¤§çš„ <a href="https://github.com/KusionStack/konfig" target="_blank" rel="noopener noreferrer">Konfig ä»“åº“</a> ç®¡ç†å…¨éƒ¨çš„ KCL é…ç½®ä»£ç ï¼Œå°†ä¸šåŠ¡é…ç½®ä»£ç  (åº”ç”¨ä»£ç )ã€åŸºç¡€é…ç½®ä»£ç  (æ ¸å¿ƒæ¨¡å‹+åº•å±‚æ¨¡å‹)åœ¨ä¸€ä¸ªå¤§åº“ä¸­ï¼Œæ–¹ä¾¿ä»£ç é—´çš„ç‰ˆæœ¬ä¾èµ–ç®¡ç†ï¼Œè‡ªåŠ¨åŒ–ç³»ç»Ÿå¤„ç†ä¹Ÿæ¯”è¾ƒç®€å•ï¼Œå®šä½å”¯ä¸€ä»£ç åº“çš„ç›®å½•åŠæ–‡ä»¶å³å¯ï¼Œä»£ç äº’é€šï¼Œç»Ÿä¸€ç®¡ç†ï¼Œä¾¿äºæŸ¥æ‰¾ã€ä¿®æ”¹ã€ç»´æŠ¤ï¼Œå¯ä»¥ä½¿ç”¨ç»Ÿä¸€çš„ CI/CD æµç¨‹è¿›è¡Œé…ç½®ç®¡ç†ï¼ˆæ­¤å¤–ï¼Œå¤§åº“æ¨¡å¼ä¹Ÿæ˜¯ Google ç­‰å¤´éƒ¨äº’è”ç½‘å…¬å¸å†…éƒ¨å®è·µçš„æ¨¡å¼ï¼‰ã€‚</p><p><img loading="lazy" src="/zh-CN/assets/images/10-kcl-konfig-d449927f5a1b7e08eaec85ac24ad4bc1.png" width="363" height="356" class="img_ev3q"></p><p>å›¾ 10 ä½¿ç”¨ KCL çš„è¯­è¨€èƒ½åŠ›é›†æˆé¢†åŸŸæ¨¡å‹å¹¶æŠ½è±¡ç”¨æˆ·æ¨¡å‹å¹¶ä½¿ç”¨</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="23-å¼ºçº¦æŸæ ¡éªŒé¿å…é…ç½®é”™è¯¯">2.3 å¼ºçº¦æŸæ ¡éªŒé¿å…é…ç½®é”™è¯¯<a href="#23-å¼ºçº¦æŸæ ¡éªŒé¿å…é…ç½®é”™è¯¯" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>å¦‚å›¾ 11 æ‰€ç¤ºï¼Œåœ¨ KCL ä¸­å¯ä»¥é€šè¿‡ä¸°å¯Œçš„å¼ºçº¦æŸæ ¡éªŒæ‰‹æ®µé¿å…é…ç½®é”™è¯¯ï¼š</p><p><img loading="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAjkAAAFGCAMAAAC/qX7WAAACeVBMVEUAAAAuUo3F37MAAAD3yq0uUY4lSoYsTYoPIUQtUYw0VpACAgItUY33x6sCAgIAAAAAAAA8XZIvUo4AAAAAAAAEBARNbpYBAQEAAAAtT40ICAgBAQFEYZOwzK4AAAAAAABhgZqSsKgAAAAtUI2buKkAAAAzVY/Yt6gAAABtd5gAAAAAAAAAAAAPDw+CoaQtUY4FBQUBAQEqTIpodJczVJAvUo8JCQnB3LOglqABAQE2VpA0VpDV0KwwUo92fZnFrKUcHBwSEhLB3LNcfZtBQUFUdZj4yq1GYJP4y60vUo6Rjp+xx6zf0a/3y63F4LOYkZ/0yKx6mKEuUY5RaZX4yq32yawqKirF4LR0dHTF37RgeZnnwKnF37SNhpq4pKPF4LT////4y60vUo8AAACWqMeTjp16maF/f39LS0va2trU1NSysrIqKioGBgVZWVmHh4f7+/v19fUxMjAjJCMLCwodHBrGxsYQDw5vb28YGBeDg4Ourq6oqKigoKBmZma2trZgYGAUFBLw8PCRkZE2NzXLy8u/2rB3d3fpv6T39/fi4uLm5uacnJywkHpOTk4nKCZJU0P0yKtra2u6urqNjY05QTTq6uq30Kd8fHxzc3PAwMBGRkbPz89CRUA8PDyQpIRpd18qMCa9vb2ioqIjIh3wxamWlpbFoYmKnX5dXV0zKiOKiopwf2ZTU1O4066al5tWYk9SQzlIOzKgvapea1Z7ZVZSXUtqVknYsZeClHebsY5hT0NdTEGpxq3fvKnUtaeqwpzft5x2hJvc3NyFo6SxyaGlu5Z5im+YfGq7mYLCwsK0oqLPqJCMcmGjhXGlmKCgtpJDNi6TsaffezK3AAAAX3RSTlMAgMCAwHEOIQcu+pdRQOhzG/lgW0/g77EuOMqJ9ccmDObRaEnOYNjHOOa5QhLf2Gf1nxn+57KrjdfTppkTw4D98sNu/vDsz8WsfWNCLOXV1ITdkPtkT/Dm+s+5qKYm4UXmlKsAAB25SURBVHja7Nu/agJBEAbwieCfW665UkgTDJYRgsdB1BQnFoliYQoxCANT+Cj3ONdcfY3cE/hEOROEJIR0ct/C96uGrZfZYWZW6CK4OQulNvoMH+uoe8VD8lwn3Axf02R/Z2eLVu3Wzu7r6IqH+yRdPm3CjpCX+hNnbl5qM+bO3KQv5KF3dyy0QcXRRUw7/km3WaYNy8ptKuST9vNaQayXbSFPdGKbK4zKYr5ZfugOrVIglQ27QviCsSsUSuHGvDoeWL6VCqaMJkLopjC18Tf5eioErqWQWkLQgkRBJULAuu6goEpWychilyuo3MVCqAZYjZyfKhsIgZpFCiyaCWHqI6cc1cq4dAGq99D4dPw/2YI3B9RKwa2EIMH2cr6wpwNrp+B2QohewEbkfwiE8PQMtn98cbCeEJzATgruZEw6gEKD28v5rTR+4gM0MtiZ1UVuI6EPdu6ftXEYjOP4tXB0vg7dDu7g5nsf9yoeyG/2kj+IjAaj1VqEJ2MbPHgwwYMJ2FMW22te0j1SUlooJOlRDrnoC8WqInf6UDdCjXN9XTi9D2iSC/9/EA72Z0HO983LcbC7GcjxJwNdzMvx/VuPT/S/GquRXkqqjG7Ky3G0e7qYDnMyxeFEF9uFYdiTrQ1DRW9TeD2bIfByZt0VOQUaMoWo6WIJcJYhBaA/Us4Pv5/jYh8pJ0iI6/DBchZ3X3zu9R45Y67bkbiqSduer3U7Vqp7lhOfdEWIrRw57dPm9OIh5/UnOUmuVC3Pcnadajrp5cyxx6fb5VTAGiIhUuCCiWiFBmif5dQojRKsc2i+ljAtjZK1WV8aOb0AV+xOcgoEQOvlzLG7xe1yIv5qdWUEdUkLsaMYUNnhWc4gkBG12Fs5Ebb12AYGRoyyG/aAMsPo0G+RWzkjQnlYKi9njr1HTgGVEKdQEO0CdDwjyGblJA0UyRC9kXOAfXal2DIQXkoygDKzFtfKysmwzvzfOTPtVjmCHdQAos7MQQgB5DxKX8sZESQVYjJyMmDk6QmQFXAgMvDM7FqIAGsrZ7cFwnagK/32pywc7JqcCAVxp18bXQRgYgKbvaniUf5aDi1Ra9RWzplLdZIj7Y9S5lu1N1k5NLRsp5R+P2eGXZOzBwa+5MDR+tDQlCLm4SDpjZwOGwQJnZ9Wk70xpCNwPD+tRqAy9768K68C9F7ODHv4RRfLgOg4dAIrmSgtWUJEE9DRIdwc38iRAlBk5VCMIqGjQEMyBN9Zm5fkBtFALRorZ9ITybWXM8/u6XJ72ERPpLFdBsiIwSAElvKNHGqA/iynFwhCoNyRobYWKA2qKkAggMzK6REUW2wkXe67/6xJF7smhzJVlLpNeDTsV2WT8UDmy80ylwxFV3ROas1GDloR89C5Wd4sN5pXcVW6SqvJzvZqFaes66hTJsUr6sG/t5pljn5al5fjeg8/yfm8HBebw8kuL8fFvBzf55XjT7C72Bzk+P0cF/NyfM6fYPdyPlcz2M/5y669pCAQA1EURUFBcJEijRt0g37m1iDQ4VU8ZxR6fGlSoZQTqUE5NtgjNSjHVB5JOSx7Q1ZOog5TuXISKYd1y7HBnqhDOd5zEimHPTbYH7M8ldPOsQrnvk1S/PlssIcqy9lukxTlmK1CKYfBDXblMDZbKQfl8NNflmODPVGHcrznJFIOo/s5ymHV9xzlRGpQjg32SA3KMZVHUg7L3pCVk6jDVN6/nNPh4/w+Xb6n694fK/PLebFrPy1tgwEcxzvodJTtsOPA24ZjJ0EdjLnpzQmbIOpOQ/glYaTRJnn6J2naJG2appTaotiWElPtQacgIr4DBb3tVa2aTSPrYTtIavRzDDyXhy88f/KQRu5Ab6GHogAPTnGxD+UMPn478XXu28wQfeF1OBx+R194E+66xY8zc4uTw/NPn4S8/CtH+cEeJtrAagkeKgBZg8e5bduFqG03/6ecAL5gHxj5SNND3yl/TI1F6MiEd+Z8K8dMrQCraQf7Bq61UuhlvfZwn/M5snB8QvlnY+osMhny8KucKsMBINA7MVsHHFvQKijlGNuOOxqAvJLTKjfKYTl0FeUdlcseZFsAiFqvqwDJ13P5gJfzZYY6ofy2tzG7GLolg6/+tRysR6vo2rUS2V2U+LK4bqFk8NlsRYwCxXRWlMo3ymnnAHDMMmsl2f2O1AKMzKaRslGTis2UHOByRifmNqg+MT0xEvLw4z5nOcavqQRQDAA7GiAz55BTALrlxAsq0Dgi3nLUdAWwOxCZFYBkWDSYVWCXb21nAWcZHsF6wf5yPHJK9YuNMfq9O4G+lQM49bRluuWAcHmNka/K2WLIX/scUtBAJB0iHwcgtCHGOI6TmR0lqcUDfLZ6TC/4v1B5HNPDo6EuH8sBqhnRLaeUTK4ZjHNVTr7QY4e82UYjHYdooUtMwEgnLjQqm1JKMINaziN6rG+WKtdUZHww5PLjBXtLRpdguOUkBYDw1+XIfI9yOKYq1AExTQAIUZRj+KMUywW1nE9nfRYORZ2OLYVcfpytfvIcQDI1KAJQ4VVghXEg8+SyHJNvALJAbpSDDpvaAkRGBpBhoTKrgGlXiybAbge0nEWqH01/8K8cHMXEYqdQgZ7R8hCs3WaCd2DyWdXslgNF0muxMm6WozMWADGzrqtRyQSxEppurZF2dEWXasEs5xnVn8I+lmNqB9v1cyDORsuoNtsKp3CAtiZU800AxejRcRy/lR13CHN8uZjlD7Y3W7gcetSsoFruGCoJ4gv2gaVZqk/NvQi57sQfz0MpflnOvblDnn++R/Wps8jonSnHKfMN3KtyfrFrxioNQ1EYxs2Ki26Csy+gLmodxUHQxVU4+RGnbgmhi9BByGCGvkNKIFsqlwQaKunU0BLpG3lCSkmxQ1JKyfX2g5bD/SnN8HGSe3Ma2ojqyvDgkq9Qjvmcz/eP/KXomyrmNOvbcrJjnfn9Sp2ZQGnMOdF+qL50j5qqmSPNBPtlnVtO1nQaipkjza78dkLr0asYTO3pOv/yolrPkcaceyqJ1W4nRN1+24mJQt+AMbDnqwsKwR8iDGgdHiR5QlbNnJsulcQCWIgASIlcE9ABjPPVBYVgY+Y8SbIrV82cZypJ7kgKCK49dFwKZ9CtojlLwcbMuduZU0caj5V6zlTHjH9g57qERhAXzVkKiFzhRyIkJhS+cHNzYhFF4x5VYHKtljmSTLDvaVXMSR0YFpcCnaVOtICDQp2hp0SJDqDlZOa4HTCeReV51faVMkeS85yrU6pgjjnXZABvpTnFIAH8xPagx+TBSeMAbA6Xs9A1IKr0HK2xM6d+nJ1XMYfpE+Ojv9KcYhDB5O8pMOZPStRrsTkhkBAJOFSeb+1wgxPsO3M2xMWoijlGkO+agpU9Zznw4BPTgbCBMFtgc7jUTbMFncoz1I63c57zpW2L/zDB/sveGatEDAQB9MRD0FqwOLHVT7DyA/yLyWCZLiG1XZoU+YcsC9dl4cgVadJFuAj3R87sHkQFkQXB3ew+Ugw7IdWDmU0mydWLjTlVrasPTKe905v4Zs6cIFF6IxCbU1N0NOb0HWMxgSgSHliJf2N0jMTOHJCIStegif3AQn4250uix5wikelqdThVq4M5ewAbHi+jOe5haw7sdNPSkiH7Mce8LimSBBjmRMUn1h1mg3hFJWBC7KHO8TjQNTqwYP2nE+zOs1RzRI7FAMMWmUzSqqEEzZyAHrFIdV80cneDDTc+VYqp2aFZmhPO/62WZ45QSnIlUopkqKe22XZ7XjUIYOYE8U5RLzmq2qatRrWjUNJiy4vRnGDM+TfuL4Iyx5MJ9ucSnCc5C8ocT+7nuPq+TDTHdQIzh+ZznCea46I5PtzP8cScJ3e+fBLNYbyZYPdhb3Ubnz44iA/mrFeBm3O3uTl/WP3M9YaPX4jmLL5D/mDnDlYbhOEAjH/Mi+CIASMRhQiBDBc9tJeCpx33GtvaPe1eapMWRluUwkCczYeevET4XRL/eCWnFWljxQQdacgSpgty1r8rv5LTW0A5qAsJdHQGagN0cV3UEHdHObKIGS3IuTs5ci9hyG28KDt80ufe9r0HXwm/UWTJcMW6L3PJXL1+vS++58e7knM5wd7mJ0EbQ7xzaA/CQ27QZU1bnuSkGqKUqcJ5zqrlPHBeI2AoKwGl0Q60hV2GTgHRHeXsts5VJWMFOXcnR+4NQ3YHNDm6ha2CxKEzIDdHOXprrXWMFuT8cYJ98V3KoUwBW7UbINJncrYgc45ybAK1YawgZ/XnOVcT7I2IVJVLvM8q0ZzJEVVWRic5UlTKp8zV09TPc14+5yrI+e36dWWaOAmxTSIDmQE13AVa/TyBQg0XRZUopppvV/5xmKmpVYQJ9vF0y83NK+dtpg4TqwgT7EHOAuT8h73VGr54Bjk3FOQsV06YYF9i3+zd30taYRjA8Wc7MATZObKOS5QpBI0wB+sm8G67GvRXPOtl6PFXaqVpZZZJv6QLk8hpXeQ4MEL6I3a5i/1Le97V1mhDT3XI8+r5QqcHL7r6QL4vjzi3a305I34TaNGef7TlWCwjcgJjdz6A23KGfj/HiByfc8p713OVLWfY73OMyAn7wafAIKMNdluOxTKywe5UJu+xijNyZyt7g/12DokFQ+BXwGiS2U0LIWfkN9j/yetUZT9xMAyHRUyOjZocEd4h95czFQZQ3R7j/6+kCJrcyMkR4VTeX47qpYfCJLDl2HLuJCfgdqoT4VlZ8QxQzofv1pcz4hvs/ymkOBU/eKQp6IvMw/M1Y2Z1fC3nAfc5nZXrP6KtHOGtYoWbuZKy0KlcBDlPwcS873iMJcyKPVxOil1cDSVWxFu12c28ELXlDE7OmyqamxlyCotppDL5TXHkCLnBPnRy6vk4UnoiyuXEV74W95HKNct6ldFQjZQbmSs5sWJKz1hBjgj3Oa+eCSHn9Y97y9mpt5DKVg5JTmkzonfzOcROsqkfJhhRWkqdLCf2uJzj5E4t27TlGGv+iRBy5j/dX06MaYi5pS2Sc85ySHy2ca9wQcMZQ9ysIG4la1zOZQJxP95Ljr3BblCOz8k/BmEgV/g9jy1GTaqlmycHz5qI5TKSnJMCUlW212ZtGhYYauxc07TtEpeTSxb3rXGf02OD3TLfGNJTjqxOS/IE9E+qx81tbdlEOWv5zHGyyuWUu0hp7NtGkg9HDDdYltfkcnAty7ZzVpAjwvdb9ZbjApgMQyBAcwgcAfA4HunyT1s0UU66sN7IIpez8wWpDstUmUZDgyENf5+tDkqbthyz5ARB8QG43DA56w7KqoByMHKWuPwlZ4PF+EtZ3FrSaWgxOqxXOKE2lxPPIcaSGatvsFtETs8Ndnnao7jV33LGki4YGx+MnLndh8jZZ/kMl0M/i7XV+tJnwpSvrJa2WRoX8o3VUkHjcmrL6/FoygpnKxHk9LzPkce98hT8kROkX/JjyTHrPudylR4LOj0qccS03j2ta0h1uq3iQTmNuJY63aFXNhqIlWi0cmDLMUOOy+FWr+T4SY4TwCGcHEQBt0lfvBReDkzLIVCDABO2HKvcBAoiB2ZmIPBWUbwDlWNvsFtPTs8NdiUAEJIC4PdJLgU8KslRRDtbUUO2wW4ROT/Zu7fXpqE4DuBe8MZgU3QoExWGoqCT+SL6pML+BvHxi+ehTbqkSa9pc2nthdK0dNCWsnZdH1YZjDL8I/a2v8qTZM5ZvKxLXXPafGHdAmfs5dMu5/Btf6M+UZg7zwEY7AT6cnw503uH7MvxohwWduW+HF/OVMvxG+yek/PyBhNyZuw8hwU5ly74chiW0+YwcsyUDCfbGswvMvKiL2cozMq59viUcoQdnCqJCo7DkR9ydN6+SGjWAl/OiXhczrPrI5znuJOznRmSM3RBF4wm54wN9kf3zlkObbBPoZxX8wvX3ctpDVrNrF6uNA1L0U6mWFI6KJZKHGCmQdPkyptfxM0iDpp76YqFpZXPtosAdru2nI7mLAhwoMkn/uPe6ia5e89Lu/Jzy7uxNthfEULtuJXDC72akiwV9pVkHQgUUu2aoKdKNdJBIgaaVKacjonpohyt5YMCR7Fs7+0aQgiI6LaccNBZsGXAcsX/VzmE2jmjHB5OpKNvp5HD5Ey9y+Q0eftixAb7sByOtIEBCQB6CgiTIlAgPBBUjuU4X2ZaAuIDcGQPgLF+Qo6zQE2Wgc0eXMghp8ry7+TkFQCaCBSTRQDGNqzsi+gYsNMQIcZ3sBmJ7Ekol9YjvbYEGPug6eWmSY6L15yLn0eRcwh0SBcoWhXHFIB6FEBpf0gOUOmoBQUc0QCoRB6WI33RIMV1TOY1pxzlIUc5y0IdgCh0AZhC0BJjJ5gA9jJcD8jqEI0ypLYIiKk+gPUZk2O7cS9HBn0oAzyRbAVI1wAEhuXIweTW3oYlx3TeADIsB+0tNJIyJnSfE9rCZgmQ4624DErDsPgbx3L4Aiw5IRGQqA8JNBEeovq1wrqcp1fd7K3GL6eGIskBFXIkp/SFXomWnBAAleSG5dCLilh30WB3ubcK5qMyoBsw+oC4E89BinaO5RiaLSe3nk0AWhZW2jrEhB78mxzaYPd83J7njF+OSRpA1ZITV+1bBuRSlhwFgLKBn3KcBUAvEOtO7jyHEywcvSIS24B4WGpCM7o/5OSiki0H5f5W5KCqwEpgQOUgWP2znFmbqTcmOYhs5OtRC0VwK8Srybze21DoskhADQjqCTnOAkAnBUxODjZaAC8UCgWBo3IONrDdPZYzSMORQ5PPdrdgX+5YcipfTV/OqP0cg0MrKwGVHw+ZJoBMHoBKH3K7WwofLgK8UQtJmiiG+hpMw2xvZzsWrgRa9u84C4Ac+TZpOe2wRb9E5SC4W8APOVK0BZoer2mAmpXiRQBmPGfJAX0V8uVMthM4iMsTliOlKjYJicrJCLotp6fRZAFozXWY0aoW6aAbHzR2ownYclAjub802D0f5uV0SkLDRYPdvZxqGRXd+akVMiE1ZbRUHIRpVA5AepADuHzY+rmitfsWspBpXYTLLO+tmG+wV43i9DS7pJbJ8V025PgNdi/JEVbnF1dWPsyaHL/B7lrOBSezJoeFTuA0yPl8bnnny2FNjt9g95wcjzfYZ3SmHgtyvNomJSVDXFvz5fhyRpazsHz7zp2HMyrn2mNfzlnlLPoTYD0u58FVJuRMZYOdbTle3VstsjcB9s0NX86E5EgtPhHSqvlwOtAm7MnxP4P9/OWYjV1l7WNKmF9Z+vD61dx9Oi743kzLYWG+1YTlSHzV+BibX5pbuPPs5nW255X7cs5LjnQYWFtdeb387NF0TLp/enWm5Ny6Mhk55i5Vc//OiwunCm2we1+OP43xv8uRDj+9X319++9qZvo8x5fzm8hqdnXFuQH25fyln+P5nK8cs7q2urRsDVvz5bA+U29McowD/Ctyw/4f9ehMf8D1Z7D3FUUJd3Ai25ovx0XG1GB/tDS/+tHIN0wJv0uZ1+ofY0t/nJV/DnsrsTDY7JE9/ExEZ/Qz2D2SsT1RXjxfnluaF96viZ/y/UyiyHMc1000+nll7b2wcnfBfhP1BOXUAaikcVKOd89zZkqOk+sPnz9ZmHv9YWllZXFx0ToSnlu4fc9BM3k5UjKPJgcgozpyJLVeV3E0qNxDcli4Q6ZyWMh45HQJj3gGgJJ15GRT7Wxs82hQuYfksLArnxk54gHfXO/hFzkNYgJ9oeUMKvflTKMc1w12MRaPxQLlX+WE1zmOS5Ada1A5Ow12j4Q22FmI6/McsQ5KBL/KySYjVhrOoHIP7cpZkHPpAhMZhxzUozIQ1wH0HDmlddhxBpX7cnw5f5CTiytAwQByxJGjEpNebOaOBpV7Rw5tsHs+syQHIXKIdLLUjBZEW45UiGh6oSY5g8o99JrDwnkObbCzENcN9m990KQHkDKiqDZ2gUACkAPB/Wb5aFC5L2eEMLO3YqHZ9eaGL8d7+c7evaMgDEVBGD6FQkxnaS0Itj4aBe1UBEHUtMK5mAVlEdbuIIKthVvS9JJKwwx3vjX8RXIYuAzl/HbBDk/lIJbD8G+lclSOyvlKC/Y/6baNgRbscGK556gclRNDOQz7HJWDWA7DPYeknMVd5YD5LNgZMPxbacGOiKEcLdgRRVYOwxcySTkpQTkb3ZABTR515VwaElQOXTnzun3OMm+K1yiHnajKIVmw287RPUNc5ZDcc6zl6PKQqBxAe0c3HphpwY4nKxxbkR7iuueQLNhtdnRsy9CPqxySfytrh9KhFdtE5SAaob/HuDLTgh3StHt1ZCczXQIh9cLLge1M5aCanR3XbZ00VA7MiyEkC/ZK5rDKdGpmcb0dzHLPqWwc1TgdqRxgb/buXiViIArD8DeQZJNgYwpB2G5FsVowW8UVu2AgQfGncbGYA3svtnMRW+cOJrCtN+Vkf1Abq43OYeZpAlO/JJnhwMwbS48DWwpxUNmJL+egrnMr0+mowJ47d+qxKiejtbRQKSIHy2Eywb5T0dq+t04zB+BeOXx25RuCbPtgqbIPx5djvXD2Lm3Sjt+w5dofMrdyENeltIbOqYiw49iunF05xoPupA3UMk2n2PDl8FBQbkM7t1SMsOVgOVwm2H+Iqhk9tSv5f5SW5TMS7DlYDqvznC/R9IYWjZRar5T8W6r7WObpuMZ3vhxGroD65ZV690EQXFDvODAuh1y8W5jn+eMEQxqd+XIGlmRhJcQpgEj0QhgTYQy2GB8lMX7hynkOlwl2xzAo55Ndu9lNFAoDMLyc65g7e5OzQFQQlD85iAoS4080saZRaV3UpIkxphcxu7mqKVptzaxYirw78oXdE8g5+e7ybFX88sjxu5z66PDVuG8S65yrtrkt1ks5he3X7xxywgFZpjvlK1WYOAHnXgTfSficlHIKW66zlSNUgMCKfsoB/pfzbJV/q2KXSw5zBaCyhz/LvT85y9kEgLPuvScCRp3FwoEkFKuVeZpUFX34BsRjucheMbqLsFvKufvyyWm0gGftDbM1iyuaepLTqMBOW7/P6gK8+WHhHkh6mu+Psom0eh9DawX1iq2kwmFqx0vL4baibLA/UPnkjIUDsQ1j3wD7cJEzah+ArYC4Ct4AHAtOE3sNPGkqzbYBdY9XHzbVB7rPKWj55JCGMFgBTDZy4F3kvIgXoCEAM6mt2xc52eQvgL2jGQLhEa8VmA91E1jQcu7nBP2RKlQwK266n1/ldDWAJwEHd6CnP+TUhAHQPNCcAv6M0dq29KiUc/fluwkcuXK1BYb9CPSrnCTTxFKQCAny5puTAJG2o9k5ywGSeljKufvyySHUW1PgqEPUvsqJrHcgFQSWAb1MjmaQTcy+AkihXuSYcQTKa3E32B+mnHIcYUWAdOPO9vtvheLGMhwIw3RDGc7bEGm+jLJJx1JqcX/IRQ5ppdaxp+Wp/O7LKQdvCWAEul7bBTz3DLpLYHdM/cnnQ+KljaoHBDN9cppswu1eAooD1GImw21PGqWce6/cYP/H3h2jJhBFYRR+jUqmGzu7BMFWCIoQtIlFkAQhVUj14BFcyizHZuppgitwRckKQhAi507Ot4ZT+G7+qPq77LIcIstRf8sJuWDvvQjleM8hshy5YNev/KMdsgt2pADl+LZCshxduGC3HPX1bWU5RJajvyinfFyJC/ZwfiwnH66l9Z4TTYRfDLEcou99Dp7lIAX4TT3LQQpQjgt2pADl+CpHshz19hOy5RBFeJVbDpHlqL/luGAnilCO9xwiy9HFC3Y8y0EKcM9xwY4UoBzfVkgRytkl4dzfZbqmuAkEmpdjhjuWeRLOtLQZriuuLIBuyjnDtQtvyEDDcsh0z0lAs22mWycB7W4z3HsS0irDrZKQXjLb51MS0z6TNdVDEtNjl8FOZZLEtKmbjNXUmySoaTllrFOZJlFtKu7frl6XSVijinsN9H6MNijUD8necuAmzH1X4wIZb0086nT1OIlu/YZ7mnf1YpSEN65hE6+2MpwQRjPWWedcZoYTw3BZtqC7zmrpf1mFMagwX6az947ztSEF2CWdwuMHHLQdcXZiGAVDDjjJHhrQpvLmQ1xJtkYMo2DoASGuJC7nNPoPKreBG1muSVxWo8sqhijg4LFWS4oyj2GSTQIBLiYgUAAzA4Es2gkKmjt52yjzcDCMgiEMONhABCMIsIL4ymCmJA0FPVmH+E5OAN7FEXl/oCG2AAAAAElFTkSuQmCC" width="569" height="326" class="img_ev3q"></p><p>å›¾ 11 KCL å¼ºçº¦æŸæ ¡éªŒæ‰‹æ®µ</p><ul><li>KCL è¯­è¨€çš„ç±»å‹ç³»ç»Ÿè¢«è®¾è®¡ä¸ºé™æ€çš„ï¼Œç±»å‹å’Œå€¼å®šä¹‰åˆ†ç¦»ï¼Œæ”¯æŒç¼–è¯‘æ—¶ç±»å‹æ¨å¯¼å’Œç±»å‹æ£€æŸ¥ï¼Œé™æ€ç±»å‹ä¸ä»…ä»…å¯ä»¥æå‰åœ¨ç¼–è¯‘æ—¶åˆ†æå¤§éƒ¨åˆ†çš„ç±»å‹é”™è¯¯ï¼Œè¿˜å¯ä»¥é™ä½åç«¯è¿è¡Œæ—¶çš„åŠ¨æ€ç±»å‹æ£€æŸ¥çš„æ€§èƒ½æŸè€—ã€‚æ­¤å¤–ï¼ŒKCL Schema ç»“æ„çš„å±æ€§å¼ºåˆ¶ä¸ºéç©ºï¼Œå¯ä»¥æœ‰æ•ˆé¿å…é…ç½®é—æ¼ã€‚</li><li>å½“éœ€è¦å¯¼å‡ºçš„ KCL é…ç½®è¢«å£°æ˜ä¹‹åï¼Œå®ƒä»¬çš„ç±»å‹å’Œå€¼å‡ä¸èƒ½å‘ç”Ÿå˜åŒ–ï¼Œè¿™æ ·çš„é™æ€ç‰¹æ€§ä¿è¯äº†é…ç½®ä¸ä¼šè¢«éšæ„ç¯¡æ”¹ã€‚</li><li>KCL æ”¯æŒé€šè¿‡ç»“æ„ä½“å†…ç½®çš„æ ¡éªŒè§„åˆ™è¿›ä¸€æ­¥ä¿éšœç¨³å®šæ€§ã€‚æ¯”å¦‚å¯¹äºå¦‚å›¾ 12 æ‰€ç¤ºçš„ KCL ä»£ç ï¼Œï¼Œåœ¨ <code>App</code> ä¸­å®šä¹‰å¯¹ <code>containerPort</code>ã€<code>services</code>ã€<code>volumes</code> çš„æ ¡éªŒè§„åˆ™ï¼Œç›®å‰æ ¡éªŒè§„åˆ™åœ¨è¿è¡Œæ—¶æ‰§è¡Œåˆ¤æ–­ï¼Œåç»­ KCL ä¼šå°è¯•é€šè¿‡ç¼–è¯‘æ—¶çš„é™æ€åˆ†æå¯¹è§„åˆ™è¿›è¡Œåˆ¤æ–­ä»è€Œå‘ç°é—®é¢˜ã€‚</li></ul><p><img loading="lazy" src="/zh-CN/assets/images/12-kcl-app-schema-c2cc4b180d61c3044373cd9a68c03ead.png" width="1364" height="588" class="img_ev3q"></p><p>å›¾ 12 å¸¦è§„åˆ™çº¦æŸçš„ KCL ä»£ç æ ¡éªŒ</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="24-åˆ†å—ç¼–å†™åŠé…ç½®åˆå¹¶">2.4 åˆ†å—ç¼–å†™åŠé…ç½®åˆå¹¶<a href="#24-åˆ†å—ç¼–å†™åŠé…ç½®åˆå¹¶" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>KCL æä¾›äº†é…ç½®åˆ†å—ç¼–å†™åŠè‡ªåŠ¨åˆå¹¶é…ç½®çš„èƒ½åŠ›ï¼Œå¹¶ä¸”æ”¯æŒå¹‚ç­‰åˆå¹¶ã€è¡¥ä¸åˆå¹¶å’Œå”¯ä¸€é…ç½®åˆå¹¶ç­‰ç­–ç•¥ã€‚å¹‚ç­‰åˆå¹¶ä¸­çš„å¤šä»½é…ç½®éœ€è¦æ»¡è¶³äº¤æ¢å¾‹ï¼Œå¹¶ä¸”éœ€è¦å¼€å‘äººå‘˜æ‰‹åŠ¨å¤„ç†åŸºç¡€é…ç½®å’Œä¸åŒç¯å¢ƒé…ç½®å†²çªã€‚ è¡¥ä¸åˆå¹¶ä½œä¸ºä¸€ä¸ªè¦†ç›–åŠŸèƒ½ï¼ŒåŒ…æ‹¬è¦†ç›–ã€åˆ é™¤å’Œæ·»åŠ ã€‚å”¯ä¸€çš„é…ç½®è¦æ±‚é…ç½®å—æ˜¯å…¨å±€å”¯ä¸€çš„å¹¶ä¸”æœªä¿®æ”¹æˆ–ä»¥ä»»ä½•å½¢å¼é‡æ–°å®šä¹‰ã€‚ KCL é€šè¿‡å¤šç§åˆå¹¶ç­–ç•¥ç®€åŒ–äº†ç”¨æˆ·ä¾§çš„ååŒå¼€å‘ï¼Œå‡å°‘äº†é…ç½®ä¹‹é—´çš„è€¦åˆã€‚</p><p>å¦‚å›¾ 13 æ‰€ç¤ºï¼Œå¯¹äºå­˜åœ¨åŸºçº¿é…ç½®ã€å¤šç¯å¢ƒå’Œå¤šç§Ÿæˆ·çš„åº”ç”¨é…ç½®åœºæ™¯ï¼Œæœ‰ä¸€ä¸ªåŸºæœ¬é…ç½® base.kã€‚ å¼€å‘å’Œ SRE åˆ†åˆ«ç»´æŠ¤ç”Ÿäº§å’Œå¼€å‘ç¯å¢ƒçš„é…ç½® base.k å’Œ prod.kï¼Œä»–ä»¬çš„é…ç½®äº’ä¸å½±å“ï¼Œç”± KCL ç¼–è¯‘å™¨åˆå¹¶æˆä¸€ä¸ª prod ç¯å¢ƒçš„ç­‰æ•ˆé…ç½®ä»£ç ã€‚</p><p><img loading="lazy" src="/zh-CN/assets/images/13-kcl-isolated-config-bfe5397d9b2a419e47215086f7446725.png" width="1638" height="842" class="img_ev3q"></p><p>å›¾ 13 å¤šç¯å¢ƒåœºæ™¯é…ç½®åˆ†å—ç¼–å†™å®ä¾‹</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="25-è‡ªåŠ¨åŒ–é›†æˆ">2.5 è‡ªåŠ¨åŒ–é›†æˆ<a href="#25-è‡ªåŠ¨åŒ–é›†æˆ" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>åœ¨ KCL ä¸­æä¾›äº†å¾ˆå¤šè‡ªåŠ¨åŒ–ç›¸å…³çš„èƒ½åŠ›ï¼Œä¸»è¦åŒ…æ‹¬å·¥å…·å’Œå¤šè¯­è¨€ APIã€‚ é€šè¿‡ <code>package_identifier : key_identifier</code>çš„æ¨¡å¼æ”¯æŒå¯¹ä»»æ„é…ç½®é”®å€¼çš„ç´¢å¼•ï¼Œä»è€Œå®Œæˆå¯¹ä»»æ„é”®å€¼çš„å¢åˆ æ”¹æŸ¥ã€‚æ¯”å¦‚å›¾ 14 æ‰€ç¤ºä¿®æ”¹æŸä¸ªåº”ç”¨é…ç½®çš„é•œåƒå†…å®¹ï¼Œå¯ä»¥ç›´æ¥æ‰§è¡Œå¦‚ä¸‹æŒ‡ä»¤ä¿®æ”¹é•œåƒï¼Œä¿®æ”¹å‰åçš„ diff å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img loading="lazy" src="/zh-CN/assets/images/14-kcl-image-update-de385287fb7173d5825bdb00bd85c6c0.png" width="1828" height="502" class="img_ev3q"></p><p>å›¾ 14 ä½¿ç”¨ KCL CLI/API è‡ªåŠ¨ä¿®æ”¹åº”ç”¨é…ç½®é•œåƒ</p><p>æ­¤å¤–ï¼Œå¯ä»¥åŸºäº KCL çš„è‡ªåŠ¨åŒ–èƒ½åŠ›å®ç°å¦‚å›¾ 15 æ‰€ç¤ºçš„ä¸€é•œäº¤ä»˜åŠè‡ªåŠ¨åŒ–è¿ç»´èƒ½åŠ›å¹¶é›†æˆåˆ° CI/CD å½“ä¸­ã€‚</p><p><img loading="lazy" src="/zh-CN/assets/images/15-kcl-automation-e3e81ff935a111c098153bae5bf5b34e.png" width="890" height="247" class="img_ev3q"></p><p>å›¾ 15 å…¸å‹ KCL è‡ªåŠ¨åŒ–é›†æˆé“¾è·¯</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ä¸‰kcl-ä¸å…¶ä»–å£°æ˜å¼é…ç½®çš„å¯¹æ¯”">ä¸‰ã€KCL ä¸å…¶ä»–å£°æ˜å¼é…ç½®çš„å¯¹æ¯”<a href="#ä¸‰kcl-ä¸å…¶ä»–å£°æ˜å¼é…ç½®çš„å¯¹æ¯”" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="31-vs-jsonyaml">3.1 vs. JSON/YAML<a href="#31-vs-jsonyaml" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>YAML/JSON é…ç½®ç­‰é€‚åˆå°è§„æ¨¡çš„é…ç½®åœºæ™¯ï¼Œå¯¹äºå¤§è§„æ¨¡ä¸”éœ€è¦é¢‘ç¹ä¿®æ”¹çš„äº‘åŸç”Ÿé…ç½®åœºæ™¯ï¼Œæ¯”è¾ƒé€‚åˆ KCL æ¯”è¾ƒé€‚åˆï¼Œå…¶ä¸­æ¶‰åŠåˆ°ä¸»è¦å·®å¼‚æ˜¯é…ç½®æ•°æ®æŠ½è±¡ä¸å±•å¼€çš„å·®å¼‚ï¼š</p><ul><li>å¯¹äº JSON/YAML ç­‰é™æ€é…ç½®æ•°æ®å±•å¼€çš„å¥½å¤„æ˜¯ï¼šç®€å•ã€æ˜“è¯»ã€æ˜“äºå¤„ç†ï¼Œä½†æ˜¯éšç€é™æ€é…ç½®è§„æ¨¡çš„å¢åŠ ï¼Œå½“é…ç½®è§„æ¨¡è¾ƒå¤§æ—¶ï¼ŒJSON/YAML ç­‰æ–‡ä»¶ç»´æŠ¤å’Œé˜…è¯»é…ç½®å¾ˆå›°éš¾ï¼Œå› ä¸ºé‡è¦çš„é…ç½®ä¿¡æ¯è¢«<strong>æ·¹æ²¡åœ¨äº†å¤§é‡ä¸ç›¸å…³çš„é‡å¤ç»†èŠ‚</strong>ä¸­ã€‚</li><li>å¯¹äºä½¿ç”¨ KCL è¯­è¨€è¿›è¡Œé…ç½®æŠ½è±¡çš„å¥½å¤„æ˜¯ï¼šå¯¹äºé™æ€æ•°æ®ï¼ŒæŠ½è±¡ä¸€å±‚çš„å¥½å¤„è¿™æ„å‘³ç€æ•´ä½“ç³»ç»Ÿå…·æœ‰<strong>éƒ¨ç½²çš„çµæ´»æ€§</strong>ï¼Œä¸åŒçš„é…ç½®ç¯å¢ƒã€é…ç½®ç§Ÿæˆ·ã€è¿è¡Œæ—¶å¯èƒ½ä¼šå¯¹é™æ€æ•°æ®å…·æœ‰ä¸åŒçš„è¦æ±‚ï¼Œç”šè‡³ä¸åŒçš„ç»„ç»‡å¯èƒ½æœ‰ä¸åŒçš„è§„èŒƒå’Œäº§å“è¦æ±‚ï¼Œå¯ä»¥ä½¿ç”¨ KCL å°†æœ€éœ€è¦ã€æœ€å¸¸ä¿®æ”¹çš„é…ç½®æš´éœ²ç»™ç”¨æˆ·ï¼Œå¯¹å·®å¼‚åŒ–çš„é…ç½®è¿›è¡ŒæŠ½è±¡ï¼ŒæŠ½è±¡çš„å¥½å¤„æ˜¯å¯ä»¥æ”¯æŒä¸åŒçš„é…ç½®éœ€æ±‚ã€‚å¹¶ä¸”å€ŸåŠ© KCL è¯­è¨€çº§åˆ«çš„è‡ªåŠ¨åŒ–é›†æˆèƒ½åŠ›ï¼Œè¿˜å¯ä»¥å¾ˆå¥½åœ°æ”¯æŒä¸åŒçš„è¯­è¨€ï¼Œä¸åŒçš„é…ç½® UI ç­‰ã€‚</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="32-vs-kustomize">3.2 vs. Kustomize<a href="#32-vs-kustomize" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>Kustomize çš„æ ¸å¿ƒèƒ½åŠ›æ˜¯å…¶ Overlay èƒ½åŠ›ï¼Œå¹¶ Kustomize æ”¯æŒæ–‡ä»¶çº§çš„è¦†ç›–ï¼Œä½†æ˜¯å­˜åœ¨ä¼šå­˜åœ¨å¤šä¸ªè¦†ç›–é“¾æ¡çš„é—®é¢˜ï¼Œå› ä¸ºæ‰¾åˆ°å…·ä½“å­—æ®µå€¼çš„å£°æ˜å¹¶ä¸èƒ½ä¿è¯è¿™æ˜¯æœ€ç»ˆå€¼ï¼Œå› ä¸ºå…¶ä»–åœ°æ–¹å‡ºç°çš„å¦ä¸€ä¸ªå…·ä½“å€¼å¯ä»¥è¦†ç›–å®ƒï¼Œå¯¹äºå¤æ‚çš„åœºæ™¯ï¼ŒKustomize æ–‡ä»¶çš„ç»§æ‰¿é“¾æ£€ç´¢å¾€å¾€ä¸å¦‚ KCL ä»£ç ç»§æ‰¿é“¾æ£€ç´¢æ–¹ä¾¿ï¼Œéœ€è¦ä»”ç»†è€ƒè™‘æŒ‡å®šçš„é…ç½®æ–‡ä»¶è¦†ç›–é¡ºåºã€‚æ­¤å¤–ï¼ŒKustomize ä¸èƒ½è§£å†³ YAML é…ç½®ç¼–å†™ã€é…ç½®çº¦æŸæ ¡éªŒå’Œæ¨¡å‹æŠ½è±¡ä¸å¼€å‘ç­‰é—®é¢˜ï¼Œè¾ƒä¸ºé€‚ç”¨äºç®€å•çš„é…ç½®åœºæ™¯ï¼Œå½“é…ç½®ç»„ä»¶å¢å¤šæ—¶ï¼Œå¯¹äºé…ç½®çš„ä¿®æ”¹ä»ç„¶ä¼šé™·å…¥å¤§é‡é‡å¤ä¸ç›¸å…³çš„é…ç½®ç»†èŠ‚ä¸­ï¼Œå¹¶ä¸”åœ¨ IDE ä¸­ä¸èƒ½å¾ˆå¥½åœ°æ˜¾ç¤ºé…ç½®ä¹‹é—´çš„ä¾èµ–å’Œè¦†ç›–å…³ç³»æƒ…å†µï¼Œåªèƒ½é€šè¿‡æœç´¢/æ›¿æ¢ç­‰æ‰¹é‡ä¿®æ”¹é…ç½®ã€‚</p><p>åœ¨ KCL ä¸­ï¼Œé…ç½®åˆå¹¶çš„æ“ä½œå¯ä»¥ç»†ç²’åº¦åˆ°ä»£ç ä¸­æ¯ä¸€ä¸ªé…ç½®å­—æ®µï¼Œå¹¶ä¸”å¯ä»¥çµæ´»çš„è®¾ç½®åˆå¹¶ç­–ç•¥ï¼Œå¹¶ä¸å±€é™äºèµ„æºæ•´ä½“ï¼Œå¹¶ä¸”é€šè¿‡ KCL çš„ import å¯ä»¥é™æ€åˆ†æå‡ºé…ç½®ä¹‹é—´çš„ä¾èµ–å…³ç³»ã€‚</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="33-vs-hcl">3.3 vs. HCL<a href="#33-vs-hcl" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="331-åŠŸèƒ½å¯¹æ¯”">3.3.1 åŠŸèƒ½å¯¹æ¯”<a href="#331-åŠŸèƒ½å¯¹æ¯”" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><table><thead><tr><th></th><th>HCL</th><th>KCL</th></tr></thead><tbody><tr><td>å»ºæ¨¡èƒ½åŠ›</td><td>é€šè¿‡ Terraform Go Provider Schema å®šä¹‰ï¼Œåœ¨ç”¨æˆ·ç•Œé¢ä¸ç›´æ¥æ„ŸçŸ¥ï¼Œæ­¤å¤–ç¼–å†™å¤æ‚çš„ object å’Œå¿…é€‰/å¯é€‰å­—æ®µå®šä¹‰æ—¶ç”¨æˆ·ç•Œé¢è¾ƒä¸ºç¹ç</td><td>é€šè¿‡ KCL Schema è¿›è¡Œå»ºæ¨¡ï¼Œé€šè¿‡è¯­è¨€çº§åˆ«çš„å·¥ç¨‹å’Œéƒ¨åˆ†é¢å‘å¯¹è±¡ç‰¹æ€§ï¼Œå¯ä»¥å®ç°è¾ƒé«˜çš„æ¨¡å‹æŠ½è±¡</td></tr><tr><td>çº¦æŸèƒ½åŠ›</td><td>é€šè¿‡ Variable çš„ condition å­—æ®µå¯¹åŠ¨æ€å‚æ•°è¿›è¡Œçº¦æŸï¼ŒResource æœ¬èº«çš„çº¦æŸéœ€è¦é€šè¿‡ Go Provider Schema å®šä¹‰æˆ–è€…ç»“åˆ Sentinel/Rego ç­‰ç­–ç•¥è¯­è¨€å®Œæˆï¼Œè¯­è¨€æœ¬èº«çš„å®Œæ•´èƒ½åŠ›ä¸èƒ½è‡ªé—­ç¯ï¼Œä¸”å®ç°æ–¹å¼ä¸ç»Ÿä¸€</td><td>ä»¥ Schema ä¸ºæ ¸å¿ƒï¼Œåœ¨è¿›è¡Œå»ºæ¨¡çš„åŒæ—¶å®šä¹‰å…¶çº¦æŸï¼Œåœ¨ KCL å†…éƒ¨è‡ªé—­ç¯å¹¶ä¸€ç»Ÿä¸€æ–¹å¼å®ç°ï¼Œæ”¯æŒå¤šç§çº¦æŸå‡½æ•°ç¼–å†™ï¼Œæ”¯æŒå¯é€‰/å¿…é€‰å­—æ®µå®šä¹‰</td></tr><tr><td>æ‰©å±•æ€§</td><td>Terraform HCL é€šè¿‡åˆ†æ–‡ä»¶è¿›è¡Œ Override, æ¨¡å¼æ¯”è¾ƒå›ºå®šï¼Œèƒ½åŠ›å—é™ã€‚</td><td>KCL å¯ä»¥è‡ªå®šä¹‰é…ç½®åˆ†å—ç¼–å†™æ–¹å¼å’Œå¤šç§åˆå¹¶ç­–ç•¥ï¼Œå¯ä»¥æ»¡è¶³å¤æ‚çš„å¤šç§Ÿæˆ·ã€å¤šç¯å¢ƒé…ç½®åœºæ™¯éœ€æ±‚</td></tr><tr><td>è¯­è¨€åŒ–ç¼–å†™èƒ½åŠ›</td><td>ç¼–å†™å¤æ‚çš„å¯¹è±¡å®šä¹‰å’Œå¿…é€‰/å¯é€‰å­—æ®µå®šä¹‰æ—¶ç”¨æˆ·ç•Œé¢è¾ƒä¸ºç¹ç</td><td>å¤æ‚çš„ç»“æ„å®šä¹‰ã€çº¦æŸåœºæ™¯ç¼–å†™ç®€å•ï¼Œä¸å€ŸåŠ©å…¶ä»–å¤–å›´ GPL æˆ–å·¥å…·ï¼Œè¯­è¨€ç¼–å†™è‡ªé—­ç¯</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="332-ä¸¾ä¾‹">3.3.2 ä¸¾ä¾‹<a href="#332-ä¸¾ä¾‹" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><p><strong>Terraform HCL Variable çº¦æŸæ ¡éªŒç¼–å†™ vs. KCL Schema å£°æ˜å¼çº¦æŸæ ¡éªŒç¼–å†™</strong></p><ul><li>HCL</li></ul><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">variable </span><span class="token string" style="color:#e3116c">"subnet_delegations"</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token builtin">type</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">list</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">object</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name               </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    service_delegation </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">object</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      name    </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      actions </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">list</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">string</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  default     </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> null</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  validation </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    condition </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> var</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">subnet_delegations </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> null ? true </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> alltrue</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> d </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> var</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">subnet_delegations </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">d </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> null</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  validation </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    condition </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> var</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">subnet_delegations </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> null ? true </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> alltrue</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> n </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> var</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">subnet_delegations</span><span class="token punctuation" style="color:#393A34">.</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">name </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">n </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> null</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  validation </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    condition </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> var</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">subnet_delegations </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> null ? true </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> alltrue</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> d </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> var</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">subnet_delegations</span><span class="token punctuation" style="color:#393A34">.</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">service_delegation </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">d </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> null</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  validation </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    condition </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> var</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">subnet_delegations </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> null ? true </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> alltrue</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> n </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> var</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">subnet_delegations</span><span class="token punctuation" style="color:#393A34">.</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">service_delegation</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">name </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">n </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> null</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>KCL</li></ul><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">schema SubnetDelegation</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    service_delegation</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ServiceDelegation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">schema ServiceDelegation</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    actions?</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># ä½¿ç”¨ ? æ ‡è®°å¯é€‰å±æ€§</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">subnet_delegations</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">SubnetDelegation</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> option</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"subnet_delegations"</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æ­¤å¤–ï¼ŒKCL è¿˜å¯ä»¥åƒé«˜çº§è¯­è¨€ä¸€æ ·å†™ç±»å‹ï¼Œå†™ç»§æ‰¿ï¼Œå†™å†…ç½®çš„çº¦æŸï¼Œè¿™äº›åŠŸèƒ½æ˜¯ HCL æ‰€ä¸å…·å¤‡çš„</p><p><strong>Terraform HCL å‡½æ•° vs. KCL Lambda å‡½æ•°ç¼–å†™</strong></p><ul><li><p>æ­£å¦‚ <a href="https://www.terraform.io/language/functions" target="_blank" rel="noopener noreferrer">https://www.terraform.io/language/functions</a> æ–‡æ¡£å’Œ <a href="https://github.com/hashicorp/terraform/issues/27696" target="_blank" rel="noopener noreferrer">https://github.com/hashicorp/terraform/issues/27696</a> ä¸­å±•ç¤ºçš„é‚£æ ·ï¼ŒTerraform HCL æä¾›äº†ä¸°å¯Œçš„å†…ç½®å‡½æ•°ç”¨äºæä¾›ï¼Œä½†æ˜¯å¹¶ä¸æ”¯æŒç”¨æˆ·åœ¨ Terraform ä¸­ä½¿ç”¨ HCL è‡ªå®šä¹‰å‡½æ•° (æˆ–è€…éœ€è¦ç¼–å†™å¤æ‚çš„ Go Provider æ¥æ¨¡æ‹Ÿä¸€ä¸ªç”¨æˆ·çš„æœ¬åœ°è‡ªå®šä¹‰å‡½æ•°)ï¼›è€Œ KCL ä¸ä»…æ”¯æŒç”¨æˆ·ä½¿ç”¨ lambda å…³é”®å­—ç›´æ¥åœ¨ KCL ä»£ç ä¸­è‡ªå®šä¹‰å‡½æ•°ï¼Œè¿˜æ”¯æŒä½¿ç”¨ Python, Go ç­‰è¯­è¨€ä¸º KCL <a href="https://kcl-lang.io/docs/reference/plugin/overview" target="_blank" rel="noopener noreferrer">ç¼–å†™æ’ä»¶å‡½æ•°</a></p></li><li><p>KCL è‡ªå®šä¹‰å®šä¹‰å‡½æ•°å¹¶è°ƒç”¨</p></li></ul><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">add_func </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">lambda</span><span class="token plain"> x</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> y</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    x </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> y</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">two </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> add_func</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># 2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>HCL åˆ é™¤ null å€¼ä¸ KCL ä½¿ç”¨ -n ç¼–è¯‘å‚æ•°åˆ é™¤ null å€¼</strong></p><ul><li>HCL</li></ul><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">variable </span><span class="token string" style="color:#e3116c">"conf"</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token builtin">type</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">object</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    description </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name        </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    namespace   </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    params </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">list</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">object</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      default     </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> optional</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">string</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      description </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      name        </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token builtin">type</span><span class="token plain">        </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    resources </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> optional</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">object</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      inputs </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> optional</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">list</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">object</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token builtin">type</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      outputs </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> optional</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">list</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">object</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token builtin">type</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    results </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> optional</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">list</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">object</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      name        </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      description </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    steps </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">list</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">object</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      args    </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> optional</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">list</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">string</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      command </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> optional</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">list</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">string</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      env </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> optional</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">list</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">object</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        name  </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        value </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      image </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      name  </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      resources </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> optional</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">object</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        limits </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> optional</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">object</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          cpu    </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          memory </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        requests </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> optional</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">object</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          cpu    </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          memory </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      script     </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> optional</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">string</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      workingDir </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin">locals</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  conf </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> merge</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    defaults</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">var</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">conf</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> k</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> v </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> var</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">conf </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> k </span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> v </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> v </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> null </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> resources </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> k</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> v </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> var</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">conf</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">resources </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> k </span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> v </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> v </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> null </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> steps </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> step </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> var</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">conf</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">steps </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> merge</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> resources </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> k</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> v </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> step </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> k </span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> v </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> v </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> null </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>KCL (ç¼–è¯‘å‚æ•°æ·»åŠ  -n å¿½ç•¥ null å€¼)</li></ul><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">schema Param</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    default?</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">schema Resource</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    cpu</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    memory</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">schema Step</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    args?</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    command?</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    env?</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">:</span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    resources?</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">"limits"</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"requests"</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Resource</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    script?</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    workingDir</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">schema K8sManifest</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    namespace</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    params</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Param</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    results?</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    steps</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Step</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">conf</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> K8sManifest </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> option</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"conf"</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ç»¼ä¸Šå¯ä»¥çœ‹å‡ºï¼Œåœ¨ KCL ä¸­ï¼Œé€šè¿‡ Schema æ¥å£°æ˜æ–¹å¼å®šä¹‰å…¶ç±»å‹å’Œçº¦æŸï¼Œå¯ä»¥çœ‹å‡ºç›¸æ¯”äº Terraform HCL, åœ¨å®ç°ç›¸åŒåŠŸèƒ½çš„æƒ…å†µä¸‹ï¼ŒKCL çš„çº¦æŸå¯ä»¥ç¼–å†™çš„æ›´åŠ ç®€å• (ä¸éœ€è¦åƒ Terraform é‚£æ ·é‡å¤åœ°ä¹¦å†™ validation å’Œ condition å­—æ®µ)ï¼Œå¹¶ä¸”é¢å¤–æä¾›äº†å­—æ®µè®¾ç½®ä¸ºå¯é€‰çš„èƒ½åŠ› (<code>?</code>è¿ç®—ç¬¦ï¼Œä¸åƒ Terraform é…ç½®å­—æ®µé»˜è®¤å¯ç©ºï¼ŒKCL Schema å­—æ®µé»˜è®¤å¿…é€‰)ï¼Œç»“æ„æ›´åŠ åˆ†æ˜ï¼Œå¹¶ä¸”å¯ä»¥åœ¨ä»£ç å±‚é¢ç›´æ¥è·å¾—ç±»å‹æ£€æŸ¥å’Œçº¦æŸæ ¡éªŒçš„èƒ½åŠ›ã€‚</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="34-vs-cue">3.4 vs. CUE<a href="#34-vs-cue" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="341-åŠŸèƒ½å¯¹æ¯”">3.4.1 åŠŸèƒ½å¯¹æ¯”<a href="#341-åŠŸèƒ½å¯¹æ¯”" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><table><thead><tr><th></th><th>CUE</th><th>KCL</th></tr></thead><tbody><tr><td>å»ºæ¨¡èƒ½åŠ›</td><td>é€šè¿‡ Struct è¿›è¡Œå»ºæ¨¡ï¼Œæ— ç»§æ‰¿ç­‰ç‰¹æ€§ï¼Œå½“æ¨¡å‹å®šä¹‰ä¹‹é—´æ— å†²çªæ—¶å¯ä»¥å®ç°è¾ƒé«˜çš„æŠ½è±¡ã€‚ç”±äº CUE åœ¨è¿è¡Œæ—¶è¿›è¡Œæ‰€æœ‰çš„çº¦æŸæ£€æŸ¥ï¼Œåœ¨å¤§è§„æ¨¡å»ºæ¨¡åœºæ™¯å¯èƒ½å­˜åœ¨æ€§èƒ½ç“¶é¢ˆ</td><td>é€šè¿‡ KCL Schema è¿›è¡Œå»ºæ¨¡ï¼Œé€šè¿‡è¯­è¨€çº§åˆ«çš„å·¥ç¨‹å’Œéƒ¨åˆ†é¢å‘å¯¹è±¡ç‰¹æ€§ï¼ˆå¦‚å•ç»§æ‰¿ï¼‰ï¼Œå¯ä»¥å®ç°è¾ƒé«˜çš„æ¨¡å‹æŠ½è±¡ã€‚ KCL æ˜¯é™æ€ç¼–è¯‘å‹è¯­è¨€ï¼Œå¯¹äºå¤§è§„æ¨¡å»ºæ¨¡åœºæ™¯å¼€é”€è¾ƒå°</td></tr><tr><td>çº¦æŸèƒ½åŠ›</td><td>CUE å°†ç±»å‹å’Œå€¼åˆå¹¶åˆ°ä¸€ä¸ªæ¦‚å¿µä¸­ï¼Œé€šè¿‡å„ç§è¯­æ³•ç®€åŒ–äº†çº¦æŸçš„ç¼–å†™ï¼Œæ¯”å¦‚ä¸éœ€è¦æ³›å‹å’Œæšä¸¾ï¼Œæ±‚å’Œç±»å‹å’Œç©ºå€¼åˆå¹¶éƒ½æ˜¯ä¸€å›äº‹</td><td>KCL æä¾›äº†è·Ÿæ›´ä¸°å¯Œçš„ check å£°æ˜å¼çº¦æŸè¯­æ³•ï¼Œç¼–å†™èµ·æ¥æ›´åŠ å®¹æ˜“ï¼Œå¯¹äºä¸€äº›é…ç½®å­—æ®µç»„åˆçº¦æŸç¼–å†™æ›´åŠ ç®€å•ï¼ˆèƒ½åŠ›ä¸Šæ¯” CUE å¤šäº† if guard ç»„åˆçº¦æŸï¼Œall/any/map/filter ç­‰é›†åˆçº¦æŸç¼–å†™æ–¹å¼ï¼Œç¼–å†™æ›´åŠ å®¹æ˜“ï¼‰</td></tr><tr><td>åˆ†å—ç¼–å†™èƒ½åŠ›</td><td>æ”¯æŒè¯­è¨€å†…éƒ¨é…ç½®åˆå¹¶ï¼ŒCUE çš„é…ç½®åˆå¹¶æ˜¯å®Œå…¨å¹‚ç­‰çš„ï¼Œå¯¹äºæ»¡è¶³å¤æ‚çš„å¤šç§Ÿæˆ·ã€å¤šç¯å¢ƒé…ç½®åœºæ™¯çš„è¦†ç›–éœ€æ±‚å¯èƒ½æ— æ³•æ»¡è¶³</td><td>KCL å¯ä»¥è‡ªå®šä¹‰é…ç½®åˆ†å—ç¼–å†™æ–¹å¼å’Œå¤šç§åˆå¹¶ç­–ç•¥ï¼ŒKCL åŒæ—¶æ”¯æŒå¹‚ç­‰å’Œéå¹‚ç­‰çš„åˆå¹¶ç­–ç•¥,å¯ä»¥æ»¡è¶³å¤æ‚çš„å¤šç§Ÿæˆ·ã€å¤šç¯å¢ƒé…ç½®åœºæ™¯éœ€æ±‚</td></tr><tr><td>è¯­è¨€åŒ–ç¼–å†™èƒ½åŠ›</td><td>å¯¹äºå¤æ‚çš„å¾ªç¯ã€æ¡ä»¶çº¦æŸåœºæ™¯ç¼–å†™å¤æ‚ï¼Œå¯¹äºéœ€è¦è¿›è¡Œé…ç½®ç²¾ç¡®ä¿®æ”¹çš„ç¼–å†™åœºæ™¯è¾ƒä¸ºç¹ç</td><td>å¤æ‚çš„ç»“æ„å®šä¹‰ã€å¾ªç¯ã€æ¡ä»¶çº¦æŸåœºæ™¯ç¼–å†™ç®€å•</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="342-ä¸¾ä¾‹">3.4.2 ä¸¾ä¾‹<a href="#342-ä¸¾ä¾‹" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><p><strong>CUE çº¦æŸæ ¡éªŒç¼–å†™ vs. KCL Schema å£°æ˜å¼çº¦æŸæ ¡éªŒç¼–å†™åŠé…ç½®åˆ†å—ç¼–å†™èƒ½åŠ›</strong></p><p>CUE (æ‰§è¡Œå‘½ä»¤ <code>cue export base.cue prod.cue</code>)</p><ul><li>base.cue</li></ul><div class="language-cue codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cue codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// base.cue</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import "list"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#App: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    domainType: "Standard" | "Customized" | "Global",</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    containerPort: &gt;=1 &amp; &lt;=65535,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    volumes: [...#Volume],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    services: [...#Service],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#Service: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    clusterIP: string,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    type: string,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if type == "ClusterIP" {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        clusterIP: "None"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#Volume: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    container: string | *"*"  // The default value of `container` is "*"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    mountPath: string,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    _check: false &amp; list.Contains(["/", "/boot", "/home", "dev", "/etc", "/root"], mountPath),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">app: #App &amp; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    domainType: "Standard",</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    containerPort: 80,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    volumes: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            mountPath: "/tmp"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    services: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            clusterIP: "None",</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            type: "ClusterIP"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>prod.cue</li></ul><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token operator" style="color:#393A34">//</span><span class="token plain"> prod</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">cue</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">#App &amp; {</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    containerPort</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8080</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><span class="token operator" style="color:#393A34">//</span><span class="token plain"> error</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">containerPort</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> conflicting values </span><span class="token number" style="color:#36acaa">8080</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">and</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">80</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>KCL (æ‰§è¡Œå‘½ä»¤ <code>kcl base.k prod.k</code>)</p><ul><li>base.k</li></ul><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># base.k</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">schema App</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    domainType</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Standard"</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Customized"</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Global"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    containerPort</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    volumes</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Volume</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    services</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Service</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    check</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;=</span><span class="token plain"> containerPort </span><span class="token operator" style="color:#393A34">&lt;=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">65535</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">schema Service</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    clusterIP</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $</span><span class="token builtin">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    check</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        clusterIP </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"None"</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> $</span><span class="token builtin">type</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"ClusterIP"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">schema Volume</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    container</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"*"</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># The default value of `container` is "*"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    mountPath</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    check</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        mountPath </span><span class="token keyword" style="color:#00009f">not</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"/"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"/boot"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"/home"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"dev"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"/etc"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"/root"</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> App </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    domainType </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Standard"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    containerPort </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">80</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    volumes </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            mountPath </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"/tmp"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    services </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            clusterIP </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"None"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            $</span><span class="token builtin">type</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"ClusterIP"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>prod.k</li></ul><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># prod.k</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> App </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># å¯ä»¥ä½¿ç”¨ = å±æ€§è¿ç®—ç¬¦å¯¹ base app çš„ containerPort è¿›è¡Œä¿®æ”¹</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    containerPort </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8080</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># å¯ä»¥ä½¿ç”¨ += å±æ€§è¿ç®—ç¬¦å¯¹ base app çš„ volumes è¿›è¡Œæ·»åŠ </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># æ­¤å¤„è¡¨ç¤ºåœ¨ prod ç¯å¢ƒå¢åŠ ä¸€ä¸ª volume, ä¸€å…±ä¸¤ä¸ª volume</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    volumes </span><span class="token operator" style="color:#393A34">+=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            mountPath </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"/tmp2"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æ­¤å¤–ç”±äº CUE çš„å¹‚ç­‰åˆå¹¶ç‰¹æ€§ï¼Œåœ¨åœºæ™¯ä¸Šå¹¶æ— æ³•ä½¿ç”¨ç±»ä¼¼ kustomize çš„ overlay é…ç½®è¦†ç›–å’Œ patch ç­‰èƒ½åŠ›ï¼Œæ¯”å¦‚ä¸Šè¿°çš„ base.cue å’Œ prod.cue ä¸€èµ·ç¼–è¯‘ä¼šæŠ¥é”™ã€‚</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="35-performance">3.5 Performance<a href="#35-performance" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>åœ¨ä»£ç è§„æ¨¡è¾ƒå¤§æˆ–è€…è®¡ç®—é‡è¾ƒé«˜çš„åœºæ™¯æƒ…å†µä¸‹ KCL æ¯” CUE/Jsonnet/HCL ç­‰è¯­è¨€æ€§èƒ½æ›´å¥½ (CUE ç­‰è¯­è¨€å—é™äºè¿è¡Œæ—¶çº¦æŸæ£€æŸ¥å¼€é”€ï¼Œè€Œ KCL æ˜¯ä¸€ä¸ªé™æ€ç¼–è¯‘å‹è¯­è¨€)</p><ul><li>CUE (test.cue)</li></ul><div class="language-cue codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cue codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">import "list"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">temp: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for i, _ in list.Range(0, 10000, 1) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                "a\(i)": list.Max([1, 2])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>KCL (test.k)</li></ul><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">a </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">lambda</span><span class="token plain"> x</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> y</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token builtin">max</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">x</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> y</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">temp </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">"a${i}"</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> a</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> i </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">10000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>Jsonnet (test.jsonnet)</li></ul><div class="language-jsonnet codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsonnet codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">local a(x, y) = std.max(x, y);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    temp: {["a%d" % i]: a(1, 2) for i in std.range(0, 10000)},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>Terraform HCL (test.tf, ç”±äº terraform range å‡½æ•°åªæ”¯æŒæœ€å¤š 1024 ä¸ªè¿­ä»£å™¨ï¼Œå°† range(10000) æ‹†åˆ†ä¸º 10 ä¸ªå­ range)</li></ul><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">output </span><span class="token string" style="color:#e3116c">"r1"</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  value </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> s </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">format</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"a%d"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> s</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token builtin">max</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">output </span><span class="token string" style="color:#e3116c">"r2"</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  value </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> s </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1000</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">format</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"a%d"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> s</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token builtin">max</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">output </span><span class="token string" style="color:#e3116c">"r3"</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  value </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> s </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1000</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">format</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"a%d"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> s</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token builtin">max</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">output </span><span class="token string" style="color:#e3116c">"r4"</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  value </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> s </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">2000</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">format</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"a%d"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> s</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token builtin">max</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">output </span><span class="token string" style="color:#e3116c">"r5"</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  value </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> s </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">3000</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">format</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"a%d"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> s</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token builtin">max</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">output </span><span class="token string" style="color:#e3116c">"r6"</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  value </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> s </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">5000</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">format</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"a%d"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> s</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token builtin">max</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">output </span><span class="token string" style="color:#e3116c">"r7"</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  value </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> s </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">6000</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">7000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">format</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"a%d"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> s</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token builtin">max</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">output </span><span class="token string" style="color:#e3116c">"r8"</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  value </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> s </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">7000</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">format</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"a%d"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> s</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token builtin">max</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">output </span><span class="token string" style="color:#e3116c">"r9"</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  value </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> s </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">8000</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">format</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"a%d"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> s</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token builtin">max</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">output </span><span class="token string" style="color:#e3116c">"r10"</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  value </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> s </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">9000</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">format</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"a%d"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> s</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token builtin">max</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>è¿è¡Œæ—¶é—´ï¼ˆè€ƒè™‘åˆ°ç”Ÿäº§ç¯å¢ƒçš„å®é™…èµ„æºå¼€é”€ï¼Œæœ¬æ¬¡æµ‹è¯•ä»¥å•æ ¸ä¸ºå‡†ï¼‰</li></ul><table><thead><tr><th>ç¯å¢ƒ</th><th>KCL v0.4.3 è¿è¡Œæ—¶é—´ (åŒ…å«ç¼–è¯‘+è¿è¡Œæ—¶é—´)</th><th>CUE v0.4.3 è¿è¡Œæ—¶é—´ (åŒ…å«ç¼–è¯‘+è¿è¡Œæ—¶é—´)</th><th>Jsonnet v0.18.0 è¿è¡Œæ—¶é—´ (åŒ…å«ç¼–è¯‘+è¿è¡Œæ—¶é—´)</th><th>HCL in Terraform v1.3.0 è¿è¡Œæ—¶é—´ (åŒ…å«ç¼–è¯‘+è¿è¡Œæ—¶é—´)</th></tr></thead><tbody><tr><td>OS: macOS 10.15.7; CPU: Intel(R) Core(TM) i7-8850H CPU @ 2.60GHz; Memory: 32 GB 2400 MHz DDR4; ä¸å¼€å¯ NUMA</td><td>440 ms (kcl test.k)</td><td>6290 ms (cue export test.cue)</td><td>3340 ms (jsonnet test.jsonnet)</td><td>1774 ms (terraform plan -parallelism=1)</td></tr></tbody></table><p>ç»¼ä¸Šå¯ä»¥çœ‹å‡ºï¼šCUE å’Œ KCL å‡å¯ä»¥è¦†ç›–åˆ°ç»å¤§å¤šæ•°é…ç½®æ ¡éªŒåœºæ™¯ï¼Œå¹¶ä¸”å‡æ”¯æŒå±æ€§ç±»å‹å®šä¹‰ã€é…ç½®é»˜è®¤å€¼ã€çº¦æŸæ ¡éªŒç­‰ç¼–å†™ï¼Œä½†æ˜¯ CUE å¯¹äºä¸åŒçš„çº¦æŸæ¡ä»¶åœºæ™¯æ— ç»Ÿä¸€çš„å†™æ³•ï¼Œä¸”ä¸èƒ½å¾ˆå¥½åœ°é€å‡ºæ ¡éªŒé”™è¯¯ï¼ŒKCL ä½¿ç”¨ check å…³é”®å­—ä½œç»Ÿä¸€å¤„ç†ï¼Œæ”¯æŒç”¨æˆ·è‡ªå®šä¹‰é”™è¯¯è¾“å‡ºã€‚</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="å¦ä¸€ä¸ªå¤æ‚çš„ä¾‹å­">å¦ä¸€ä¸ªå¤æ‚çš„ä¾‹å­<a href="#å¦ä¸€ä¸ªå¤æ‚çš„ä¾‹å­" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><p>ä½¿ç”¨ KCL å’Œ CUE ç¼–å†™ Kubernetes é…ç½®</p><ul><li>CUE (test.cue)</li></ul><div class="language-cue codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cue codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">package templates</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import (</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> apps "k8s.io/api/apps/v1"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">deployment: apps.#Deployment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">deployment: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> apiVersion: "apps/v1"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> kind:       "Deployment"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> metadata: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  name:   "me"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  labels: me: "me"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>KCL (test.k)</li></ul><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> kubernetes</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">api</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">apps</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">deployment </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> v1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Deployment </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    metadata</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"me"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    metadata</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">labels</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"me"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><table><thead><tr><th>ç¯å¢ƒ</th><th>KCL v0.4.3 è¿è¡Œæ—¶é—´ (åŒ…å«ç¼–è¯‘+è¿è¡Œæ—¶é—´)</th><th>CUE v0.4.3 è¿è¡Œæ—¶é—´ (åŒ…å«ç¼–è¯‘+è¿è¡Œæ—¶é—´)</th></tr></thead><tbody><tr><td>OS: macOS 10.15.7; CPU: Intel(R) Core(TM) i7-8850H CPU @ 2.60GHz; Memory: 32 GB 2400 MHz DDR4; no NUMA</td><td>140 ms (kcl test.k)</td><td>350 ms (cue export test.cue)</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å››å°ç»“">å››ã€å°ç»“<a href="#å››å°ç»“" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>æ–‡æœ¬å¯¹å£°æ˜å¼é…ç½®æŠ€æœ¯åšäº†æ•´ä½“æ¦‚è¿°ï¼Œå…¶ä¸­é‡ç‚¹é˜è¿°äº† KCL æ¦‚å¿µã€æ ¸å¿ƒè®¾è®¡ã€ä½¿ç”¨åœºæ™¯ä»¥åŠä¸å…¶ä»–é…ç½®è¯­è¨€çš„å¯¹æ¯”ï¼ŒæœŸæœ›å¸®åŠ©å¤§å®¶æ›´å¥½çš„ç†è§£å£°æ˜å¼é…ç½®æŠ€æœ¯åŠ KCL è¯­è¨€ã€‚æ›´å¤š KCL çš„æ¦‚å¿µã€èƒŒæ™¯ã€è®¾è®¡ä¸ç”¨æˆ·æ¡ˆä¾‹ç­‰ç›¸å…³å†…å®¹ï¼Œæ¬¢è¿è®¿é—® <a href="https://kcl-lang.io/" target="_blank" rel="noopener noreferrer">KCL ç½‘ç«™</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="äº”å‚è€ƒ">äº”ã€å‚è€ƒ<a href="#äº”å‚è€ƒ" class="hash-link" aria-label="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><ul><li>KusionStack Cloud Native Configuration Practice Blog: <a href="https://kusionstack.io/blog/2021-kusion-intro" target="_blank" rel="noopener noreferrer">https://kusionstack.io/blog/2021-kusion-intro</a></li><li>Terraform Language: <a href="https://www.terraform.io/language" target="_blank" rel="noopener noreferrer">https://www.terraform.io/language</a></li><li>Terraform Provider Kubernetes: <a href="https://github.com/hashicorp/terraform-provider-kubernetes" target="_blank" rel="noopener noreferrer">https://github.com/hashicorp/terraform-provider-kubernetes</a></li><li>Terraform Provider AWS: <a href="https://github.com/hashicorp/terraform-provider-aws" target="_blank" rel="noopener noreferrer">https://github.com/hashicorp/terraform-provider-aws</a></li><li>Pulumi: <a href="https://www.pulumi.com/docs/" target="_blank" rel="noopener noreferrer">https://www.pulumi.com/docs/</a></li><li>Pulumi vs. Terraform: <a href="https://www.pulumi.com/docs/intro/vs/terraform/" target="_blank" rel="noopener noreferrer">https://www.pulumi.com/docs/intro/vs/terraform/</a></li><li>Google SRE Work Book Configuration Design: <a href="https://sre.google/workbook/configuration-design/" target="_blank" rel="noopener noreferrer">https://sre.google/workbook/configuration-design/</a></li><li>Google Borg Paper: <a href="https://storage.googleapis.com/pub-tools-public-publication-data/pdf/43438.pdf" target="_blank" rel="noopener noreferrer">https://storage.googleapis.com/pub-tools-public-publication-data/pdf/43438.pdf</a></li><li>Holistic Configuration Management at Facebook: <a href="https://sigops.org/s/conferences/sosp/2015/current/2015-Monterey/printable/008-tang.pdf" target="_blank" rel="noopener noreferrer">https://sigops.org/s/conferences/sosp/2015/current/2015-Monterey/printable/008-tang.pdf</a></li><li>JSON Spec: <a href="https://www.json.org/json-en.html" target="_blank" rel="noopener noreferrer">https://www.json.org/json-en.html</a></li><li>YAML Spec: <a href="https://yaml.org/spec/" target="_blank" rel="noopener noreferrer">https://yaml.org/spec/</a></li><li>GCL: <a href="https://github.com/rix0rrr/gcl" target="_blank" rel="noopener noreferrer">https://github.com/rix0rrr/gcl</a></li><li>HCL: <a href="https://github.com/hashicorp/hcl" target="_blank" rel="noopener noreferrer">https://github.com/hashicorp/hcl</a></li><li>CUE: <a href="https://github.com/cue-lang/cue" target="_blank" rel="noopener noreferrer">https://github.com/cue-lang/cue</a></li><li>Jsonnet: <a href="https://github.com/google/jsonnet" target="_blank" rel="noopener noreferrer">https://github.com/google/jsonnet</a></li><li>Dhall: <a href="https://github.com/dhall-lang/dhall-lang" target="_blank" rel="noopener noreferrer">https://github.com/dhall-lang/dhall-lang</a></li><li>Thrift: <a href="https://github.com/Thriftpy/thriftpy2" target="_blank" rel="noopener noreferrer">https://github.com/Thriftpy/thriftpy2</a></li><li>Kustomize: <a href="https://kustomize.io/" target="_blank" rel="noopener noreferrer">https://kustomize.io/</a></li><li>Kube-linter: <a href="https://github.com/stackrox/kube-linter" target="_blank" rel="noopener noreferrer">https://github.com/stackrox/kube-linter</a></li><li>Checkov: <a href="https://github.com/bridgecrewio/checkov" target="_blank" rel="noopener noreferrer">https://github.com/bridgecrewio/checkov</a></li><li>KCL Documents: <a href="https://kcl-lang.io/docs/reference/lang/tour" target="_blank" rel="noopener noreferrer">https://kcl-lang.io/docs/reference/lang/tour</a></li><li>How Terraform Works: A Visual Intro: <a href="https://betterprogramming.pub/how-terraform-works-a-visual-intro-6328cddbe067" target="_blank" rel="noopener noreferrer">https://betterprogramming.pub/how-terraform-works-a-visual-intro-6328cddbe067</a></li><li>How Terraform Works: Modules Illustrated: <a href="https://awstip.com/terraform-modules-illustrate-26cbc48be83a" target="_blank" rel="noopener noreferrer">https://awstip.com/terraform-modules-illustrate-26cbc48be83a</a></li><li>Helm: <a href="https://helm.sh/" target="_blank" rel="noopener noreferrer">https://helm.sh/</a></li><li>Helm vs. Kustomize: <a href="https://harness.io/blog/helm-vs-kustomize" target="_blank" rel="noopener noreferrer">https://harness.io/blog/helm-vs-kustomize</a></li><li>KubeVela: <a href="https://kubevela.io/docs/" target="_blank" rel="noopener noreferrer">https://kubevela.io/docs/</a></li></ul>]]></content>
        <author>
            <name>å¾é¹é£</name>
        </author>
        <category label="KCL" term="KCL"/>
        <category label="Configuration" term="Configuration"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[GIAC 2022 ä¼šè®® KCL ä»‹ç»å†…å®¹]]></title>
        <id>https://kcl-lang.github.io/zh-CN/blog/2021-kcl-intro</id>
        <link href="https://kcl-lang.github.io/zh-CN/blog/2021-kcl-intro"/>
        <updated>2021-08-03T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[ä»‹ç»KCLäº‘åŸç”Ÿé…ç½®è¯­è¨€åœ¨èš‚èšçš„è¯ç”ŸèƒŒæ™¯ã€è¯­è¨€ç‰¹æ€§ã€å®è·µæ¢ç´¢å’Œæœªæ¥çš„å‘å±•æ€è€ƒã€‚]]></summary>
        <content type="html"><![CDATA[<p>ä»‹ç»KCLäº‘åŸç”Ÿé…ç½®è¯­è¨€åœ¨èš‚èšçš„è¯ç”ŸèƒŒæ™¯ã€è¯­è¨€ç‰¹æ€§ã€å®è·µæ¢ç´¢å’Œæœªæ¥çš„å‘å±•æ€è€ƒã€‚</p><ul><li>ç®€ä»‹ï¼š<a href="https://giac.msup.com.cn/course?id=15307" target="_blank" rel="noopener noreferrer">https://giac.msup.com.cn/course?id=15307</a></li><li>å†…å®¹ï¼š<a href="https://segmentfault.com/a/1190000040455559" target="_blank" rel="noopener noreferrer">https://segmentfault.com/a/1190000040455559</a></li><li><a href="https://gw.alipayobjects.com/os/bmw-prod/2cb0c283-5f24-485e-b635-b6efac887eba.pdf" target="_blank" rel="noopener noreferrer">PDFä¸‹è½½</a></li></ul><p><a href="https://gw.alipayobjects.com/os/bmw-prod/2cb0c283-5f24-485e-b635-b6efac887eba.pdf" target="_blank" rel="noopener noreferrer"><img loading="lazy" alt="KCLäº‘åŸç”Ÿé…ç½®ç­–ç•¥è¯­è¨€" src="/zh-CN/assets/images/talk-cover-1b32f4646270a54de3c7fad51b06fc56.png" width="1820" height="1366" class="img_ev3q"></a></p>]]></content>
        <author>
            <name>æŸ´æ ‘æ‰</name>
        </author>
        <category label="KCL" term="KCL"/>
    </entry>
</feed>