<!doctype html>
<html class="docs-version-current" lang="zh-CN" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.17">
<link rel="alternate" type="application/rss+xml" href="/zh-CN/blog/rss.xml" title="KCL programming language. RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/zh-CN/blog/atom.xml" title="KCL programming language. Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="KCL programming language." href="/zh-CN/opensearch.xml">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><title data-rh="true">KCL è¯­æ³• | KCL programming language.</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://kcl-lang.github.io/zh-CN/docs/next/user_docs/support/faq-kcl"><meta data-rh="true" name="docusaurus_locale" content="zh-CN"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:language" content="zh-CN"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="KCL è¯­æ³• | KCL programming language."><meta data-rh="true" name="description" content="1. å¦‚ä½•ç”¨ KCL å†™ä¸€ä¸ªç®€å•çš„ key-value å¯¹é…ç½®"><meta data-rh="true" property="og:description" content="1. å¦‚ä½•ç”¨ KCL å†™ä¸€ä¸ªç®€å•çš„ key-value å¯¹é…ç½®"><link data-rh="true" rel="icon" href="/zh-CN/img/kcl-logo.jpg"><link data-rh="true" rel="canonical" href="https://kcl-lang.github.io/zh-CN/docs/next/user_docs/support/faq-kcl"><link data-rh="true" rel="alternate" href="https://kcl-lang.github.io/docs/next/user_docs/support/faq-kcl" hreflang="en"><link data-rh="true" rel="alternate" href="https://kcl-lang.github.io/zh-CN/docs/next/user_docs/support/faq-kcl" hreflang="zh-CN"><link data-rh="true" rel="alternate" href="https://kcl-lang.github.io/docs/next/user_docs/support/faq-kcl" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://RE5E6BQUZV-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/zh-CN/assets/css/styles.f544af73.css">
<link rel="preload" href="/zh-CN/assets/js/runtime~main.b4dd6d5e.js" as="script">
<link rel="preload" href="/zh-CN/assets/js/main.9caddded.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><div class="announcementBar_IbjG" role="banner"><div class="announcementBarPlaceholder_NC_W"></div><div class="announcementBarContent_KsVm">â­ï¸ If you like KCL, give it a star on <a target="_blank" rel="noopener noreferrer" href="https://github.com/KusionStack/KCLVM">Github</a></div><button type="button" class="clean-btn close announcementBarClose_FG1z" aria-label="Close"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/zh-CN/"><div class="navbar__logo"><img src="/zh-CN/img/kcl-logo.jpg" alt="KCL Logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/zh-CN/img/kcl-logo.jpg" alt="KCL Logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title"></b></a><a class="navbar__item navbar__link navbar__link--active" docid="intro/kcl-intro" href="/zh-CN/docs/next/user_docs/getting-started/">ä½¿ç”¨æ–‡æ¡£</a><a class="navbar__item navbar__link" href="/zh-CN/docs/next/reference/lang/tour">å‚è€ƒæ‰‹å†Œ</a><a class="navbar__item navbar__link" href="/zh-CN/docs/next/tools/cli/">å·¥å…·</a><a href="http://39.106.40.108/-/play/index.html" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link" sidebarid="playground"><span>æ¸¸ä¹åœº<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://github.com/KusionStack/examples" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link" sidebarid="examples"><span>æ ·ä¾‹<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a class="navbar__item navbar__link" href="/zh-CN/docs/next/community/intro/">ç¤¾åŒº</a><a class="navbar__item navbar__link" href="/zh-CN/blog">åšå®¢</a><a class="navbar__item navbar__link" href="/zh-CN/docs/next/events/2022/kcl_paper">äº‹ä»¶</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" href="/zh-CN/docs/next/events/2022/kcl_paper">Next</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/zh-CN/docs/next/user_docs/support/faq-kcl">Next</a></li><li><a class="dropdown__link" href="/zh-CN/docs/user_docs/support/faq-kcl">0.4.4</a></li><li><a class="dropdown__link" href="/zh-CN/docs/0.4.3/user_docs/support/faq-kcl">0.4.3</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" class="navbar__link"><span><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_dNtB"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg><span>ä¸­æ–‡ï¼ˆä¸­å›½ï¼‰</span></span></a><ul class="dropdown__menu"><li><a href="/docs/next/user_docs/support/faq-kcl" target="_self" rel="noopener noreferrer" class="dropdown__link">English</a></li><li><a href="/zh-CN/docs/next/user_docs/support/faq-kcl" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active">ä¸­æ–‡ï¼ˆä¸­å›½ï¼‰</a></li><li><a href="https://github.com/KusionStack/kcl-lang.io/issues/" target="_blank" rel="noopener noreferrer" class="dropdown__link"><span>Help Us Translate<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><a href="https://github.com/KusionStack/KCLVM" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_S7eR toggle_TdHA toggleDisabled_f9M3"><div class="toggleButton_rCf9" role="button" tabindex="-1"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_v35p"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_nQuB"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></div><input type="checkbox" class="toggleScreenReader_g2nN" aria-label="Switch between dark and light mode (currently light mode)"></div><div class="searchBox_kyqE"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_CW9Y"><nav class="menu thin-scrollbar menu_SkdO menuWithAnnouncementBar_x19h"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/zh-CN/docs/next/user_docs/getting-started/">å¿«é€Ÿå¼€å§‹</a><button aria-label="Toggle the collapsible sidebar category &#x27;å¿«é€Ÿå¼€å§‹&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link" href="/zh-CN/docs/next/user_docs/guides/">ç”¨æˆ·æ‰‹å†Œ</a><button aria-label="Toggle the collapsible sidebar category &#x27;ç”¨æˆ·æ‰‹å†Œ&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active" href="/zh-CN/docs/next/user_docs/support/">å¸¸è§é—®ç­”</a><button aria-label="Toggle the collapsible sidebar category &#x27;å¸¸è§é—®ç­”&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/zh-CN/docs/next/user_docs/support/faq-kcl">KCL è¯­æ³•</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/docs/next/user_docs/support/faq-yaml">YAML è¯­æ³•</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/docs/next/user_docs/support/faq-cli">å‘½ä»¤è¡Œå·¥å…·</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for <!-- -->KCL programming language.<!-- --> <b>Next</b> version.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/zh-CN/docs/user_docs/support/faq-kcl">latest version</a></b> (<!-- -->0.4.4<!-- -->).</div></div><div class="docItemContainer_vinB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Xlws" aria-label="breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a class="breadcrumbs__link breadcrumbsItemLink_e5ie" href="/zh-CN/">ğŸ </a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link breadcrumbsItemLink_e5ie" href="/zh-CN/docs/next/user_docs/support/">å¸¸è§é—®ç­”</a></li><li class="breadcrumbs__item breadcrumbs__item--active"><a class="breadcrumbs__link breadcrumbsItemLink_e5ie" href="/zh-CN/docs/next/user_docs/support/faq-kcl">KCL è¯­æ³•</a></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: Next</span><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><h1>KCL è¯­æ³•</h1><h2 class="anchor anchorWithStickyNavbar_mojV" id="1-å¦‚ä½•ç”¨-kcl-å†™ä¸€ä¸ªç®€å•çš„-key-value-å¯¹é…ç½®">1. å¦‚ä½•ç”¨ KCL å†™ä¸€ä¸ªç®€å•çš„ key-value å¯¹é…ç½®<a class="hash-link" href="#1-å¦‚ä½•ç”¨-kcl-å†™ä¸€ä¸ªç®€å•çš„-key-value-å¯¹é…ç½®" title="Direct link to heading">â€‹</a></h2><p>åˆ›å»ºä¸€ä¸ªåä¸º <code>config.k</code> çš„æ–‡ä»¶</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">cpu </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">256</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">memory </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">512</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">image </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;nginx:1.14.2&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">service </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;my-service&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>ä¸Šè¿° KCL ä»£ç ä¸­ï¼Œå®šä¹‰äº† 4 ä¸ªå˜é‡ <code>cpu</code> å’Œ <code>memory</code> è¢«å£°æ˜ä¸ºæ•´æ•°ç±»å‹ï¼Œå¹¶ä¸”å®ƒä»¬çš„å€¼ä¸º <code>256</code> å’Œ <code>512</code>ï¼Œè€Œ <code>image</code> å’Œ <code>service</code> æ˜¯å­—ç¬¦ä¸²ç±»å‹ï¼Œå®ƒä»¬çš„å€¼ä¸º <code>image</code> å’Œ <code>service</code></p><p>ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤å¯ä»¥å°†ä¸Šè¿° KCL æ–‡ä»¶ç¼–è¯‘ä¸º YAML è¿›è¡Œè¾“å‡º</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">kcl config.k</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>å¾—åˆ°çš„ YAML è¾“å‡ºä¸º:</p><div class="codeBlockContainer_I0IT language-yaml theme-code-block"><div class="codeBlockContent_wNvx yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">cpu</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">256</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">memory</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">512</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nginx</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">1.14.2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">service</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> my</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">service</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>å¦‚æœæƒ³è¦è¾“å‡ºåˆ°æ–‡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨ <code>-o|--output</code> å‚æ•°:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">kcl config.k -o config.yaml</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="2-kcl-ä¸­æœ‰å“ªäº›åŸºæœ¬çš„æ•°æ®ç±»å‹">2. KCL ä¸­æœ‰å“ªäº›åŸºæœ¬çš„æ•°æ®ç±»å‹ï¼Ÿ<a class="hash-link" href="#2-kcl-ä¸­æœ‰å“ªäº›åŸºæœ¬çš„æ•°æ®ç±»å‹" title="Direct link to heading">â€‹</a></h2><p>KCL ç›®å‰çš„åŸºæœ¬æ•°å€¼ç±»å‹å’Œå€¼åŒ…å«:</p><ul><li>æ•´æ•°ç±»å‹ <code>int</code><ul><li>ä¸¾ä¾‹: åè¿›åˆ¶æ­£æ•´æ•° <code>1</code>, åè¿›åˆ¶è´Ÿæ•´æ•° <code>-1</code>, åå…­è¿›åˆ¶æ•´æ•° <code>0x10</code>, å…«è¿›åˆ¶æ•´æ•° <code>0o10</code>, äºŒè¿›åˆ¶æ•´æ•° <code>0b10</code></li></ul></li><li>æµ®ç‚¹æ•°ç±»å‹ <code>float</code><ul><li>ä¸¾ä¾‹: æ­£æµ®ç‚¹æ•° <code>1.10</code>, <code>1.0</code>, è´Ÿæµ®ç‚¹æ•° <code>-35.59</code>, <code>-90.</code>, ç§‘å­¦è®°æ•°æ³•æµ®ç‚¹æ•° <code>32.3e+18</code>, <code>70.2E-12</code></li></ul></li><li>å¸ƒå°”ç±»å‹ <code>bool</code><ul><li>ä¸¾ä¾‹: çœŸå€¼ <code>True</code>, å‡å€¼ <code>False</code></li></ul></li><li>å­—ç¬¦ä¸²ç±»å‹ <code>str</code> - ä½¿ç”¨å¼•å· <code>&#x27;</code>, <code>&quot;</code> æ ‡è®°<ul><li>ä¸¾ä¾‹: åŒå¼•å·å­—ç¬¦ä¸² <code>&quot;string&quot;</code>, <code>&quot;&quot;&quot;string&quot;&quot;&quot;</code>, å•å¼•å·å­—ç¬¦ä¸² <code>&#x27;string&#x27;</code>, <code>&#x27;&#x27;&#x27;string&#x27;&#x27;&#x27;</code></li></ul></li><li>åˆ—è¡¨ç±»å‹ <code>list</code> - ä½¿ç”¨ <code>[</code>, <code>]</code> æ ‡è®°<ul><li>ä¸¾ä¾‹: ç©ºåˆ—è¡¨ <code>[]</code>, å­—ç¬¦ä¸²åˆ—è¡¨ <code>[&quot;string1&quot;, &quot;string2&quot;, &quot;string3&quot;]</code></li></ul></li><li>å­—å…¸ç±»å‹ <code>dict</code> - ä½¿ç”¨ <code>{</code>, <code>}</code> æ ‡è®°<ul><li>ä¸¾ä¾‹: ç©ºå­—å…¸ <code>{}</code>, é”®å€¼å‡ä¸ºå­—ç¬¦ä¸²ç±»å‹çš„å­—å…¸ <code>{&quot;key1&quot;: &quot;value1&quot;, &quot;key2&quot;: &quot;value2&quot;}</code></li></ul></li><li>ç»“æ„ç±»å‹ <code>schema</code> - ä½¿ç”¨å…³é”®å­— <code>schema</code> å®šä¹‰ï¼Œå¹¶ä½¿ç”¨ç›¸åº”çš„ schema åç§°è¿›è¡Œå®ä¾‹åŒ–</li><li>ç©ºå€¼ç±»å‹ <code>None</code> - ç”¨äºè¡¨ç¤ºä¸€ä¸ªå˜é‡çš„å€¼ä¸ºç©ºï¼Œä¸è¾“å‡º YAML çš„ <code>null</code> å€¼å¯¹åº”</li><li>æœªå®šä¹‰å€¼ç±»å‹ <code>Undefined</code> - ç”¨äºè¡¨ç¤ºä¸€ä¸ªå˜é‡æœªè¢«èµ‹å€¼ï¼Œå€¼ä¸º <code>Undefined</code> çš„å˜é‡ä¸ä¼šè¢«è¾“å‡ºåˆ° YAML ä¸­</li></ul><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">schema Person</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    age</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">alice </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Person </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Alice&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    age </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">18</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bob </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Person </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Bob&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    age </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>æ³¨æ„: æ‰€æœ‰ KCL ç±»å‹çš„å˜é‡å‡å¯èµ‹å€¼ä¸ºç©ºå€¼ <code>None</code> å’Œæœªå®šä¹‰çš„å€¼ <code>Undefined</code></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="3-æœ‰äº›-kcl-å˜é‡åå¸¦-_-ä¸‹åˆ’çº¿å‰ç¼€è¡¨ç¤ºä»€ä¹ˆå’Œä¸å¸¦-_-ä¸‹åˆ’çº¿å‰ç¼€çš„åŒºåˆ«æ˜¯ä»€ä¹ˆåˆ†åˆ«é€‚åˆä»€ä¹ˆåœºæ™¯ä¸‹ä½¿ç”¨">3. æœ‰äº› KCL å˜é‡åå¸¦ <code>_</code> ä¸‹åˆ’çº¿å‰ç¼€è¡¨ç¤ºä»€ä¹ˆï¼Ÿå’Œä¸å¸¦ <code>_</code> ä¸‹åˆ’çº¿å‰ç¼€çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿåˆ†åˆ«é€‚åˆä»€ä¹ˆåœºæ™¯ä¸‹ä½¿ç”¨ï¼Ÿ<a class="hash-link" href="#3-æœ‰äº›-kcl-å˜é‡åå¸¦-_-ä¸‹åˆ’çº¿å‰ç¼€è¡¨ç¤ºä»€ä¹ˆå’Œä¸å¸¦-_-ä¸‹åˆ’çº¿å‰ç¼€çš„åŒºåˆ«æ˜¯ä»€ä¹ˆåˆ†åˆ«é€‚åˆä»€ä¹ˆåœºæ™¯ä¸‹ä½¿ç”¨" title="Direct link to heading">â€‹</a></h2><p>KCL ä¸­å¸¦ä¸‹åˆ’çº¿å‰ç¼€çš„å˜é‡è¡¨ç¤ºä¸€ä¸ª<strong>éšè—</strong>çš„ï¼Œ<strong>å¯å˜</strong>çš„å˜é‡ï¼Œ<strong>éšè—</strong>è¡¨ç¤ºå¸¦ä¸‹åˆ’çº¿å‰ç¼€çš„å˜é‡ä¸ä¼šè¢«è¾“å‡ºåˆ° YAML å½“ä¸­ï¼ŒåŒ…æ‹¬åŒ…çº§åˆ«çš„ä¸‹åˆ’çº¿å‰ç¼€å˜é‡å’Œ schema å½“ä¸­çš„ä¸‹åˆ’çº¿å‰ç¼€å˜é‡ã€‚<strong>å¯å˜</strong>è¡¨ç¤ºå¸¦ä¸‹åˆ’çº¿å‰ç¼€çš„å˜é‡å¯è¢«å¤šæ¬¡é‡å¤èµ‹å€¼ï¼Œä¸å¸¦ä¸‹åˆ’çº¿å‰ç¼€çš„å˜é‡è¢«èµ‹å€¼åä¸å¯å˜ã€‚</p><p>å¸¦ <code>_</code> ä¸‹åˆ’çº¿å‰ç¼€çš„å˜é‡ä¸ä¸å¸¦ <code>_</code> ä¸‹åˆ’çº¿å‰ç¼€å˜é‡çš„åŒºåˆ«æ˜¯: ä¸å¸¦ <code>_</code> ä¸‹åˆ’çº¿å‰ç¼€å˜é‡é»˜è®¤æ˜¯å¯¼å‡ºåˆ° YAML å½“ä¸­çš„ï¼Œå¹¶ä¸”å…·æœ‰å¼ºä¸å¯å˜æ€§ï¼›å¸¦ <code>_</code> ä¸‹åˆ’çº¿å‰ç¼€å˜é‡æ˜¯ä¸å¯¼å‡ºçš„ï¼Œå¯å˜çš„ã€‚</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Foo&#x27;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># å¯¼å‡ºå˜é‡ï¼Œä¸å¯å˜å˜é‡</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Bar&#x27;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># é”™è¯¯ï¼šå¯¼å‡ºå˜é‡åªèƒ½è®¾ç½®ä¸€æ¬¡</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">_name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Foo&#x27;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># éšè—å˜é‡ï¼Œå¯å˜å˜é‡</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Bar&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">schema Person</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    _name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># hidden and mutable</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="4-å¦‚ä½•å‘-dict-ä¸­æ·»åŠ å…ƒç´ ">4. å¦‚ä½•å‘ dict ä¸­æ·»åŠ å…ƒç´ ï¼Ÿ<a class="hash-link" href="#4-å¦‚ä½•å‘-dict-ä¸­æ·»åŠ å…ƒç´ " title="Direct link to heading">â€‹</a></h2><p>å¯ä»¥ä½¿ç”¨ union è¿ç®—ç¬¦ <code>|</code>, æˆ–è€… dict è§£åŒ…è¿ç®—ç¬¦ <code>**</code> æ¥å‘ dict ä¸­æ·»åŠ ä¸€ä¸ªå…ƒç´ ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨ <code>in</code>,<code>not in</code> ç­‰å…³é”®å­—åˆ¤æ–­ dict å˜é‡å½“ä¸­æ˜¯å¦åŒ…å«æŸä¸€ä¸ªé”®å€¼</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">_left </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">key </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">key1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;value1&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> intKey </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># æ³¨æ„ä½¿ç”¨ = è¡¨ç¤ºè¦†ç›–</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_right </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">key </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">key2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;value2&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> intKey </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dataUnion </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> _left </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> _right  </span><span class="token comment" style="color:#999988;font-style:italic"># {&quot;key&quot;: {&quot;key1&quot;: &quot;value1&quot;, &quot;key2&quot;: &quot;value2&quot;}, &quot;intKey&quot;: 2}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dataUnpack </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token operator" style="color:#393A34">**</span><span class="token plain">_left</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">**</span><span class="token plain">_right</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># {&quot;key&quot;: {&quot;key1&quot;: &quot;value1&quot;, &quot;key2&quot;: &quot;value2&quot;}, &quot;intKey&quot;: 2}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>è¾“å‡º YAML ä¸º:</p><div class="codeBlockContainer_I0IT language-yaml theme-code-block"><div class="codeBlockContent_wNvx yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">dataUnion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">key</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">key1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> value1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">key2</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> value2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">dataUnpack</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">key</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">key2</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> value2</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>æ­¤å¤–è¿˜å¯ä»¥ä½¿ç”¨ <code>å­—ç¬¦ä¸²æ’å€¼</code> æˆ–è€…å­—ç¬¦ä¸² <code>format</code> æˆå‘˜å‡½æ•°ç‰¹æ€§å‘ kcl dict æ·»åŠ å˜é‡é”®å€¼å¯¹</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">dictKey1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;key1&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dictKey2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;key2&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;${dictKey1}&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;value1&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;{}&quot;</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">format</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">dictKey2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;value2&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>è¾“å‡º YAML ä¸º:</p><div class="codeBlockContainer_I0IT language-yaml theme-code-block"><div class="codeBlockContent_wNvx yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">dictKey1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> key1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">dictKey2</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> key2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">data</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">key1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> value1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">key2</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> value2</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="5-å¦‚ä½•ä¿®æ”¹-dict-ä¸­çš„å…ƒç´ ">5. å¦‚ä½•ä¿®æ”¹ dict ä¸­çš„å…ƒç´ ï¼Ÿ<a class="hash-link" href="#5-å¦‚ä½•ä¿®æ”¹-dict-ä¸­çš„å…ƒç´ " title="Direct link to heading">â€‹</a></h2><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ union è¿ç®—ç¬¦ <code>|</code>, æˆ–è€…è§£åŒ…è¿ç®—ç¬¦ <code>**</code> ä¿®æ”¹ dict å½“ä¸­çš„å…ƒç´ </p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">_data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">key </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;value&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># {&quot;key&quot;: &quot;value&quot;}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> _data </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">key </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;override_value1&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># {&quot;key&quot;: &quot;override_value1&quot;}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token operator" style="color:#393A34">**</span><span class="token plain">_data</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">**</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">key </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;override_value2&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># {&quot;key&quot;: &quot;override_value2&quot;}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>å¦‚æœæƒ³è¦åˆ é™¤ dict ä¸­æŸä¸ªé”®ä¸º <code>key</code> çš„å€¼ï¼Œå¯ä»¥ä½¿ç”¨è§£åŒ…è¿ç®—ç¬¦ <code>**{key = Undefined}</code> æˆ–è€…åˆå¹¶è¿ç®—ç¬¦ <code>| {key = Undefined}</code> è¿›è¡Œè¦†ç›–ï¼Œè¦†ç›–å key çš„å€¼ä¸º Undefinedï¼Œä¸ä¼šè¿›è¡Œ YAML è¾“å‡ºã€‚</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="6-å¦‚ä½•å‘-list-ä¸­æ·»åŠ å…ƒç´ ">6. å¦‚ä½•å‘ list ä¸­æ·»åŠ å…ƒç´ ï¼Ÿ<a class="hash-link" href="#6-å¦‚ä½•å‘-list-ä¸­æ·»åŠ å…ƒç´ " title="Direct link to heading">â€‹</a></h2><p>åœ¨ list ä¸­æ·»åŠ å…ƒç´ æœ‰ä¸¤ç§æ–¹å¼ï¼š</p><ul><li>ä½¿ç”¨ <code>+</code>, <code>+=</code> å’Œ slice åˆ‡ç‰‡è¿æ¥ç»„è£… list å˜é‡è¾¾åˆ°å‘ list ä¸­æ·»åŠ å…ƒç´ çš„ç›®çš„</li></ul><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">_args </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;a&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;b&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;c&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_args </span><span class="token operator" style="color:#393A34">+=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;end&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># åœ¨listå°¾éƒ¨æ·»åŠ å…ƒç´ &quot;end&quot;, [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;end&quot;]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_args </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> _args</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;x&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> _args</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># åœ¨listç´¢å¼•ä¸º2çš„åœ°æ–¹æ’å…¥å…ƒç´ &quot;x&quot;, [&quot;a&quot;, &quot;b&quot;, &quot;x&quot;, &quot;c&quot;, &quot;end&quot;]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_args </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;start&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> _args  </span><span class="token comment" style="color:#999988;font-style:italic"># åœ¨listå¤´éƒ¨æ·»åŠ å…ƒç´ &quot;start&quot;, [&quot;start&quot;, &quot;a&quot;, &quot;b&quot;, &quot;x&quot;, &quot;c&quot;, &quot;end&quot;]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><ul><li>ä½¿ç”¨ <code>*</code> è§£åŒ…è¿ç®—ç¬¦è¿æ¥åˆå¹¶ list</li></ul><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">_args </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;a&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;b&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;c&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_args </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token operator" style="color:#393A34">*</span><span class="token plain">_args</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;end&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># åœ¨listå°¾éƒ¨æ·»åŠ å…ƒç´ &quot;end&quot;, [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;end&quot;]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_args </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;start&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">_args</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># åœ¨listå¤´éƒ¨æ·»åŠ å…ƒç´ &quot;start&quot;, [&quot;start&quot;, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;end&quot;]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>æ³¨æ„ï¼šå½“æ¥è¿çš„å˜é‡ä¸º <code>None/Undefined</code> æ—¶ï¼Œä½¿ç”¨ <code>+</code> å¯èƒ½ä¼šå‘ç”Ÿé”™è¯¯ï¼Œè¿™æ—¶ä½¿ç”¨ list è§£åŒ…è¿ç®—ç¬¦ <code>*</code> æˆ–è€…ä½¿ç”¨ <code>or</code> è¿ç®—ç¬¦å– list çš„é»˜è®¤å€¼å¯ä»¥é¿å…ç©ºå€¼åˆ¤æ–­</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">data1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">data2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">data3 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token operator" style="color:#393A34">*</span><span class="token plain">data1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">data2</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Right [1, 2, 3]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">data4 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> data1 </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> data2 </span><span class="token keyword" style="color:#00009f">or</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># Right [1, 2, 3], ä½¿ç”¨ or å– data2 çš„é»˜è®¤å€¼ä¸º []ï¼Œ å½“ data2 ä¸º None/Undefined æ—¶ï¼Œå–ç©ºåˆ—è¡¨ [] è¿›è¡Œè®¡ç®—</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">data5 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> data1 </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> data2  </span><span class="token comment" style="color:#999988;font-style:italic"># Error: can only concatenate list (not &quot;NoneType&quot;) to list</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="7-å¦‚ä½•ä¿®æ”¹åˆ é™¤-list-ä¸­çš„å…ƒç´ ">7. å¦‚ä½•ä¿®æ”¹/åˆ é™¤ list ä¸­çš„å…ƒç´ ï¼Ÿ<a class="hash-link" href="#7-å¦‚ä½•ä¿®æ”¹åˆ é™¤-list-ä¸­çš„å…ƒç´ " title="Direct link to heading">â€‹</a></h2><p>ä¿®æ”¹ list ä¸­çš„å…ƒç´ åˆ†ä¸ºä¸¤ç§æ–¹å¼ï¼š</p><ul><li>ç›´æ¥ä¿®æ”¹ list æŸä¸ªç´¢å¼•å¤„çš„å€¼ï¼Œä½¿ç”¨ slice åˆ‡ç‰‡</li></ul><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">_index </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_args </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;a&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;b&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;c&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_args </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> _args</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">index</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;x&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> _args</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">index</span><span class="token operator" style="color:#393A34">+</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># ä¿®æ”¹listç´¢å¼•ä¸º1çš„å…ƒç´ ä¸º&quot;x&quot;, [&quot;a&quot;, &quot;x&quot;, &quot;c&quot;]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><ul><li>æ ¹æ®æŸä¸ªæ¡ä»¶ä¿®æ”¹ list å½“ä¸­çš„å…ƒç´ ï¼Œä½¿ç”¨ list comprehension åˆ—è¡¨æ¨å¯¼å¼</li></ul><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">_args </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;a&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;b&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;c&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_args </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;x&quot;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> a </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;b&quot;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> a </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> a </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> _args</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># å°†listå½“ä¸­å€¼ä¸º&quot;b&quot;çš„å€¼éƒ½ä¿®æ”¹ä¸º&quot;x&quot;, [&quot;a&quot;, &quot;x&quot;, &quot;c&quot;]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>åˆ é™¤ list ä¸­çš„å…ƒç´ åˆ†ä¸ºä¸¤ç§æ–¹å¼ï¼š</p><ul><li>ä½¿ç”¨ list for æ¨å¯¼è¡¨è¾¾å¼ä¸­ if è¿‡æ»¤æ¡ä»¶</li><li>ä½¿ç”¨ filter è¡¨è¾¾å¼å¯¹ list è¿›è¡Œå…ƒç´ è¿‡æ»¤</li></ul><p>æ¯”å¦‚æƒ³è¦åˆ é™¤ä¸€ä¸ªåˆ—è¡¨ <code>[1, 2, 3, 4, 5]</code> ä¸­å¤§äº 2 çš„æ•°å­—ï¼Œåˆ™åœ¨ KCL ä¸­å¯ä»¥å†™ä¸º:</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">originList </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">oneWayDeleteListItem </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">item </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> item </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> originList </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> item </span><span class="token operator" style="color:#393A34">&lt;=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">anotherWayDeleteListItem </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">filter</span><span class="token plain"> item </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> originList </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    item </span><span class="token operator" style="color:#393A34">&lt;=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>è¾“å‡ºå¦‚ä¸‹ç»“æœ</p><div class="codeBlockContainer_I0IT language-yaml theme-code-block"><div class="codeBlockContent_wNvx yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">originList</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">oneWayDeleteListItem</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">anotherWayDeleteListItem</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="8-æ€æ ·å†™-for-å¾ªç¯æ€æ ·ç†è§£å’Œä½¿ç”¨-list-comprehension-åˆ—è¡¨æ¨å¯¼å¼-å’Œ-dict-comprehension-å­—å…¸æ¨å¯¼å¼-">8. æ€æ ·å†™ for å¾ªç¯ï¼Ÿæ€æ ·ç†è§£å’Œä½¿ç”¨ list comprehension åˆ—è¡¨æ¨å¯¼å¼ å’Œ dict comprehension å­—å…¸æ¨å¯¼å¼ ï¼Ÿ<a class="hash-link" href="#8-æ€æ ·å†™-for-å¾ªç¯æ€æ ·ç†è§£å’Œä½¿ç”¨-list-comprehension-åˆ—è¡¨æ¨å¯¼å¼-å’Œ-dict-comprehension-å­—å…¸æ¨å¯¼å¼-" title="Direct link to heading">â€‹</a></h2><p>KCL ç›®å‰ä»…æ”¯æŒå‡½æ•°å¼/å£°æ˜å¼çš„æ¨å¯¼å¼ for å¾ªç¯æ–¹å¼ï¼Œå¯ä»¥æŒ‰ç…§å¦‚ä¸‹æ–¹å¼éå† dict å’Œ list å˜é‡:</p><p>list æ¨å¯¼å¼å…·ä½“å½¢å¼ä¸º(å…¶ä¸­æ¨å¯¼å¼ä¸¤è¾¹ä½¿ç”¨æ–¹æ‹¬å· <code>[]</code>):</p><div class="codeBlockContainer_I0IT language-txt theme-code-block"><div class="codeBlockContent_wNvx txt"><pre tabindex="0" class="prism-code language-txt codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">[expression for expr in sequence1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if condition1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            for expr2 in sequence2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if condition2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            for expr3 in sequence3 ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if condition3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            for exprN in sequenceN</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if conditionN]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>dict æ¨å¯¼å¼å…·ä½“å½¢å¼ä¸º(å…¶ä¸­æ¨å¯¼å¼ä¸¤è¾¹ä½¿ç”¨èŠ±æ‹¬å· <code>{}</code>):</p><div class="codeBlockContainer_I0IT language-txt theme-code-block"><div class="codeBlockContent_wNvx txt"><pre tabindex="0" class="prism-code language-txt codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">{expression for expr in sequence1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if condition1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            for expr2 in sequence2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if condition2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            for expr3 in sequence3 ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if condition3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            for exprN in sequenceN</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if conditionN}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>ä¸Šè¿°æ¨å¯¼å¼ä¸­çš„ <code>if</code> è¡¨ç¤ºè¿‡æ»¤æ¡ä»¶ï¼Œæ»¡è¶³æ¡ä»¶çš„è¡¨è¾¾å¼ <code>expr</code> æ‰ä¼šç”Ÿæˆåˆ°æ–°çš„ list æˆ– dict ä¸­</p><p>list æ¨å¯¼å¼ä¸¾ä¾‹:</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">_listData </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_listData </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">l </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> l </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> _listData</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># _listDataä¸­æ‰€æœ‰å…ƒç´ éƒ½ä¹˜ä»¥2ï¼Œ[2, 4, 6, 8, 10, 12]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_listData </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">l </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> l </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> _listData </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> l </span><span class="token operator" style="color:#393A34">%</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># ç­›é€‰å‡º_listDataä¸­å¯ä»¥è¢«4æ•´é™¤çš„æ‰€æœ‰å…ƒç´ ï¼Œ[4, 8, 12]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_listData </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">l </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> l </span><span class="token operator" style="color:#393A34">%</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> l </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> l </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> _listData</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># éå†_listData, å½“å…¶ä¸­çš„å…ƒç´ å¯ä»¥è¢«8æ•´é™¤æ—¶ï¼Œå°†è¯¥å…ƒç´ åŠ 100ï¼Œå¦åˆ™ä¿æŒä¸å˜, [4, 108, 12]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>æ³¨æ„ä¸Šè¿°ä»£ç ä¸­ç¬¬ 3 è¡Œå’Œç¬¬ 4 è¡Œä¸¤ä¸ª <code>if</code> çš„åŒºåˆ«:</p><ul><li>ç¬¬ä¸€ä¸ª <code>if</code> è¡¨ç¤º list å˜é‡ <code>_listData</code> æœ¬èº«çš„æ¨å¯¼å¼è¿‡æ»¤æ¡ä»¶ï¼Œåä¸èƒ½è·Ÿ <code>else</code>ï¼Œæ»¡è¶³è¯¥è¿‡æ»¤æ¡ä»¶çš„å…ƒç´ ä¼šç»§ç»­æ”¾åœ¨è¯¥åˆ—è¡¨ä¸­ï¼Œä¸æ»¡è¶³æ¡ä»¶çš„å…ƒç´ è¢«å‰”é™¤ï¼Œæœ‰å¯èƒ½ä¼šä½¿åˆ—è¡¨é•¿åº¦å‘ç”Ÿå˜åŒ–</li><li>ç¬¬äºŒä¸ª <code>if</code> è¡¨ç¤º list è¿­ä»£å˜é‡ <code>l</code> çš„é€‰æ‹©æ¡ä»¶ï¼Œè¡¨ç¤º <code>if-else</code> ä¸‰å…ƒè¡¨è¾¾å¼ï¼Œåå¿…é¡»è·Ÿ <code>else</code>ï¼Œä¸è®ºæ˜¯å¦æ»¡è¶³è¯¥æ¡ä»¶ï¼Œäº§ç”Ÿçš„å…ƒç´ ä»ç„¶åœ¨è¯¥åˆ—è¡¨ä¸­ï¼Œåˆ—è¡¨é•¿åº¦ä¸å˜</li></ul><p>dict æ¨å¯¼å¼ä¸¾ä¾‹:</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">_dictData </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">key1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;value1&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> key2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;value2&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_dictData </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">k </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> _dictData</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">k</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> k </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> _dictData </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> k </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;key1&quot;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">and</span><span class="token plain"> _dictData</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">k</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;value1&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># å°†_dictDataä¸­keyä¸º&quot;key1&quot;, valueä¸º&quot;value1&quot;çš„å…ƒç´ ç­›é€‰å‡ºæ¥, {&quot;key1&quot;: &quot;value1&quot;}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>ä½¿ç”¨æ¨å¯¼å¼è·å¾— dict æ‰€æœ‰ key:</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">dictData </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">key1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;value1&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> key2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;value2&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dictDataKeys </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">k </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> k </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> _dictData</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># [&quot;key1&quot;, &quot;key2&quot;]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>ä½¿ç”¨æ¨å¯¼å¼å¯¹ dict æŒ‰ç…§ key çš„å­—å…¸åºå‡åºè¿›è¡Œæ’åº:</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">dictData </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">key3 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;value3&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> key2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;value2&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> key1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;value1&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># {&#x27;key3&#x27;: &#x27;value3&#x27;, &#x27;key2&#x27;: &#x27;value2&#x27;, &#x27;key1&#x27;: &#x27;value1&#x27;}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dictSortedData </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">k </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> dictData</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">k</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> k </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">sorted</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">dictData</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># {&#x27;key1&#x27;: &#x27;value1&#x27;, &#x27;key2&#x27;: &#x27;value2&#x27;, &#x27;key3&#x27;: &#x27;value3&#x27;}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>å¤šçº§æ¨å¯¼å¼ä¸¾ä¾‹:</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">array1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">array2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">a1 </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> a2 </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> a1 </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> array1 </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> a2 </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> array2</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># [5, 6, 7, 6, 7, 8, 7, 8, 9] len(data) == len(array1) * len(array2)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>åŒå˜é‡å¾ªç¯(for æ¨å¯¼è¡¨è¾¾å¼æ”¯æŒ list çš„ç´¢å¼•è¿­ä»£ä»¥åŠ dict çš„ value è¿­ä»£ï¼Œå¯ä»¥ç®€åŒ– list/dict è¿­ä»£è¿‡ç¨‹ä»£ç ä¹¦å†™):</p><ul><li>list</li></ul><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1000</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2000</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3000</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># å•å˜é‡å¾ªç¯</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dataLoop1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> i </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># [2000, 4000, 6000]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dataLoop2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> i </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> data </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2000</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># [2000]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dataLoop3 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> i </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># [1000, 2000, 3000]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># åŒå˜é‡å¾ªç¯</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dataLoop4 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> v </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> i</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> v </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># [1000, 2001, 3002]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dataLoop5 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">v </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> i</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> v </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> data </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> v </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2000</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># [2000]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># ä½¿ç”¨_å¿½ç•¥å¾ªç¯å˜é‡</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dataLoop6 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">v </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> v </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2000</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> v </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> i </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> i</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> v </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># [1000, 2001, 3000]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dataLoop7 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> i</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> _ </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># [0, 1, 2]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dataLoop8 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">v </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> _</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> v </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> data </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> v </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2000</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># [2000]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><ul><li>dict</li></ul><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">key1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;value1&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> key2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;value2&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># å•å˜é‡å¾ªç¯</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dataKeys1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">k </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> k </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># [&quot;key1&quot;, &quot;key2&quot;]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dataValues1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">k</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> k </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># [&quot;value1&quot;, &quot;value2&quot;]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># åŒå˜é‡å¾ªç¯</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dataKeys2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">k </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> k</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> v </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># [&quot;key1&quot;, &quot;key2&quot;]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dataValues2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">v </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> k</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> v </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># [&quot;value1&quot;, &quot;value2&quot;]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dataFilter </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">k </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> v </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> k</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> v </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> data </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> k </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;key1&quot;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">and</span><span class="token plain"> v </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;value1&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># {&quot;key1&quot;: &quot;value1&quot;}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># ä½¿ç”¨_å¿½ç•¥å¾ªç¯å˜é‡</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dataKeys3 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">k </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> k</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> _ </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># [&quot;key1&quot;, &quot;key2&quot;]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dataValues3 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">v </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> _</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> v </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># [&quot;value1&quot;, &quot;value2&quot;]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="9-æ€æ ·å†™-if-æ¡ä»¶è¯­å¥">9. æ€æ ·å†™ if æ¡ä»¶è¯­å¥ï¼Ÿ<a class="hash-link" href="#9-æ€æ ·å†™-if-æ¡ä»¶è¯­å¥" title="Direct link to heading">â€‹</a></h2><p>KCL æ”¯æŒä¸¤ç§æ–¹å¼ä¹¦å†™ if æ¡ä»¶è¯­å¥:</p><ul><li>if-elif-else å—è¯­å¥ï¼Œå…¶ä¸­ elif å’Œ else å—å‡å¯çœç•¥ï¼Œå¹¶ä¸” elif å—å¯ä»¥ä½¿ç”¨å¤šæ¬¡</li></ul><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">success </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">True</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;failed&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> success</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    _result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;success&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">success </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">True</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> success</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    _result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;success&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">else</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    _result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;failed&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">_result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> condition </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;one&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    _result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">elif</span><span class="token plain"> condition </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;two&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    _result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">elif</span><span class="token plain"> condition </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;three&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    _result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">else</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    _result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><ul><li>æ¡ä»¶è¡¨è¾¾å¼ <code>&lt;expr1&gt; if &lt;condition&gt; else &lt;expr2&gt;</code>, ç±»ä¼¼äº C è¯­è¨€å½“ä¸­çš„ <code>&lt;condition&gt; ? &lt;expr1&gt; : &lt;expr2&gt;</code> ä¸‰å…ƒè¡¨è¾¾å¼</li></ul><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">success </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">True</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;success&quot;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> success </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;failed&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>æ³¨æ„ï¼šåœ¨ä¹¦å†™ if-elif-else å—è¯­å¥æ—¶æ³¨æ„ä¹¦å†™ if æ¡ä»¶åçš„å†’å· <code>:</code> ä»¥åŠä¿æŒç¼©è¿›çš„ç»Ÿä¸€</p><p>é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜å¯ä»¥åœ¨ list æˆ–è€… dict ç»“æ„ä¸­ç›´æ¥ä¹¦å†™æ¡ä»¶è¡¨è¾¾å¼(ä¸åŒçš„æ˜¯ï¼Œåœ¨ç»“æ„ä¸­ä¹¦å†™çš„ if è¡¨è¾¾å¼ä¸­éœ€è¦ä¹¦å†™çš„å€¼è€Œä¸æ˜¯è¯­å¥):</p><ul><li>list</li></ul><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">env </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;prod&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;env_value&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;:&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> env </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;prod&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;prod&quot;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># ä¹¦å†™éœ€è¦æ·»åŠ åˆ° data ä¸­çš„å€¼ï¼Œè€Œä¸æ˜¯è¯­å¥</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">else</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;other_prod&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># [&quot;env_value&quot;, &quot;:&quot;, &quot;prod&quot;]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><ul><li>dict</li></ul><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">env </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;prod&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">config </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> env </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;prod&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        MY_PROD_ENV </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;prod_value&quot;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># ä¹¦å†™éœ€è¦æ·»åŠ åˆ° config ä¸­çš„é”®-å€¼å¯¹ï¼Œè€Œä¸æ˜¯è¯­å¥</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">else</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        OTHER_ENV </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;other_value&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># {&quot;MY_PROD_ENV&quot;: &quot;prod_value&quot;}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="10-æ€æ ·è¡¨è¾¾-ä¸-æˆ–-é-ç­‰é€»è¾‘è¿ç®—">10. æ€æ ·è¡¨è¾¾ &quot;ä¸&quot; &quot;æˆ–&quot; &quot;é&quot; ç­‰é€»è¾‘è¿ç®—ï¼Ÿ<a class="hash-link" href="#10-æ€æ ·è¡¨è¾¾-ä¸-æˆ–-é-ç­‰é€»è¾‘è¿ç®—" title="Direct link to heading">â€‹</a></h2><p>åœ¨ KCL ä¸­ï¼Œä½¿ç”¨ <code>and</code> è¡¨ç¤º&quot;é€»è¾‘ä¸&quot;, ä½¿ç”¨ <code>or</code> è¡¨ç¤º&quot;é€»è¾‘æˆ–&quot;, ä½¿ç”¨ <code>not</code> è¡¨ç¤º&quot;é&quot;, ä¸ C è¯­è¨€å½“ä¸­çš„ <code>&amp;&amp;</code>, <code>||</code> å’Œ <code>~</code> è¯­ä¹‰ä¸€è‡´ï¼›</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">done </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">True</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">col </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> done </span><span class="token keyword" style="color:#00009f">and</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">col </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">or</span><span class="token plain"> col </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ok </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>å¯¹äºæ•´æ•°çš„&quot;æŒ‰ä½ä¸&quot;, &quot;æŒ‰ä½æˆ–&quot;å’Œ&quot;æŒ‰ä½å¼‚æˆ–&quot;ï¼Œåœ¨ KCL ä¸­ä½¿ç”¨ <code>&amp;</code>, <code>|</code> å’Œ <code>^</code> è¿ç®—ç¬¦è¡¨ç¤º, ä¸ C è¯­è¨€å½“ä¸­çš„ <code>&amp;</code>, <code>|</code> å’Œ <code>^</code> è¯­ä¹‰ä¸€è‡´ï¼›</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">value </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0x22</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bitmask </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0x0f</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">assert</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">value </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> bitmask</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0x02</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">assert</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">value </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">~</span><span class="token plain">bitmask</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0x20</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">assert</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">value </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> bitmask</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0x2f</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">assert</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">value </span><span class="token operator" style="color:#393A34">^</span><span class="token plain"> bitmask</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0x2d</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>&quot;é€»è¾‘æˆ–&quot; <code>or</code> çš„å¦™ç”¨ï¼šå½“éœ€è¦ä¹¦å†™è¯¸å¦‚ <code>A if A else B</code> ç±»ä¼¼çš„æ¨¡å¼æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ <code>A or B</code> è¿›è¡Œç®€åŒ–ï¼Œæ¯”å¦‚å¦‚ä¸‹ä»£ç :</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">value </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">default </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">x0 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> value </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> value </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> default</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">x1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> value </span><span class="token keyword" style="color:#00009f">or</span><span class="token plain"> default  </span><span class="token comment" style="color:#999988;font-style:italic"># ä½¿ç”¨ value or default ä»£æ›¿ value if value else default</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="11-å¦‚ä½•åˆ¤æ–­å˜é‡æ˜¯å¦ä¸º-noneundefinedå­—ç¬¦ä¸²dictlist-æ˜¯å¦ä¸ºç©º">11. å¦‚ä½•åˆ¤æ–­å˜é‡æ˜¯å¦ä¸º None/Undefinedã€å­—ç¬¦ä¸²/dict/list æ˜¯å¦ä¸ºç©ºï¼Ÿ<a class="hash-link" href="#11-å¦‚ä½•åˆ¤æ–­å˜é‡æ˜¯å¦ä¸º-noneundefinedå­—ç¬¦ä¸²dictlist-æ˜¯å¦ä¸ºç©º" title="Direct link to heading">â€‹</a></h2><p>è¯·æ³¨æ„ï¼Œåœ¨ if è¡¨è¾¾å¼çš„æ¡ä»¶åˆ¤æ–­ä¸­ï¼Œ<code>False</code>ã€<code>None</code>ã€<code>Undefined</code>ã€æ•°å­— <code>0</code>ã€ç©ºåˆ—è¡¨ <code>[]</code>ã€ç©ºå­—å…¸ <code>{}</code> å’Œç©ºå­—ç¬¦ä¸² <code>&quot;&quot;</code>, <code>&#x27;&#x27;</code>, <code>&quot;&quot;&quot;&quot;&quot;&quot;</code>, <code>&#x27;&#x27;&#x27;&#x27;&#x27;&#x27;</code> éƒ½è¢«è§†ä¸ºå€¼ä¸º <code>å‡</code> çš„è¡¨è¾¾å¼ã€‚</p><p>æ¯”å¦‚åˆ¤æ–­ä¸€ä¸ªå­—ç¬¦ä¸²å˜é‡ <code>strData</code> æ—¢ä¸ä¸º <code>None/Undefined</code> ä¹Ÿä¸ä¸ºç©ºå­—ç¬¦ä¸²æ—¶(å­—ç¬¦ä¸²é•¿åº¦å¤§äº 0)ï¼Œå°±å¯ä»¥ç®€å•çš„ä½¿ç”¨å¦‚ä¸‹è¡¨è¾¾å¼:</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">strData </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;value&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> strData</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    isEmptyStr </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">False</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>ç©ºå­—å…¸å’Œç©ºåˆ—è¡¨åˆ¤æ–­ä¸¾ä¾‹:</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">_emptyList </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_emptyDict </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">isEmptyList </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">False</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> _emptyList </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">True</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">isEmptyDict </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">False</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> _emptyDict </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">True</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>YAML è¾“å‡ºä¸º:</p><div class="codeBlockContainer_I0IT language-yaml theme-code-block"><div class="codeBlockContent_wNvx yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">isEmptyList</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">isEmptyDict</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>æˆ–è€…ä½¿ç”¨å¸ƒå°”å‡½æ•° <code>bool</code> è¿›è¡Œåˆ¤æ–­</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">_emptyList </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_emptyDict </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">isEmptyList </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">bool</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">_emptyList</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">isEmptyDict </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">bool</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">_emptyDict</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="12-å­—ç¬¦ä¸²æ€æ ·æ‹¼æ¥æ€æ ·æ ¼å¼åŒ–å­—ç¬¦ä¸²æ€æ ·æ£€æŸ¥å­—ç¬¦ä¸²å‰ç¼€åç¼€æ€æ ·æ›¿æ¢å­—ç¬¦ä¸²å†…å®¹">12. å­—ç¬¦ä¸²æ€æ ·æ‹¼æ¥ã€æ€æ ·æ ¼å¼åŒ–å­—ç¬¦ä¸²ã€æ€æ ·æ£€æŸ¥å­—ç¬¦ä¸²å‰ç¼€ã€åç¼€ï¼Ÿæ€æ ·æ›¿æ¢å­—ç¬¦ä¸²å†…å®¹ï¼Ÿ<a class="hash-link" href="#12-å­—ç¬¦ä¸²æ€æ ·æ‹¼æ¥æ€æ ·æ ¼å¼åŒ–å­—ç¬¦ä¸²æ€æ ·æ£€æŸ¥å­—ç¬¦ä¸²å‰ç¼€åç¼€æ€æ ·æ›¿æ¢å­—ç¬¦ä¸²å†…å®¹" title="Direct link to heading">â€‹</a></h2><ul><li>KCL ä¸­å¯ä»¥ä½¿ç”¨ <code>+</code> è¿ç®—ç¬¦è¿æ¥ä¸¤ä¸ªå­—ç¬¦ä¸²</li></ul><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">data1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;string1&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;string2&quot;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># &quot;string1string2&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">data2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;string1&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot; &quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;string2&quot;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># &quot;string1 string2&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><ul><li>KCL ä¸­ç›®å‰å­˜åœ¨ä¸¤ç§æ ¼å¼åŒ–å­—ç¬¦ä¸²çš„æ–¹å¼:<ul><li>å­—ç¬¦ä¸²å˜é‡çš„ format æ–¹æ³• <code>&quot;{}&quot;.format()</code></li><li>å­—ç¬¦ä¸²æ’å€¼ <code>${}</code></li></ul></li></ul><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">hello </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;hello&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">a </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;{} world&quot;</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">format</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">hello</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">b </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;${hello} world&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>æ³¨æ„ï¼Œå¦‚æœæƒ³åœ¨ <code>&quot;{}&quot;.format()</code> ä¸­å•ç‹¬ä½¿ç”¨ <code>{</code> å­—ç¬¦æˆ–è€… <code>}</code>, åˆ™éœ€è¦ä½¿ç”¨ <code>{{</code> å’Œ <code>}}</code> åˆ†åˆ«å¯¹ <code>{</code> å’Œ <code>}</code> è¿›è¡Œè½¬ä¹‰ï¼Œæ¯”å¦‚è½¬ä¹‰ä¸€ä¸ª JSON å­—ç¬¦ä¸²å¦‚ä¸‹ä»£ç ï¼š</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;value&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">jsonData </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;{{&quot;key&quot;: &quot;{}&quot;}}&#x27;</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">format</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>è¾“å‡º YAML ä¸º:</p><div class="codeBlockContainer_I0IT language-yaml theme-code-block"><div class="codeBlockContent_wNvx yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">data</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">jsonData</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;{&quot;key&quot;: &quot;value&quot;}&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>æ³¨æ„ï¼Œå¦‚æœæƒ³åœ¨ <code>${}</code> æ’å€¼å­—ç¬¦ä¸²ä¸­å•ç‹¬ä½¿ç”¨ <code>$</code> å­—ç¬¦ï¼Œåˆ™éœ€è¦ä½¿ç”¨ <code>$$</code> å¯¹ <code>$</code> è¿›è¡Œè½¬ä¹‰</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">world </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;world&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">a </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;hello {}&quot;</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">format</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">world</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">       </span><span class="token comment" style="color:#999988;font-style:italic"># &quot;hello world&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">b </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;hello ${world}&quot;</span><span class="token plain">               </span><span class="token comment" style="color:#999988;font-style:italic"># &quot;hello world&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">c </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;$$hello ${world}$$&quot;</span><span class="token plain">           </span><span class="token comment" style="color:#999988;font-style:italic"># &quot;$hello world$&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">c2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;$&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;hello ${world}&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;$&quot;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># &quot;$hello world$&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>è¾“å‡º YAML ä¸º:</p><div class="codeBlockContainer_I0IT language-yaml theme-code-block"><div class="codeBlockContent_wNvx yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">world</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> world</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">a</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> hello world</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">b</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> hello world</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">c</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $hello world$</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">c2</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $hello world$</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><ul><li>KCL ä¸­ä½¿ç”¨å­—ç¬¦ä¸²çš„ <code>startswith</code> å’Œ <code>endswith</code> æ–¹æ³•æ£€æŸ¥å­—ç¬¦ä¸²çš„å‰ç¼€å’Œåç¼€</li></ul><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;length&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">isEndsWith </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">endswith</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;th&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># True</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">isStartsWith </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;length&quot;</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">startswith</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;len&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># True</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><ul><li>KCL ä¸­ä½¿ç”¨å­—ç¬¦ä¸²çš„ replace æ–¹æ³•æˆ–è€… regex.replace å‡½æ•°æ›¿æ¢å­—ç¬¦ä¸²çš„å†…å®¹</li></ul><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> regex</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">data1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;length&quot;</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">replace</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;len&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;xxx&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># ä½¿ç”¨&quot;xxx&quot;æ›¿æ¢&quot;len&quot;, &quot;xxxgth&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">data2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> regex</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">replace</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;abc123&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">r&quot;\D&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;0&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># æ›¿æ¢&quot;abc123&quot;ä¸­çš„æ‰€æœ‰éæ•°å­—ä¸º&quot;0&quot;, &quot;000123&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>å…¶ä¸­ï¼Œ<code>r&quot;\D&quot;</code> è¡¨ç¤ºä¸éœ€è¦ä½¿ç”¨ <code>\\</code> è½¬ä¹‰ <code>\D</code> ä¸­çš„åæ–œæ  <code>\</code>ï¼Œå¤šç”¨äºæ­£åˆ™è¡¨è¾¾å¼å­—ç¬¦ä¸²ä¸­</p><p>æ­¤å¤–ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å­—ç¬¦ä¸²æ ¼å¼åŒ–è¡¨è¾¾å¼ä¸­æ’å…¥ç´¢å¼•å ä½ç¬¦æˆ–è€…å…³é”®å­—å ä½ç¬¦ç”¨äºæ ¼å¼åŒ–å¤šä¸ªå­—ç¬¦ä¸²</p><ul><li>ç´¢å¼•å ä½ç¬¦</li></ul><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">x </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;{2} {1} {0}&#x27;</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">format</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;directions&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;the&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Read&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">y </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;{0} {0} {0}&#x27;</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">format</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;string&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>è¾“å‡ºä¸º:</p><div class="codeBlockContainer_I0IT language-yaml theme-code-block"><div class="codeBlockContent_wNvx yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">x</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Read the directions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">y</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> string string string</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><ul><li>å…³é”®å­—å ä½ç¬¦</li></ul><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">x </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;a: {a}, b: {b}, c: {c}&#x27;</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">format</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">a </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Two&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> c </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">12.3</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>è¾“å‡ºä¸º:</p><div class="codeBlockContainer_I0IT language-yaml theme-code-block"><div class="codeBlockContent_wNvx yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">x</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;a: 1, b: Two, c: 12.3&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="13-å­—ç¬¦ä¸²ä¸­ä½¿ç”¨å•å¼•å·å’ŒåŒå¼•å·çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ">13. å­—ç¬¦ä¸²ä¸­ä½¿ç”¨å•å¼•å·å’ŒåŒå¼•å·çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ<a class="hash-link" href="#13-å­—ç¬¦ä¸²ä¸­ä½¿ç”¨å•å¼•å·å’ŒåŒå¼•å·çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ" title="Direct link to heading">â€‹</a></h2><p>KCL å•å¼•å·å’ŒåŒå¼•å·å­—ç¬¦ä¸²å‡ ä¹æ²¡æœ‰åŒºåˆ«ã€‚å”¯ä¸€çš„åŒºåˆ«æ˜¯ï¼Œä¸éœ€è¦åœ¨å•å¼•å·å­—ç¬¦ä¸²ä¸­ä½¿ç”¨ <code>\&quot;</code> è½¬ä¹‰åŒå¼•å· <code>&quot;</code>ï¼Œä¸éœ€è¦åœ¨åŒå¼•å·å­—ç¬¦ä¸²ä¸­ä½¿ç”¨ <code>\&#x27;</code> è½¬ä¹‰å•å¼•å·å¼•å· <code>&#x27;</code>ã€‚</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">singleQuotedString </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;This is my book named &quot;foo&quot;&#x27;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Donâ€™t need to escape double quotes in single quoted strings.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">doubleQuotedString </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;This is my book named &#x27;foo&#x27;&quot;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Donâ€™t need to escape single quotes in double quoted strings.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>æ­¤å¤–åœ¨ KCL ä¸­ï¼Œä½¿ç”¨ä¸‰ä¸ªå•å¼•å·æˆ–è€…ä¸‰ä¸ªåŒå¼•å·ç»„æˆçš„é•¿å­—ç¬¦ä¸²ï¼Œæ— éœ€åœ¨å…¶ä¸­å¯¹å•å¼•å·æˆ–è€…ä¸‰å¼•å·è¿›è¡Œè½¬ä¹‰ (é™¤å­—ç¬¦ä¸²é¦–å°¾)ï¼Œæ¯”å¦‚å¦‚ä¸‹ä¾‹å­ï¼š</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">longStrWithQuote0 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;Double quotes in long strings &quot;(not at the beginning and end)&quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">longStrWithQuote1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token triple-quoted-string string" style="color:#e3116c">&#x27;&#x27;&#x27;Double quotes in long strings &quot;(not at the beginning and end)&#x27;&#x27;&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">longStrWithQuote2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;Single quotes in long strings &#x27;(not at the beginning and end)&quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">longStrWithQuote3 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token triple-quoted-string string" style="color:#e3116c">&#x27;&#x27;&#x27;Single quotes in long strings &#x27;(not at the beginning and end)&#x27;&#x27;&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>è¾“å‡º YAMLï¼š</p><div class="codeBlockContainer_I0IT language-yaml theme-code-block"><div class="codeBlockContent_wNvx yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">longStrWithQuote0</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Double quotes in long strings &quot;(not at the beginning and end)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">longStrWithQuote1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Double quotes in long strings &quot;(not at the beginning and end)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">longStrWithQuote2</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Single quotes in long strings &#x27;(not at the beginning and end)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">longStrWithQuote3</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Single quotes in long strings &#x27;(not at the beginning and end)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="14-å¦‚ä½•ç¼–å†™è·¨è¡Œçš„é•¿å­—ç¬¦ä¸²">14. å¦‚ä½•ç¼–å†™è·¨è¡Œçš„é•¿å­—ç¬¦ä¸²ï¼Ÿ<a class="hash-link" href="#14-å¦‚ä½•ç¼–å†™è·¨è¡Œçš„é•¿å­—ç¬¦ä¸²" title="Direct link to heading">â€‹</a></h2><p>KCL ä¸­å¯ä»¥ä½¿ç”¨å•å¼•å·å­—ç¬¦ä¸² + æ¢è¡Œç¬¦ <code>\n</code> æˆ–è€…ä¸‰å¼•å·å­—ç¬¦ä¸²ä¹¦å†™ä¸€ä¸ªå¤šè¡Œå­—ç¬¦ä¸²ï¼Œå¹¶ä¸”å¯ä»¥å€ŸåŠ©ç»­è¡Œç¬¦ <code>\</code> ä¼˜åŒ– KCL å­—ç¬¦ä¸²çš„å½¢å¼ï¼Œæ¯”å¦‚å¯¹äºå¦‚ä¸‹ä»£ç ä¸­çš„ä¸‰ä¸ªå¤šè¡Œå­—ç¬¦ä¸²å˜é‡ï¼Œå®ƒä»¬çš„åˆ¶æ˜¯ç›¸åŒçš„ï¼š</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">string1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;The first line\nThe second line\nThe third line\n&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">string2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;The first line</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">The second line</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">The third line</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">string3 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;\</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">The first line</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">The second line</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">The third line</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># æ¨èä½¿ç”¨ string3 é•¿å­—ç¬¦ä¸²çš„ä¹¦å†™å½¢å¼</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>è¾“å‡º YAML ä¸ºï¼š</p><div class="codeBlockContainer_I0IT language-yaml theme-code-block"><div class="codeBlockContent_wNvx yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">string1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">|</span><span class="token scalar string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">  The first line</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">  The second line</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">  The third line</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">string2</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">|</span><span class="token scalar string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">  The first line</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">  The second line</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">  The third line</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">string3</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">|</span><span class="token scalar string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">  The first line</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">  The second line</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">  The third line</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="15-å¦‚ä½•ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼">15. å¦‚ä½•ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ï¼Ÿ<a class="hash-link" href="#15-å¦‚ä½•ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼" title="Direct link to heading">â€‹</a></h2><p>é€šè¿‡åœ¨ KCL ä¸­å¯¼å…¥æ­£åˆ™è¡¨è¾¾å¼åº“ <code>import regex</code> å³å¯ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ï¼Œå…¶ä¸­åŒ…å«äº†å¦‚ä¸‹å‡½æ•°:</p><ul><li><strong>match</strong>: æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…å‡½æ•°ï¼Œæ ¹æ®æ­£åˆ™è¡¨è¾¾å¼å¯¹è¾“å…¥å­—ç¬¦ä¸²è¿›è¡ŒåŒ¹é…ï¼Œè¿”å› bool ç±»å‹è¡¨ç¤ºæ˜¯å¦åŒ¹é…æˆåŠŸ</li><li><strong>split</strong>: æ­£åˆ™è¡¨è¾¾å¼åˆ†å‰²å‡½æ•°ï¼Œæ ¹æ®æ­£åˆ™è¡¨è¾¾å¼åˆ†å‰²å­—ç¬¦ä¸²ï¼Œè¿”å›åˆ†å‰²å­—ä¸²çš„åˆ—è¡¨</li><li><strong>replace</strong>: æ­£åˆ™è¡¨è¾¾å¼æ›¿æ¢å‡½æ•°ï¼Œæ›¿æ¢å­—ç¬¦ä¸²ä¸­æ‰€æœ‰æ»¡è¶³æ­£åˆ™è¡¨è¾¾å¼çš„å­ä¸²ï¼Œè¿”å›è¢«æ›¿æ¢çš„å­—ç¬¦ä¸²</li><li><strong>compile</strong>: æ­£åˆ™è¡¨è¾¾å¼ç¼–è¯‘å‡½æ•°ï¼Œè¿”å› bool ç±»å‹è¡¨ç¤ºæ˜¯å¦æ˜¯ä¸€ä¸ªåˆæ³•çš„æ­£åˆ™è¡¨è¾¾å¼</li><li><strong>search</strong>: æ­£åˆ™è¡¨è¾¾å¼æœç´¢å‡½æ•°ï¼Œæœç´¢æ‰€æœ‰æ»¡è¶³æ­£åˆ™è¡¨è¾¾å¼çš„å­ä¸²ï¼Œè¿”å›å­ä¸²çš„åˆ—è¡¨</li></ul><p>ä½¿ç”¨ä¸¾ä¾‹:</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">regex_source </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Apple,Google,Baidu,Xiaomi&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">regex_split </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> regex</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">split</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">regex_source</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;,&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">regex_replace </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> regex</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">replace</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">regex_source</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;,&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;|&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">regex_compile </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> regex</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">compile</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;$^&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">regex_search </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> regex</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">search</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;aaaa&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;a&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">regex_find_all </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> regex</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">findall</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;aaaa&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;a&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">regex_result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> regex</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">match</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;192.168.0.1&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;^(1\\d{2}|2[0-4]\\d|25[0-5]|[1-9]\\d|[1-9])\\.&quot;</span><span class="token operator" style="color:#393A34">+</span><span class="token string" style="color:#e3116c">&quot;(1\\d{2}|2[0-4]\\d|25[0-5]|[1-9]\\d|\\d)\\.&quot;</span><span class="token operator" style="color:#393A34">+</span><span class="token string" style="color:#e3116c">&quot;(1\\d{2}|2[0-4]\\d|25[0-5]|[1-9]\\d|\\d)\\.&quot;</span><span class="token operator" style="color:#393A34">+</span><span class="token string" style="color:#e3116c">&quot;(1\\d{2}|2[0-4]\\d|25[0-5]|[1-9]\\d|\\d)$&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># åˆ¤æ–­æ˜¯å¦æ˜¯ä¸€ä¸ªIPå­—ç¬¦ä¸²</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">regex_result_false </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> regex</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">match</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;192.168.0,1&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;^(1\\d{2}|2[0-4]\\d|25[0-5]|[1-9]\\d|[1-9])\\.&quot;</span><span class="token operator" style="color:#393A34">+</span><span class="token string" style="color:#e3116c">&quot;(1\\d{2}|2[0-4]\\d|25[0-5]|[1-9]\\d|\\d)\\.&quot;</span><span class="token operator" style="color:#393A34">+</span><span class="token string" style="color:#e3116c">&quot;(1\\d{2}|2[0-4]\\d|25[0-5]|[1-9]\\d|\\d)\\.&quot;</span><span class="token operator" style="color:#393A34">+</span><span class="token string" style="color:#e3116c">&quot;(1\\d{2}|2[0-4]\\d|25[0-5]|[1-9]\\d|\\d)$&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># åˆ¤æ–­æ˜¯å¦æ˜¯ä¸€ä¸ªIPå­—ç¬¦ä¸²</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>è¾“å‡º YAML:</p><div class="codeBlockContainer_I0IT language-yaml theme-code-block"><div class="codeBlockContent_wNvx yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">regex_source</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Apple</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">Google</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">Baidu</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">Xiaomi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">regex_split</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> Apple</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> Google</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> Baidu</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> Xiaomi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">regex_replace</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Apple</span><span class="token punctuation" style="color:#393A34">|</span><span class="token plain">Google</span><span class="token punctuation" style="color:#393A34">|</span><span class="token plain">Baidu</span><span class="token punctuation" style="color:#393A34">|</span><span class="token plain">Xiaomi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">regex_compile</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">regex_search</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">regex_find_all</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> a</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> a</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> a</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> a</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">regex_result</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">regex_result_false</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">false</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>å¯¹äºæ¯”è¾ƒé•¿çš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ r-string å¿½ç•¥ <code>\</code> ç¬¦å·çš„è½¬ä¹‰ç®€åŒ–æ­£åˆ™è¡¨è¾¾å¼å­—ç¬¦ä¸²çš„ä¹¦å†™:</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">isIp </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> regex</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">match</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;192.168.0.1&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">r&quot;^(1\d{2}|2[0-4]\d|25[0-5]|[1-9]\d|[1-9]).&quot;</span><span class="token operator" style="color:#393A34">+</span><span class="token string" style="color:#e3116c">r&quot;(1\d{2}|2[0-4]\d|25[0-5]|[1-9]\d|\d).&quot;</span><span class="token operator" style="color:#393A34">+</span><span class="token string" style="color:#e3116c">r&quot;(1\d{2}|2[0-4]\d|25[0-5]|[1-9]\d|\d).&quot;</span><span class="token operator" style="color:#393A34">+</span><span class="token string" style="color:#e3116c">r&quot;(1\d{2}|2[0-4]\d|25[0-5]|[1-9]\d|\d)$&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># åˆ¤æ–­æ˜¯å¦æ˜¯ä¸€ä¸ªIPå­—ç¬¦ä¸²</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>æ›´å¤šä¸¾ä¾‹:</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> regex</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">schema Resource</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    cpu</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">         </span><span class="token builtin">str</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;1&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    memory</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">      </span><span class="token builtin">str</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;1024Mi&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    disk</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">        </span><span class="token builtin">str</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;10Gi&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    check</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        regex</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">match</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cpu</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">r&quot;^([+-]?[0-9.]+)([m]*[-+]?[0-9]*)$&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;cpu must match specific regular expression&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        regex</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">match</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">memory</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">r&quot;^([1-9][0-9]{0,63})(E|P|T|G|M|K|Ei|Pi|Ti|Gi|Mi|Ki)$&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;memory must match specific regular expression&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        regex</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">match</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">disk</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">r&quot;^([1-9][0-9]{0,63})(E|P|T|G|M|K|Ei|Pi|Ti|Gi|Mi|Ki)$&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;disk must match specific regular expression&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> regex</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">schema Env</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">            </span><span class="token builtin">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    value?</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">          </span><span class="token builtin">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    check</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token builtin">len</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">63</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;a valid env name must be no more than 63 characters&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        regex</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">match</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">r&quot;[A-Za-z_][A-Za-z0-9_]*&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;a valid env name must start with alphabetic character or &#x27;_&#x27;, followed by a string of alphanumeric characters or &#x27;_&#x27;&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="16-kcl-å½“ä¸­çš„-schema-æ˜¯ä»€ä¹ˆå«ä¹‰">16. KCL å½“ä¸­çš„ schema æ˜¯ä»€ä¹ˆå«ä¹‰ï¼Ÿ<a class="hash-link" href="#16-kcl-å½“ä¸­çš„-schema-æ˜¯ä»€ä¹ˆå«ä¹‰" title="Direct link to heading">â€‹</a></h2><p>schema æ˜¯ KCL ä¸­ä¸€ç§è¯­è¨€å…ƒç´ ï¼Œç”¨äºå®šä¹‰é…ç½®æ•°æ®çš„ç±»å‹ï¼Œåƒ C è¯­è¨€ä¸­çš„ struct æˆ–è€… Java ä¸­çš„ class ä¸€æ ·ï¼Œåœ¨å…¶ä¸­å¯ä»¥å®šä¹‰å±æ€§ï¼Œæ¯ç§å±æ€§å…·æœ‰ç›¸åº”çš„ç±»å‹ã€‚</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="17-å¦‚ä½•å£°æ˜-schema">17. å¦‚ä½•å£°æ˜ schemaï¼Ÿ<a class="hash-link" href="#17-å¦‚ä½•å£°æ˜-schema" title="Direct link to heading">â€‹</a></h2><p>KCL ä¸­ä½¿ç”¨ schema å…³é”®å­—å¯ä»¥å®šä¹‰ä¸€ä¸ªç»“æ„ï¼Œåœ¨å…¶ä¸­å¯ä»¥ç”³æ˜ schema çš„å„ä¸ªå±æ€§</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># ä¸€ä¸ªPersonç»“æ„ï¼Œå…¶ä¸­å…·æœ‰å±æ€§å­—ç¬¦ä¸²ç±»å‹çš„firstName, å­—ç¬¦ä¸²ç±»å‹çš„lastName, æ•´æ•°ç±»å‹çš„age</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">schema Person</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    firstName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    lastName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># ageå±æ€§çš„é»˜è®¤å€¼ä¸º0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    age</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>ä¸€ä¸ªå¤æ‚ä¾‹å­:</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">schema Deployment</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    cpu</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    memory</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    service</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    replica</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    command</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">:</span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œ<code>cpu</code> å’Œ <code>memory</code> è¢«å®šä¹‰ä¸ºæ•´æ•° int ç±»å‹ï¼›<code>name</code>ï¼Œ<code>image</code> å’Œ <code>service</code> æ˜¯å­—ç¬¦ä¸² str ç±»å‹; <code>command</code> æ˜¯å­—ç¬¦ä¸²ç±»å‹çš„åˆ—è¡¨; labels æ˜¯å­—å…¸ç±»å‹ï¼Œå…¶é”®ç±»å‹å’Œå€¼ç±»å‹å‡ä¸ºå­—ç¬¦ä¸²ã€‚</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="18-å¦‚ä½•ä¸º-schema-å±æ€§æ·»åŠ -ä¸å¯å˜å¿…é€‰-çº¦æŸ">18. å¦‚ä½•ä¸º schema å±æ€§æ·»åŠ  &quot;ä¸å¯å˜&quot;ã€&quot;å¿…é€‰&quot; çº¦æŸï¼Ÿ<a class="hash-link" href="#18-å¦‚ä½•ä¸º-schema-å±æ€§æ·»åŠ -ä¸å¯å˜å¿…é€‰-çº¦æŸ" title="Direct link to heading">â€‹</a></h2><p>KCL ä¸­ä½¿ç”¨ <code>?</code> è¿ç®—ç¬¦å®šä¹‰ä¸€ä¸ª schema çš„&quot;å¯é€‰&quot;çº¦æŸï¼Œschema å±æ€§é»˜è®¤éƒ½æ˜¯&quot;å¿…é€‰&quot;çš„</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># ä¸€ä¸ªPersonç»“æ„ï¼Œå…¶ä¸­å…·æœ‰å±æ€§å­—ç¬¦ä¸²ç±»å‹çš„firstName, å­—ç¬¦ä¸²ç±»å‹çš„lastName, æ•´æ•°ç±»å‹çš„age</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">schema Person</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    firstName?</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># firstNameæ˜¯ä¸€ä¸ªå¯é€‰å±æ€§ï¼Œå¯ä»¥èµ‹å€¼ä¸ºNone/Undefined</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    lastName?</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># ageæ˜¯ä¸€ä¸ªå¯é€‰å±æ€§ï¼Œå¯ä»¥èµ‹å€¼ä¸ºNone/Undefined</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># ageå±æ€§çš„é»˜è®¤å€¼ä¸º0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    age</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">18</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># ageæ˜¯ä¸€ä¸ªå¿…é€‰å±æ€§ï¼Œä¸èƒ½èµ‹å€¼ä¸ºNone/Undefinedï¼Œå¹¶ä¸”æ˜¯ä¸€ä¸ªä¸å¯å˜å±æ€§</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    age </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Error, ageæ˜¯ä¸€ä¸ªä¸å¯å˜çš„å±æ€§</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="19-å¦‚ä½•ä¸º-schema-ä¸­çš„å±æ€§ç¼–å†™æ ¡éªŒè§„åˆ™">19. å¦‚ä½•ä¸º schema ä¸­çš„å±æ€§ç¼–å†™æ ¡éªŒè§„åˆ™ï¼Ÿ<a class="hash-link" href="#19-å¦‚ä½•ä¸º-schema-ä¸­çš„å±æ€§ç¼–å†™æ ¡éªŒè§„åˆ™" title="Direct link to heading">â€‹</a></h2><p>åœ¨ schema å®šä¹‰å½“ä¸­å¯ä»¥ä½¿ç”¨ check å…³é”®å­—ç¼–å†™ schema å±æ€§çš„æ ¡éªŒè§„åˆ™, å¦‚ä¸‹æ‰€ç¤ºï¼Œcheck ä»£ç å—ä¸­çš„æ¯ä¸€è¡Œéƒ½å¯¹åº”ä¸€ä¸ªæ¡ä»¶è¡¨è¾¾å¼ï¼Œå½“æ»¡è¶³æ¡ä»¶æ—¶æ ¡éªŒæˆåŠŸï¼Œå½“ä¸æ»¡è¶³æ¡ä»¶æ—¶æ ¡éªŒå¤±è´¥, æ¡ä»¶è¡¨è¾¾å¼åå¯è·Ÿ <code>, &quot;check error message&quot;</code> è¡¨ç¤ºå½“æ ¡éªŒå¤±è´¥æ—¶éœ€è¦æ˜¾ç¤ºçš„ä¿¡æ¯</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> regex</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">schema Sample</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    foo</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Required, ä¸èƒ½ä¸ºNone/Undefined, ä¸”ç±»å‹å¿…é¡»ä¸ºstr</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    bar</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Required, ä¸èƒ½ä¸ºNone/Undefined, ä¸”ç±»å‹å¿…é¡»ä¸ºint</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fooList</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Required, ä¸èƒ½ä¸ºNone/Undefined, ä¸”ç±»å‹å¿…é¡»ä¸ºintåˆ—è¡¨</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    color</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Red&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Yellow&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Blue&quot;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Required, å­—é¢å€¼è”åˆç±»å‹ï¼Œä¸”å¿…é¡»ä¸º&quot;Red&quot;, &quot;Yellow&quot;, &quot;Blue&quot;ä¸­çš„ä¸€ä¸ªï¼Œæšä¸¾ä½œç”¨</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token builtin">id</span><span class="token plain">?</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Optionalï¼Œå¯ä»¥ç•™ç©ºï¼Œç±»å‹å¿…é¡»ä¸ºint</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    check</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        bar </span><span class="token operator" style="color:#393A34">&gt;=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># barå¿…é¡»å¤§äºç­‰äº0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        bar </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># barå¿…é¡»å°äº100</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token builtin">len</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">fooList</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># fooListä¸èƒ½ä¸ºNone/Undefinedï¼Œå¹¶ä¸”é•¿åº¦å¿…é¡»å¤§äº0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token builtin">len</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">fooList</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># fooListä¸èƒ½ä¸ºNone/Undefinedï¼Œå¹¶ä¸”é•¿åº¦å¿…é¡»å°äº100</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        regex</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">match</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">foo</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;^The.*Foo$&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># regex æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        bar </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># range, barèŒƒå›´åªèƒ½ä¸º1åˆ°99</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        bar </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># enum, baråªèƒ½å–2, 4, 6, 8</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        bar </span><span class="token operator" style="color:#393A34">%</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># barå¿…é¡»ä¸º2çš„å€æ•°</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token builtin">all</span><span class="token plain"> foo </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> fooList </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            foo </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># fooListä¸­çš„æ‰€æœ‰å…ƒç´ å¿…é¡»å¤§äº1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token builtin">any</span><span class="token plain"> foo </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> fooList </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            foo </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># fooListä¸­è‡³å°‘æœ‰ä¸€ä¸ªå…ƒç´ å¿…é¡»å¤§äº10</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token builtin">abs</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token builtin">id</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># check if è¡¨è¾¾å¼ï¼Œå½“ id ä¸ä¸ºç©ºæ—¶ï¼Œidçš„ç»å¯¹å€¼å¿…é¡»å¤§äº10</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>æ­¤å¤–ï¼Œä¸Šè¿° check å½“ä¸­æ¯”è¾ƒè¡¨è¾¾å¼è¿˜å¯ä»¥ç®€å†™ä¸º:</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;=</span><span class="token plain"> bar </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token builtin">len</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">fooList</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>ç»¼ä¸Šæ‰€è¿°ï¼ŒKCL Schema ä¸­æ”¯æŒçš„æ ¡éªŒç±»å‹ä¸º:</p><table><thead><tr><th>æ ¡éªŒç±»å‹</th><th>ä½¿ç”¨æ–¹æ³•</th></tr></thead><tbody><tr><td>èŒƒå›´æ ¡éªŒ</td><td>ä½¿ç”¨ <code>&lt;</code>, <code>&gt;</code> ç­‰æ¯”è¾ƒè¿ç®—ç¬¦</td></tr><tr><td>æ­£åˆ™æ ¡éªŒ</td><td>ä½¿ç”¨ <code>regex</code> ç³»ç»Ÿåº“ä¸­çš„ <code>match</code> ç­‰æ–¹æ³•</td></tr><tr><td>é•¿åº¦æ ¡éªŒ</td><td>ä½¿ç”¨ <code>len</code> å†…ç½®å‡½æ•°ï¼Œå¯ä»¥æ±‚ <code>list/dict/str</code> ç±»å‹çš„å˜é‡é•¿åº¦</td></tr><tr><td>æšä¸¾æ ¡éªŒ</td><td>ä½¿ç”¨å­—é¢å€¼è”åˆç±»å‹</td></tr><tr><td>éç©ºæ ¡éªŒ</td><td>ä½¿ç”¨ schema çš„å¯é€‰/å¿…é€‰å±æ€§</td></tr><tr><td>æ¡ä»¶æ ¡éªŒ</td><td>ä½¿ç”¨ check if æ¡ä»¶è¡¨è¾¾å¼</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_mojV" id="20-å¦‚ä½•ä¸º-schema-åŠå…¶å±æ€§æ·»åŠ æ–‡æ¡£æ³¨é‡Š">20. å¦‚ä½•ä¸º schema åŠå…¶å±æ€§æ·»åŠ æ–‡æ¡£æ³¨é‡Šï¼Ÿ<a class="hash-link" href="#20-å¦‚ä½•ä¸º-schema-åŠå…¶å±æ€§æ·»åŠ æ–‡æ¡£æ³¨é‡Š" title="Direct link to heading">â€‹</a></h2><p>ä¸€ä¸ªå®Œæ•´çš„ schema å±æ€§æ³¨é‡Šä½¿ç”¨ä¸‰å¼•å·å­—ç¬¦ä¸²è¡¨ç¤ºï¼Œå…¶ä¸­çš„ç»“æ„å¦‚ä¸‹æ‰€ç¤º:</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">schema Person</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;The schema person definition</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="display:inline-block;color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    Attributes</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    ----------</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    name : str</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        The name of the person</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    age : int</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        The age of the person</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="display:inline-block;color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    See Also</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    --------</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    Son:</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        Sub-schema Son of the schema Person.</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="display:inline-block;color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    Examples</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    --------</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    person = Person {</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        name = &quot;Alice&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        age = 18</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    &quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    age</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">person </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Person </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Alice&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    age </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">18</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="21-å¦‚ä½•åŸºäº-schema-ç¼–å†™é…ç½®å¤šä¸ªé…ç½®ä¹‹é—´å¦‚ä½•å¤ç”¨å…¬å…±çš„é…ç½®">21. å¦‚ä½•åŸºäº schema ç¼–å†™é…ç½®ï¼Ÿå¤šä¸ªé…ç½®ä¹‹é—´å¦‚ä½•å¤ç”¨å…¬å…±çš„é…ç½®ï¼Ÿ<a class="hash-link" href="#21-å¦‚ä½•åŸºäº-schema-ç¼–å†™é…ç½®å¤šä¸ªé…ç½®ä¹‹é—´å¦‚ä½•å¤ç”¨å…¬å…±çš„é…ç½®" title="Direct link to heading">â€‹</a></h2><p>åœ¨ schema å®ä¾‹åŒ–çš„è¿‡ç¨‹ä¸­å¯ä»¥ä½¿ç”¨è§£åŒ…è¿ç®—ç¬¦ <code>**</code> å¯¹å…¬å…±çš„é…ç½®è¿›è¡Œå±•å¼€</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">schema Boy</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    age</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    hc</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">schema Girl</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    age</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    hc</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">config </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    age </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">18</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    hc </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">boy </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Boy </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">**</span><span class="token plain">config</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Bob&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">girl </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Girl </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">**</span><span class="token plain">config</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Alice&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>è¾“å‡º YAML ä¸º:</p><div class="codeBlockContainer_I0IT language-yaml theme-code-block"><div class="codeBlockContent_wNvx yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">config</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">age</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">18</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">hc</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">boy</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Bob</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">age</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">18</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">hc</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">girl</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Alice</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">age</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">18</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">hc</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="22-åŸºäº-schema-ç¼–å†™é…ç½®æ—¶å¦‚ä½•è¦†ç›–-schema-å±æ€§çš„é»˜è®¤å€¼">22. åŸºäº schema ç¼–å†™é…ç½®æ—¶å¦‚ä½•è¦†ç›– schema å±æ€§çš„é»˜è®¤å€¼ï¼Ÿ<a class="hash-link" href="#22-åŸºäº-schema-ç¼–å†™é…ç½®æ—¶å¦‚ä½•è¦†ç›–-schema-å±æ€§çš„é»˜è®¤å€¼" title="Direct link to heading">â€‹</a></h2><p>åœ¨å®šä¹‰ schema åï¼Œå¯ä»¥ä½¿ç”¨ schema åç§°å®ä¾‹åŒ–ç›¸åº”çš„é…ç½®ï¼Œä½¿ç”¨ <code>:</code> è¿ç®—ç¬¦å¯¹ schema é»˜è®¤å€¼è¿›è¡Œ union, ä½¿ç”¨ <code>=</code> å¯¹ schema é»˜è®¤å€¼è¿›è¡Œè¦†ç›–ã€‚å¯¹äº int/float/bool/str ç±»å‹çš„ schema å±æ€§ï¼Œunion å’Œè¦†ç›–çš„æ•ˆæœç›¸åŒ; å¯¹äº list/dict/schema ç±»å‹çš„ schema å±æ€§ï¼Œunion å’Œè¦†ç›–çš„æ•ˆæœä¸åŒ;</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">schema Meta</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">:</span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&quot;key1&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;value1&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    annotations</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">:</span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&quot;key1&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;value1&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">meta </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Meta </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&quot;key2&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;value2&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    annotations </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&quot;key2&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;value2&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>è¾“å‡º YAML ä¸º:</p><div class="codeBlockContainer_I0IT language-yaml theme-code-block"><div class="codeBlockContent_wNvx yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">meta</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">key1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> value1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">key2</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> value2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">annotations</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">key2</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> value2</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="23-å¦‚ä½•é€šè¿‡ç»§æ‰¿æ¥å¤ç”¨-schema-å®šä¹‰">23. å¦‚ä½•é€šè¿‡ç»§æ‰¿æ¥å¤ç”¨ schema å®šä¹‰ï¼Ÿ<a class="hash-link" href="#23-å¦‚ä½•é€šè¿‡ç»§æ‰¿æ¥å¤ç”¨-schema-å®šä¹‰" title="Direct link to heading">â€‹</a></h2><p>å¯ä»¥åœ¨ schema å®šä¹‰å¤„å£°æ˜ schema éœ€è¦ç»§æ‰¿çš„ schema åç§°:</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># A person has a first name, a last name and an age.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">schema Person</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    firstName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    lastName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># The default value of age is 0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    age</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># An employee **is** a person, and has some additional information.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">schema Employee</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Person</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    bankCard</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    nationality</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">employee </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Employee </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    firstName </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Bob&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    lastName </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Green&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    age </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">18</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    bankCard </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">123456</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    nationality </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;China&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>è¾“å‡º YAML ä¸º:</p><div class="codeBlockContainer_I0IT language-yaml theme-code-block"><div class="codeBlockContent_wNvx yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">employee</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">firstName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Bob</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">lastName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Green</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">age</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">18</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">bankCard</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">123456</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">nationality</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> China</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>æ³¨æ„: KCL åªå…è®¸ schema å•ç»§æ‰¿</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="24-å¦‚ä½•é€šè¿‡ç»„åˆå¤ç”¨-schema-é€»è¾‘">24. å¦‚ä½•é€šè¿‡ç»„åˆå¤ç”¨ schema é€»è¾‘ï¼Ÿ<a class="hash-link" href="#24-å¦‚ä½•é€šè¿‡ç»„åˆå¤ç”¨-schema-é€»è¾‘" title="Direct link to heading">â€‹</a></h2><p>å¯ä»¥ä½¿ç”¨ KCL schema mixin å¤ç”¨ schema é€»è¾‘ï¼Œmixin ä¸€èˆ¬è¢«ç”¨äº schema å†…éƒ¨å±æ€§çš„åˆ†ç¦»æ•°æ®ï¼Œå’Œæ•°æ®æ˜ å°„ç­‰åŠŸèƒ½ï¼Œå¯ä»¥ä½¿ KCL ä»£ç æ›´å…·æ¨¡å—åŒ–å’Œå£°æ˜æ€§ã€‚æ³¨æ„ä¸åŒçš„ mixin ä¹‹é—´çš„æ··å…¥å±æ€§ä¸å»ºè®®å®šä¹‰ä¾èµ–å…³ç³»ï¼Œä¼šä½¿å¾— mixin ä½¿ç”¨æ–¹å¼å¤æ‚ï¼Œä¸€èˆ¬ä¸€ä¸ª mixin ä¸­ä½œä¸è¶…è¿‡ä¸‰ä¸ªå±æ€§æ··å…¥å³å¯ã€‚</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">schema Person</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    mixin </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">FullNameMixin</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> UpperMixin</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    firstName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    lastName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fullName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    upper</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">schema FullNameMixin</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fullName </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;{} {}&quot;</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">format</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">firstName</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> lastName</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">schema UpperMixin</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    upper </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> fullName</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">upper</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">person </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Person </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    firstName </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;John&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    lastName </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Doe&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>è¾“å‡º YAML ä¸º:</p><div class="codeBlockContainer_I0IT language-yaml theme-code-block"><div class="codeBlockContent_wNvx yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">person</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">firstName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> John</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">lastName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Doe</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">fullName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> John Doe</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">upper</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> JOHN DOE</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="25-å¦‚ä½•å¯¼å…¥å…¶ä»–-kcl-æ–‡ä»¶">25. å¦‚ä½•å¯¼å…¥å…¶ä»– KCL æ–‡ä»¶ï¼Ÿ<a class="hash-link" href="#25-å¦‚ä½•å¯¼å…¥å…¶ä»–-kcl-æ–‡ä»¶" title="Direct link to heading">â€‹</a></h2><p>é€šè¿‡ import å…³é”®å­—å¯ä»¥å¯¼å…¥å…¶ä»– KCL æ–‡ä»¶ï¼ŒKCL é…ç½®æ–‡ä»¶è¢«ç»„ç»‡ä¸ºæ¨¡å—ã€‚å•ä¸ª KCL æ–‡ä»¶è¢«è§†ä¸ºä¸€ä¸ªæ¨¡å—ï¼Œç›®å½•è¢«è§†ä¸ºä¸€ä¸ªåŒ…ï¼Œä½œä¸ºä¸€ä¸ªç‰¹æ®Šçš„æ¨¡å—ã€‚import å…³é”®å­—æ”¯æŒç›¸å¯¹è·¯å¾„å¯¼å…¥å’Œç»å¯¹è·¯å¾„å¯¼å…¥ä¸¤ç§æ–¹å¼</p><p>æ¯”å¦‚å¯¹äºå¦‚ä¸‹ç›®å½•ç»“æ„:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">. </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â””â”€â”€ root</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    â”œâ”€â”€ kcl.mod</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    â”œâ”€â”€ model</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    â”‚   â”œâ”€â”€ model1.k</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    |   â”œâ”€â”€ model2.k</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    â”‚   â””â”€â”€ main.k</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    â”œâ”€â”€ service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    â”‚   â”‚â”€â”€ service1.k</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    â”‚   â””â”€â”€ service2.k</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    â””â”€â”€ mixin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        â””â”€â”€ mixin1.k</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>å¯¹äº <code>main.k</code>, ç›¸å¯¹è·¯å¾„å¯¼å…¥å’Œç»å¯¹è·¯å¾„å¯¼å…¥åˆ†åˆ«å¯ä»¥è¡¨ç¤ºä¸º:</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> service  </span><span class="token comment" style="color:#999988;font-style:italic"># ç»å¯¹è·¯å¾„å¯¼å…¥, æ ¹ç›®å½•ä¸ºkcl.modæ‰€åœ¨çš„è·¯å¾„</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> mixin  </span><span class="token comment" style="color:#999988;font-style:italic"># ç»å¯¹è·¯å¾„å¯¼å…¥, æ ¹ç›®å½•ä¸ºkcl.modæ‰€åœ¨çš„è·¯å¾„</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">model1  </span><span class="token comment" style="color:#999988;font-style:italic"># ç›¸å¯¹è·¯å¾„å¯¼å…¥, å½“å‰ç›®å½•æ¨¡å—</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">service  </span><span class="token comment" style="color:#999988;font-style:italic"># ç›¸å¯¹è·¯å¾„å¯¼å…¥, çˆ¶ç›®å½•</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">root  </span><span class="token comment" style="color:#999988;font-style:italic"># ç›¸å¯¹è·¯å¾„å¯¼å…¥, çˆ¶ç›®å½•çš„çˆ¶ç›®å½•</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>æ³¨æ„ï¼Œå¯¹äº KCL çš„å…¥å£æ–‡ä»¶ <code>main.k</code>, å…¶ä¸èƒ½å¯¼å…¥è‡ªèº«æ‰€åœ¨çš„æ–‡ä»¶å¤¹ï¼Œå¦åˆ™ä¼šå‘ç”Ÿå¾ªç¯å¯¼å…¥é”™è¯¯:</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> model  </span><span class="token comment" style="color:#999988;font-style:italic"># Error: recursively loading</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="26-ä»€ä¹ˆæƒ…å†µä¸‹å¯ä»¥çœç•¥-import-">26. ä»€ä¹ˆæƒ…å†µä¸‹å¯ä»¥çœç•¥ import ï¼Ÿ<a class="hash-link" href="#26-ä»€ä¹ˆæƒ…å†µä¸‹å¯ä»¥çœç•¥-import-" title="Direct link to heading">â€‹</a></h2><p>é™¤äº† main åŒ…å½“ä¸­çš„åŒä¸€æ–‡ä»¶å¤¹ä¸‹çš„ KCL å¯ä»¥ç›¸äº’å¼•ç”¨è€Œä¸éœ€é€šè¿‡ import ç›¸äº’å¼•ç”¨ï¼Œæ¯”å¦‚å¯¹äºå¦‚ä¸‹ç›®å½•ç»“æ„:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">. </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â””â”€â”€ root</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    â”œâ”€â”€ kcl.mod</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    â”œâ”€â”€ model</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    â”‚   â”œâ”€â”€ model1.k</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    |   â”œâ”€â”€ model2.k</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    â”‚   â””â”€â”€ main.k</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    â”œâ”€â”€ service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    â”‚   â”‚â”€â”€ service1.k</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    â”‚   â””â”€â”€ service2.k</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    â””â”€â”€ mixin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        â””â”€â”€ mixin1.k</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>å½“ main.k ä½œä¸º KCL å‘½ä»¤è¡Œå…¥å£æ–‡ä»¶æ—¶, model æ–‡ä»¶å¤¹ä¸­çš„ main.k, model1.k å’Œ model2.k ä¸­çš„å˜é‡ä¸èƒ½ç›¸äº’å¼•ç”¨ï¼Œéœ€è¦é€šè¿‡ import å¯¼å…¥ï¼Œä½†æ˜¯ service æ–‡ä»¶å¤¹ä¸­çš„ service1.k å’Œ service2.k å½“ä¸­çš„å˜é‡å¯ä»¥äº’ç›¸å¼•ç”¨ï¼Œå¿½ç•¥ import</p><p>service1.k</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">schema BaseService</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    namespace</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>service2.k</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">schema Service</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">BaseService</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token builtin">id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="27-æœ‰ä¸€è¡Œä»£ç å¤ªé•¿äº†å¦‚ä½•åœ¨è¯­æ³•æ­£ç¡®çš„æƒ…å†µä¸‹ä¼˜é›…åœ°æ¢è¡Œ">27. æœ‰ä¸€è¡Œä»£ç å¤ªé•¿äº†ï¼Œå¦‚ä½•åœ¨è¯­æ³•æ­£ç¡®çš„æƒ…å†µä¸‹ä¼˜é›…åœ°æ¢è¡Œï¼Ÿ<a class="hash-link" href="#27-æœ‰ä¸€è¡Œä»£ç å¤ªé•¿äº†å¦‚ä½•åœ¨è¯­æ³•æ­£ç¡®çš„æƒ…å†µä¸‹ä¼˜é›…åœ°æ¢è¡Œ" title="Direct link to heading">â€‹</a></h2><p>åœ¨ KCL ä¸­å¯ä»¥ä½¿ç”¨ç»­è¡Œç¬¦ <code>\</code> è¿›è¡Œæ¢è¡Œ, å¹¶ä¸”åœ¨å­—ç¬¦ä¸²ä¸­ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>\</code> è¡¨ç¤ºç»­è¡Œ</p><p>é•¿å­—ç¬¦ä¸²è¿æ¥ç»­è¡Œä¸¾ä¾‹:</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">longString </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Too long expression &quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             </span><span class="token string" style="color:#e3116c">&quot;Too long expression &quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             </span><span class="token string" style="color:#e3116c">&quot;Too long expression &quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>æ¨å¯¼è¡¨è¾¾å¼ç»­è¡Œä¸¾ä¾‹:</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dataNew </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    d </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> d </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> data \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> d </span><span class="token operator" style="color:#393A34">%</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>if è¡¨è¾¾å¼ç»­è¡Œä¸¾ä¾‹:</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">condition </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">data1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> condition \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">data2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> condition \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>ä¸‰å¼•å·å­—ç¬¦ä¸²å†…éƒ¨ç»­è¡Œä¸¾ä¾‹:</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">longString </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;\</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">The first line\</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">The continue second line\</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>æ³¨æ„: ä½¿ç”¨ç»­è¡Œç¬¦ <code>\</code> çš„åŒæ—¶ç¼©è¿›çš„ä¿æŒ, å¦‚ä¸‹æ‰€ç¤º:</p><p>é”™è¯¯ç”¨ä¾‹:</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">data1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"> \  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Error, éœ€è¦ä¿æŒå³æ–¹æ‹¬å·]çš„ç¼©è¿›</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">data2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Error, éœ€è¦æ•°å­—1å’Œ3çš„ç¼©è¿›ç»Ÿä¸€</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>æ­£ç¡®ç”¨ä¾‹:</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">data1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Right, å¸¦ç¼©è¿›çš„åˆ—è¡¨å®šä¹‰</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">data2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token plain">  \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Right, ä½¿ç”¨ç»­è¡Œç¬¦çš„åˆ—è¡¨å®šä¹‰, å®é™…æ•ˆæœæ˜¯å•è¡Œåˆ—è¡¨</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">data3 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token plain">  \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Right, ä½¿ç”¨ç»­è¡Œç¬¦çš„åˆ—è¡¨å®šä¹‰, æ— éœ€ä¿æŒç¼©è¿›, å®é™…æ•ˆæœæ˜¯å•è¡Œåˆ—è¡¨</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="28---è¿™äº›ç¬¦å·æ˜¯ä»€ä¹ˆæ„æ€">28. *<em>, </em> è¿™äº›ç¬¦å·æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ<a class="hash-link" href="#28---è¿™äº›ç¬¦å·æ˜¯ä»€ä¹ˆæ„æ€" title="Direct link to heading">â€‹</a></h2><ul><li><code>**</code>, <code>*</code> å‡ºç°åœ¨ dict/list å¤–éƒ¨æ—¶åˆ†åˆ«è¡¨ç¤ºä¹˜æ–¹è¿ç®—ç¬¦å’Œä¹˜æ³•è¿ç®—ç¬¦</li></ul><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">data1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">**</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># 2çš„4æ¬¡æ–¹ç­‰äº16</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">data2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># 2ä¹˜ä»¥3ç­‰äº6</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><ul><li><code>**</code>, <code>*</code> å‡ºç°åœ¨ dict/list å†…éƒ¨æ—¶è¡¨ç¤ºè§£åŒ…è¿ç®—ç¬¦ï¼Œç»å¸¸ç”¨äº list/dict çš„è§£åŒ…å’Œåˆå¹¶, ä¸ Python å½“ä¸­çš„è§£åŒ…è¿ç®—ç¬¦ç”¨æ³•ç›¸åŒ</li></ul><p>dict çš„è§£åŒ…:</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&quot;key1&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;value1&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dataUnpack </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token operator" style="color:#393A34">**</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;key2&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;value2&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># å°†dataè§£åŒ…åˆå¹¶å…¥dataUnpackä¸­, {&quot;key1&quot;: &quot;value1&quot;, &quot;key2&quot;: &quot;value2&quot;}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>list çš„è§£åŒ…:</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dataUnpack </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token operator" style="color:#393A34">*</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># å°†dataè§£åŒ…åˆå¹¶å…¥dataUnpackä¸­, [1, 2, 3, 4, 5, 6]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="29-å¦‚ä½•å–-listdictschema-çš„å­å…ƒç´ ">29. å¦‚ä½•å– list/dict/schema çš„å­å…ƒç´ <a class="hash-link" href="#29-å¦‚ä½•å–-listdictschema-çš„å­å…ƒç´ " title="Direct link to heading">â€‹</a></h2><p>åœ¨ KCL ä¸­å¯ä»¥ä½¿ç”¨ select è¡¨è¾¾å¼æˆ–è€… subscript è¡¨è¾¾å¼å– list/dict/schema çš„å­å…ƒç´ </p><ul><li>å¯¹äº list ç±»å‹ï¼Œå¯ä»¥ä½¿ç”¨ <code>[]</code> å–åˆ—è¡¨ä¸­çš„æŸä¸€ä¸ªå…ƒç´ æˆ–è€…æŸä¸€äº›å…ƒç´ </li></ul><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># å®šä¹‰ä¸€ä¸ªæ•´æ•°ç±»å‹çš„æ•°ç»„</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">theFirstItem </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># å–æ•°ç»„ä¸­ç´¢å¼•ä¸º0çš„å…ƒç´ ï¼Œå³ç¬¬ä¸€ä¸ªå…ƒç´  1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">theSecondItem </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># å–æ•°ç»„ä¸­ç´¢å¼•ä¸º1çš„å…ƒç´ ï¼Œå³ç¬¬ä¸€ä¸ªå…ƒç´  2</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>æ³¨æ„ï¼šç´¢å¼•çš„å–å€¼ä¸èƒ½è¶…å‡ºåˆ—è¡¨çš„é•¿åº¦ï¼Œå¦åˆ™ä¼šå‘ç”Ÿé”™è¯¯ï¼Œå¯ä»¥ä½¿ç”¨ <code>len</code> å‡½æ•°è·å¾—æ•°ç»„çš„é•¿åº¦</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dataLength </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">len</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># æ•°ç»„é•¿åº¦ä¸º3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">item </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># å‘ç”Ÿæ•°ç»„ç´¢å¼•è¶Šç•Œé”™è¯¯</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>æ­¤å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨è´Ÿæ•°ç´¢å¼•å€’åºè·å¾—åˆ—è¡¨ä¸­çš„å…ƒç´ </p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">item1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">[</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># å–æ•°ç»„ä¸­ç´¢å¼•ä¸º-1çš„å…ƒç´ ï¼Œå³æœ€åä¸€ä¸ªå…ƒç´  3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">item2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">[</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># å–æ•°ç»„ä¸­ç´¢å¼•ä¸º-2çš„å…ƒç´ ï¼Œå³å€’æ•°ç¬¬äºŒä¸ªå…ƒç´  2</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>ç»¼ä¸Šï¼Œåˆ—è¡¨ç´¢å¼•çš„å–å€¼èŒƒå›´ä¸º <code>[-len, len - 1]</code></p><p>å½“æƒ³è¦å–å¾—åˆ—è¡¨çš„ä¸€éƒ¨åˆ†æ—¶ï¼Œå¯ä»¥åœ¨ <code>[]</code> ä¸­ä½¿ç”¨åˆ‡ç‰‡è¡¨è¾¾å¼ï¼Œå…¶å…·ä½“è¯­æ³•ä¸º <code>[&lt;åˆ—è¡¨å¼€å§‹ç´¢å¼•&gt;:&lt;åˆ—è¡¨ç»ˆæ­¢ç´¢å¼•&gt;:&lt;åˆ—è¡¨éå†æ­¥é•¿&gt;]</code>ï¼Œæ³¨æ„ç´¢å¼•å¼€å§‹ç»ˆæ­¢çš„å–å€¼åŒºé—´ä¸º <code>å·¦é—­å³å¼€[&lt;åˆ—è¡¨å¼€å§‹ç´¢å¼•&gt;, &lt;åˆ—è¡¨ç»ˆæ­¢ç´¢å¼•&gt;)</code>ï¼Œæ³¨æ„ä¸‰ä¸ªå‚æ•°å‡å¯çœç•¥ä¸å†™</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dataSlice0 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># å–åˆ—è¡¨ä¸­ç´¢å¼•å¼€å§‹ä¸º 1, ç»ˆæ­¢ç´¢å¼•ä¸º 2 çš„å…ƒç´ é›†åˆ [2]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dataSlice1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># å–åˆ—è¡¨ä¸­ç´¢å¼•å¼€å§‹ä¸º 1, ç»ˆæ­¢ç´¢å¼•ä¸º 3 çš„å…ƒç´ é›†åˆ [2, 3]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dataSlice2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic"># å–åˆ—è¡¨ä¸­ç´¢å¼•å¼€å§‹ä¸º 1, ç»ˆæ­¢ç´¢å¼•ä¸º æœ€åä¸€ä¸ªç´¢å¼• çš„å…ƒç´ é›†åˆ [2, 3, 4, 5]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dataSlice3 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic"># å–åˆ—è¡¨ä¸­ç´¢å¼•å¼€å§‹ä¸º ç¬¬ä¸€ä¸ªç´¢å¼•, ç»ˆæ­¢ç´¢å¼•ä¸º 3 çš„å…ƒç´ é›†åˆ [1, 2, 3]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dataSlice4 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># å–åˆ—è¡¨ä¸­ç´¢å¼•å¼€å§‹ä¸º ç¬¬ä¸€ä¸ªç´¢å¼•, ç»ˆæ­¢ç´¢å¼•ä¸º æœ€åä¸€ä¸ªç´¢å¼• çš„å…ƒç´ é›†åˆ(æ­¥é•¿ä¸º2) [1, 3, 5]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dataSlice5 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">:</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># åè½¬ä¸€ä¸ªåˆ—è¡¨ï¼Œ[5, 4, 3, 2, 1]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dataSlice6 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># å½“å¼€å§‹ï¼Œç»ˆæ­¢ï¼Œæ­¥é•¿ä¸‰ä¸ªå‚æ•°ç»„åˆä¸æ»¡è¶³æ¡ä»¶æ—¶è¿”å›ç©ºåˆ—è¡¨ []</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><ul><li>å¯¹äº dict/schema ç±»å‹ï¼Œå¯ä»¥ä½¿ç”¨ <code>[]</code> å’Œ <code>.</code> ä¸¤ç§æ–¹å¼å– dict/schema ä¸­çš„å­å…ƒç´ </li></ul><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">key1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;value1&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> key2</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;value2&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">data1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;key1&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># &quot;value1&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">data2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">key1  </span><span class="token comment" style="color:#999988;font-style:italic"># &quot;value1&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">data3 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;key2&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># &quot;value2&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">data4 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">key2  </span><span class="token comment" style="color:#999988;font-style:italic"># &quot;value2&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">schema Person</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Alice&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    age</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">18</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">person </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Person </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">name1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> person</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">name  </span><span class="token comment" style="color:#999988;font-style:italic"># &quot;Alice&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">name2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> person</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;name&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># &quot;Alice&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">age1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> person</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">age  </span><span class="token comment" style="color:#999988;font-style:italic"># 18</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">age2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> person</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">age  </span><span class="token comment" style="color:#999988;font-style:italic"># 18</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>å½“é”®å€¼åœ¨ dict ä¸­ä¸å­˜åœ¨æ—¶ï¼Œè¿”å›æœªå®šä¹‰å€¼ <code>Undefined</code></p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">key1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;value1&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> key2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;value2&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">data1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;not_exist_key&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Undefined</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">data2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">not_exist_key  </span><span class="token comment" style="color:#999988;font-style:italic"># Undefined</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>å¯ä»¥ä½¿ç”¨ <code>in</code> å…³é”®å­—åˆ¤æ–­æŸä¸ªé”®å€¼æ˜¯å¦åœ¨ dict/schema ä¸­å­˜åœ¨</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">key1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;value1&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> key2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;value2&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">exist1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;key1&quot;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> data  </span><span class="token comment" style="color:#999988;font-style:italic"># True</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">exist2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;not_exist_key&quot;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> data  </span><span class="token comment" style="color:#999988;font-style:italic"># False</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>å½“é”®å€¼ä¸­å­˜åœ¨ <code>.</code> æ—¶æˆ–è€…éœ€è¦è¿è¡Œæ—¶å–ä¸€ä¸ªé”®å€¼å˜é‡å¯¹åº”çš„å€¼æ—¶ï¼Œåªèƒ½ä½¿ç”¨ <code>[]</code> æ–¹å¼ï¼Œå¦‚æ— ç‰¹æ®Šæƒ…å†µï¼Œä½¿ç”¨ <code>.</code> å³å¯:</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;key1&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">key1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;value1&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> key2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;value2&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;contains.dot&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;value3&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">data1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># &quot;value1&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">data2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;contains.dot&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># &quot;value3&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># æ³¨æ„è¿™æ ·å­æ˜¯ä¸å¯¹çš„ data3 = data.contains.dot</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>æ³¨æ„ï¼šä¸Šè¿°å–å­å…ƒç´ çš„è¿ç®—ç¬¦ä¸èƒ½å¯¹é list/dict/schema é›†åˆç±»å‹çš„å€¼è¿›è¡Œæ“ä½œï¼Œæ¯”å¦‚æ•´æ•°ï¼Œç©ºå€¼ç­‰ã€‚</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">data1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># error</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">data1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># error</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>åœ¨å–é›†åˆç±»å‹çš„å­å…ƒç´ æ—¶å¾€å¾€è¦è¿›è¡Œéç©ºæˆ–è€…é•¿åº¦åˆ¤æ–­ï¼š</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">item </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> data </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>å¯ä»¥ä½¿ç”¨éç©ºåˆ¤æ–­ç¬¦ <code>?</code> æ·»åŠ åœ¨ <code>[]</code>, <code>.</code> çš„å‰é¢è¡¨ç¤ºè¿›è¡Œ if éç©ºåˆ¤æ–­ï¼Œå½“ä¸æ»¡è¶³æ¡ä»¶æ—¶è¿”å› Noneï¼Œæ¯”å¦‚ä¸Šè¿°ä»£ç å¯ä»¥ç®€åŒ–ä¸º:</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">item1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> data?</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># å½“dataä¸ºç©ºæ—¶ï¼Œè¿”å›ç©ºå€¼ None</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">item2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> data?</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">or</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># å½“dataä¸ºç©ºæ—¶ï¼Œè¿”å›ç©ºå€¼ None, å¦‚æœä¸æƒ³è¿”å› None, è¿˜å¯ä¸ or è¿ç®—ç¬¦è¿ç”¨è¿”å›å…¶ä»–é»˜è®¤å€¼</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>ä½¿ç”¨ <code>?</code> å¯ä»¥è¿›è¡Œé€’å½’è°ƒç”¨, é¿å…å¤æ‚ç¹ççš„éç©ºåˆ¤æ–­</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">key1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">key2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">key3 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">item </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> data?</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">key1?</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">key2?</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">key3?</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="30-å¦‚ä½•åœ¨-kcl-ä»£ç ä¸­åˆ¤æ–­å˜é‡çš„ç±»å‹">30. å¦‚ä½•åœ¨ KCL ä»£ç ä¸­åˆ¤æ–­å˜é‡çš„ç±»å‹<a class="hash-link" href="#30-å¦‚ä½•åœ¨-kcl-ä»£ç ä¸­åˆ¤æ–­å˜é‡çš„ç±»å‹" title="Direct link to heading">â€‹</a></h2><p>KCL typeof built-in å‡½æ•°å¯ä»¥åœ¨è¯¥å‡½æ•°æ‰§è¡Œæ—¶ç«‹å³è¿”å›ä¸€ä¸ªå˜é‡çš„ç±»å‹(å­—ç¬¦ä¸²è¡¨ç¤º)ç”¨äºç±»å‹æ–­è¨€</p><p>ç”¨æ³•ä¸¾ä¾‹:</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> sub </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> pkg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_a </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">t1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> typeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">_a</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">t2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> typeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;abc&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">schema Person</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name?</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">any</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_x1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Person</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">t3 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> typeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">_x1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_x2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> pkg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Person</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">t4 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> typeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">_x2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">t5 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> typeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">_x2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> full_name</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">t6 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> typeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">_x1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> full_name</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># è¾“å‡º</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># t1: int</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># t2: str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># t3: Person</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># t4: Person</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># t5: sub.Person</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># t6: __main__.Person</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="31-å…³é”®å­—å’Œ-kcl-å˜é‡åå†²çªäº†å¯ä»¥æ€ä¹ˆè§£å†³">31. å…³é”®å­—å’Œ KCL å˜é‡åå†²çªäº†å¯ä»¥æ€ä¹ˆè§£å†³?<a class="hash-link" href="#31-å…³é”®å­—å’Œ-kcl-å˜é‡åå†²çªäº†å¯ä»¥æ€ä¹ˆè§£å†³" title="Direct link to heading">â€‹</a></h2><p>å¯¹äºä¸å…³é”®å­—å†²çªçš„æ ‡è¯†ç¬¦ï¼Œå¯ä»¥åœ¨æ ‡è¯†ç¬¦å‰æ·»åŠ  <code>$</code> å‰ç¼€ç”¨äºå®šä¹‰ä¸€ä¸ªå…³é”®å­—æ ‡è¯†ç¬¦ï¼Œæ¯”å¦‚å¦‚ä¸‹ä»£ç ä¸­ä½¿ç”¨äº† <code>if</code>, <code>else</code> ç­‰å…³é”®å­—ä½œä¸ºæ ‡è¯†ç¬¦å¹¶ä¸”å¯ä»¥å¾—åˆ°ç›¸åº”çš„ YAML è¾“å‡º</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">$</span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$</span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;s&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">schema Data</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $</span><span class="token builtin">filter</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;filter&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Data </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>è¾“å‡º YAMLï¼š</p><div class="codeBlockContainer_I0IT language-yaml theme-code-block"><div class="codeBlockContent_wNvx yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">data</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">filter</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> filter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">if</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">else</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> s</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>æ³¨æ„ï¼šåœ¨éå…³é”®å­—æ ‡è¯†ç¬¦å‰æ·»åŠ  <code>$</code> å‰ç¼€çš„æ•ˆæœä¸ä¸æ·»åŠ ç›¸åŒ</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">_a </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$_a </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># ç­‰æ•ˆäº `_a = 2`</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="32-kcl-çš„å†…ç½®ç±»å‹æ˜¯-kcl-çš„å…³é”®å­—å—æ˜¯å¦å¯ç”¨äºå˜é‡çš„å®šä¹‰">32. KCL çš„å†…ç½®ç±»å‹æ˜¯ KCL çš„å…³é”®å­—å—ï¼Ÿæ˜¯å¦å¯ç”¨äºå˜é‡çš„å®šä¹‰<a class="hash-link" href="#32-kcl-çš„å†…ç½®ç±»å‹æ˜¯-kcl-çš„å…³é”®å­—å—æ˜¯å¦å¯ç”¨äºå˜é‡çš„å®šä¹‰" title="Direct link to heading">â€‹</a></h2><p>KCL çš„å†…ç½®ç±»å‹åŒ…æ‹¬ <code>int</code>, <code>float</code>, <code>bool</code> å’Œ <code>str</code> å››ç§ç±»å‹ï¼Œå®ƒä»¬ä¸æ˜¯ KCL çš„å…³é”®å­—ï¼Œå¯ç”¨äºå˜é‡çš„å®šä¹‰ï¼Œæ¯”å¦‚å¦‚ä¸‹ä»£ç ï¼š</p><div class="codeBlockContainer_I0IT language-py theme-code-block"><div class="codeBlockContent_wNvx py"><pre tabindex="0" class="prism-code language-py codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token builtin">int</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin">str</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>è¾“å‡º YAML ä¸º:</p><div class="codeBlockContainer_I0IT language-yaml theme-code-block"><div class="codeBlockContent_wNvx yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">int</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">str</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>æ³¨æ„ï¼šå¦‚æ— ç‰¹æ®Šéœ€æ±‚ï¼Œä¸å»ºè®®å˜é‡çš„åç§°å–è¿™äº›å†…ç½®ç±»å‹ï¼Œå› ä¸ºåœ¨æœ‰äº›è¯­è¨€å½“ä¸­ï¼Œå®ƒä»¬ä½œä¸ºå…³é”®å­—å­˜åœ¨</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="33-å¦‚ä½•åœ¨-kcl-ä¸­å®ç°ç±»ä¼¼-enum-æšä¸¾çš„åŠŸèƒ½">33. å¦‚ä½•åœ¨ KCL ä¸­å®ç°ç±»ä¼¼ Enum æšä¸¾çš„åŠŸèƒ½<a class="hash-link" href="#33-å¦‚ä½•åœ¨-kcl-ä¸­å®ç°ç±»ä¼¼-enum-æšä¸¾çš„åŠŸèƒ½" title="Direct link to heading">â€‹</a></h2><p>æœ‰ä¸¤ç§æ–¹å¼å¯ä»¥åœ¨ KCL ä¸­å®ç° Enum æšä¸¾çš„æ–¹å¼</p><ul><li>(æ¨è)ä½¿ç”¨<strong>å­—é¢å€¼ç±»å‹</strong>çš„<strong>è”åˆç±»å‹</strong></li></ul><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">schema Person</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    gender</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Male&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Female&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">person </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Person </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Alice&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    gender </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Male&quot;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># gender åªèƒ½ä¸º &quot;Male&quot; æˆ–è€… &quot;Female&quot; </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>ä¸€ä¸ªå¤æ‚ä¾‹å­</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">schema Config</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    colors</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;Red&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Yellow&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Blue&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># colors æ˜¯ä¸€ä¸ªæšä¸¾æ•°ç»„</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">config </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Config </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    colors </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;Red&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;Blue&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><ul><li>ä½¿ç”¨ schema çš„ check è¡¨è¾¾å¼</li></ul><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">schema Person</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    gender</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Male&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Female&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    check</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        gender </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;Male&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Female&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">person </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Person </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Alice&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    gender </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Male&quot;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># gender åªèƒ½ä¸º &quot;Male&quot; æˆ–è€… &quot;Female&quot; </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="34-å¦‚ä½•æ±‚å­—å…¸-dict-çš„é•¿åº¦">34. å¦‚ä½•æ±‚å­—å…¸ dict çš„é•¿åº¦<a class="hash-link" href="#34-å¦‚ä½•æ±‚å­—å…¸-dict-çš„é•¿åº¦" title="Direct link to heading">â€‹</a></h2><p>åœ¨ KCL ä¸­å¯ä»¥ä½¿ç”¨ <code>len</code> å†…ç½®å‡½æ•°ç›´æ¥æ±‚ dict çš„é•¿åº¦</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">len1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">len</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">k1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;v1&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># 1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">len2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">len</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">k1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;v1&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> k2</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;v2&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># 2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">varDict </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">k1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> k2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> k3 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">len3 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">len</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">varDict</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># 3</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>æ­¤å¤–ï¼Œä½¿ç”¨ <code>len</code> å‡½æ•°è¿˜å¯ä»¥æ±‚ <code>str</code> å’Œ <code>list</code> ç±»å‹é•¿åº¦</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">len1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">len</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;hello&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># 5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">len2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">len</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># 3</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="35-å¦‚ä½•åœ¨-kcl-ä¸­ç¼–å†™å¸¦æ¡ä»¶çš„é…ç½®">35. å¦‚ä½•åœ¨ KCL ä¸­ç¼–å†™å¸¦æ¡ä»¶çš„é…ç½®<a class="hash-link" href="#35-å¦‚ä½•åœ¨-kcl-ä¸­ç¼–å†™å¸¦æ¡ä»¶çš„é…ç½®" title="Direct link to heading">â€‹</a></h2><p>åœ¨ KCL ä¸­ï¼Œé™¤äº†æ”¯æŒåœ¨é¡¶çº§çš„è¯­å¥ä¸­ä¹¦å†™ <code>if-elif-else</code> æ¡ä»¶è¡¨è¾¾å¼ä»¥å¤–ï¼Œè¿˜æ”¯æŒåœ¨ KCL å¤æ‚ç»“æ„ï¼ˆlist/dict/schemaï¼‰ä¸­ä¹¦å†™æ¡ä»¶è¡¨è¾¾å¼ï¼Œæ”¯æŒå¸¦æ¡ä»¶çš„é…ç½®ä¹¦å†™ã€‚</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">x </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># List ç»“æ„ä¸­çš„ if æ¡ä»¶è¯­å¥</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dataList </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> x </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Dict ç»“æ„ä¸­çš„ if æ¡ä»¶è¯­å¥</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dataDict </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> x </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> key1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;value1&quot;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># å¯ä»¥åŒä¸€è¡Œä¹¦å†™</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">elif</span><span class="token plain"> x </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        key2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;value2&quot;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># å¯ä»¥è·¨è¡Œä¹¦å†™</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Schema ç»“æ„ä¸­çš„ if æ¡ä»¶è¯­å¥</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">schema Config</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token builtin">id</span><span class="token plain">?</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">env </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;prod&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dataSchema </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Config </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> env </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;prod&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token builtin">id</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">elif</span><span class="token plain"> env </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;pre&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token builtin">id</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">elif</span><span class="token plain"> env </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;test&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token builtin">id</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="36-kcl-ä¸­çš„--è¿ç®—ç¬¦ä¼šä½œæ·±åº¦æ¯”è¾ƒå˜›">36. KCL ä¸­çš„ == è¿ç®—ç¬¦ä¼šä½œæ·±åº¦æ¯”è¾ƒå˜›ï¼Ÿ<a class="hash-link" href="#36-kcl-ä¸­çš„--è¿ç®—ç¬¦ä¼šä½œæ·±åº¦æ¯”è¾ƒå˜›" title="Direct link to heading">â€‹</a></h2><p>KCL ä¸­çš„ <code>==</code> è¿ç®—ç¬¦</p><ul><li>å¯¹äºåŸºæœ¬ç±»å‹ <code>int</code>, <code>float</code>, <code>bool</code>, <code>str</code> çš„å˜é‡æ˜¯ç›´æ¥æ¯”è¾ƒå®ƒä»¬çš„å€¼æ˜¯å¦ç›¸ç­‰</li><li>å¯¹äºå¤åˆç±»å‹ <code>list</code>, <code>dict</code>, <code>schema</code> çš„å˜é‡ä¼šæ·±åº¦é€’å½’åœ°æ¯”è¾ƒå…¶ä¸­çš„å­å…ƒç´ æ˜¯å¦ç›¸ç­‰<ul><li><code>list</code> ç±»å‹æ·±åº¦é€’å½’é€’å½’æ¯”è¾ƒæ¯ä¸ªç´¢å¼•çš„å€¼ä»¥åŠé•¿åº¦</li><li><code>dict</code>/<code>schema</code> ç±»å‹æ·±åº¦é€’å½’æ¯”è¾ƒæ¯ä¸ªå±æ€§çš„å€¼(ä¸å±æ€§å‡ºç°çš„é¡ºåºæ— å…³)</li></ul></li></ul><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># True</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># True</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">k1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> k2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">k2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> k1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># True</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># False</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">k1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> k2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> k3 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">k2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> k1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># False</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="37-å¦‚ä½•å¯¹-kcl-ä¸­å·²æœ‰çš„é…ç½®å—è¿›è¡Œä¿®æ”¹">37. å¦‚ä½•å¯¹ KCL ä¸­å·²æœ‰çš„é…ç½®å—è¿›è¡Œä¿®æ”¹<a class="hash-link" href="#37-å¦‚ä½•å¯¹-kcl-ä¸­å·²æœ‰çš„é…ç½®å—è¿›è¡Œä¿®æ”¹" title="Direct link to heading">â€‹</a></h2><p>åœ¨ KCL ä¸­ï¼Œå­˜åœ¨ä¸‰ç§<strong>å±æ€§è¿ç®—ç¬¦</strong> <code>=</code>ã€<code>+=</code>ã€<code>:</code>ï¼Œå¯ä»¥ç”¨æ¥å¯¹å·²æœ‰é…ç½®å—è¿›è¡Œä¿®æ”¹ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨<strong>è§£åŒ…è¿ç®—ç¬¦</strong> <code>**</code> ç­‰&quot;ç»§æ‰¿&quot;ä¸€ä¸ªé…ç½®å—çš„æ‰€æœ‰å±æ€§å­—æ®µå’Œå€¼ã€‚</p><ul><li><code>=</code> å±æ€§è¿ç®—ç¬¦è¡¨ç¤ºè¦†ç›–ï¼Œä½¿ç”¨ <code>=</code> è¿ç®—ç¬¦å¯ä»¥å¯¹å±æ€§è¿›è¡Œæœ‰ä¼˜å…ˆçº§çš„è¦†ç›–/åˆ é™¤ï¼Œ(å¦‚æœæ˜¯ç”¨ <code>Undefined</code> è¦†ç›–åˆ™è¡¨ç¤ºåˆ é™¤)</li><li><code>+=</code> å±æ€§è¿ç®—ç¬¦è¡¨ç¤ºæ·»åŠ ï¼Œä¸€èˆ¬ç”¨äºå¯¹ list ç±»å‹çš„å±æ€§æ·»åŠ å­å…ƒç´ ï¼Œ<code>+=</code> å±æ€§è¿ç®—ç¬¦åè·Ÿçš„æ“ä½œæ•°ç±»å‹ä¹Ÿåªèƒ½ä¸º list ç±»å‹</li><li><code>:</code> å±æ€§è¿ç®—ç¬¦è¡¨ç¤ºå¹‚ç­‰åˆå¹¶ï¼Œå½“å€¼å‘ç”Ÿå†²çªæ—¶è¿›è¡ŒæŠ¥é”™ï¼Œä¸å†²çªæ—¶è¿›è¡Œåˆå¹¶</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="è¦†ç›–å±æ€§è¿ç®—ç¬¦">è¦†ç›–å±æ€§è¿ç®—ç¬¦=<a class="hash-link" href="#è¦†ç›–å±æ€§è¿ç®—ç¬¦" title="Direct link to heading">â€‹</a></h3><p>æœ€å¸¸ä½¿ç”¨çš„å±æ€§è¿ç®—ç¬¦æ˜¯ <code>=</code>ï¼Œè¡¨ç¤ºä¸€ä¸ªå±æ€§çš„èµ‹å€¼ï¼Œå¤šæ¬¡å¯¹åŒä¸€ä¸ªå±æ€§è¿›è¡Œä½¿ç”¨æ—¶è¡¨ç¤ºè¦†ç›–ï¼Œå¯¹äº <code>{}</code> å¤–çš„å…¨å±€å˜é‡æˆ–è€… <code>{}</code> å†…çš„å±æ€§å‡è¡¨ç¤ºä½¿ç”¨å€¼è¦†ç›–è¿™ä¸ªå…¨å±€å˜é‡æˆ–è€…å±æ€§</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># å®šä¹‰ä¸€ä¸ªå­—å…¸ç±»å‹çš„å˜é‡ data</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    a </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># ä½¿ç”¨ = åœ¨ data ä¸­å£°æ˜ä¸€ä¸ªå€¼ä¸º 1 çš„å±æ€§ a</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    b </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># ä½¿ç”¨ = åœ¨ data ä¸­å£°æ˜ä¸€ä¸ªå€¼ä¸º 1 çš„å±æ€§ b</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># æœ€ç»ˆ data çš„å€¼ä¸º {&quot;a&quot;: 1, &quot;b&quot;: 1}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>åœ¨ schema å®ä¾‹åŒ–å¤„ä¹Ÿå¯ä»¥ä½¿ç”¨è¦†ç›–å±æ€§è¿ç®—ç¬¦å®ç°å¯¹ schema é»˜è®¤å€¼çš„è¦†ç›–æ•ˆæœï¼Œä¸€èˆ¬åœ¨åˆ›å»ºæ–°çš„ schema å®ä¾‹æ—¶å¦‚æ— ç‰¹æ®Šçš„éœ€æ±‚ï¼Œä¸€èˆ¬ä½¿ç”¨ <code>=</code> å³å¯</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">schema Person</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Alice&quot;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># schema Person çš„ name å±æ€§å…·æœ‰é»˜è®¤å€¼ &quot;Alice&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    age</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">18</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># schema Person çš„ age å±æ€§å…·æœ‰é»˜è®¤å€¼ 18 </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bob </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Person </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Bob&quot;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># &quot;Bob&quot; -&gt; &quot;Alice&quot;, å±æ€§ name çš„å€¼ &quot;Bob&quot; çš„å€¼ä¼šè¦†ç›– schema Person name å±æ€§çš„é»˜è®¤å€¼ &quot;Alice&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    age </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># 10 -&gt; 18, å±æ€§ age çš„å€¼ 10 çš„å€¼ä¼šè¦†ç›– schema Person age å±æ€§çš„é»˜è®¤å€¼ 18</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># æœ€ç»ˆ bob çš„å€¼ä¸º {&quot;name&quot;: &quot;Bob&quot;, age: 10}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="æ’å…¥å±æ€§è¿ç®—ç¬¦-">æ’å…¥å±æ€§è¿ç®—ç¬¦ +=<a class="hash-link" href="#æ’å…¥å±æ€§è¿ç®—ç¬¦-" title="Direct link to heading">â€‹</a></h3><p>æ’å…¥å±æ€§è¿ç®—ç¬¦è¡¨ç¤ºå¯¹ä¸€ä¸ªå±æ€§çš„å€¼è¿›è¡ŒåŸåœ°æ·»åŠ ï¼Œæ¯”å¦‚å‘ä¸€ä¸ª list ç±»å‹çš„å±æ€§æ·»åŠ æ–°çš„å…ƒç´ </p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    args </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;kcl&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># ä½¿ç”¨ = åœ¨ data ä¸­å£°æ˜ä¸€ä¸ªå€¼ä¸º [&quot;kcl&quot;] çš„å±æ€§ args</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    args </span><span class="token operator" style="color:#393A34">+=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;-Y&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;settings.yaml&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># ä½¿ç”¨ += è¿ç®—ç¬¦å‘å±æ€§ args ä¸­æ·»åŠ ä¸¤ä¸ªå…ƒç´ &quot;-Y&quot;, &quot;settings.yaml&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># æœ€ç»ˆ data çš„å€¼ä¸º {&quot;args&quot;: [&quot;kcl&quot;, &quot;-Y&quot;, &quot;settings.yaml&quot;]}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="åˆå¹¶å±æ€§è¿ç®—ç¬¦">åˆå¹¶å±æ€§è¿ç®—ç¬¦:<a class="hash-link" href="#åˆå¹¶å±æ€§è¿ç®—ç¬¦" title="Direct link to heading">â€‹</a></h3><p>åˆå¹¶å±æ€§è¿ç®—ç¬¦è¡¨ç¤ºå¯¹ä¸€ä¸ªå±æ€§çš„ä¸åŒé…ç½®å—å€¼è¿›è¡Œå¹‚ç­‰çš„åˆå¹¶ï¼Œå½“éœ€è¦åˆå¹¶çš„å€¼å‘ç”Ÿå†²çªæ—¶è¿›è¡ŒæŠ¥é”™ï¼Œå¤šç”¨äºå¤æ‚é…ç½®åˆå¹¶åœºæ™¯</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">key1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;value1&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># å®šä¹‰ä¸€ä¸ª labels, å®ƒçš„ç±»å‹ä¸º dict, å€¼ä¸º {&quot;key1&quot;: &quot;value1&quot;}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">key2</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;value2&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># ä½¿ç”¨ : å°† labels ä¸åŒçš„é…ç½®å€¼è¿›è¡Œåˆå¹¶</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># æœ€ç»ˆ data çš„å€¼ä¸º {&quot;labels&quot;: {&quot;key1&quot;: &quot;value1&quot;, &quot;key2&quot;: &quot;value2&quot;}}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>åˆå¹¶å±æ€§è¿ç®—ç¬¦å±äºå¹‚ç­‰è¿ç®—ç¬¦ï¼Œéœ€è¦åˆå¹¶çš„é…ç½®å—çš„ä¹¦å†™é¡ºåºä¸å½±å“å…¶æœ€ç»ˆç»“æœï¼Œæ¯”å¦‚ä¸Šè¿°ä¾‹å­ä¸­çš„ä¸¤ä¸ª <code>labels</code> å±æ€§ä¹Ÿå¯ä»¥è°ƒæ¢é¡ºåºä¹¦å†™</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># åŒä¸€ä¸ªå±æ€§ labels çš„åˆå¹¶ä¹¦å†™é¡ºåºä¸å½±å“æœ€ç»ˆç»“æœ</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">key2</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;value2&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># å®šä¹‰ä¸€ä¸ª labels, å®ƒçš„ç±»å‹ä¸º dict, å€¼ä¸º {&quot;key2&quot;: &quot;value2&quot;}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">key1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;value1&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># ä½¿ç”¨ : å°† labels ä¸åŒçš„é…ç½®å€¼è¿›è¡Œåˆå¹¶</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># æœ€ç»ˆ data çš„å€¼ä¸º {&quot;labels&quot;: {&quot;key1&quot;: &quot;value1&quot;, &quot;key2&quot;: &quot;value2&quot;}}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>æ³¨æ„ï¼šåˆå¹¶å±æ€§è¿ç®—ç¬¦ä¼šå¯¹åˆå¹¶çš„å€¼è¿›è¡Œå†²çªæ£€æŸ¥ï¼Œå½“éœ€è¦åˆå¹¶çš„é…ç½®å€¼å‘ç”Ÿå†²çªæ—¶è¿›è¡ŒæŠ¥é”™</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    a</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># a çš„å€¼ä¸º 1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    a</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Error: a çš„å€¼ 2 ä¸èƒ½ä¸ a çš„å€¼ 1 è¿›è¡Œåˆå¹¶ï¼Œå› ä¸ºå…¶ç»“æœå­˜åœ¨å†²çªï¼Œä¸”åˆå¹¶æ˜¯ä¸å¯äº¤æ¢çš„</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">key</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;value&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">key</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;override_value&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Error: ä¸¤ä¸ª labels çš„ key å±æ€§çš„å€¼ &quot;value&quot; å’Œ &quot;override_value&quot; æ˜¯å†²çªçš„ï¼Œä¸å¯åˆå¹¶</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>åˆå¹¶è¿ç®—ç¬¦å¯¹ä¸åŒç±»å‹çš„ä½¿ç”¨æ–¹å¼ä¸åŒ</p><ul><li>ä¸åŒç±»å‹çš„å±æ€§ä¸èƒ½è¿›è¡Œåˆå¹¶</li><li>å½“å±æ€§ä¸º int/float/str/bool ç­‰åŸºæœ¬ç±»å‹æ—¶ï¼Œè¿ç®—ç¬¦ä¼šåˆ¤æ–­éœ€è¦åˆå¹¶çš„å€¼æ˜¯å¦ç›¸ç­‰ï¼Œä¸ç›¸ç­‰æ—¶å‘ç”Ÿåˆå¹¶å†²çªé”™è¯¯</li></ul><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    a</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    a</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Ok</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    a</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Error</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><ul><li>å½“å±æ€§ä¸º list ç±»å‹æ—¶<ul><li>å½“éœ€è¦åˆå¹¶çš„ä¸¤ä¸ª list é•¿åº¦ä¸ç›¸ç­‰æ—¶ï¼Œå‘ç”Ÿåˆå¹¶å†²çªé”™è¯¯</li><li>å½“éœ€è¦åˆå¹¶çš„ä¸¤ä¸ª list é•¿åº¦ç›¸ç­‰æ—¶ï¼ŒæŒ‰ç…§ç´¢å¼•é€’å½’åœ°åˆå¹¶ list å½“ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ </li></ul></li></ul><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    args</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;kcl&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    args</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;-Y&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;settings.yaml&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Error: ä¸¤ä¸ª args å±æ€§çš„é•¿åº¦ä¸ç›¸åŒï¼Œä¸èƒ½è¿›è¡Œåˆå¹¶</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    env</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">key1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;value1&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    env</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">key2</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;value2&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Ok: æœ€ç»ˆ env å±æ€§çš„å€¼ä¸º [{&quot;key1&quot;: &quot;value1&quot;}, {&quot;key2&quot;: &quot;value2&quot;}]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><ul><li>å½“å±æ€§ä¸º dict/schema ç±»å‹æ—¶ï¼ŒæŒ‰ç…§ key é€’å½’åœ°åˆå¹¶ dict/schema å½“ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ </li></ul><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">key1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;value1&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">key2</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;value2&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">key3</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;value3&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># æœ€ç»ˆ data çš„å€¼ä¸º {&quot;labels&quot;: {&quot;key1&quot;: &quot;value1&quot;, &quot;key2&quot;: &quot;value2&quot;, &quot;key3&quot;: &quot;value3&quot;}}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><ul><li>ä»»æ„ç±»å‹çš„å±æ€§ä¸ None/Undefined åˆå¹¶çš„ç»“æœéƒ½æ˜¯å…¶è‡ªèº«</li></ul><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    args</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;kcl&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    args</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Ok</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    args</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Undefined  </span><span class="token comment" style="color:#999988;font-style:italic">#Ok</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># æœ€ç»ˆ data çš„å€¼ä¸º {&quot;args&quot;: [&quot;kcl&quot;]}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>æ”¯æŒé¡¶çº§å˜é‡ä½¿ç”¨ <code>:</code> å±æ€§å£°æ˜ä¸åˆå¹¶(ä»ç„¶å¯ä½¿ç”¨ <code>config = Config {}</code> çš„æ–¹å¼å£°æ˜ä¸€ä¸ªé…ç½®å—)</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">schema Config</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token builtin">id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    value</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">config</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Config </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token builtin">id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">config</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Config </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    value</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;1&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">æ­¤å¤„å®šä¹‰äº†ä¸¤ä¸ª Config é…ç½®å—ï¼Œä½¿ç”¨ : è¿ç®—ç¬¦å°†å¯ä»¥ä¸¤ä¸ªé…ç½®å—åˆå¹¶åœ¨ä¸€èµ·ï¼Œå…¶åˆå¹¶çš„ç­‰æ•ˆä»£ç å¦‚ä¸‹:</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">config: Config {</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    id: 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    value: &quot;1&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>ç»¼ä¸Šæ‰€è¿°ï¼Œåˆå¹¶å±æ€§è¿ç®—ç¬¦ <code>:</code> çš„ä½¿ç”¨åœºæ™¯ä¸»è¦ä¸ºå¤æ‚æ•°æ®ç»“æ„ list/dict/schema çš„åˆå¹¶æ“ä½œï¼Œä¸€èˆ¬æƒ…å†µå¦‚æ— ç‰¹æ®Šéœ€æ±‚ä½¿ç”¨ <code>=</code> å’Œ <code>+=</code> ä¸¤ç§å±æ€§è¿ç®—ç¬¦å³å¯ï¼Œå› æ­¤å±æ€§è¿ç®—ç¬¦çš„æœ€ä½³å®è·µå¦‚ä¸‹</p><ul><li>å¯¹äºåŸºæœ¬ç±»å‹ï¼Œé‡‡ç”¨ <code>=</code> è¿ç®—ç¬¦</li><li>å¯¹äº list ç±»å‹ï¼Œä¸€èˆ¬é‡‡ç”¨ <code>=</code> å’Œ <code>+=</code> è¿ç®—ç¬¦ï¼Œä½¿ç”¨ <code>=</code> è¡¨ç¤ºå®Œå…¨è¦†ç›– list å±æ€§ï¼Œä½¿ç”¨ <code>+=</code> è¡¨ç¤ºå‘ list ä¸­æ·»åŠ å…ƒç´ </li><li>å¯¹äº dict/schema ç±»å‹ï¼Œä¸€èˆ¬é‡‡ç”¨ <code>:</code> è¿ç®—ç¬¦</li></ul><p>æ­¤å¤–ï¼Œå½“å·²ç»å­˜åœ¨ä¸€ä¸ªé…ç½®æ—¶ï¼Œå¯ä»¥ä½¿ç”¨è§£åŒ…è¿ç®—ç¬¦ <code>**</code> è·å¾—æ­¤é…ç½®çš„æ‰€æœ‰å­—æ®µå€¼å¹¶å¯¹å…¶ä¸­çš„å­—æ®µä½¿ç”¨ä¸åŒå±æ€§è¿ç®—ç¬¦è¿›è¡Œä¿®æ”¹ï¼Œå¹¶è·å¾—ä¸€ä¸ªæ–°çš„é…ç½®</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">configBase </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    intKey </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># ä¸€ä¸ª int ç±»å‹çš„å±æ€§</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    floatKey </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1.0</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># ä¸€ä¸ª float ç±»å‹çš„å±æ€§</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    listKey </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># ä¸€ä¸ª list ç±»å‹çš„å±æ€§</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    dictKey </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">key1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;value1&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># ä¸€ä¸ª dict ç±»å‹çš„å±æ€§</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">configNew </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">**</span><span class="token plain">configBase  </span><span class="token comment" style="color:#999988;font-style:italic"># å°† configBase è§£åŒ…å†…è”åˆ° configNew ä¸­</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    intKey </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># ä½¿ç”¨ è¦†ç›–å±æ€§è¿ç®—ç¬¦ = å°† intKey å±æ€§è¦†ç›–ä¸º 1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    floatKey </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Undefined  </span><span class="token comment" style="color:#999988;font-style:italic"># ä½¿ç”¨ è¦†ç›–å±æ€§è¿ç®—ç¬¦ = åˆ é™¤ floatKey å±æ€§</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    listKey </span><span class="token operator" style="color:#393A34">+=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># ä½¿ç”¨ æ·»åŠ å±æ€§è¿ç®—ç¬¦ += ä¸º listKey å±æ€§å°¾éƒ¨æ·»åŠ ä¸€ä¸ªå±æ€§ 1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    dictKey</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">key2</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;value2&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># ä½¿ç”¨ åˆå¹¶å±æ€§è¿ç®—ç¬¦ : ä¸º dictKey å±æ€§æ‰©å±•ä¸€ä¸ªé”®-å€¼å¯¹</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>è¾“å‡ºçš„ YAML ç»“æœä¸º:</p><div class="codeBlockContainer_I0IT language-yaml theme-code-block"><div class="codeBlockContent_wNvx yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">configBase</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">intKey</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">floatKey</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1.0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">listKey</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">dictKey</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">key1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> value1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">configNew</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">intKey</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">listKey</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">dictKey</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">key1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> value1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">key2</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> value2</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>æˆ–è€…å¯ä»¥ä½¿ç”¨ <code>|</code> è¿ç®—ç¬¦å¯¹ä¸¤ä¸ªé…ç½®å—åˆå¹¶:</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">configBase </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    intKey </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># ä¸€ä¸ª int ç±»å‹çš„å±æ€§</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    floatKey </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1.0</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># ä¸€ä¸ª float ç±»å‹çš„å±æ€§</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    listKey </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># ä¸€ä¸ª list ç±»å‹çš„å±æ€§</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    dictKey </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">key1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;value1&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># ä¸€ä¸ª dict ç±»å‹çš„å±æ€§</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">configNew </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> configBase </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># ä½¿ç”¨ | è¿›è¡Œåˆå¹¶</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    intKey </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># ä½¿ç”¨ è¦†ç›–å±æ€§è¿ç®—ç¬¦ = å°† intKey å±æ€§è¦†ç›–ä¸º 1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    floatKey </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Undefined  </span><span class="token comment" style="color:#999988;font-style:italic"># ä½¿ç”¨ è¦†ç›–å±æ€§è¿ç®—ç¬¦ = åˆ é™¤ floatKey å±æ€§</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    listKey </span><span class="token operator" style="color:#393A34">+=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># ä½¿ç”¨ æ·»åŠ å±æ€§è¿ç®—ç¬¦ += ä¸º listKey å±æ€§å°¾éƒ¨æ·»åŠ ä¸€ä¸ªå±æ€§ 1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    dictKey</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">key2</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;value2&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># ä½¿ç”¨ åˆå¹¶å±æ€§è¿ç®—ç¬¦ : ä¸º dictKey å±æ€§æ‰©å±•ä¸€ä¸ªé”®-å€¼å¯¹</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>è¾“å‡ºçš„ YAML ç»“æœä¸º:</p><div class="codeBlockContainer_I0IT language-yaml theme-code-block"><div class="codeBlockContent_wNvx yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">configBase</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">intKey</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">floatKey</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1.0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">listKey</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">dictKey</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">key1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> value1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">configNew</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">intKey</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">listKey</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">dictKey</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">key1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> value1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">key2</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> value2</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="kcl-å‘ç”Ÿ-conflicting-values-on-the-attribute-attr-between-value1-and-value2-é”™è¯¯çš„è§£å†³æ–¹å¼">KCL å‘ç”Ÿ conflicting values on the attribute &#x27;attr&#x27; between {value1} and {value2} é”™è¯¯çš„è§£å†³æ–¹å¼<a class="hash-link" href="#kcl-å‘ç”Ÿ-conflicting-values-on-the-attribute-attr-between-value1-and-value2-é”™è¯¯çš„è§£å†³æ–¹å¼" title="Direct link to heading">â€‹</a></h3><p>å½“ KCL å‘ç”Ÿç±»ä¼¼ conflicting values on the attribute &#x27;attr&#x27; between {value1} and {value2} é”™è¯¯æ—¶ï¼Œä¸€èˆ¬æ˜¯åˆå¹¶å±æ€§è¿ç®—ç¬¦ <code>:</code> çš„ä½¿ç”¨é—®é¢˜ï¼Œè¡¨æ˜ <code>value1</code> å’Œ <code>value2</code> é…ç½®è¿›è¡Œåˆå¹¶æ—¶åœ¨å±æ€§ <code>attr</code> å¤„å‘ç”Ÿäº†å†²çªé”™è¯¯ã€‚ä¸€èˆ¬æƒ…å†µå°† value2 çš„ attr å±æ€§ä¿®æ”¹ä¸ºå…¶ä»–å±æ€§è¿ç®—ç¬¦å³å¯ï¼Œä½¿ç”¨ <code>=</code> è¡¨ç¤ºè¦†ç›–ï¼Œä½¿ç”¨ <code>+=</code> è¡¨ç¤ºæ·»åŠ </p><p>æ¯”å¦‚å¯¹äºå¦‚ä¸‹ä»£ç :</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">k</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">k</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Error: conflicting values on the attribute &#x27;k&#x27; between {&#x27;k&#x27;: 1} and {&#x27;k&#x27;: 2}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>åˆ™å¯ä»¥ä½¿ç”¨ <code>=</code> å±æ€§è¿ç®—ç¬¦ä¿®æ”¹ä¸ºå¦‚ä¸‹å½¢å¼</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">k</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">k </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Ok: the value 2 will override the value 1 through the `=` operator</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="38-kcl-ä¸­å¦‚ä½•åŒæ—¶éå†å¤šä¸ªå…ƒç´ ">38. KCL ä¸­å¦‚ä½•åŒæ—¶éå†å¤šä¸ªå…ƒç´ <a class="hash-link" href="#38-kcl-ä¸­å¦‚ä½•åŒæ—¶éå†å¤šä¸ªå…ƒç´ " title="Direct link to heading">â€‹</a></h2><p>KCL ä¸­å¯ä»¥ä½¿ç”¨ for æ¨å¯¼è¡¨è¾¾å¼éå†å¤šä¸ªå…ƒç´ </p><ul><li>ä¸¾ä¾‹ 1: ä½¿ç”¨ for è¿›è¡Œ 2 ç»´å…ƒç´ éå†</li></ul><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">dimension1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># dimension1 åˆ—è¡¨çš„é•¿åº¦æ˜¯ 3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dimension2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># dimension2 åˆ—è¡¨çš„é•¿åº¦æ˜¯ 3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">matrix </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">x </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> y </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> x </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> dimension1 </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> y </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> dimension2</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># matrix åˆ—è¡¨çš„é•¿åº¦æ˜¯ 9 = 3 * 3</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>è¾“å‡ºç»“æœå¦‚ä¸‹:</p><div class="codeBlockContainer_I0IT language-yaml theme-code-block"><div class="codeBlockContent_wNvx yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">dimension1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">dimension2</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">matrix</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><ul><li>ä¸¾ä¾‹ 2: ä½¿ç”¨ for å¾ªç¯é…åˆ zip å†…ç½®å‡½æ•°æŒ‰ç…§ç´¢å¼•ä¸€ä¸€å¯¹åº”å¯¹å¤šä¸ªåˆ—è¡¨è¿›è¡Œéå†</li></ul><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">dimension1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># dimension1 åˆ—è¡¨çš„é•¿åº¦æ˜¯ 3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dimension2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># dimension2 åˆ—è¡¨çš„é•¿åº¦æ˜¯ 3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dimension3 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">d</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> d</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> d </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">zip</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">dimension1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> dimension2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># dimension3 åˆ—è¡¨çš„é•¿åº¦æ˜¯ 3</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>è¾“å‡ºç»“æœå¦‚ä¸‹:</p><div class="codeBlockContainer_I0IT language-yaml theme-code-block"><div class="codeBlockContent_wNvx yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">dimension1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">dimension2</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">dimension3</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="39-kcl-ä¸­å¦‚ä½•ä¸º-option-å‡½æ•°è®¾å®šé»˜è®¤å€¼">39. KCL ä¸­å¦‚ä½•ä¸º option å‡½æ•°è®¾å®šé»˜è®¤å€¼<a class="hash-link" href="#39-kcl-ä¸­å¦‚ä½•ä¸º-option-å‡½æ•°è®¾å®šé»˜è®¤å€¼" title="Direct link to heading">â€‹</a></h2><p>åœ¨ KCL ä¸­ï¼Œå½“ option å±æ€§çš„å€¼ä¸º None/Undefined ç©ºæ—¶ï¼Œå¯ä»¥ä½¿ç”¨é€»è¾‘æˆ– <code>or</code> ç›´æ¥æŒ‡å®šä¸€ä¸ªé»˜è®¤å€¼</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">value </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> option</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;key&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">or</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;default_value&quot;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># å½“ key çš„å€¼å­˜åœ¨æ—¶ï¼Œå– option(&quot;key&quot;) çš„å€¼ï¼Œå¦åˆ™å– &quot;default_value&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>æˆ–è€…ä½¿ç”¨ option å‡½æ•°çš„ default å‚æ•°</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">value </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> option</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;key&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> default</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;default_value&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># å½“ key çš„å€¼å­˜åœ¨æ—¶ï¼Œå– option(&quot;key&quot;) çš„å€¼ï¼Œå¦åˆ™å– &quot;default_value&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="40-kcl-ä¸­-schema-æ€ä¹ˆæ£€æŸ¥å¤šä¸ªå±æ€§ä¸èƒ½åŒæ—¶ä¸ºç©º">40. KCL ä¸­ schema æ€ä¹ˆæ£€æŸ¥å¤šä¸ªå±æ€§ä¸èƒ½åŒæ—¶ä¸ºç©º<a class="hash-link" href="#40-kcl-ä¸­-schema-æ€ä¹ˆæ£€æŸ¥å¤šä¸ªå±æ€§ä¸èƒ½åŒæ—¶ä¸ºç©º" title="Direct link to heading">â€‹</a></h2><p>åœ¨ KCL ä¸­ï¼Œå¯¹äº schema çš„å•ä¸ªå±æ€§ä¸èƒ½ä¸ºç©ºå¯ä»¥ä½¿ç”¨å±æ€§éç©ºæ ‡è®°</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">schema Person</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># required. name ä¸èƒ½ä¸ºç©º</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    age</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># required. age ä¸èƒ½ä¸ºç©º</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token builtin">id</span><span class="token plain">?</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># optional. id å¯ä»¥ç•™ç©º</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>è€Œå¯¹äºéœ€è¦æ£€æŸ¥ schema å±æ€§ä¸èƒ½åŒæ—¶ä¸ºç©ºæˆ–è€…åªèƒ½æœ‰ä¸€è€…ä¸ºç©ºçš„æƒ…å†µæ—¶ï¼Œéœ€è¦å€ŸåŠ© schema check è¡¨è¾¾å¼è¿›è¡Œä¹¦å†™ï¼Œä¸‹é¢ä»¥åŒä¸€ä¸ª schema Config çš„ä¸¤ä¸ªå±æ€§ a, b ä¸ºä¾‹è¿›è¡Œè¯´æ˜</p><ul><li>Config çš„ a, b å±æ€§ä¸èƒ½åŒæ—¶ä¸ºç©º</li></ul><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">schema Config</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    a?</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    b?</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    check</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        a </span><span class="token keyword" style="color:#00009f">or</span><span class="token plain"> b</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;aå±æ€§å’Œbå±æ€§ä¸èƒ½åŒæ—¶ä¸ºç©º&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><ul><li>Config çš„ a, b å±æ€§åªèƒ½æœ‰ä¸€ä¸ªä¸ºç©ºæˆ–è€…éƒ½ä¸ºç©ºï¼ˆä¸èƒ½åŒæ—¶å­˜åœ¨æˆ–ä¸ä¸ºç©ºï¼‰</li></ul><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">schema Config</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    a?</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    b?</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    check</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">not</span><span class="token plain"> a </span><span class="token keyword" style="color:#00009f">or</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">not</span><span class="token plain"> b</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;aå±æ€§å’Œbå±æ€§ä¸èƒ½åŒæ—¶å¡«å†™&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="41-kcl-ä¸­-import-äº†æŸä¸ªæ–‡ä»¶ä½†æ˜¯æ‰¾ä¸åˆ°å…¶åŒç›®å½•ä¸‹å…¶ä»–-kcl-æ–‡ä»¶å®šä¹‰çš„-schema-å¯èƒ½æ˜¯ä»€ä¹ˆåŸå› ">41. KCL ä¸­ import äº†æŸä¸ªæ–‡ä»¶ä½†æ˜¯æ‰¾ä¸åˆ°å…¶åŒç›®å½•ä¸‹å…¶ä»– KCL æ–‡ä»¶å®šä¹‰çš„ schema å¯èƒ½æ˜¯ä»€ä¹ˆåŸå› <a class="hash-link" href="#41-kcl-ä¸­-import-äº†æŸä¸ªæ–‡ä»¶ä½†æ˜¯æ‰¾ä¸åˆ°å…¶åŒç›®å½•ä¸‹å…¶ä»–-kcl-æ–‡ä»¶å®šä¹‰çš„-schema-å¯èƒ½æ˜¯ä»€ä¹ˆåŸå› " title="Direct link to heading">â€‹</a></h2><p>å¯èƒ½æ˜¯ä¸ä½¿ç”¨ import ä»…å¯¼å…¥äº†è¿™ä¸ªæ–‡ä»¶å¤¹çš„è¿™ä¸€ä¸ªæ–‡ä»¶å¯¼è‡´ï¼Œåœ¨ KCL ä¸­ï¼Œimport æ”¯æŒå¯¼å…¥æ•´ä¸ªæ–‡ä»¶å¤¹ï¼Œä¹Ÿæ”¯æŒå¯¼å…¥æŸä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹çš„çš„æŸä¸€ä¸ª KCL æ–‡ä»¶ï¼Œæ¯”å¦‚å¯¹äºå¦‚ä¸‹ç›®å½•ç»“æ„</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€ kcl.mod</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€ main.k</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â””â”€â”€ pkg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    â”œâ”€â”€ pkg1.k</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    â”œâ”€â”€ pkg2.k</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    â””â”€â”€ pkg3.k</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>åœ¨æ ¹ç›®å½•ä¸‹å­˜åœ¨å…¥å£æ–‡ä»¶ main.kï¼Œå¯ä»¥åœ¨ main.k ä¸­ä¹¦å†™å¦‚ä¸‹ä»£ç å¯¼å…¥æ•´ä¸ª pkg æ–‡ä»¶å¤¹ï¼Œæ­¤æ—¶ pkg æ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰ schema å®šä¹‰äº’ç›¸å¯è§</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> pkg</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>è¿˜å¯ä»¥ä¹¦å†™å¦‚ä¸‹ä»£ç å¯¼å…¥å•ä¸ªæ–‡ä»¶ pkg/pkg1.kï¼Œæ­¤æ—¶ pkg1.k ä¸èƒ½æ‰¾åˆ°å…¶ä»–æ–‡ä»¶å³ pkg2.k/pkg3.k ä¸‹çš„ schema å®šä¹‰</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> pkg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pkg1</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="42-kcl-ä¸­çš„ç¼©è¿›æ˜¯å¦‚ä½•å¤„ç†çš„">42. KCL ä¸­çš„ç¼©è¿›æ˜¯å¦‚ä½•å¤„ç†çš„?<a class="hash-link" href="#42-kcl-ä¸­çš„ç¼©è¿›æ˜¯å¦‚ä½•å¤„ç†çš„" title="Direct link to heading">â€‹</a></h2><p>åœ¨ KCL ä¸­ï¼Œåœ¨å‡ºç°å†’å· <code>:</code>ã€ä¸­æ‹¬å·å¯¹ <code>[]</code> ä»¥åŠå¤§æ‹¬å·å¯¹ <code>{}</code> æ—¶ï¼Œä¸€èˆ¬éœ€è¦ä½¿ç”¨æ¢è¡Œ + ç¼©è¿›ï¼ŒåŒä¸€ç¼©è¿›çº§çš„ç¼©è¿›ç©ºæ ¼æ•°éœ€è¦ä¿æŒä¸€è‡´ï¼Œä¸€ä¸ªç¼©è¿›çº§ä¸€èˆ¬é‡‡ç”¨ 4 ä¸ªç©ºæ ¼è¡¨ç¤º</p><ul><li>å†’å· <code>:</code> åè·Ÿæ¢è¡Œ + ç¼©è¿›</li></ul><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;if è¯­å¥ä¸­çš„ç¼©è¿›&quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_a </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_b </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> _a </span><span class="token operator" style="color:#393A34">&gt;=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># å†’å·åè·Ÿæ¢è¡Œ+ç¼©è¿›</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> _a </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        _b </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">elif</span><span class="token plain"> a </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        _b </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;schema å®šä¹‰ä¸­çš„ç¼©è¿›&quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">schema Person</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># å†’å·åè·Ÿæ¢è¡Œ+ç¼©è¿›</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    age</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><ul><li>ä¸­æ‹¬å·å¯¹ <code>[]</code> åè·Ÿæ¢è¡Œ + ç¼©è¿›</li></ul><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># å·¦ä¸­æ‹¬å· [ åè·Ÿæ¢è¡Œ+ç¼©è¿›</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># å³ä¸­æ‹¬å· ] å‰å–æ¶ˆç¼©è¿›</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># å·¦ä¸­æ‹¬å· [ åè·Ÿæ¢è¡Œ+ç¼©è¿›</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    i </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> i </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># å³ä¸­æ‹¬å· ] å‰å–æ¶ˆç¼©è¿›</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><ul><li>å¤§æ‹¬å·å¯¹ <code>{}</code> åè·Ÿæ¢è¡Œ + ç¼©è¿›</li></ul><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># å·¦å¤§æ‹¬å· { åè·Ÿæ¢è¡Œ+ç¼©è¿›</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    k1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;v1&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    k2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;v2&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># å³å¤§æ‹¬å· } å‰å–æ¶ˆç¼©è¿›</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># å·¦å¤§æ‹¬å· { åè·Ÿæ¢è¡Œ+ç¼©è¿›</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> i </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># å³å¤§æ‹¬å· } å‰å–æ¶ˆç¼©è¿›</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="43-å¦‚ä½•ä¸º-kcl-ä»£ç ç¼–å†™ç®€å•çš„æµ‹è¯•">43. å¦‚ä½•ä¸º KCL ä»£ç ç¼–å†™ç®€å•çš„æµ‹è¯•ï¼Ÿ<a class="hash-link" href="#43-å¦‚ä½•ä¸º-kcl-ä»£ç ç¼–å†™ç®€å•çš„æµ‹è¯•" title="Direct link to heading">â€‹</a></h2><p>KCL ç›®å‰çš„ç‰ˆæœ¬è¿˜ä¸æ”¯æŒå†…éƒ¨ç¨‹åºè°ƒè¯•ï¼Œå¯ä»¥ä½¿ç”¨ assert è¯­å¥ä»¥åŠ print å‡½æ•°å®ç°æ•°æ®çš„æ–­è¨€å’Œæ‰“å°æŸ¥çœ‹</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">a </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;The value of a is&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> a</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">assert</span><span class="token plain"> a </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>æ­¤å¤–ï¼Œè¿˜å¯ä»¥å€ŸåŠ© kcl-test æµ‹è¯•å·¥å…·ç¼–å†™ KCL å†…éƒ¨ç¼–å†™æµ‹è¯•ç”¨ä¾‹</p><p>å‡è®¾æœ‰ hello.k æ–‡ä»¶ï¼Œä»£ç å¦‚ä¸‹:</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">schema Person</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;kcl&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    age</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hello </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Person </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;hello kcl&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    age </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">102</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>æ„é€  hello_test.k æµ‹è¯•æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">schema TestPerson</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    a </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Person</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">assert</span><span class="token plain"> a</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">name </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;kcl&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">schema TestPerson_age</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    a </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Person</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">assert</span><span class="token plain"> a</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">age </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">schema TestPerson_ok</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    a </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Person</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">assert</span><span class="token plain"> a</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">name </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;kcl&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">assert</span><span class="token plain"> a</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">age </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>ç„¶ååœ¨ç›®å½•ä¸‹æ‰§è¡Œ kcl-test å‘½ä»¤:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">$ kcl-test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ok   /pkg/to/app [365.154142ms]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="44-kcl-ä¸­å¦‚ä½•å®šä¹‰å‡½æ•°æˆ–å®šä¹‰æ–¹æ³•">44. KCL ä¸­å¦‚ä½•å®šä¹‰å‡½æ•°æˆ–å®šä¹‰æ–¹æ³•ï¼Ÿ<a class="hash-link" href="#44-kcl-ä¸­å¦‚ä½•å®šä¹‰å‡½æ•°æˆ–å®šä¹‰æ–¹æ³•" title="Direct link to heading">â€‹</a></h2><p>schema ç»“æ„åœ¨ä¸€å®šç¨‹åº¦ä¸Šå……å½“äº†å‡½æ•°çš„åŠŸèƒ½ï¼Œå¹¶ä¸”è¿™ä¸ªå‡½æ•°å…·æœ‰å¤šä¸ªè¾“å…¥å‚æ•°å’Œå¤šä¸ªè¾“å‡ºå‚æ•°çš„èƒ½åŠ›ï¼Œæ¯”å¦‚å¦‚ä¸‹ä»£ç å¯ä»¥å®ç°ä¸€ä¸ªæ–æ³¢é‚£å¥‘æ•°åˆ—çš„åŠŸèƒ½:</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">schema Fib</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    n</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    value</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> n </span><span class="token operator" style="color:#393A34">&lt;=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Fib </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">n</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> n </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">value </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Fib </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">n</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> n </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fib8 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Fib </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">n</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">value</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>è¾“å‡ºç»“æœä¸º:</p><div class="codeBlockContainer_I0IT language-yaml theme-code-block"><div class="codeBlockContent_wNvx yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">fib8</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">21</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>ä¸€ä¸ªåˆå¹¶åˆ—è¡¨ä¸ºå­—å…¸çš„ schema å‡½æ•°</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">schema UnionAll</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> n</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    _?</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    value?</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">UnionAll</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">data</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> n</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">n </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">value </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">n</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> n </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> data </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">schema MergeList</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;Unionä¸€ä¸ªåˆ—è¡¨ä¸­çš„æ‰€æœ‰å…ƒç´ è¿”å›åˆå¹¶å­—å…¸</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="display:inline-block;color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    [{&quot;key1&quot;: &quot;value1&quot;}, {&quot;key2&quot;: &quot;value2&quot;}, {&quot;key3&quot;: &quot;value3&quot;}] -&gt; {&quot;key1&quot;: &quot;value1&quot;, &quot;key2&quot;: &quot;value2&quot;, &quot;key3&quot;: &quot;value3&quot;}</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    &quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    _?</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    value?</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">UnionAll</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">data</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> n</span><span class="token operator" style="color:#393A34">=</span><span class="token builtin">len</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">value </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> data </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>æ­¤å¤–ï¼ŒKCL æ”¯æŒä½¿ç”¨ <code>lambda</code> å…³é”®å­—å®šä¹‰ä¸€ä¸ªå‡½æ•°:</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">func </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">lambda</span><span class="token plain"> x</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> y</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    x </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> y</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">a </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> func</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># 2</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>lambda å‡½æ•°å…·æœ‰å¦‚ä¸‹ç‰¹æ€§ï¼š</p><ul><li>lambda å‡½æ•°å°†æœ€åä¸€ä¸ªè¡¨è¾¾å¼çš„å€¼ä½œä¸ºå‡½æ•°çš„è¿”å›å€¼ï¼Œç©ºå‡½æ•°ä½“è¿”å› Noneã€‚</li><li>è¿”å›å€¼ç±»å‹æ³¨è§£å¯ä»¥çœç•¥ï¼Œè¿”å›å€¼ç±»å‹ä¸ºæœ€åä¸€ä¸ªè¡¨è¾¾å¼å€¼çš„ç±»å‹</li><li>å‡½æ•°ä½“ä¸­æ²¡æœ‰ä¸é¡ºåºæ— å…³çš„ç‰¹æ€§ï¼Œæ‰€æœ‰çš„è¡¨è¾¾å¼éƒ½æ˜¯æŒ‰é¡ºåºæ‰§è¡Œçš„</li></ul><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">_func </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">lambda</span><span class="token plain"> x</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> y</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    x </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> y</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Define a function using the lambda expression</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_func </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">lambda</span><span class="token plain"> x</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> y</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    x </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> y</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Ok</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_func </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">lambda</span><span class="token plain"> x</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> y</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">x </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> y</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Error (int, int) -&gt; str can&#x27;t be assigned to (int, int) -&gt; int</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>lambda å‡½æ•°å¯¹è±¡ä¸èƒ½å‚ä¸ä»»ä½•è®¡ç®—ï¼Œåªèƒ½åœ¨èµ‹å€¼è¯­å¥å’Œè°ƒç”¨è¯­å¥ä¸­ä½¿ç”¨ã€‚</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">func </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">lambda</span><span class="token plain"> x</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> y</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    x </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> y</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">x </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> func </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Error: unsupported operand type(s) for +: &#x27;function&#x27; and &#x27;int(1)&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">a </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">func </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">lambda</span><span class="token plain"> x</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    x </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> a</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">funcOther </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">lambda</span><span class="token plain"> f</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> para</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    f</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">para</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">r </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> funcOther</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">func</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># 2</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>è¾“å‡ºä¸ºï¼š</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">a</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">r</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>å¯ä»¥å®šä¹‰ä¸€ä¸ªåŒ¿åå‡½æ•°å¹¶ç›´æ¥è°ƒç”¨</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">lambda</span><span class="token plain"> x</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> y </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    z </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> x</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    z </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> y</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># 3</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>å¯ä»¥åœ¨ for å¾ªç¯ä½¿ç”¨ä½¿ç”¨åŒ¿åå‡½æ•°</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">lambda</span><span class="token plain"> x</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> y </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    x </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> y</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">x</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> y</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> x </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> y </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># [2, 3, 3, 4]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>å¯ä»¥åœ¨ KCL schema ä¸­å®šä¹‰å¹¶ä½¿ç”¨å‡½æ•°</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">_funcOutOfSchema </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">lambda</span><span class="token plain"> x</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> y</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    x </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> y</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">schema Data</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    _funcInSchema </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">lambda</span><span class="token plain"> x</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> y</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        x </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> y</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    id0</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> _funcOutOfSchema</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    id1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> _funcInSchema</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    id2</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">lambda</span><span class="token plain"> x</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> y</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        x </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> y</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>è¾“å‡º YAML ä¸º:</p><div class="codeBlockContainer_I0IT language-yaml theme-code-block"><div class="codeBlockContent_wNvx yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">data</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">id0</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">id1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">id2</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="45-ä¸ºä»€ä¹ˆå˜é‡èµ‹å€¼ä¸ºæšä¸¾ç±»å‹å­—é¢å€¼è”åˆç±»å‹æ—¶ä¼šæŠ¥é”™">45. ä¸ºä»€ä¹ˆå˜é‡èµ‹å€¼ä¸ºæšä¸¾ç±»å‹(å­—é¢å€¼è”åˆç±»å‹)æ—¶ä¼šæŠ¥é”™<a class="hash-link" href="#45-ä¸ºä»€ä¹ˆå˜é‡èµ‹å€¼ä¸ºæšä¸¾ç±»å‹å­—é¢å€¼è”åˆç±»å‹æ—¶ä¼šæŠ¥é”™" title="Direct link to heading">â€‹</a></h2><p>åœ¨ KCL ä¸­ï¼Œè¢«å®šä¹‰ä¸ºå­—é¢å€¼è”åˆç±»å‹çš„å±æ€§ï¼Œåœ¨èµ‹å€¼æ—¶ä»…å…è®¸æ¥æ”¶ä¸€ä¸ªå­—é¢å€¼æˆ–è€…åŒä¸ºå­—é¢å€¼è”åˆç±»å‹çš„å˜é‡ï¼Œæ¯”å¦‚å¦‚ä¸‹ä»£ç æ˜¯æ­£ç¡®çš„ï¼š</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">schema Data</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    color</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Red&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Yellow&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Blue&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Data </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    color </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Red&quot;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Ok, èµ‹å€¼ä¸º &quot;Red&quot;ã€&quot;Yellow&quot; å’Œ &quot;Blue&quot; å‡å¯</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>ç„¶è€Œä»¥ä¸‹ä»£ç æ˜¯é”™è¯¯çš„ï¼š</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">schema Data</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    color</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Red&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Yellow&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Blue&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_color </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Red&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Data </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    color </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> _color  </span><span class="token comment" style="color:#999988;font-style:italic"># Error: expect str(Red)|str(Yellow)|str(Blue), got str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>è¿™æ˜¯å› ä¸ºæ²¡æœ‰ä¸ºå˜é‡ <code>_color</code> ç”³æ˜ä¸€ä¸ªç±»å‹ï¼Œå®ƒä¼šè¢« KCL ç¼–è¯‘å™¨æ¨å¯¼ä¸º <code>str</code> å­—ç¬¦ä¸²ç±»å‹ï¼Œå› æ­¤å½“ä¸€ä¸ª â€œè¾ƒå¤§â€ çš„ç±»å‹ <code>str</code> èµ‹å€¼ä¸ºä¸€ä¸ª â€œè¾ƒå°â€ çš„ç±»å‹æ—¶ <code>&quot;Red&quot; | &quot;Yellow&quot; | &quot;Blue&quot;</code> ä¼šæŠ¥é”™ï¼Œä¸€ä¸ªè§£å†³æ–¹å¼æ˜¯ä¸º <code>_color</code> å˜é‡å£°æ˜ä¸€ä¸ªç±»å‹ï¼Œä»¥ä¸‹ä»£ç æ˜¯æ­£ç¡®çš„ï¼š</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">schema Data</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    color</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Red&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Yellow&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Blue&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_color</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Red&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Yellow&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Blue&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Red&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Data </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    color </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> _color  </span><span class="token comment" style="color:#999988;font-style:italic"># Ok</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>è¿›ä¸€æ­¥åœ°ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç±»å‹åˆ«åæ¥ç®€åŒ–æšä¸¾(å­—é¢å€¼è”åˆç±»å‹çš„ä¹¦å†™)ï¼Œæ¯”å¦‚å¦‚ä¸‹ä»£ç ï¼š</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token builtin">type</span><span class="token plain"> Color </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Red&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Yellow&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Blue&quot;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># å®šä¹‰ä¸€ä¸ªç±»å‹åˆ«åï¼Œå¯ä»¥åœ¨ä¸åŒçš„åœ°æ–¹é‡å¤ä½¿ç”¨ï¼Œé™ä½ä»£ç ä¹¦å†™é‡</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">schema Data</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    color</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Color</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_color</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Color </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Red&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Data </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    color </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> _color  </span><span class="token comment" style="color:#999988;font-style:italic"># Ok</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="46-è¿‡ç¨‹å¼çš„-for-å¾ªç¯">46. è¿‡ç¨‹å¼çš„ for å¾ªç¯<a class="hash-link" href="#46-è¿‡ç¨‹å¼çš„-for-å¾ªç¯" title="Direct link to heading">â€‹</a></h2><p>KCL ä¸­ä¸ºä½•ä¸æ”¯æŒè¿‡ç¨‹å¼çš„ for å¾ªç¯ï¼</p><p>KCL æä¾›äº†æ¨å¯¼è¡¨è¾¾å¼ä»¥åŠ all/any/map/filter è¡¨è¾¾å¼ç­‰ç”¨äºå¯¹ä¸€ä¸ªé›†åˆå…ƒç´ è¿›è¡Œå¤„ç†ï¼Œæ»¡è¶³å¤§éƒ¨åˆ†éœ€æ±‚ï¼Œæä¾›è¿‡ç¨‹å¼çš„ for å¾ªç¯ä½“ä»ç›®å‰åœºæ™¯çœ‹éœ€æ±‚æš‚æ—¶ä¸å¼ºçƒˆï¼Œå› æ­¤æš‚æœªæä¾›è¿‡ç¨‹å¼çš„ for å¾ªç¯æ”¯æŒ</p><p>æ­¤å¤–ï¼ŒKCL ä¸­è™½ç„¶æ²¡æœ‰æ”¯æŒè¿‡ç¨‹å¼çš„ for å¾ªç¯ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡ for å¾ªç¯å’Œ lambda å‡½æ•°â€œæ„é€ â€ç›¸åº”çš„è¿‡ç¨‹å¼ for å¾ªç¯</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">lambda</span><span class="token plain"> x</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> y</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># åœ¨å…¶ä¸­ä¹¦å†™è¿‡ç¨‹å¼çš„ for å¾ªç¯é€»è¾‘</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    z </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> x </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> y</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    x </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">x</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> y</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> x </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> y </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># [2, 2, 4, 4]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="47-é»˜è®¤å˜é‡ä¸å¯å˜">47. é»˜è®¤å˜é‡ä¸å¯å˜<a class="hash-link" href="#47-é»˜è®¤å˜é‡ä¸å¯å˜" title="Direct link to heading">â€‹</a></h2><p>KCL å˜é‡ä¸å¯å˜æ€§æ˜¯æŒ‡ KCL é¡¶å±‚ç»“æ„ä¸­çš„éä¸‹åˆ’çº¿ <code>_</code> å¼€å¤´çš„å¯¼å‡ºå˜é‡åˆå§‹åŒ–åä¸èƒ½è¢«æ”¹å˜ã€‚</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">schema Person</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    age</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">a </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># aä¼šè¾“å‡ºåˆ°YAMLä¸­ï¼Œä¸€æ—¦èµ‹å€¼ä¸å¯ä¿®æ”¹</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_b </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># _bå˜é‡ä»¥ä¸‹åˆ’çº¿å¼€å¤´å‘½åï¼Œä¸ä¼šè¾“å‡ºåˆ°YAMLä¸­, å¯å¤šæ¬¡èµ‹å€¼ä¿®æ”¹</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_b </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">alice </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Person </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Alice&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    age </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">18</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>è§„å®šå˜é‡ä¸å¯å˜çš„æ–¹å¼åˆ†ä¸ºä¸¤ç±»ï¼š</p><ul><li>schema å¤–çš„éä¸‹åˆ’çº¿é¡¶å±‚å˜é‡</li></ul><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">a </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># ä¸å¯å˜å¯¼å‡ºå˜é‡</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_b </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># å¯å˜éå¯¼å‡ºå˜é‡</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="48-å¦‚ä½•é€šè¿‡ç¼–å†™-kcl-æ’ä»¶è¿›è¡Œæ‰©å±•">48. å¦‚ä½•é€šè¿‡ç¼–å†™ KCL æ’ä»¶è¿›è¡Œæ‰©å±•?<a class="hash-link" href="#48-å¦‚ä½•é€šè¿‡ç¼–å†™-kcl-æ’ä»¶è¿›è¡Œæ‰©å±•" title="Direct link to heading">â€‹</a></h2><p>KCL æ’ä»¶åœ¨ KCLVM çš„ plugins å­ç›®å½•ï¼ˆé€šå¸¸å®‰è£…åœ¨ <code>$HOME/.kusion/kclvm/plugins</code> ç›®å½•ï¼‰ï¼Œæˆ–è€…é€šè¿‡ <code>$KCL_PLUGINS_ROOT</code> ç¯å¢ƒå˜é‡è®¾ç½®ï¼ˆç¯å¢ƒå˜é‡ä¼˜å…ˆçº§æ›´é«˜ï¼‰ã€‚å¯¹äºæ’ä»¶å¼€å‘äººå‘˜ï¼Œæ’ä»¶éƒ½åœ¨ <a href="https://github.com/KusionStack/kcl-plugin" target="_blank" rel="noopener noreferrer">Git ä»“åº“</a>ç®¡ç†ï¼Œå¯ä»¥å°†æ’ä»¶ä»“åº“å…‹éš†åˆ°è¯¥ç›®å½•è¿›è¡Œå¼€å‘ã€‚</p><p>KCL å†…ç½®äº† kcl-plugin è„šæ‰‹æ¶å‘½ä»¤ç”¨äºè¾…åŠ©ç”¨æˆ·ä½¿ç”¨ Python è¯­è¨€ç¼–å†™ KCL æ’ä»¶ï¼Œä»¥ä¾¿åœ¨ KCL æ–‡ä»¶å½“ä¸­è°ƒç”¨ç›¸åº”çš„æ’ä»¶å¯¹ KCL è¯­è¨€æœ¬èº«è¿›è¡Œå¢å¼ºï¼Œæ¯”å¦‚è®¿é—®ç½‘ç»œï¼Œè¯»å†™ IOï¼ŒCMDB æŸ¥è¯¢å’ŒåŠ å¯†è§£å¯†ç­‰åŠŸèƒ½ã€‚</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">usage: kcl-plugin [-h] {list,init,info,gendoc,test} ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">positional arguments:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {list,init,info,gendoc,test}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        kcl plugin sub commands</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    list                list all plugins</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    init                init a new plugin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    info                show plugin document</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    gendoc              gen all plugins document</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    test                test plugin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">optional arguments:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -h, --help            show this help message and exit</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>æ¯”å¦‚æƒ³è¦å¼€å‘ä¸€ä¸ªåä¸º io æ’ä»¶ï¼Œå°±å¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤æˆåŠŸæ–°å»ºä¸€ä¸ª io æ’ä»¶</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">kcl-plugin init io</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>ç„¶åå¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤è·å¾— plugin çš„æ ¹è·¯å¾„å¹¶ cd åˆ°ç›¸åº”çš„ io æ’ä»¶ç›®å½•è¿›è¡Œå¼€å‘</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">kcl-plugin info</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>æ¯”å¦‚æƒ³è¦å¼€å‘ä¸€ä¸ªè¯»æ–‡ä»¶çš„å‡½æ•° read_fileï¼Œå°±å¯ä»¥åœ¨ <code>$plugin_root/io</code> çš„ <code>plugin.py</code> ä¸­è¿›è¡Œ python ä»£ç ç¼–å†™ï¼š</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Copyright 2020 The KCL Authors. All rights reserved.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> pathlib</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFO </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&#x27;name&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;io&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&#x27;describe&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;my io plugin description test&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&#x27;long_describe&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;my io plugin long description test&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&#x27;version&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;0.0.1&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">read_file</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">file</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;Read string from file&quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> pathlib</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">file</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">read_text</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>å¦å¤–å¯ä»¥åœ¨ <code>plugin_test.py</code> ä¸­ç¼–å†™ç›¸åº”çš„æµ‹è¯•å‡½æ•°ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ç¼–å†™å¦‚ä¸‹æ‰€ç¤º KCL æ–‡ä»¶è¿›è¡Œæµ‹è¯•ï¼š</p><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> kcl_plugin</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">io</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">text </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> io</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">read_file</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;test.txt&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>è¿˜å¯ä»¥ä½¿ç”¨ info å‘½ä»¤æŸ¥çœ‹ io æ’ä»¶çš„ä¿¡æ¯</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">kcl-plugin info io</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;name&quot;: &quot;io&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;describe&quot;: &quot;my io plugin description test&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;long_describe&quot;: &quot;my io plugin long description test&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;version&quot;: &quot;0.0.1&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;method&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;read_file&quot;: &quot;Read string from file&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>æœ€åå°†ç¼–å†™æµ‹è¯•å®Œæˆçš„æ’ä»¶åœ¨ <code>kcl_plugins</code> ä»“åº“æ MR åˆå¹¶å³å¯</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/KusionStack/kcl-lang.io/blob/main/docs/user_docs/support/faq-kcl.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2022-12-27T07:57:34.000Z">2022/12/27</time></b> by <b>Peefy</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/zh-CN/docs/next/user_docs/support/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">å¸¸è§é—®ç­”</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/zh-CN/docs/next/user_docs/support/faq-yaml"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">YAML è¯­æ³•</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-å¦‚ä½•ç”¨-kcl-å†™ä¸€ä¸ªç®€å•çš„-key-value-å¯¹é…ç½®" class="table-of-contents__link toc-highlight">1. å¦‚ä½•ç”¨ KCL å†™ä¸€ä¸ªç®€å•çš„ key-value å¯¹é…ç½®</a></li><li><a href="#2-kcl-ä¸­æœ‰å“ªäº›åŸºæœ¬çš„æ•°æ®ç±»å‹" class="table-of-contents__link toc-highlight">2. KCL ä¸­æœ‰å“ªäº›åŸºæœ¬çš„æ•°æ®ç±»å‹ï¼Ÿ</a></li><li><a href="#3-æœ‰äº›-kcl-å˜é‡åå¸¦-_-ä¸‹åˆ’çº¿å‰ç¼€è¡¨ç¤ºä»€ä¹ˆå’Œä¸å¸¦-_-ä¸‹åˆ’çº¿å‰ç¼€çš„åŒºåˆ«æ˜¯ä»€ä¹ˆåˆ†åˆ«é€‚åˆä»€ä¹ˆåœºæ™¯ä¸‹ä½¿ç”¨" class="table-of-contents__link toc-highlight">3. æœ‰äº› KCL å˜é‡åå¸¦ <code>_</code> ä¸‹åˆ’çº¿å‰ç¼€è¡¨ç¤ºä»€ä¹ˆï¼Ÿå’Œä¸å¸¦ <code>_</code> ä¸‹åˆ’çº¿å‰ç¼€çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿåˆ†åˆ«é€‚åˆä»€ä¹ˆåœºæ™¯ä¸‹ä½¿ç”¨ï¼Ÿ</a></li><li><a href="#4-å¦‚ä½•å‘-dict-ä¸­æ·»åŠ å…ƒç´ " class="table-of-contents__link toc-highlight">4. å¦‚ä½•å‘ dict ä¸­æ·»åŠ å…ƒç´ ï¼Ÿ</a></li><li><a href="#5-å¦‚ä½•ä¿®æ”¹-dict-ä¸­çš„å…ƒç´ " class="table-of-contents__link toc-highlight">5. å¦‚ä½•ä¿®æ”¹ dict ä¸­çš„å…ƒç´ ï¼Ÿ</a></li><li><a href="#6-å¦‚ä½•å‘-list-ä¸­æ·»åŠ å…ƒç´ " class="table-of-contents__link toc-highlight">6. å¦‚ä½•å‘ list ä¸­æ·»åŠ å…ƒç´ ï¼Ÿ</a></li><li><a href="#7-å¦‚ä½•ä¿®æ”¹åˆ é™¤-list-ä¸­çš„å…ƒç´ " class="table-of-contents__link toc-highlight">7. å¦‚ä½•ä¿®æ”¹/åˆ é™¤ list ä¸­çš„å…ƒç´ ï¼Ÿ</a></li><li><a href="#8-æ€æ ·å†™-for-å¾ªç¯æ€æ ·ç†è§£å’Œä½¿ç”¨-list-comprehension-åˆ—è¡¨æ¨å¯¼å¼-å’Œ-dict-comprehension-å­—å…¸æ¨å¯¼å¼-" class="table-of-contents__link toc-highlight">8. æ€æ ·å†™ for å¾ªç¯ï¼Ÿæ€æ ·ç†è§£å’Œä½¿ç”¨ list comprehension åˆ—è¡¨æ¨å¯¼å¼ å’Œ dict comprehension å­—å…¸æ¨å¯¼å¼ ï¼Ÿ</a></li><li><a href="#9-æ€æ ·å†™-if-æ¡ä»¶è¯­å¥" class="table-of-contents__link toc-highlight">9. æ€æ ·å†™ if æ¡ä»¶è¯­å¥ï¼Ÿ</a></li><li><a href="#10-æ€æ ·è¡¨è¾¾-ä¸-æˆ–-é-ç­‰é€»è¾‘è¿ç®—" class="table-of-contents__link toc-highlight">10. æ€æ ·è¡¨è¾¾ &quot;ä¸&quot; &quot;æˆ–&quot; &quot;é&quot; ç­‰é€»è¾‘è¿ç®—ï¼Ÿ</a></li><li><a href="#11-å¦‚ä½•åˆ¤æ–­å˜é‡æ˜¯å¦ä¸º-noneundefinedå­—ç¬¦ä¸²dictlist-æ˜¯å¦ä¸ºç©º" class="table-of-contents__link toc-highlight">11. å¦‚ä½•åˆ¤æ–­å˜é‡æ˜¯å¦ä¸º None/Undefinedã€å­—ç¬¦ä¸²/dict/list æ˜¯å¦ä¸ºç©ºï¼Ÿ</a></li><li><a href="#12-å­—ç¬¦ä¸²æ€æ ·æ‹¼æ¥æ€æ ·æ ¼å¼åŒ–å­—ç¬¦ä¸²æ€æ ·æ£€æŸ¥å­—ç¬¦ä¸²å‰ç¼€åç¼€æ€æ ·æ›¿æ¢å­—ç¬¦ä¸²å†…å®¹" class="table-of-contents__link toc-highlight">12. å­—ç¬¦ä¸²æ€æ ·æ‹¼æ¥ã€æ€æ ·æ ¼å¼åŒ–å­—ç¬¦ä¸²ã€æ€æ ·æ£€æŸ¥å­—ç¬¦ä¸²å‰ç¼€ã€åç¼€ï¼Ÿæ€æ ·æ›¿æ¢å­—ç¬¦ä¸²å†…å®¹ï¼Ÿ</a></li><li><a href="#13-å­—ç¬¦ä¸²ä¸­ä½¿ç”¨å•å¼•å·å’ŒåŒå¼•å·çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ" class="table-of-contents__link toc-highlight">13. å­—ç¬¦ä¸²ä¸­ä½¿ç”¨å•å¼•å·å’ŒåŒå¼•å·çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</a></li><li><a href="#14-å¦‚ä½•ç¼–å†™è·¨è¡Œçš„é•¿å­—ç¬¦ä¸²" class="table-of-contents__link toc-highlight">14. å¦‚ä½•ç¼–å†™è·¨è¡Œçš„é•¿å­—ç¬¦ä¸²ï¼Ÿ</a></li><li><a href="#15-å¦‚ä½•ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼" class="table-of-contents__link toc-highlight">15. å¦‚ä½•ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ï¼Ÿ</a></li><li><a href="#16-kcl-å½“ä¸­çš„-schema-æ˜¯ä»€ä¹ˆå«ä¹‰" class="table-of-contents__link toc-highlight">16. KCL å½“ä¸­çš„ schema æ˜¯ä»€ä¹ˆå«ä¹‰ï¼Ÿ</a></li><li><a href="#17-å¦‚ä½•å£°æ˜-schema" class="table-of-contents__link toc-highlight">17. å¦‚ä½•å£°æ˜ schemaï¼Ÿ</a></li><li><a href="#18-å¦‚ä½•ä¸º-schema-å±æ€§æ·»åŠ -ä¸å¯å˜å¿…é€‰-çº¦æŸ" class="table-of-contents__link toc-highlight">18. å¦‚ä½•ä¸º schema å±æ€§æ·»åŠ  &quot;ä¸å¯å˜&quot;ã€&quot;å¿…é€‰&quot; çº¦æŸï¼Ÿ</a></li><li><a href="#19-å¦‚ä½•ä¸º-schema-ä¸­çš„å±æ€§ç¼–å†™æ ¡éªŒè§„åˆ™" class="table-of-contents__link toc-highlight">19. å¦‚ä½•ä¸º schema ä¸­çš„å±æ€§ç¼–å†™æ ¡éªŒè§„åˆ™ï¼Ÿ</a></li><li><a href="#20-å¦‚ä½•ä¸º-schema-åŠå…¶å±æ€§æ·»åŠ æ–‡æ¡£æ³¨é‡Š" class="table-of-contents__link toc-highlight">20. å¦‚ä½•ä¸º schema åŠå…¶å±æ€§æ·»åŠ æ–‡æ¡£æ³¨é‡Šï¼Ÿ</a></li><li><a href="#21-å¦‚ä½•åŸºäº-schema-ç¼–å†™é…ç½®å¤šä¸ªé…ç½®ä¹‹é—´å¦‚ä½•å¤ç”¨å…¬å…±çš„é…ç½®" class="table-of-contents__link toc-highlight">21. å¦‚ä½•åŸºäº schema ç¼–å†™é…ç½®ï¼Ÿå¤šä¸ªé…ç½®ä¹‹é—´å¦‚ä½•å¤ç”¨å…¬å…±çš„é…ç½®ï¼Ÿ</a></li><li><a href="#22-åŸºäº-schema-ç¼–å†™é…ç½®æ—¶å¦‚ä½•è¦†ç›–-schema-å±æ€§çš„é»˜è®¤å€¼" class="table-of-contents__link toc-highlight">22. åŸºäº schema ç¼–å†™é…ç½®æ—¶å¦‚ä½•è¦†ç›– schema å±æ€§çš„é»˜è®¤å€¼ï¼Ÿ</a></li><li><a href="#23-å¦‚ä½•é€šè¿‡ç»§æ‰¿æ¥å¤ç”¨-schema-å®šä¹‰" class="table-of-contents__link toc-highlight">23. å¦‚ä½•é€šè¿‡ç»§æ‰¿æ¥å¤ç”¨ schema å®šä¹‰ï¼Ÿ</a></li><li><a href="#24-å¦‚ä½•é€šè¿‡ç»„åˆå¤ç”¨-schema-é€»è¾‘" class="table-of-contents__link toc-highlight">24. å¦‚ä½•é€šè¿‡ç»„åˆå¤ç”¨ schema é€»è¾‘ï¼Ÿ</a></li><li><a href="#25-å¦‚ä½•å¯¼å…¥å…¶ä»–-kcl-æ–‡ä»¶" class="table-of-contents__link toc-highlight">25. å¦‚ä½•å¯¼å…¥å…¶ä»– KCL æ–‡ä»¶ï¼Ÿ</a></li><li><a href="#26-ä»€ä¹ˆæƒ…å†µä¸‹å¯ä»¥çœç•¥-import-" class="table-of-contents__link toc-highlight">26. ä»€ä¹ˆæƒ…å†µä¸‹å¯ä»¥çœç•¥ import ï¼Ÿ</a></li><li><a href="#27-æœ‰ä¸€è¡Œä»£ç å¤ªé•¿äº†å¦‚ä½•åœ¨è¯­æ³•æ­£ç¡®çš„æƒ…å†µä¸‹ä¼˜é›…åœ°æ¢è¡Œ" class="table-of-contents__link toc-highlight">27. æœ‰ä¸€è¡Œä»£ç å¤ªé•¿äº†ï¼Œå¦‚ä½•åœ¨è¯­æ³•æ­£ç¡®çš„æƒ…å†µä¸‹ä¼˜é›…åœ°æ¢è¡Œï¼Ÿ</a></li><li><a href="#28---è¿™äº›ç¬¦å·æ˜¯ä»€ä¹ˆæ„æ€" class="table-of-contents__link toc-highlight">28. *<em>, </em> è¿™äº›ç¬¦å·æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ</a></li><li><a href="#29-å¦‚ä½•å–-listdictschema-çš„å­å…ƒç´ " class="table-of-contents__link toc-highlight">29. å¦‚ä½•å– list/dict/schema çš„å­å…ƒç´ </a></li><li><a href="#30-å¦‚ä½•åœ¨-kcl-ä»£ç ä¸­åˆ¤æ–­å˜é‡çš„ç±»å‹" class="table-of-contents__link toc-highlight">30. å¦‚ä½•åœ¨ KCL ä»£ç ä¸­åˆ¤æ–­å˜é‡çš„ç±»å‹</a></li><li><a href="#31-å…³é”®å­—å’Œ-kcl-å˜é‡åå†²çªäº†å¯ä»¥æ€ä¹ˆè§£å†³" class="table-of-contents__link toc-highlight">31. å…³é”®å­—å’Œ KCL å˜é‡åå†²çªäº†å¯ä»¥æ€ä¹ˆè§£å†³?</a></li><li><a href="#32-kcl-çš„å†…ç½®ç±»å‹æ˜¯-kcl-çš„å…³é”®å­—å—æ˜¯å¦å¯ç”¨äºå˜é‡çš„å®šä¹‰" class="table-of-contents__link toc-highlight">32. KCL çš„å†…ç½®ç±»å‹æ˜¯ KCL çš„å…³é”®å­—å—ï¼Ÿæ˜¯å¦å¯ç”¨äºå˜é‡çš„å®šä¹‰</a></li><li><a href="#33-å¦‚ä½•åœ¨-kcl-ä¸­å®ç°ç±»ä¼¼-enum-æšä¸¾çš„åŠŸèƒ½" class="table-of-contents__link toc-highlight">33. å¦‚ä½•åœ¨ KCL ä¸­å®ç°ç±»ä¼¼ Enum æšä¸¾çš„åŠŸèƒ½</a></li><li><a href="#34-å¦‚ä½•æ±‚å­—å…¸-dict-çš„é•¿åº¦" class="table-of-contents__link toc-highlight">34. å¦‚ä½•æ±‚å­—å…¸ dict çš„é•¿åº¦</a></li><li><a href="#35-å¦‚ä½•åœ¨-kcl-ä¸­ç¼–å†™å¸¦æ¡ä»¶çš„é…ç½®" class="table-of-contents__link toc-highlight">35. å¦‚ä½•åœ¨ KCL ä¸­ç¼–å†™å¸¦æ¡ä»¶çš„é…ç½®</a></li><li><a href="#36-kcl-ä¸­çš„--è¿ç®—ç¬¦ä¼šä½œæ·±åº¦æ¯”è¾ƒå˜›" class="table-of-contents__link toc-highlight">36. KCL ä¸­çš„ == è¿ç®—ç¬¦ä¼šä½œæ·±åº¦æ¯”è¾ƒå˜›ï¼Ÿ</a></li><li><a href="#37-å¦‚ä½•å¯¹-kcl-ä¸­å·²æœ‰çš„é…ç½®å—è¿›è¡Œä¿®æ”¹" class="table-of-contents__link toc-highlight">37. å¦‚ä½•å¯¹ KCL ä¸­å·²æœ‰çš„é…ç½®å—è¿›è¡Œä¿®æ”¹</a><ul><li><a href="#è¦†ç›–å±æ€§è¿ç®—ç¬¦" class="table-of-contents__link toc-highlight">è¦†ç›–å±æ€§è¿ç®—ç¬¦=</a></li><li><a href="#æ’å…¥å±æ€§è¿ç®—ç¬¦-" class="table-of-contents__link toc-highlight">æ’å…¥å±æ€§è¿ç®—ç¬¦ +=</a></li><li><a href="#åˆå¹¶å±æ€§è¿ç®—ç¬¦" class="table-of-contents__link toc-highlight">åˆå¹¶å±æ€§è¿ç®—ç¬¦:</a></li><li><a href="#kcl-å‘ç”Ÿ-conflicting-values-on-the-attribute-attr-between-value1-and-value2-é”™è¯¯çš„è§£å†³æ–¹å¼" class="table-of-contents__link toc-highlight">KCL å‘ç”Ÿ conflicting values on the attribute &#39;attr&#39; between {value1} and {value2} é”™è¯¯çš„è§£å†³æ–¹å¼</a></li></ul></li><li><a href="#38-kcl-ä¸­å¦‚ä½•åŒæ—¶éå†å¤šä¸ªå…ƒç´ " class="table-of-contents__link toc-highlight">38. KCL ä¸­å¦‚ä½•åŒæ—¶éå†å¤šä¸ªå…ƒç´ </a></li><li><a href="#39-kcl-ä¸­å¦‚ä½•ä¸º-option-å‡½æ•°è®¾å®šé»˜è®¤å€¼" class="table-of-contents__link toc-highlight">39. KCL ä¸­å¦‚ä½•ä¸º option å‡½æ•°è®¾å®šé»˜è®¤å€¼</a></li><li><a href="#40-kcl-ä¸­-schema-æ€ä¹ˆæ£€æŸ¥å¤šä¸ªå±æ€§ä¸èƒ½åŒæ—¶ä¸ºç©º" class="table-of-contents__link toc-highlight">40. KCL ä¸­ schema æ€ä¹ˆæ£€æŸ¥å¤šä¸ªå±æ€§ä¸èƒ½åŒæ—¶ä¸ºç©º</a></li><li><a href="#41-kcl-ä¸­-import-äº†æŸä¸ªæ–‡ä»¶ä½†æ˜¯æ‰¾ä¸åˆ°å…¶åŒç›®å½•ä¸‹å…¶ä»–-kcl-æ–‡ä»¶å®šä¹‰çš„-schema-å¯èƒ½æ˜¯ä»€ä¹ˆåŸå› " class="table-of-contents__link toc-highlight">41. KCL ä¸­ import äº†æŸä¸ªæ–‡ä»¶ä½†æ˜¯æ‰¾ä¸åˆ°å…¶åŒç›®å½•ä¸‹å…¶ä»– KCL æ–‡ä»¶å®šä¹‰çš„ schema å¯èƒ½æ˜¯ä»€ä¹ˆåŸå› </a></li><li><a href="#42-kcl-ä¸­çš„ç¼©è¿›æ˜¯å¦‚ä½•å¤„ç†çš„" class="table-of-contents__link toc-highlight">42. KCL ä¸­çš„ç¼©è¿›æ˜¯å¦‚ä½•å¤„ç†çš„?</a></li><li><a href="#43-å¦‚ä½•ä¸º-kcl-ä»£ç ç¼–å†™ç®€å•çš„æµ‹è¯•" class="table-of-contents__link toc-highlight">43. å¦‚ä½•ä¸º KCL ä»£ç ç¼–å†™ç®€å•çš„æµ‹è¯•ï¼Ÿ</a></li><li><a href="#44-kcl-ä¸­å¦‚ä½•å®šä¹‰å‡½æ•°æˆ–å®šä¹‰æ–¹æ³•" class="table-of-contents__link toc-highlight">44. KCL ä¸­å¦‚ä½•å®šä¹‰å‡½æ•°æˆ–å®šä¹‰æ–¹æ³•ï¼Ÿ</a></li><li><a href="#45-ä¸ºä»€ä¹ˆå˜é‡èµ‹å€¼ä¸ºæšä¸¾ç±»å‹å­—é¢å€¼è”åˆç±»å‹æ—¶ä¼šæŠ¥é”™" class="table-of-contents__link toc-highlight">45. ä¸ºä»€ä¹ˆå˜é‡èµ‹å€¼ä¸ºæšä¸¾ç±»å‹(å­—é¢å€¼è”åˆç±»å‹)æ—¶ä¼šæŠ¥é”™</a></li><li><a href="#46-è¿‡ç¨‹å¼çš„-for-å¾ªç¯" class="table-of-contents__link toc-highlight">46. è¿‡ç¨‹å¼çš„ for å¾ªç¯</a></li><li><a href="#47-é»˜è®¤å˜é‡ä¸å¯å˜" class="table-of-contents__link toc-highlight">47. é»˜è®¤å˜é‡ä¸å¯å˜</a></li><li><a href="#48-å¦‚ä½•é€šè¿‡ç¼–å†™-kcl-æ’ä»¶è¿›è¡Œæ‰©å±•" class="table-of-contents__link toc-highlight">48. å¦‚ä½•é€šè¿‡ç¼–å†™ KCL æ’ä»¶è¿›è¡Œæ‰©å±•?</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">æ–‡æ¡£</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/zh-CN/docs/user_docs/getting-started/intro">ç®€ä»‹</a></li></ul></div><div class="col footer__col"><div class="footer__title">èµ„æº</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/zh-CN/blog">åšå®¢</a></li><li class="footer__item"><a href="https://github.com/KusionStack/KCLVM" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://join.slack.com/t/KusionStack/shared_invite/zt-19lqcc3a9-_kTNwagaT5qwBE~my5Lnxg" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://opensource.antgroup.com/" target="_blank" rel="noopener noreferrer" class="footerLogoLink_RC3H"><img src="/zh-CN/img/oss_logo.svg" alt="AntGroup Open Source Logo" class="themedImage_W2Cr themedImage--light_TfLj footer__logo" width="160" height="51"><img src="/zh-CN/img/oss_logo.svg" alt="AntGroup Open Source Logo" class="themedImage_W2Cr themedImage--dark_oUvU footer__logo" width="160" height="51"></a></div><div class="footer__copyright">ç‰ˆæƒ Â© 2022 KCL Authors</div></div></div></footer></div>
<script src="/zh-CN/assets/js/runtime~main.b4dd6d5e.js"></script>
<script src="/zh-CN/assets/js/main.9caddded.js"></script>
</body>
</html>